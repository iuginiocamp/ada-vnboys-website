<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="icon" type="image/png" href="assets/img/favicon.png">
  <title>{{ site.title | default: site.github.repository_name }} by {{ site.github.owner_name }}</title>

  <link rel="stylesheet" href="{{ '/assets/css/styles.css?v=' | append: site.github.build_revision | relative_url }}">
  <meta name="viewport" content="width=device-width">

  <!-- ✅ Keep ONE ECharts version only (v6) -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@6/dist/echarts.min.js"></script>

  <style>
    .section-title {
      font-weight: bold;
      font-size: 1.5em;
      margin-top: 1.2em;
    }

    .subsection-title {
      font-weight: bold;
      font-size: 1.4em;
      margin-top: 1em;
    }

    .subtitle {
      font-size: 1.6em;
      color: #666;
      margin-top: 10px;
      font-style: italic;
      text-align: center;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.4;
    }

    header {
      display: flex;
      justify-content: center;
      padding: 40px 0;
      background-color: #f8f9fa;
    }

    .header-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      width: 100%;
    }

    .header-content h1 {
      margin-top: 20px;
      margin-bottom: 5px;
      font-size: 2.5em;
    }

    .header-content img {
      margin: 0 auto;
      display: block;
    }

    .plot--img {
      max-width: 100%;
      height: auto;
      display: block;
    }

    #introduction ul {
      display: table;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
      padding-left: 0;
      margin: 20px auto;
    }

    #introduction li {
      font-size: 1.2em;
      margin-bottom: 15px;
      line-height: 1.4;
      color: #333;
    }

    .text-democrat {
      color: #0015BC;
      font-size: 1.1em;
    }

    .text-republican {
      color: #E91D0E;
      font-size: 1.1em;
    }

    .data-list {
      display: table;
      margin: 30px auto;
      font-size: 1.15em;
      line-height: 1.6;
      padding-left: 20px;
    }

    .data-list li {
      margin-bottom: 12px;
      text-align: left;
    }

    .data-list li strong {
      color: #222;
    }

    .clean-stats {
      display: table;
      margin: 30px auto;
      padding-left: 25px;
      list-style-type: disc;
      border-left: none;
    }

    .clean-stats li {
      margin-bottom: 15px;
      font-size: 1.1em;
      line-height: 1.5;
      text-align: left;
    }

    .questions-list {
      display: table;
      margin: 25px auto;
      font-size: 1.25em;
      font-style: italic;
      color: #2c3e50;
      line-height: 1.6;
      padding-left: 20px;
    }

    .questions-list li {
      margin-bottom: 15px;
      text-align: left;
    }
    .split-section {
        display: flex;
        gap: 40px;           /* Espace entre les deux colonnes */
        margin: 40px 0;
        align-items: flex-start; /* Aligne les blocs vers le haut */
    }

    .column {
        flex: 1;             /* Donne la même largeur aux deux colonnes (50/50) */
        min-width: 300px;    /* Sécurité pour le mobile */
    }

    /* Optionnel : ajoute une ligne de séparation au milieu */
    .column:first-child {
        border-right: 1px solid #eee;
        padding-right: 20px;
    }

    /* Sur mobile (écrans < 768px), on empile les colonnes */
    @media (max-width: 768px) {
        .split-section {
            flex-direction: column;
        }
        .column:first-child {
            border-right: none;
            border-bottom: 1px solid #eee;
            padding-right: 0;
            padding-bottom: 20px;
        }
    }




  </style>
</head>

<body>
  <header>
    <div class="header-content">
      <img class="plot--img" src="/ada-vnboys-website/assets/img/youtube_logo.webp">
      <h1>Views as Votes, a Datastory of Political Polarization</h1>
      <p class="subtitle"> Is YouTube a mirror or a distortion of American politics?</p>
    </div>
  </header>

  <nav>
    <ul>
      <li><a href="https://arxiv.org/abs/2012.10378" target="_blank">The YouNiverse Dataset</a></li>
      <li><a href="#grouping">Youtube's Communities</a></li>
      <li><a href="#pageviews">Trends and Polarization</a></li>
      <li><a href="#opinions">Digital vs Reality</a></li>
      <li><a href="#conclusion">Conclusion</a></li>
    </ul>
  </nav>

  <main>
    <section id="introduction" class="justify-text">

      <div class="section-title">Introduction</div>
      <p>
        When America chooses its leader, the whole world holds its breath. Calling it a mere national voting process would be an understatement;
        it is a sacred geopolitical ritual whose consequences are felt across the globe, from Asian stock markets to European frontlines.
        The American presidential election is a quadrennial marathon punctuated by key milestones: the primaries, the national conventions, and the final race between Democrats and Republicans, a duopoly that splits the nation in two distinct colors:
      </p>

      <ul>
        <li><strong class="text-democrat">The Democratic Party:</strong> Generally representing liberal, progressive values.</li>
        <li><strong class="text-republican">The Republican Party:</strong> Generally representing conservative, traditionalist values.</li>
      </ul>

      <p>
        Our study focuses on the elections from 2008 to 2016, a period where the battlefield silently mutated. The epicenter of power shifted from television stages to a dematerialized arena, governed by new and volatile codes. Voters became users; speeches became content.
        Here, we enter what we call the "Attention Democracy." In this digital space, legitimacy is no longer won solely by the vote, but by the obsessive capture of the voter’s mind.
        Our investigation dives deep into YouTube's massive datasets to answer a crucial question: is this new digital arena a faithful mirror of a nation in turmoil, or a distortion machine that polarizes reality and tears apart the social fabric?
      </p>
    </section>

    <section id="research-questions">
      <p>Our investigation seeks to answer three research questions:</p>
      <ul class="questions-list">
        <li>Does YouTube act as a reliable barometer of genuine political interest?</li>
        <li>Does the platform foster polarization or echo chambers?</li>
        <li>Do the sentiments and topics discussed align with public opinion (as measured by polls)?</li>
      </ul>
    </section>

    <section id="channels">
      <div class="section-title">Data Presentation</div>

      <p>
        Before presenting our answers to all these questions, we must first define the boundaries of our arena.
        YouTube is vast and noisy, Top 10 respect moments in football and Minecraft music videos are fun but not what we need; isolating the signal of political discourse requires rigorous filtering. 
      </p>

      <div class="subsection-title">2.1 The Dataset: YouNiverse</div>
      <p>
        Our analysis relies on YouNiverse, a large-scale dataset of English-speaking YouTube metadata.
        This massive archive allows us to observe the platform's evolution during the critical years of
        2008, 2012, and 2016.
        The scale of the data is monumental, establishing the statistical significance of our observations:
      </p>

      <ul class="data-list">
        <li><strong>136,470 Channels:</strong> Filtered for English content, with a minimum of 10k subscribers to ensure relevance.</li>
        <li><strong>73 Million Videos:</strong> Spanning from 2005 to late 2019.</li>
        <li><strong>8.6 Billion Comments:</strong> Representing the voice of the "electorate" (users).</li>
        <li><strong>Metadata Richness:</strong> We utilize titles, tags, view counts, and upload dates to reconstruct the timeline of events.</li>
      </ul>

      <div class="subsection-title">2.2 The Filter: Defining "Political" Content</div>
      <p>
        One of the major challenges in this analysis was distinguishing a political video from the ocean
        of gaming, music, and vlog content. To detect political content, we needed a robust lexicon.
        Initial attempts to build a dictionary using political tracts and manifestos yielded poor results,
        often capturing generic terms unrelated to the specific vernacular of YouTube. Consequently, we
        leveraged Large Language Models (LLMs) to generate a massive, comprehensive vocabulary of political
        terminology, covering the spectrum from legislative terms to campaign slogans.
      </p>

      <div class="subsection-title">2.3 The Focus: Why "News &amp; Politics"?</div>
      <p>
        With our vocabulary in place, we mapped the distribution of political terms across YouTube's
        15 primary categories. Processing the descriptions of 73 million videos was computationally
        prohibitive, so we focused our signal detection on Video Titles and Tags. The goal was to identify
        which category serves as the true "battlefield" for political discourse.
      </p>

      <div id="political-bar-chart" style="width:100%; height:600px;"></div>

      <p>
        As shown in this chart, the category <strong>"News &amp; Politics"</strong> is the clear leader,
        with 42.3% of its videos containing political vocabulary. While "Nonprofits" and "Travel"
        show some density, they lack the volume and specific focus of the News category.
      </p>
    </section>






    <!-- RQ1 -->
    <section id="grouping">
      <h2>Does YouTube act as a reliable barometer of genuine political interest? </h2>
      <p>
        To understand the impact of digital media on democracy, we must first determine if YouTube is 
        simply an entertainment hub or if it has become a serious mirror of national political engagement. 
        In this section, we examine the <strong>growth of political content</strong> over the years and 
        analyze how the platform’s internal "communities" are structured.
          By mapping out the distribution of channels across the political spectrum—from 
          <span class="text-democrat" style="font-weight:bold;">Left</span> to 
          <span class="text-republican" style="font-weight:bold;">Right</span>—we aim to uncover 
          who holds the "share of voice" on the platform. Does the volume of videos and subscriber 
          counts align with real-world voter demographics, or does YouTube create its own 
          <strong>independent political reality</strong>?
      </p>
      <p>
        Looking at the evolution of videos in the <em>News &amp; Politics</em> category, we do not observe a regular
        four-year rhythm aligned with U.S. presidential elections. Instead, political video production follows a clear
        long-term growth trend, with a sharp acceleration after 2018. A few isolated peaks stand out and can be linked to
        major global events, such as the surge in early 2011 following the Fukushima nuclear disaster, which triggered
        widespread political debate well beyond Japan. This evolution also reshapes how attention should be interpreted:
        in the early years of YouTube, political videos were relatively rare, meaning that a single upload could carry
        significant weight, whereas in recent years each video competes within a much denser and more crowded political
        media landscape.
      </p>


      <div id="videos-chart" style="width: 100%; height: 500px; margin: 20px auto;"></div>

      <p>
        The pie chart below shows the political orientation of the channels obtained from the external dataset us_bias.
        We can see that the distribution is fairly even with channels with a centered political orientation representing the largest part.
        This is to be expected as many channels are rather neutral or prefer to stay politically objective. We can see that the proportion of left-oriented vs right-oriented is very similar: 36.3% total on the right and 32.2% on the left.
        Interestingly, there are more Lean Left than Lean Right which suggests that the leftists are somewhat more moderate. The size of the dataset hinders us from drawing any conclusions as it is too small and not representative of all the channels in the News & Politics category.
      </p>
      <div id="political_orientation-chart" style="width: 100%; height: 500px; margin: 20px auto;"></div>

      <p>
        When comparing political orientations based on the number of videos posted throughout the period covered by the dataset, we see greater disparity. Nearly half of the videos are classified as neutral, while those on the left represent one-third of the total analysed, surpassing those on the right by 7.1%. This lead is significant given the large number of videos analysed.
      </p>
      <div id="video_share-chart" style="width: 100%; height: 500px; margin: 20px auto;"></div>

      <p>Who is present on YouTube? We now compare political parties based on subscribers. The pie chart above once again shows an advantage for the Democrats. Indeed, 43.4% of subscribers to channels in the News & Politics category are classified as left-wing, while only 21.1% are right-wing.
        According to our analysis, there are therefore twice as many Democrats as Republicans in this category of channels.</p>
      <div id="sub-chart" style="width: 100%; height: 500px; margin: 20px auto;"></div>

      <div style="text-align: center;">
          <img src="/ada-vnboys-website/assets/img/happy_usa.gif"  
              style="width: 50%; height: auto; max-height: 300px; margin: 40px 0;" 
              alt="USA Celebration">
      </div>


      <p>
        Let us now take a closer look at what happens during the elections covered by our dataset. Choose which election covered you would like to visualize :
      </p>

    <div style="text-align:center; margin-bottom:20px; margin-top:20px;">
      <button onclick="showYear(2008)" style="padding: 12px 24px; font-size: 18px; cursor: pointer;">2008</button>
      <button onclick="showYear(2012)" style="padding: 12px 24px; font-size: 18px; cursor: pointer;">2012</button>
      <button onclick="showYear(2016)" style="padding: 12px 24px; font-size: 18px; cursor: pointer;">2016</button>
    </div>

      <div id="main" style="width: 100%; height: 500px; margin: 20px auto;"></div>

      <p>
        Firstly, there is a significant difference between the distribution of political leanings in these three elections. Indeed, the 2016 elections show a much more varied landscape than the two previous elections, as if YouTube had been a turning point since the 2016 campaign, thus showing a particular interest in the platform. This growing interest is also illustrated by the number of videos posted during these election periods. This number increased tenfold between each election.
        In terms of distribution, the Democratic trend seen so far is once again demonstrated here, with this party leading in all three elections. This lead is particularly marked in 2008 (26.2% vs 7.3%) and in 2016 (40.7% vs 24%). One important question remains: How does this fit with the presidential election results ?
      </p>

      <p>
        On the 4th of November 2008, Barack Obama was elected as president, running as the candidate for the Democratic Party.
        He won by a margin of 7% (popular vote) which is not small and shows the increased popularity of Democrats.
        The distribution of the published videos’ political orientations does show a greater proportion of Leftist (Democrat) videos with respect to the Lean Right.
        However, the center, that is, videos with a more neutral voice, hold by far the greatest share of the videos, with more than two thirds.
        There are only 328 videos published in more than a year and a half for this graph which is a small sample size and therefore the conclusions cannot be final or considered representative of how Youtube is today with that amount of videos being published in a split second.
      </p>
      <div style="text-align: center;">
          <img src="/ada-vnboys-website/assets/img/obama_basketball.jpg"  
              style="width: auto; height: 300px; margin: 40px 0; border-radius: 8px;" 
              alt="Obama">
      </div>
      <p>
        In 2012, Obama was once again elected president and won by a smaller margin with respect to 2008 (4% in the popular vote).
        The “center” portion is by and large the biggest with a fairly even split between the two ends of the political spectrum in the remaining share which echoes the real results.
        However, once again, the share of videos is still quite small and therefore a greater sample size would be needed to confirm these observations.
        Moreover, the number of videos only shows presence of channel subscribing to a certain political orientation and not the activity of the viewers (which would represent the voting population)
      </p>

      <p>
        In 2016, Donald Trump, a Republican, was elected president by the American people.
        However, the popular vote actually went to Hillary Clinton by nearly 3 million votes (2%) so the results were extremely close.
        These elections are known for how polarized they were and how split the public opinion was.
        This is reflected in the pie chart where we see the lowest share of neutral “center” videos and a greater proportion of the other videos.
        The “Left” and “Lean left” is the greatest part of the pie chart, disproportionately so, as the election was a lot closer.
        This shows that the democrats were particularly active on Youtube during the elections. This is only one of the social medium used as a platform to spread their message and only one of many possible campaigning strategies.
      </p>
      <div style="text-align: center;">
          <img src="/ada-vnboys-website/assets/img/trump_dance.gif"  
              style="max-width: 50%; height: auto; margin: 40px 0; object-fit: contain;" 
              alt="Trump">
      </div>

      <p>
        We have now seen who are the political actors on Youtube and the political orientations they express.
        We looked at their following and their activity especially during election period which allows us to get a picture of what the relationship between Youtube and U.S Politics looks like.
        This picture is more of a snapshot as the number of channels used is only a small fraction of the total number of channels in the News & Politics category but we believe it is fairly representative as it shows the most important channels.
        However, it will be useful for us in order to set the scene and compare it with the activity of the viewers.
      </p>
    </section>










    <!-- RQ2 -->
    <section id="pageviews">
      <h2>Does the platform foster polarization or echo chambers?</h2>

      <p>We've looked at who are the CHANNELS that define the political landscape, now we will look at who are the VIEWERS. In an era of algorithm-driven content, there is a widespread concern that people are increasingly exposed only to viewpoints they already agree with, leading to more fragmented and polarized "echo chambers." We will attempt to empirically investigate this phenomenon on YouTube.</p>
      <p>We move beyond individual videos to identify large-scale "communities" of content defined by viewers themselves—by analyzing which videos are commented on by the same groups of people. This approach reveals the thematic and political contours of the YouTube landscape, showing which conversations are central, which are niche, and how much they interact.</p>

      <div style="text-align:center; margin-bottom:10px;">
        <button onclick="showRq2Year(2014)">2014</button>
        <button onclick="showRq2Year(2015)">2015</button>
        <button onclick="showRq2Year(2016)">2016</button>
        <button onclick="showRq2Year(2017)">2017</button>
        <button onclick="showRq2Year(2018)">2018</button>
        <button onclick="showRq2Year(2019)">2019</button>
      </div>

      <div id="rq2-content-wrapper">
        {% for year in (2014..2019) %}
        <div id="rq2-{{ year }}" class="rq2-year-content" style="display:none;">
          <h3 style="text-align: center; font-size: 1.5em; margin-bottom: 20px;">Analysis for {{ year }}</h3>

          <div class="analysis-item">
            <h4>Political Makeup of Communities</h4>
            <p>This chart provides a visual breakdown of the political leanings within each identified community. Each bar represents a community, and the colored segments show the proportion of videos from different political biases (Left, Center, Right). This allows us to see if a community is politically homogeneous (an echo chamber) or diverse.</p>
            <img src="/ada-vnboys-website/assets/{{ year }}/bias_composition_plot.png" alt="Political Bias Composition for {{ year }}" style="width:100%; max-width:800px; display:block; margin:auto;">
            <p> Notice anything? At first, in 2014 and 2015, the communities are rather well distributed and center is the most present political orientation. Starting from 2016 and onwards, the communities become a lot more homogeneous and more importantly, more red and blue, respectively. This reflects the distribution of videos posted throughout the election periods where in 2016 we saw a more politically split distribution. </p>
          </div>

          <div class="analysis-item">
            <h4>Top Discussion Topics</h4>
            <p>This chart displays the top three most discussed themes for each community, such as "Economy & jobs" or "Foreign policy." It helps define the identity of each conversation bubble by showing what issues were most important to them during the year. Hover over the bars for more details.</p>
            <p>If we take 2016 as an example, we can see that elections and campaigns dominates the topic discussion in all but one community showing that the election can create a sort of feedback loop where the communities themselves are more divided but also the topics that bring them together are divisive topics such as who to vote for.</p>
            <iframe src="/ada-vnboys-website/assets/{{ year }}/top_themes_plot.html" width="100%" height="500" style="border:1px solid #ccc; margin:auto; display:block;"></iframe>
          </div>

          <div class="analysis-item">
            <h4>Echo Chamber Diagnostics</h4>
            <p>This figure diagnoses the "echo chamber" phenomenon. The histogram on the left shows how many videos are "echo-prone" (seen by one community) versus "cross-audience" (seen by many). The bar chart on the right summarizes how many connections are within the same community versus across different communities, indicating how siloed the network is.</p>
            <p>The graph above on the left shows us to what extent each video has a mix of communities. A peak on the right means most videos have multiple communities and are therefore not "echo-chambers". The year where you would expect a peak on the right, that is implies echo-chambers, is 2016. However, interestingly enough this year has a peak around the cross-audience threshold which means videos have multiple communities from different political orientations. A reason could be that a lot of videos are actually intended for wider audiences and not just select communities. </p>
            <p>Other non-election years such as 2014 and 2015 show videos with fewer mixed communities.  </p>
            <p>The graph on the left shows us the weight and edge weight of cross-communities linkage versus linkage within a community. If we continue the analysis of 2016, we can see that despite the apparent mixedness of communities seen in the videos. The communities interact much more whithin each other rather than with other communities. </p>

            <img src="/ada-vnboys-website/assets/{{ year }}/echo_chamber_diagnostics.png" alt="Echo Chamber Diagnostics for {{ year }}" style="width:100%; max-width:800px; display:block; margin:auto;">
          </div>
          
          <div class="analysis-item">
            <h4>Community Activity Over Time</h4>
            <p>This line chart tracks the monthly activity (number of comments) for each community. Each colored line represents a community, allowing us to see which conversation clusters grew in engagement and which faded in response to major news events throughout the year.</p>
            <iframe src="/ada-vnboys-website/assets/{{ year }}/temporal_evolution_M_plot.html" width="100%" height="500" style="border:1px solid #ccc; margin:auto; display:block;"></iframe>
          </div>

          <div class="analysis-item">
            <h4>What Defines a Community?</h4>
            <p>This plot shows which factors were most important for defining a community's identity and political leaning. Longer bars indicate more influential features, such as specific themes (e.g., "Immigration") or video properties (e.g., number of connections).</p>
            <p>Taking again 2016 as a point of focus: we can see that "elections and campaign" is the defining feature in both determining the political orientation of a community as well as its identity (shape). 2015 and 2017 also share this feature, perhaps also feeding on the presidential race hype. However, 2014, for instance, does not have this feature and it is much more defined by the linkage in the videos that shape it rather than a singular topic. </p>
            <img src="/ada-vnboys-website/assets/{{ year }}/logistic_feature_importance.png" alt="Feature Importance for {{ year }}" style="width:100%; max-width:800px; display:block; margin:auto;">
          </div>

    
          
        </div>
        {% endfor %}
      </div>
      <p> What did we observe in this section? We saw what were the communities on Youtube each year and what were their defining characteristics. We learnt that election year communities are quite particular: for example, the feature that influence these communities the most is not which communities but the presidential race itself. 2016, as well, had communities that intereacted more with themselves rather than mixing. These communities are also more split ideologically compared to years like 2014 and 2015. Other years, on the other hand, do not show such polarization or striking defining features. </p>
      <p> What does this tell us about Youtube communities? We cannot say that we can find complete echo chambers, but that polarizing events such as the 2016 presidential elections can cause communities to be particularly inward behaving. </p>
      <p> We looked at who posts videos and who watches videos, let us now look at what the videos are about!</p>
    </section>

    <script>
      function showRq2Year(year) {
        // Hide all year content
        var yearContents = document.querySelectorAll('.rq2-year-content');
        yearContents.forEach(function(div) {
          div.style.display = 'none';
        });

        // Show the selected year's content
        var selectedYearDiv = document.getElementById('rq2-' + year);
        if (selectedYearDiv) {
          selectedYearDiv.style.display = 'block';
        }
      }
      // Show the first year by default
      document.addEventListener('DOMContentLoaded', function() {
        showRq2Year(2019);
      });
    </script>




    <!-- RQ3 -->
<section id="opinions">
    <h2>Do the sentiments and topics discussed align with public opinion?</h2>

    <p>
    In the previous sections, we identified who the actors are and how they cluster into communities. 
    But to fully understand the "Attention Democracy," we must examine the substance of the conversation. 
    Is YouTube a faithful mirror of American political concerns, or does the platform’s architecture distort the discourse?

    This section deconstructs the content itself. 
    We move from raw keywords to hidden thematic structures, and finally, we measure what truly drives viewership : facts or feelings.
    </p>

    <h3>The Surface : Names and Keywords</h3>

    <p>We first look at the raw signals : the names and topic of the video tags .</p>

    <h4>
      Interactive Tracker: The Personalities Politics is often personified.
      Use the tool below to track the popularity of specific political figures over time.
    </h4>

      <div style="max-width: 1100px; margin: 0 auto;">
        

        <p style="margin:6px 0 12px 0; color:#444;">
          From a political perspective, the interactive graph allows for comparison between different candidates during elections or otherwise.
          Enter <b>3–4 names</b> (comma-separated). You can type <b>last names</b> only (e.g., <i>Biden</i>) and we will match them to full names (e.g., <i>Joe Biden</i>).
          Dates are pre-filled; adjust them if needed, then click <b>Plot</b>.
        </p>

        <div style="display:flex; gap:12px; flex-wrap:wrap; align-items:end; margin: 10px 0;">
          <div>
            <label>Names (3–4, comma-separated)</label><br>
            <input id="words" type="text" value="Clinton, Trump, Obama" style="width:320px;">
          </div>
          <div>
            <label>Start</label><br>
            <input id="start" type="month">
          </div>
          <div>
            <label>End</label><br>
            <input id="end" type="month">
          </div>
          <button id="plotBtn">Plot</button>
          <div id="err" style="color:#b00020; font-weight:600;"></div>
        </div>

        <div id="word-chart" style="width:100%; height:520px;"></div>
      </div>

      <p>We can clearly see on this graph the steep increase in popularity of Hillary clinton and Donald trump for the 2016 elections.
         Before that, Barack Obama had the lead for the 2008 and 2012 elections. 
      </p>

    <h4>
    The "Zeitgeist" of Tags Beyond personalities, the evolution of video tags provides a timeline of national anxiety. 
    The graph below displays the cumulative prevalence of the top 10 most used tags in the News & Politics category.
    </h4>


    <div id="tags-area-chart" style="width:100%; height:600px; margin: 20px auto;"></div>


    <p>
    This chart visualizes the "market share" of attention for the top 10 political tags over time. 
    Each color band represents a specific tag (e.g., "Economy," "Elections"), the vertical height (thickness) of a band at any given year shows its dominance. 
    A thick band means the topic was central to the conversation (it temporarily monopolized public attention) ; a thin band means it was marginal.
    </p>

    <p>
    The data reveals that while generic terms remain stable, specific tags act as historical markers.
    </p>

      <ul class="questions-list">
        <li>The Economy Spike (2008-2009): The tags "Business" and "Economy" surge visibly during these years, perfectly mirroring the Great Recession. 
          YouTube, at this stage, acted as a rational reflection of the financial crisis.
        </li>

        <li>The 2016 Anomaly: The tag "Elections" shows a disproportionate spike in 2016 compared to 2008 or 2012. 
          This confirms the hyper-mediatization of the Trump vs. Clinton cycle. 
          It was no longer just a political process; it was a media spectacle that saturated the platform.
        </li>
      </ul>

    <h3>Mapping the American Psyche (LDA)</h3>

    <p>
    Keywords give us hints, but they don't tell the full story. 
    To understand the themes structuring these millions of videos, we utilized Latent Dirichlet Allocation (LDA). 
    This unsupervised machine learning algorithm analyzes patterns of word co-occurrence to uncover the "hidden topics" within the corpus. 
    To determine the optimal number of topics ($k$), we calculated the Coherence Score ($C_v$) for models ranging from 4 to 10 topics. We selected $k=4$ as it maximized the semantic coherence ($C_v = 0.40$), ensuring that the identified themes were distinct and stable for reproductibility.
    Note : We excluded proper nouns from our analysis to focus on the issues rather than the actors. If we simply analyzed the most frequent words, "Obama" and "Trump" would drown out everything else. 
    We wanted to know if the platform was discussing Immigration or Tax Policy, regardless of who was holding the microphone.
    </p>


<!-- graph LDA -->
    {% raw %}
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.4.0/pyLDAvis/js/ldavis.v1.0.0.css">


    <div id="ldavis_el2161406429695628323321803596" style="background-color:white;"></div>
    <script type="text/javascript">

    var ldavis_el2161406429695628323321803596_data = {"mdsDat": {"x": [0.22767942894130974, -0.23505962783268747, -0.2679622278143525, 0.2753424267057304], "y": [0.015855112796778217, -0.3557512105399631, 0.33281593495285505, 0.007080162790329915], "topics": [1, 2, 3, 4], "cluster": [1, 1, 1, 1], "Freq": [31.212229546453063, 25.117854359730863, 23.33744624390329, 20.332469849912773]}, "tinfo": {"Term": ["turks", "economist", "business", "police", "coverage", "war", "china", "shooting", "europe", "gun", "capitalism", "russia", "syria", "elections", "gay", "school", "debate", "health", "women", "economy", "rights", "black", "korea", "sex", "crime", "campaign", "immigration", "tax", "israel", "marijuana", "russia", "gun", "syria", "korea", "coverage", "black", "iraq", "iran", "putin", "military", "climate", "change", "ukraine", "isis", "saudi", "russian", "venezuela", "turkey", "islamic", "oil", "fbi", "nuclear", "water", "guns", "syrian", "terrorism", "arabia", "afghanistan", "jong", "environment", "war", "turks", "peace", "economist", "business", "china", "europe", "capitalism", "economy", "asia", "debt", "federal", "trade", "economic", "global", "paris", "chinese", "corporate", "jobs", "work", "financial", "market", "european", "germany", "wage", "workers", "banks", "income", "stock", "democracy", "greece", "floods", "labor", "bank", "pay", "police", "school", "health", "women", "rights", "crime", "immigration", "campaign", "marijuana", "racist", "border", "sexual", "racism", "education", "college", "obamacare", "india", "rape", "marriage", "prison", "abortion", "london", "assault", "healthcare", "drugs", "france", "student", "race", "shootings", "science", "violence", "security", "shooting", "elections", "gay", "debate", "sex", "israel", "tax", "congress", "court", "religion", "primary", "justice", "muslim", "kavanaugh", "africa", "corruption", "taxes", "gaza", "church", "shutdown", "senator", "budget", "religious", "shot", "constitution", "comey", "minister", "prince", "fraud", "refugee", "turks"], "Freq": [322079.0, 243483.0, 149785.0, 65899.0, 73305.0, 77668.0, 58959.0, 51039.0, 54234.0, 59251.0, 49480.0, 58635.0, 52442.0, 35722.0, 35654.0, 37453.0, 33767.0, 35191.0, 34624.0, 36057.0, 32581.0, 40701.0, 39785.0, 29061.0, 30694.0, 29051.0, 28752.0, 25557.0, 25387.0, 26129.0, 58634.71295703136, 59251.23965351724, 52441.86930338709, 39784.3836675506, 73304.12267743173, 40701.10110942101, 31412.614663356322, 31209.055232257604, 30394.188070646855, 30309.166062499713, 27701.554451695956, 27474.948586213024, 25174.378142869795, 24893.92575825058, 22886.09442688413, 22370.099861869498, 22044.718926201807, 21590.656184829713, 19747.04586986353, 18139.44910755757, 18151.608818436594, 17094.58332919263, 16807.3934260339, 15256.443190568958, 12400.387347738397, 12583.286842955267, 12227.36691196363, 12147.80802368797, 12001.607823004304, 12363.957610398544, 76313.31805455693, 59857.98890374385, 12414.956137827086, 243482.34711223713, 149784.5048543138, 58958.76613042375, 54233.85905054883, 49480.19073047246, 36056.680285011775, 27474.455227886112, 23505.215548815235, 21731.52017802463, 20612.673407979495, 19404.796720883645, 20962.72373217522, 18466.192659038312, 16531.014577111862, 17273.359858678697, 14905.078885339182, 14996.28940502719, 13082.559594353488, 12783.242353391026, 12379.0131395029, 11450.781704681727, 10521.212379284134, 10636.211910868356, 10559.770431125846, 9797.194381445419, 9291.31501274325, 9743.738952107164, 8676.987006213056, 8676.975648907654, 8388.481352128565, 11034.610284162804, 9619.7864566741, 65898.41652522483, 37452.594183364396, 35190.540999483535, 34623.93026692287, 32580.805130562407, 30693.72281463442, 28752.011371506687, 29050.615425948927, 26128.745375698265, 23277.955449229226, 22913.095771093387, 20822.593030850094, 20109.894494005344, 18483.921889315785, 17801.831281069757, 17752.687226367292, 17244.68488387425, 16307.05405508634, 20829.24096404226, 15968.368239632799, 15456.810835723185, 15116.491528113855, 13750.291661431856, 13663.10876614032, 12851.013075797793, 13333.21721659527, 12771.823528749217, 12688.37297309271, 12601.839042708027, 12107.865949705436, 15808.210031986124, 15082.27472149653, 51038.534012875854, 35722.13579903801, 35654.15874340597, 33766.555240689966, 29060.43215352045, 25386.793570486567, 25556.688403144, 22742.719622387784, 21209.389292349737, 15672.651675639838, 14950.327887009631, 14905.519478645414, 14608.933948472188, 13091.391689523794, 13039.717543379486, 13038.724640754619, 13064.234883379422, 11906.467213134167, 10517.34587646083, 9810.621691292408, 9927.645378529995, 8929.652289002794, 8650.57769984422, 8447.754354858242, 9538.337452862781, 7856.393503093604, 7982.152894721448, 7086.548291612161, 6890.70928110869, 7040.438996938514, 262204.6954978696], "Total": [322079.0, 243483.0, 149785.0, 65899.0, 73305.0, 77668.0, 58959.0, 51039.0, 54234.0, 59251.0, 49480.0, 58635.0, 52442.0, 35722.0, 35654.0, 37453.0, 33767.0, 35191.0, 34624.0, 36057.0, 32581.0, 40701.0, 39785.0, 29061.0, 30694.0, 29051.0, 28752.0, 25557.0, 25387.0, 26129.0, 58635.36930400023, 59251.934290347475, 52442.514253273104, 39785.03464493743, 73305.38640717864, 40701.870873041495, 31413.262228061183, 31209.703048253017, 30394.841396488533, 30309.83045844707, 27702.212185331544, 27475.621703969548, 25175.028513169502, 24894.57504155001, 22886.742853141597, 22370.75016980727, 22045.367756331387, 21591.30414606703, 19747.705463562885, 18140.107975583018, 18152.27644246911, 17095.231488836158, 16808.048575967026, 15257.123133078883, 12401.03392872476, 12583.947395484127, 12228.015007064192, 12148.45755337013, 12002.256879357144, 12364.627690614554, 77668.7614370612, 322079.72060192167, 18354.327824214215, 243483.2075499282, 149785.08146502927, 58959.33357694845, 54234.430232025836, 49480.839332077085, 36057.247546683175, 27475.033565071888, 23505.78889342233, 21732.110101226208, 20613.24204391058, 19405.36716299634, 20963.36003674026, 18466.768765832516, 16531.58437498724, 17273.984698830707, 14905.653430676, 14996.880485331414, 13083.12966612325, 12783.813570740094, 12379.590663196097, 11451.355287130798, 10521.782501764845, 10636.789398398721, 10560.344094550155, 9797.786405781166, 9291.880993445857, 9744.336795677182, 8677.554270834697, 8677.547370104066, 8389.054872509749, 13605.66214321027, 11313.263061915157, 65899.0977409686, 37453.27704851337, 35191.22408345338, 34624.62070472606, 32581.518138143816, 30694.41145449917, 28752.693433034725, 29051.32793827061, 26129.449824697534, 23278.649128667435, 22913.785561825116, 20823.28094908967, 20110.58499228929, 18484.614325833554, 17802.51473794196, 17753.373355948148, 17245.379147518048, 16307.73431576089, 20830.11914025574, 15969.065156974022, 15457.489824961709, 15117.20680271302, 13750.978035214452, 13663.791630460442, 12851.70266643473, 13333.936479651726, 12772.5143632277, 12689.065426680369, 12602.534520608373, 12108.61103410386, 20904.17740964419, 23487.251732811033, 51039.278620804995, 35722.85384588376, 35654.880140171204, 33767.28111615799, 29061.16449424881, 25387.513571156975, 25557.41570989283, 22743.447963727685, 21210.108746005968, 15673.378432494983, 14951.045455415902, 14906.246719914987, 14609.663228303776, 13092.102373337966, 13040.457731179002, 13039.465432923706, 13065.004910236179, 11907.177615931198, 10518.061843784708, 9811.343435070727, 9928.377076638179, 8930.39418826789, 8651.325888134674, 8448.503331679929, 9539.20163237582, 7857.121409419913, 7982.90293341558, 7087.279217241, 6891.441790476253, 7041.203392167599, 322079.72060192167], "Category": ["Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4"], "logprob": [30.0, 29.0, 28.0, 27.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 13.0, 12.0, 11.0, 10.0, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, -3.2521, -3.2416, -3.3637, -3.6399, -3.0288, -3.6172, -3.8762, -3.8827, -3.9092, -3.912, -4.0019, -4.0101, -4.0976, -4.1088, -4.1929, -4.2157, -4.2303, -4.2512, -4.3404, -4.4253, -4.4247, -4.4847, -4.5016, -4.5984, -4.8057, -4.791, -4.8197, -4.8263, -4.8384, -4.8086, -2.9886, -3.2314, -4.8045, -1.6111, -2.097, -3.0293, -3.1129, -3.2046, -3.5211, -3.7929, -3.949, -4.0274, -4.0803, -4.1407, -4.0634, -4.1902, -4.3009, -4.257, -4.4045, -4.3984, -4.5349, -4.558, -4.5902, -4.6681, -4.7528, -4.7419, -4.7491, -4.8241, -4.8771, -4.8296, -4.9455, -4.9455, -4.9793, -4.7051, -4.8424, -2.8445, -3.4096, -3.4719, -3.4881, -3.5489, -3.6086, -3.674, -3.6636, -3.7696, -3.8852, -3.901, -3.9966, -4.0314, -4.1158, -4.1534, -4.1561, -4.1852, -4.2411, -3.9963, -4.2621, -4.2946, -4.3169, -4.4116, -4.418, -4.4792, -4.4424, -4.4854, -4.492, -4.4988, -4.5388, -4.2721, -4.3191, -2.9622, -3.3191, -3.321, -3.3754, -3.5254, -3.6606, -3.6539, -3.7706, -3.8404, -4.1429, -4.1901, -4.1931, -4.2132, -4.3229, -4.3268, -4.3269, -4.3249, -4.4177, -4.5418, -4.6114, -4.5995, -4.7054, -4.7372, -4.7609, -4.6395, -4.8335, -4.8176, -4.9366, -4.9646, -4.9432, -1.3257], "loglift": [30.0, 29.0, 28.0, 27.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 13.0, 12.0, 11.0, 10.0, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1643, 1.1468, -0.5185, 0.7734, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3816, 1.3815, 1.3815, 1.3815, 1.3815, 1.3815, 1.3815, 1.3815, 1.3815, 1.3815, 1.3815, 1.3815, 1.3815, 1.3815, 1.1721, 1.2194, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.4551, 1.455, 1.1757, 1.0122, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5929, 1.5928, 1.5928, 1.5928, 1.3873]}, "token.table": {"Topic": [3, 1, 4, 1, 2, 3, 2, 4, 2, 1, 3, 4, 2, 3, 2, 1, 2, 2, 4, 1, 3, 4, 4, 4, 2, 4, 4, 1, 3, 3, 4, 2, 2, 3, 2, 2, 2, 3, 4, 1, 2, 2, 1, 2, 2, 2, 3, 4, 4, 4, 2, 2, 2, 1, 1, 3, 3, 3, 2, 3, 1, 1, 1, 1, 4, 2, 1, 4, 4, 1, 2, 3, 3, 2, 3, 1, 4, 4, 1, 3, 1, 2, 2, 3, 1, 4, 3, 4, 4, 3, 1, 3, 3, 3, 3, 4, 4, 4, 3, 1, 1, 1, 3, 3, 1, 3, 4, 4, 3, 4, 3, 4, 4, 2, 3, 1, 1, 4, 4, 1, 2, 1, 1, 2, 3, 4, 1, 1, 1, 3, 2, 1, 2, 1, 3, 2, 2], "Freq": [0.9999683114808902, 0.9999623365050155, 0.9999648991478338, 0.9999169933089217, 0.9999623816629946, 0.9999288752253152, 0.811059387176307, 0.18896544489626507, 0.9999674163505399, 0.9999786036115094, 0.9999657166284027, 0.9999558599251522, 0.9999994561205396, 0.9999887117631487, 0.9999830372304024, 0.9999773725240416, 0.99999434225375, 0.9999646509993244, 0.9998990456796624, 0.9999923404914335, 0.9999710862229557, 0.9998572747751399, 0.9999803036141046, 0.9998740321861169, 0.9999429952701779, 0.9999643058278654, 0.9999477255859814, 0.9999810872400162, 1.3641562360035145e-05, 0.9999865951331309, 0.9999916748950849, 0.9999664383345777, 0.9999654367778696, 0.9999453250317901, 0.9999810793069126, 0.9999950405206981, 0.9999931346206375, 0.9999667655584951, 0.9999760980495164, 0.999949234976559, 0.9999920671790227, 0.9999522873403357, 0.999984770920056, 0.9999949337075096, 0.9999900890592267, 0.9999369211044641, 0.9999297672031695, 0.9999358928813904, 0.999975315015287, 0.9999011003304744, 0.9999689742286489, 0.9999828254278117, 0.999936125915506, 0.9999842319013098, 0.9999263863135215, 0.9999936324052596, 0.9999420636319807, 0.9999758828495028, 0.9999197363824239, 0.9999780145443713, 0.9999774734078075, 0.9999916523136222, 0.9999769009292566, 0.9999642761755695, 0.9999797707185647, 0.999956162225357, 0.9999785974121596, 0.9999834485555202, 0.9999157986008259, 0.99997399411747, 0.9998742560960943, 0.9999201702583836, 0.9999827847620003, 0.9999363593081523, 0.9999462729786515, 0.9999726010197183, 0.9998868915953117, 0.9999546034502362, 0.9999864588650754, 0.9999789698588171, 0.9999389212244763, 0.9999583703114354, 0.8503293830746905, 0.14964736440181403, 0.6764072277068807, 0.3235749114257885, 0.999983342094107, 0.9999300747617269, 0.9999606030420926, 0.9999332987270356, 0.99997231778651, 0.9999160358431025, 0.9999709112246356, 0.9999721148480805, 0.999954971319334, 0.9998290928268116, 0.9999758550783028, 0.9999623308451343, 0.9999840971761469, 0.9999937016854398, 0.9999664664885364, 0.9999675422078902, 0.9999926028231652, 0.999949537225852, 0.35781112646141766, 0.6421355794016065, 0.9999620203145723, 0.9999599295393328, 0.999986507933579, 0.9999945410512742, 0.9999575862611209, 0.9999404235685104, 0.999964996121785, 0.9999051867488964, 0.9999597288980797, 0.9999901939622761, 0.9999166256030987, 0.9999837342751102, 0.9999230838225409, 0.9999247139665836, 0.9999882578436684, 0.9999859134925352, 0.1858483976828278, 9.31446411588231e-06, 4.3467499207450784e-05, 0.8140996878349738, 0.9999591455013064, 0.9999833182038308, 0.2437311882767226, 0.7562124875914487, 0.9999256303041131, 0.9825443149603996, 0.017445881393358162, 0.999937614651559, 0.999982073313341, 0.999941288767869, 0.9999257860272348], "Term": ["abortion", "afghanistan", "africa", "arabia", "asia", "assault", "bank", "bank", "banks", "black", "border", "budget", "business", "campaign", "capitalism", "change", "china", "chinese", "church", "climate", "college", "comey", "congress", "constitution", "corporate", "corruption", "court", "coverage", "coverage", "crime", "debate", "debt", "democracy", "drugs", "economic", "economist", "economy", "education", "elections", "environment", "europe", "european", "fbi", "federal", "financial", "floods", "france", "fraud", "gay", "gaza", "germany", "global", "greece", "gun", "guns", "health", "healthcare", "immigration", "income", "india", "iran", "iraq", "isis", "islamic", "israel", "jobs", "jong", "justice", "kavanaugh", "korea", "labor", "london", "marijuana", "market", "marriage", "military", "minister", "muslim", "nuclear", "obamacare", "oil", "paris", "pay", "pay", "peace", "peace", "police", "primary", "prince", "prison", "putin", "race", "racism", "racist", "rape", "refugee", "religion", "religious", "rights", "russia", "russian", "saudi", "school", "science", "security", "security", "senator", "sex", "sexual", "shooting", "shootings", "shot", "shutdown", "stock", "student", "syria", "syrian", "tax", "taxes", "terrorism", "trade", "turkey", "turks", "turks", "turks", "turks", "ukraine", "venezuela", "violence", "violence", "wage", "war", "war", "water", "women", "work", "workers"]}, "R": 30, "lambda.step": 0.01, "plot.opts": {"xlab": "PC1", "ylab": "PC2"}, "topic.order": [4, 1, 2, 3]};

    function LDAvis_load_lib(url, callback){
      var s = document.createElement('script');
      s.src = url;
      s.async = true;
      s.onreadystatechange = s.onload = callback;
      s.onerror = function(){console.warn("failed to load library " + url);};
      document.getElementsByTagName("head")[0].appendChild(s);
    }

    if(typeof(LDAvis) !== "undefined"){
      // already loaded: just create the visualization
      !function(LDAvis){
          new LDAvis("#" + "ldavis_el2161406429695628323321803596", ldavis_el2161406429695628323321803596_data);
      }(LDAvis);
    }else if(typeof define === "function" && define.amd){
      // require.js is available: use it to load d3/LDAvis
      require.config({paths: {d3: "https://d3js.org/d3.v5"}});
      require(["d3"], function(d3){
          window.d3 = d3;
          LDAvis_load_lib("https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.4.0/pyLDAvis/js/ldavis.v3.0.0.js", function(){
            new LDAvis("#" + "ldavis_el2161406429695628323321803596", ldavis_el2161406429695628323321803596_data);
          });
        });
    }else{
        // require.js not available: dynamically load d3 & LDAvis
        LDAvis_load_lib("https://d3js.org/d3.v5.js", function(){
            LDAvis_load_lib("https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.4.0/pyLDAvis/js/ldavis.v3.0.0.js", function(){
                    new LDAvis("#" + "ldavis_el2161406429695628323321803596", ldavis_el2161406429695628323321803596_data);
                })
            });
    }
    </script>
  {% endraw %}


    <p>
    How to read this map:
    Each bubble represents a distinct topic, and its size indicates its prevalence in the dataset. 
    The distance between bubbles represents semantic difference. Bubbles far apart use completely different vocabularies.
    The algorithm identified four distinct "semantic islands" that define the political landscape and that can be seen on the Intertropic distance map :
    </p>


      <ul class="questions-list">
        <li>Topic 1 : Global Conflict: War, foreign intervention, and coverage of violence.</li>
        <li>Topic 2 : Global Economy & Geopolitics: Focuses on trade, capitalism, and macroeconomics.</li>
        <li>Topic 3 : Civil Rights & Social Policy: Covers police, education, healthcare, and domestic law.</li>
        <li>Topic 4 : Culture Wars & Elections: A mix of debates, sexual politics, and identity clashes.</li>
      </ul>

    <p>
      You can verify the "flavor" of each topic using the interactive tool above. 
      The &lambda; (lambda) slider at the top right is your lens to adjust the granularity of the analysis:
    </p>

        <ul class="questions-list">
        <li>At &lambda; = 1$ (Default): You see the most frequent words. These are often broad terms (e.g., "news," "video") that might appear in multiple topics.</li>
        <li>Slide lambda; toward $0.6$ or lower: You reveal the most distinctive words, so the specific terms that are unique to that specific topic and rare elsewhere.</li>
        </ul>

    <p>
      The Evolution of Discourse By applying this topic map to our timeline, we can see how the American digital conversation shifted over the decade. 
      We compare it with a graph which is based on real opinion polls conducted among Americans
    </p>


    <div class="split-section">
        <div class="column">
            <h3>Opinion poll</h3>
            <p>Analysis of the left-wing engagement shows a steady increase in video production during the primaries.</p>
            <div id="issues-chart" style="width:100%; height:600px; margin: 40px 0;"></div>
            <p>It shows a peak in "Economy & cost of living" around 2009-2012, matching the Great Recession’s impact. 
              This trend declines until 2016, then rises again by 2024. 
              "Health & welfare" spikes around 2018–2020, likely due to COVID-19, while other topics like "Security & foreign policy" and "Social & cultural issues" fluctuate moderately.
            </p>
        </div>

        <div class="column">
            <h3>LDA analysis</h3>
            <p>On the other side, conservative channels exhibit higher engagement rates per video posted.</p>
            <div id="opinion-chart" style="width:100%; height:600px; margin: 40px 0;"></div>
            <p>Mirrors the economic peak around 2008–2009, following the hypothesis about the Great Recession’s influence. 
              The "Global Conflict & Foreign Intervention" topic declines sharply after 2006, while "Civil Rights, Law & Social Policy" and "US Elections & Cultural Debates" spike during election years (2008, 2012, 2016), reflecting political cycles.
            </p>
        </div>
    </div>

    <p>
      Both graphs reflect some of the same major trends, particularly around economic issues and political events. 
      The alignment of the economic peak in both graphs suggests that major real-world events do influence both public opinion and online discussions, but the medium (polls vs. YouTube) affects how these trends are captured and represented.
    </p>

    <h3>The mechanics of engagement : does rage pay?</h3>

    <p>
      Why did the conversation shift toward culture wars? 
      Is it just a change in what people care about, or does YouTube’s algorithm push certain types of content because it gets more engagement?
    </p>

    <p>
      To explore this, we measured the emotional intensity of video titles and tags using VADER, a sentiment analysis tool designed for social media. 
      Instead of looking at whether a title is positive or negative, we focused on how emotionally charged it is, so we looked at the absolute value of the sentiment score, ranging from 0 to 1.
      For example, a low-intensity title like <em>"Senate Committee Report on Budget"</em> 
      or <em>"Full Interview with Candidate"</em> scores close to <strong>0</strong>. 
      It’s neutral, factual, and straightforward.

      On the other hand, high-intensity titles (<em>"SHOCKING betrayal,"</em> 
      <em>"DESTROYED in debate,"</em> or <em>"CRISIS explosion"</em>) score close to <strong>1</strong>. 
      They’re packed with hyperbole, moral outrage, or loaded language.
    </p>




<p>
  This intensity score acts like a rough measure of sensationalism or clickbait. 
  The boxplot below shows how these intensity levels (low, medium, high) relate to viewer engagement.
</p>


<!-- c'est quoi ce graph ? -->

<div id="issues-chart" style="width:100%; height:600px; margin: 40px 0;"></div>

<!-- boxplot graph ici -->


<p>
  The boxplot reveals that emotional intensity in video titles and tags directly impacts viewer engagement. 
  Low-intensity content has fewer views and less variability, while medium-intensity content sees a rise in both median views and spread.

  High-intensity content, however, stands out as it has the highest median views and the widest spread, indicating that sensational or emotionally charged titles attract more viewers and can achieve extreme engagement levels. This suggests YouTube’s algorithm may favor and amplify high-intensity content, as it tends to generate more attention and interaction. 
  In essence, emotional intensity correlates with higher visibility and engagement.
</p>

<p>
  OLS Regression: Proving the Effect
  Visualizations like boxplots are powerful, but they can be misleading. 
  They show us that high-intensity videos tend to have more views, but they don't tell us why. 
  Is it really the anger that drives the views ? Or is it simply that larger, more successful channels happen to use more emotional titles ? 
  We therefore perform a Multivariate OLS Regression. This statistical method allows us to isolate the specific effect of Emotional Intensity on views while mathematically holding all other factors constant (channel size, election cycles, and topic). 
</p>

<p>
  The regression analysis reveals three key insights about what drives video views on YouTube, even after accounting for the size of the channel :
</p>

<p>
  First, emotional intensity is a powerful driver on its own. A coefficient of <strong>0.80</strong> for intensity means that shifting from a neutral title (intensity = 0) to a highly charged one (intensity = 1) multiplies expected views by <em>e</em><sup>0.80</sup> &asymp; 2.23.
  This translates to a <strong>123%</strong> increase (2.23 - 1 = 1.23, or +123%) in views. What’s striking is that this effect is almost as strong as the impact of having more subscribers, meaning emotional language can significantly boost reach regardless of a channel’s popularity.
</p>

<p>
  Second, topic choice matters. Compared to the baseline of "Global Economy & Geopolitics," videos about "Culture Wars & Elections" attract <strong>74% more views</strong> ($e^{0.555} - 1 \approx 0.74$), while "Global Conflict" content sees a <strong>59% increase</strong> ($e^{0.464} - 1 \approx 0.59$). The pattern is clear: culture wars dominate, followed by war coverage, with economic discussions trailing behind.
</p>

<p>
  Finally, election years present a paradox. The coefficient of <strong>-0.28</strong> for videos uploaded during election years translates to a multiplier of $e^{-0.28} \approx 0.753$, meaning views are reduced to <strong>75.3%</strong> of their expected value outside of election years. This represents a <strong>drop of about 24.7%</strong> ($1 - 0.753 = 0.247$). The oversaturation of content during these periods means more competition for the same audience, reducing individual video reach.
</p>

<p>
  In essence, YouTube’s attention economy is shaped by emotion, topic relevance, and timing, but too much competition can diminish returns.
</p>


<p>
  Is YouTube a mirror or a distortion? Our analysis suggests it is both. In 2008, the platform acted as a <strong>rational mirror</strong>, reflecting the tangible economic anxieties of a nation in crisis. But over time, the incentives shifted.
</p>

<p>
  The data reveals a structural reality we call <span style="color: #e74c3c; font-weight: bold;">"The Outrage Advantage."</span> 
  Our regression proves that in the marketplace of attention, high-intensity content structurally outperforms neutral reporting by <strong>123%</strong>.
</p>

<p>
  This creates a self-reinforcing feedback loop:
</p>
<ul>
  <li><strong>Cognitive Bias:</strong> Users naturally click more on sensational content.</li>
  <li><strong>Algorithmic Optimization:</strong> The algorithm, optimized for engagement, "learns" this preference and pushes more aggressive content.</li>
  <li><strong>Creative Adaptation:</strong> Creators, seeing what works, adapt their tone to remain competitive.</li>
</ul>

<p>
  While the algorithm is not ideologically motivated, it is functionally efficient at exploiting this loop. Consequently, the discourse gravitated away from complex economic debates toward
  the high-voltage territory of Culture Wars. YouTube does not just reflect the American electorate; it refracts it through a lens where emotion is the primary driver of visibility.
</p>
















</section>

    <!-- Conclusions -->
    <section id="conclusion">
      <h2>Conclusion</h2>
    </section>

    <hr>
  <section id="references">
    <h2>References</h2>
    <ul>
      <li>
        GIF from Giphy (Trump gif): 
        <a href="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExZGg1dmN5bjlzeTR6bjhtMmhvczdjdDZmbXdraDN1cXI5MXlvNmN4ZiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/FbiL9rsmZN3ib2JSGo/giphy.gif">
          https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExZGg1dmN5bjlzeTR6bjhtMmhvczdjdDZmbXdraDN1cXI5MXlvNmN4ZiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/FbiL9rsmZN3ib2JSGo/giphy.gif
        </a>
      </li>
      <li>
        Happy USA GIF on Pinterest (USA woman gif): 
        <a href="https://www.pinterest.com/pin/happy-usa-gif-happy-usa-americanflag-discover-share-gifs--518125132134966989/">
          https://www.pinterest.com/pin/happy-usa-gif-happy-usa-americanflag-discover-share-gifs--518125132134966989/
        </a>
      </li>
      <li>
        USA Today article (with image) (Obama image): 
        <a href="https://eu.usatoday.com/story/gameon/2012/09/21/revealed-obama-pickup-basketball-games-players/1584501/">
          https://eu.usatoday.com/story/gameon/2012/09/21/revealed-obama-pickup-basketball-games-players/1584501/
        </a>
      </li>
      <li>
        NBC News election image (Header image): 
        <a href="https://media-cldnry.s-nbcnews.com/image/upload/t_nbcnews-fp-1200-630,f_auto,q_auto:best/newscms/2020_36/3409729/200903-youtube-election-2x1-al-1238.jpg">
          https://media-cldnry.s-nbcnews.com/image/upload/t_nbcnews-fp-1200-630,f_auto,q_auto:best/newscms/2020_36/3409729/200903-youtube-election-2x1-al-1238.jpg
        </a>
      </li>
    </ul>
  </section>

  </main>

  <footer>
    <a href="https://github.com/epfl-ada/ada-2022-project-vnboys"><img src="/ada-vnboys-website/assets/img/ivon.png" alt="" title="GitHub"></a>
    <div class="link--git">
      <div class="ling--git--item">
        <a href="{{ site.github.owner_url }}">Eugenio <span class="red">I</span>uginiocamp</a>
      </div>
      <div class="ling--git--item">
        <a href="https://github.com/pigglou"> Louis <span class="red">P</span>igglou </a>
      </div>
      <div class="ling--git--item">
        <a href="https://github.com/vickiwarou"> Victoria<span class="red">V</span>ickiwarou</a>
      </div>
      <div class="ling--git--item">
        <a href="https://github.com/plpeter74"> Pierre-Louis <span class="red">P</span>lpeter74</a>
      </div>
      <div class="ling--git--item">
        <a href="https://github.com/aaduval"> Anthonin <span class="red">A</span>aduval</a>
      </div>
    </div>
  </footer>

  <script src="{{ '/assets/js/scale.fix.js' | relative_url }}"></script>

  {% if site.google_analytics %}
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', '{{ site.google_analytics }}', 'auto');
    ga('send', 'pageview');
  </script>
  {% endif %}
 
  <!-- =========================================================
       EXISTING CHARTS (unchanged except for consistency)
       ========================================================= -->

  <script>
    // Initialize the chart
    var chartDom = document.getElementById('sub-chart');
    var myChart = echarts.init(chartDom);

    // Chart configuration
    var option = {
      color: ['#CC0000', '#FF6B6B', '#808080', '#6495ED', '#4169E1'],
      title: {
        text: 'Number of subscriber share by political orientation',
        subtext: 'Total Number of Subscribers: 47,131,000',
        left: 'center'
      },
      tooltip: { trigger: 'item', formatter: '{b}: {c}%' },
      legend: { orient: 'vertical', left: 'left' },
      series: [{
        name: 'Political Orientation',
        type: 'pie',
        radius: '50%',
        data: [
          { value: 11.2, name: 'Right' },
          { value: 1.0, name: 'Lean Right' },
          { value: 39.5, name: 'Center' },
          { value: 29.2, name: 'Lean Left' },
          { value: 19.2, name: 'Left' }
        ],
        emphasis: {
          itemStyle: {
            shadowBlur: 10,
            shadowOffsetX: 0,
            shadowColor: 'rgba(0, 0, 0, 0.5)'
          }
        }
      }]
    };

    myChart.setOption(option);
    window.addEventListener('resize', function () { myChart.resize(); });
  </script>

  <script type="text/javascript">
    var mainChartDom = document.getElementById('main');
    var mainPieChart = echarts.init(mainChartDom);

    var dataByYear = {
      2008: [
        { name: 'Right', value: 0 },
        { name: 'Lean Right', value: 7.3 },
        { name: 'Center', value: 66.5 },
        { name: 'Lean left', value: 26.2 },
        { name: 'Left', value: 0 }
      ],
      2012: [
        { name: 'Right', value: 0.4 },
        { name: 'Lean Right', value: 5.7 },
        { name: 'Center', value: 85.5 },
        { name: 'Lean left', value: 6.9 },
        { name: 'Left', value: 1 }
      ],
      2016: [
        { name: 'Right', value: 0.3 },
        { name: 'Lean Right', value: 23.7 },
        { name: 'Center', value: 35.2 },
        { name: 'Lean left', value: 19 },
        { name: 'Left', value: 21.7 }
      ]
    };

    function showYear(year) {
      var option = {
        color: ['#CC0000', '#FF6B6B', '#808080', '#6495ED', '#4169E1'],
        title: {
          text: year.toString(),
          subtext:
            year === 2008 ? '328 videos' :
              year === 2012 ? '7,646 videos' :
                '56,519 videos',
          left: 'center'
        },
        tooltip: { trigger: 'item', formatter: '{b}: {d}%' },
        legend: { orient: 'vertical', left: 'left' },
        series: [{
          type: 'pie',
          radius: '55%',
          data: dataByYear[year],
          label: { formatter: '{b}: {d}%' }
        }]
      };

      mainPieChart.setOption(option, true);
    }

    showYear(2008);
    window.addEventListener('resize', function () { mainPieChart.resize(); });
  </script>

  <script>
    var chartDom = document.getElementById('political_orientation-chart');
    var myChart = echarts.init(chartDom);

    var option = {
      color: ['#CC0000', '#FF6B6B', '#808080', '#6495ED', '#4169E1'],
      title: {
        text: 'Political orientation of select US politics channels',
        subtext: 'Total Number of Channels: 57',
        left: 'center'
      },
      tooltip: { trigger: 'item', formatter: '{b}: {c}%' },
      legend: { orient: 'vertical', left: 'left' },
      series: [{
        name: 'Political Orientation',
        type: 'pie',
        radius: '50%',
        data: [
          { value: 30.5, name: 'Right' },
          { value: 6.8, name: 'Lean Right' },
          { value: 30.5, name: 'Center' },
          { value: 16.9, name: 'Lean Left' },
          { value: 15.3, name: 'Left' }
        ],
        emphasis: {
          itemStyle: {
            shadowBlur: 10,
            shadowOffsetX: 0,
            shadowColor: 'rgba(0, 0, 0, 0.5)'
          }
        }
      }]
    };

    myChart.setOption(option);
    window.addEventListener('resize', function () { myChart.resize(); });
  </script>

  <script>
    var chartDom = document.getElementById('video_share-chart');
    var myChart = echarts.init(chartDom);

    var option = {
      color: ['#CC0000', '#FF6B6B', '#808080', '#6495ED', '#4169E1'],
      title: {
        text: 'Video production share by political orientation',
        subtext: 'Total Number of Videos 796,783',
        left: 'center'
      },
      tooltip: { trigger: 'item', formatter: '{b}: {c}%' },
      legend: { orient: 'vertical', left: 'left' },
      series: [{
        name: 'Political Orientation',
        type: 'pie',
        radius: '50%',
        data: [
          { value: 12.2, name: 'Right' },
          { value: 0.3, name: 'Lean Right' },
          { value: 52.8, name: 'Center' },
          { value: 31.3, name: 'Lean Left' },
          { value: 3.4, name: 'Left' }
        ],
        emphasis: {
          itemStyle: {
            shadowBlur: 10,
            shadowOffsetX: 0,
            shadowColor: 'rgba(0, 0, 0, 0.5)'
          }
        }
      }]
    };

    myChart.setOption(option);
    window.addEventListener('resize', function () { myChart.resize(); });
  </script>

  <!-- =========================================================
       Issues chart (poll-level) — unchanged path if that's correct for you
       ========================================================= -->
  <script>
    var issuesChartDom = document.getElementById('issues-chart');
    var issuesChart = echarts.init(issuesChartDom);

    fetch('{{ site.baseurl }}/data/pre-process-pools.json')
      .then(r => r.json())
      .then(rawData => runIssuesChart(rawData));

    function runIssuesChart(rawData) {
      const categories = [...new Set(rawData.map(d => d.Category))];

      const adaptedData = rawData.map(d => [
        d.share,        // Value
        d.poll_date,    // Date
        d.Category,     // Category
        d.Category      // Label
      ]);

      const datasetWithFilters = [];
      const seriesList = [];

      categories.forEach(cat => {
        const datasetId = 'dataset_' + cat;

        datasetWithFilters.push({
          id: datasetId,
          fromDatasetId: 'dataset_raw',
          transform: {
            type: 'filter',
            config: { dimension: 'Category', '=': cat }
          }
        });

        seriesList.push({
          type: 'line',
          datasetId: datasetId,
          showSymbol: false,
          name: cat,
          endLabel: {
            show: true,
            formatter: params => params.value[3] + ': ' + (params.value[0] * 100).toFixed(1) + '%'
          },
          labelLayout: { moveOverlap: 'shiftY' },
          emphasis: { focus: 'series' },
          encode: {
            x: 'Date',
            y: 'Value',
            tooltip: ['Value']
          }
        });
      });

      const option = {
        animationDuration: 8000,
        dataset: [{
          id: 'dataset_raw',
          dimensions: ['Value', 'Date', 'Category', 'Label'],
          source: adaptedData
        }, ...datasetWithFilters],
        title: { text: 'Most important issues facing the US (poll by YouGov)' },
        tooltip: {
          trigger: 'axis',
          valueFormatter: v => (v * 100).toFixed(1) + '%'
        },
        xAxis: { type: 'time', name: 'Poll date' },
        yAxis: {
          name: 'Share (%)',
          axisLabel: { formatter: v => (v * 100).toFixed(0) + '%' }
        },
        grid: { right: 160 },
        series: seriesList
      };

      issuesChart.setOption(option);
      window.addEventListener('resize', () => issuesChart.resize());
    }
  </script>



<script>
  const topicsDom = document.getElementById('opinion-chart'); // ou change l'id si tu veux un autre div
  const topicsChart = echarts.init(topicsDom);

  fetch('{{ "/data/topic_evolution_echarts.json" | relative_url }}')
    .then(r => r.json())
    .then(rawData => runTopicsChart(rawData))
    .catch(err => console.error("JSON load error:", err));

  function runTopicsChart(rawData) {
    // rawData: [{Year: 2006, Topic: "...", Prevalence: 0.13}, ...]

    // sécurité: trier par année
    rawData.sort((a, b) => Number(a.Year) - Number(b.Year));

    const topics = [...new Set(rawData.map(d => d.Topic))];
    const years = [...new Set(rawData.map(d => String(d.Year)))];

    // Format dataset (similaire à ton issues-chart)
    // Dimensions: ['Value','Year','Topic','Label']
    const adaptedData = rawData.map(d => [
      Number(d.Prevalence),   // Value (0-1)
      String(d.Year),         // Year (category)
      d.Topic,                // Topic
      d.Topic                 // Label
    ]);

    const datasetWithFilters = [];
    const seriesList = [];

    topics.forEach(topic => {
      const datasetId = 'ds_' + topic;

      datasetWithFilters.push({
        id: datasetId,
        fromDatasetId: 'dataset_raw',
        transform: {
          type: 'filter',
          config: {
            dimension: 'Topic',
            '=': topic
          }
        }
      });

      seriesList.push({
        type: 'line',
        datasetId: datasetId,
        showSymbol: false,
        name: topic,
        endLabel: {
          show: true,
          formatter: params => {
            // params.value = [Value, Year, Topic, Label]
            const v = params.value[0];
            return params.value[3] + ': ' + (v * 100).toFixed(1) + '%';
          }
        },
        labelLayout: { moveOverlap: 'shiftY' },
        emphasis: { focus: 'series' },
        encode: {
          x: 'Year',
          y: 'Value',
          tooltip: ['Value']
        }
      });
    });

    const option = {
      animationDuration: 8000,
      dataset: [
        {
          id: 'dataset_raw',
          dimensions: ['Value', 'Year', 'Topic', 'Label'],
          source: adaptedData
        },
        ...datasetWithFilters
      ],
      title: { text: 'Topic prevalence over time (YouTube)' },
      tooltip: {
        trigger: 'axis',
        valueFormatter: v => (Number(v) * 100).toFixed(1) + '%'
      },
      legend: {
        top: 30
      },
      grid: { right: 220, left: 60, top: 90, bottom: 60 },
      xAxis: {
        type: 'category',
        name: 'Year',
        data: years
      },
      yAxis: {
        type: 'value',
        name: 'Prevalence (%)',
        axisLabel: { formatter: v => (v * 100).toFixed(0) + '%' }
      },
      series: seriesList
    };

    topicsChart.setOption(option);
    window.addEventListener('resize', () => topicsChart.resize());
  }
</script>


  <!-- =========================================================
       Videos chart — unchanged (uses your axis break logic)
       ========================================================= -->
  <script>
    var GRID_TOP = 120;
    var GRID_BOTTOM = 80;
    var GRID_LEFT = 60;
    var GRID_RIGHT = 60;
    var Y_DATA_ROUND_PRECISION = 0;

    var _breakAreaStyle = {
      expandOnClick: false,
      zigzagZ: 200,
      zigzagAmplitude: 0,
      itemStyle: { borderColor: '#777', opacity: 0 }
    };

    var chartDom = document.getElementById("videos-chart");
    var myChart = echarts.init(chartDom);

    fetch('{{ site.baseurl }}/data/videos-per-month.json')
      .then(r => r.json())
      .then(raw => run(raw))
      .catch(err => console.error("JSON load error:", err));

    function run(raw) {
      var seriesData = raw
        .map(d => [d.date, d.count])
        .sort((a, b) => new Date(a[0]) - new Date(b[0]));

      var option = {
        title: {
          text: 'News & Politics videos posted on YouTube during the covered period',
          subtext: '',
          left: 'center',
          textStyle: { fontSize: 20 },
          subtextStyle: { color: '#175ce5', fontSize: 15, fontWeight: 'bold' }
        },
        tooltip: { trigger: 'axis' },
        legend: {},
        grid: { top: GRID_TOP, bottom: GRID_BOTTOM, left: GRID_LEFT, right: GRID_RIGHT },
        xAxis: [{ type: 'time', splitLine: { show: false }, breakArea: _breakAreaStyle }],
        yAxis: [{ type: 'value', axisTick: { show: true }, breakArea: _breakAreaStyle }],
        series: [{
          type: 'line',
          name: 'Videos per month',
          symbol: 'circle',
          showSymbol: false,
          symbolSize: 5,
          data: seriesData
        }]
      };

      myChart.setOption(option);
      setTimeout(initAxisBreakInteraction, 0);
      window.addEventListener("resize", () => myChart.resize());
    }

    function initAxisBreakInteraction() {
      var _brushingEl = null;

      myChart.on('click', function (params) {
        if (params.name === 'clearAxisBreakBtn') {
          var option = { xAxis: [{ breaks: [] }], yAxis: [{ breaks: [] }] };
          addClearButtonUpdateOption(option, false);
          myChart.setOption(option);
        }
      });

      function addClearButtonUpdateOption(option, show) {
        option.graphic = [{
          elements: [{
            type: 'rect',
            ignore: !show,
            name: 'clearAxisBreakBtn',
            top: 5,
            left: 5,
            shape: { r: 3, width: 70, height: 30 },
            style: { fill: '#eee', stroke: '#999', lineWidth: 1 },
            textContent: { type: 'text', style: { text: 'Reset', fontSize: 15, fontWeight: 'bold' } },
            textConfig: { position: 'inside' }
          }]
        }];
      }

      myChart.getZr().on('mousedown', function (params) {
        _brushingEl = new echarts.graphic.Rect({
          shape: { x: params.offsetX, y: params.offsetY },
          style: { stroke: 'none', fill: '#ccc' },
          ignore: true
        });
        myChart.getZr().add(_brushingEl);
      });

      myChart.getZr().on('mousemove', function (params) {
        if (!_brushingEl) return;
        var initX = _brushingEl.shape.x;
        var initY = _brushingEl.shape.y;
        var currPoint = [params.offsetX, params.offsetY];
        _brushingEl.setShape('width', currPoint[0] - initX);
        _brushingEl.setShape('height', currPoint[1] - initY);
        _brushingEl.ignore = false;
      });

      document.addEventListener('mouseup', function (params) {
        if (!_brushingEl) return;

        var initX = _brushingEl.shape.x;
        var initY = _brushingEl.shape.y;
        var currPoint = [params.offsetX, params.offsetY];

        var xPixelSpan = Math.abs(currPoint[0] - initX);
        var yPixelSpan = Math.abs(currPoint[1] - initY);

        if (xPixelSpan > 2 && yPixelSpan > 2) {
          updateAxisBreak(myChart, [initX, initY], currPoint, xPixelSpan, yPixelSpan);
        }

        myChart.getZr().remove(_brushingEl);
        _brushingEl = null;
      });

      function updateAxisBreak(myChart, initXY, currPoint, xPixelSpan, yPixelSpan) {
        var dataXY0 = myChart.convertFromPixel({ gridIndex: 0 }, initXY);
        var dataXY1 = myChart.convertFromPixel({ gridIndex: 0 }, currPoint);

        function roundXYValue(val) { return +(+val).toFixed(Y_DATA_ROUND_PRECISION); }

        function makeDataRange(v0, v1) {
          var dataRange = [roundXYValue(v0), roundXYValue(v1)];
          if (dataRange[0] > dataRange[1]) dataRange.reverse();
          return dataRange;
        }

        var xDataRange = makeDataRange(dataXY0[0], dataXY1[0]);
        var yDataRange = makeDataRange(dataXY0[1], dataXY1[1]);

        var xySpan = [
          myChart.getWidth() - GRID_LEFT - GRID_RIGHT,
          myChart.getHeight() - GRID_BOTTOM - GRID_TOP
        ];
        var xGapPercentStr = (xPixelSpan / xySpan[0]) * 100 + '%';
        var yGapPercentStr = (yPixelSpan / xySpan[1]) * 100 + '%';

        function makeOption(xGapPercentStr, yGapPercentStr) {
          return {
            xAxis: [{ breaks: [{ start: xDataRange[0], end: xDataRange[1], gap: xGapPercentStr }] }],
            yAxis: [{ breaks: [{ start: yDataRange[0], end: yDataRange[1], gap: yGapPercentStr }] }]
          };
        }

        myChart.setOption(makeOption(xGapPercentStr, yGapPercentStr));
        setTimeout(() => {
          var option = makeOption('80%', '80%');
          addClearButtonUpdateOption(option, true);
          myChart.setOption(option);
        }, 0);
      }
    }
  </script>

  <!-- =========================================================
       Bar chart (static)
       ========================================================= -->
  <script>
    (function () {
      const categories = [
        "News & Politics", "Nonprofits & Activism", "Travel & Events", "Education",
        "People & Blogs", "Science & Technology", "Gaming", "Autos & Vehicles",
        "Howto & Style", "Entertainment", "Film & Animation", "Sports",
        "Pets & Animals", "Comedy", "Music"
      ];

      const values = [
        42.3, 32.3, 28.2, 27.8, 20.9, 20.2, 19.2,
        18.1, 18.1, 18.0, 17.7, 16.7, 16.4, 15.4, 12.0
      ];

      const el = document.getElementById("political-bar-chart");
      if (!el) return;

      const chart = echarts.init(el);

      const option = {
        title: { text: "Proportion of Political Content by Video Category", left: "center" },
        tooltip: {
          trigger: "axis",
          axisPointer: { type: "shadow" },
          formatter: p => `${p[0].name}<br/>${p[0].value}%`
        },
        grid: { left: 60, right: 40, bottom: 120, top: 80 },
        xAxis: { type: "category", data: categories, axisLabel: { rotate: 45, interval: 0 } },
        yAxis: { type: "value", name: "Videos containing political vocabulary (%)", min: 0, max: 100 },
        series: [{
          type: "bar",
          data: values,
          barWidth: "60%",
          label: { show: true, position: "top", formatter: v => `${v.value}%` }
        }]
      };

      chart.setOption(option);
      window.addEventListener("resize", () => chart.resize());
    })();
  </script>

  <!-- =========================================================
       ✅ Word presence interactive chart (FIXED)
       - correct JSON path: /data/word_presence_monthly.json
       - resolves last names via /data/politicians.json
       - auto-fills dates + auto-plot
       ========================================================= -->
  <script>
(async function () {
  const elWords = document.getElementById("words");
  const elStart = document.getElementById("start");
  const elEnd   = document.getElementById("end");
  const elBtn   = document.getElementById("plotBtn");
  const elErr   = document.getElementById("err");
  const elResolved = document.getElementById("resolved");

  const chartDom = document.getElementById("word-chart");
  const chart = echarts.init(chartDom);

  const DATA_URL = '{{ "/data/word_presence_monthly.json" | relative_url }}';

  let rows;

  // ---- helpers ----
  function norm(s) {
    return String(s || "")
      .toLowerCase()
      .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
      .replace(/[^\w\s-]/g, " ")
      .replace(/\s+/g, " ")
      .trim();
  }
  function ymToInt(ym) { const [Y,M] = ym.split("-").map(Number); return Y*100 + M; }
  function inRange(ym, startYm, endYm) {
    const v = ymToInt(ym);
    return v >= ymToInt(startYm) && v <= ymToInt(endYm);
  }
  function parseWords() {
    return elWords.value.split(",").map(s => s.trim()).filter(Boolean).slice(0, 4);
  }

  // ---- build indices from dataset itself (no politicians.json needed) ----
  // Map: lastName -> [fullName1, fullName2, ...] (from dataset words)
  const lastToFull = new Map();
  // popularity: fullName(norm) -> totalCount
  const pop = new Map();
  // original: norm -> original cased full name
  const orig = new Map();

  function buildIndex() {
    for (const r of rows) {
      const full = String(r.word);
      const fullN = norm(full);
      orig.set(fullN, full);

      const c = Number(r.count) || 0;
      pop.set(fullN, (pop.get(fullN) || 0) + c);

      const parts = fullN.split(" ");
      const last = parts[parts.length - 1];
      if (!last) continue;
      if (!lastToFull.has(last)) lastToFull.set(last, []);
      // store norm version, we’ll convert back with orig
      lastToFull.get(last).push(fullN);
    }

    // unique + sort each bucket by popularity desc
    for (const [last, arr] of lastToFull.entries()) {
      const uniq = [...new Set(arr)];
      uniq.sort((a,b) => (pop.get(b)||0) - (pop.get(a)||0));
      lastToFull.set(last, uniq);
    }
  }

  // resolve input tokens to best dataset "word"
  function resolveInputs(inputs, maxPerLast = 1) {
    const resolved = [];
    const mapping = []; // for UI display

    for (const raw of inputs) {
      const q = norm(raw);
      if (!q) continue;

      // 1) exact full-name exists in dataset
      if (orig.has(q)) {
        resolved.push(orig.get(q));
        mapping.push(`${raw} → ${orig.get(q)}`);
        continue;
      }

      // 2) single token: treat as last name, pick most popular full name(s)
      if (!q.includes(" ") && lastToFull.has(q)) {
        const bucket = lastToFull.get(q).slice(0, maxPerLast).map(n => orig.get(n) || n);
        resolved.push(...bucket);
        mapping.push(`${raw} → ${bucket.join(", ")}`);
        continue;
      }

      // 3) fallback: keep raw (will likely be empty)
      resolved.push(raw);
      mapping.push(`${raw} → (no match)`);
    }

    // unique preserve order (case-insensitive)
    const seen = new Set();
    const out = [];
    for (const x of resolved) {
      const k = norm(x);
      if (!seen.has(k)) { seen.add(k); out.push(x); }
    }
    return { words: out, mapping };
  }

  function render() {
    elErr.textContent = "";
    if (elResolved) elResolved.textContent = "";

    const inputs = parseWords();
    if (inputs.length < 3 || inputs.length > 4) {
      elErr.textContent = "Please enter 3–4 names, comma-separated.";
      return;
    }

    const startYM = elStart.value;
    const endYM   = elEnd.value;
    if (!startYM || !endYM) {
      elErr.textContent = "Start and End must be filled.";
      return;
    }

    const { words, mapping } = resolveInputs(inputs, 1);
    if (elResolved) elResolved.textContent = "Resolved: " + mapping.join(" | ");

    // x-axis months in window
    const x = [...new Set(rows
      .map(d => String(d.date))
      .filter(ym => inRange(ym, startYM, endYM))
    )].sort((a,b) => ymToInt(a) - ymToInt(b));

    const series = words.map(w => {
      const wKey = norm(w);
      const mapYMtoShare = new Map(
        rows
          .filter(d => norm(d.word) === wKey)
          .map(d => [String(d.date), Number(d.share)])
      );
      const y = x.map(ym => mapYMtoShare.has(ym) ? mapYMtoShare.get(ym) : null);

      return {
        name: w,
        type: "line",
        showSymbol: false,
        connectNulls: true,
        data: y
      };
    });

    chart.setOption({
      title: { text: "Presence of American personalities in video titles and tags over time", left: "center" },
      tooltip: {
        trigger: "axis",
        valueFormatter: v => (v == null ? "-" : v.toFixed(3) + "%")
      },
      legend: { top: 40 },
      grid: { top: 90, left: 55, right: 30, bottom: 50 },
      xAxis: { type: "category", data: x, name: "Month" },
      yAxis: {
        type: "value",
        name: "Mentions / videos (%)",
        axisLabel: { formatter: v => v.toFixed(2) + "%" }
      },
      series
    }, true);
  }

  // ---- load data + init ----
  try {
    const r = await fetch(DATA_URL);
    if (!r.ok) throw new Error("Cannot load JSON: " + DATA_URL + " (" + r.status + ")");
    rows = await r.json();
    buildIndex();

    // defaults for date inputs
    const allYM = rows.map(d => String(d.date));
    const minYM = allYM.reduce((a,b) => ymToInt(a) < ymToInt(b) ? a : b);
    const maxYM = allYM.reduce((a,b) => ymToInt(a) > ymToInt(b) ? a : b);

    elStart.value = minYM;
    elEnd.value   = maxYM;

    elBtn.addEventListener("click", render);
    window.addEventListener("resize", () => chart.resize());

    render(); // auto plot on load
  } catch (e) {
    elErr.textContent = e.message;
    console.error(e);
  }
})();
</script>

<script>
(async function () {
  const el = document.getElementById("tags-area-chart");
  if (!el) return;

  const chart = echarts.init(el);

  const DATA_URL = '{{ "/data/top10_tags_share_of_voice_yearly.json" | relative_url }}';

  let rows;
  try {
    const r = await fetch(DATA_URL);
    if (!r.ok) throw new Error(`Cannot load JSON: ${DATA_URL} (${r.status})`);
    rows = await r.json();
  } catch (e) {
    console.error(e);
    el.innerHTML = `<p style="color:#b00020;font-weight:600;">${e.message}</p>`;
    return;
  }

  const years = rows.map(d => String(d.year));
  const tags = Object.keys(rows[0]).filter(k => k !== "year");

  // ✅ Matplotlib / seaborn "tab10" palette (same as your screenshot)
  const TAB10 = [
    "#1f77b4", // blue
    "#ff7f0e", // orange
    "#2ca02c", // green
    "#d62728", // red
    "#8c564b", // brown
    "#9467bd", // purple
    "#e377c2", // pink
    "#7f7f7f", // gray
    "#bcbd22", // olive/yellow-green
    "#17becf"  // cyan
  ];

  const series = tags.map((tag, i) => ({
    name: tag,
    type: "line",
    stack: "Total",
    areaStyle: {},
    emphasis: { focus: "series" },
    showSymbol: false,
    data: rows.map(d => Number(d[tag] ?? 0))
  }));

  const option = {
    // ✅ force exact colors like the Python plot
    color: TAB10,

    title: {
      text: "Cumulative prevalence of the top 10 leading political tags over time",
      left: "center"
    },
    tooltip: {
      trigger: "axis",
      axisPointer: {
        type: "cross",
        label: { backgroundColor: "#6a7985" }
      },
      valueFormatter: v => `${Number(v).toFixed(2)}%`
    },
    legend: {
      top: 35,
      data: tags
    },
    grid: { top: 90, left: 60, right: 60, bottom: 60 },
    xAxis: [{
      type: "category",
      boundaryGap: false,
      data: years,
      name: "Year"
    }],
    yAxis: [{
      type: "value",
      name: "Cumulative share of voice (%)",
      axisLabel: { formatter: v => `${v}%` }
    }],
    series
  };

  chart.setOption(option);
  window.addEventListener("resize", () => chart.resize());
})();
</script>











</body>

</html>
