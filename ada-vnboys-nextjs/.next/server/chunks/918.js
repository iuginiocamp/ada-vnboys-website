"use strict";exports.id=918,exports.ids=[918],exports.modules={918:(a,b,c)=>{c.r(b),c.d(b,{Axis:()=>sM,ChartView:()=>oC,ComponentModel:()=>ku,ComponentView:()=>mG,List:()=>q9,Model:()=>jn,PRIORITY:()=>pY,SeriesModel:()=>mE,color:()=>ag,connect:()=>qp,dataTool:()=>qP,dependencies:()=>pX,disConnect:()=>qr,disconnect:()=>qq,dispose:()=>qs,env:()=>at,extendChartView:()=>sQ,extendComponentModel:()=>sN,extendComponentView:()=>sO,extendSeriesModel:()=>sP,format:()=>an,getCoordinateSystemDimensions:()=>qD,getInstanceByDom:()=>qt,getInstanceById:()=>qu,getMap:()=>qM,graphic:()=>am,helper:()=>aj,init:()=>qo,innerDrawElementOnCanvas:()=>pM,matrix:()=>af,number:()=>ak,parseGeoJSON:()=>su,parseGeoJson:()=>su,registerAction:()=>qB,registerCoordinateSystem:()=>qC,registerCustomSeries:()=>qE,registerLayout:()=>qF,registerLoading:()=>qJ,registerLocale:()=>ju,registerMap:()=>qL,registerPostInit:()=>qy,registerPostUpdate:()=>qz,registerPreprocessor:()=>qw,registerProcessor:()=>qx,registerTheme:()=>qv,registerTransform:()=>qN,registerUpdateLifecycle:()=>qA,registerVisual:()=>qG,setCanvasCreator:()=>qK,setPlatformAPI:()=>ay,throttle:()=>oG,time:()=>al,use:()=>qS,util:()=>ao,vector:()=>ae,version:()=>pW,zrUtil:()=>ad,zrender:()=>ah});var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad={};c.r(ad),c.d(ad,{EPSILON:()=>bA,HashMap:()=>bs,RADIAN_TO_DEGREE:()=>bz,assert:()=>bl,bind:()=>a1,clone:()=>aN,concatArray:()=>bu,createCanvas:()=>aS,createHashMap:()=>bt,createObject:()=>bv,curry:()=>a2,defaults:()=>aR,disableUserSelect:()=>bw,each:()=>aX,eqNaN:()=>bf,extend:()=>aQ,filter:()=>a$,find:()=>a_,guid:()=>aL,hasOwn:()=>bx,indexOf:()=>aT,inherits:()=>aU,isArray:()=>a3,isArrayLike:()=>aW,isBuiltInObject:()=>a9,isDom:()=>bb,isFunction:()=>a4,isGradientObject:()=>bc,isImagePatternObject:()=>bd,isNumber:()=>a7,isObject:()=>a8,isPrimitive:()=>bp,isRegExp:()=>be,isString:()=>a5,isStringSafe:()=>a6,isTypedArray:()=>ba,keys:()=>a0,logError:()=>aM,map:()=>aY,merge:()=>aO,mergeAll:()=>aP,mixin:()=>aV,noop:()=>by,normalizeCssArray:()=>bk,reduce:()=>aZ,retrieve:()=>bg,retrieve2:()=>bh,retrieve3:()=>bi,setAsPrimitive:()=>bo,slice:()=>bj,trim:()=>bm});var ae={};c.r(ae),c.d(ae,{add:()=>bH,applyTransform:()=>bZ,clone:()=>bF,copy:()=>bE,create:()=>bD,dist:()=>bU,distSquare:()=>bW,distance:()=>bT,distanceSquare:()=>bV,div:()=>bP,dot:()=>bQ,len:()=>bK,lenSquare:()=>bM,length:()=>bL,lengthSquare:()=>bN,lerp:()=>bY,max:()=>b_,min:()=>b$,mul:()=>bO,negate:()=>bX,normalize:()=>bS,scale:()=>bR,scaleAndAdd:()=>bI,set:()=>bG,sub:()=>bJ});var af={};c.r(af),c.d(af,{clone:()=>cy,copy:()=>cs,create:()=>cq,identity:()=>cr,invert:()=>cx,mul:()=>ct,rotate:()=>cv,scale:()=>cw,translate:()=>cu});var ag={};c.r(ag),c.d(ag,{fastLerp:()=>dQ,fastMapToColor:()=>dR,lerp:()=>dS,lift:()=>dO,liftColor:()=>d$,lum:()=>dX,mapToColor:()=>dT,modifyAlpha:()=>dV,modifyHSL:()=>dU,parse:()=>dM,parseCssFloat:()=>dF,parseCssInt:()=>dE,random:()=>dY,stringify:()=>dW,toHex:()=>dP});var ah={};c.r(ah),c.d(ah,{dispose:()=>fh,disposeAll:()=>fi,getElementSSRData:()=>fl,getInstance:()=>fj,init:()=>fg,registerPainter:()=>fk,registerSSRDataGetter:()=>fm,version:()=>fn});var ai={};c.r(ai),c.d(ai,{Arc:()=>nE,BezierCurve:()=>nB,BoundingRect:()=>cS,Circle:()=>m1,CompoundPath:()=>nF,Ellipse:()=>m4,Group:()=>fc,Image:()=>hE,IncrementalDisplayable:()=>nT,Line:()=>nw,LinearGradient:()=>nH,OrientedBoundingRect:()=>nR,Path:()=>hy,Point:()=>cz,Polygon:()=>np,Polyline:()=>ns,RadialGradient:()=>nI,Rect:()=>hM,Ring:()=>nl,Sector:()=>ni,Text:()=>h1,WH:()=>nW,XY:()=>nV,applyTransform:()=>n9,calcZ2Range:()=>os,clipPointsByRect:()=>oc,clipRectByRect:()=>od,createIcon:()=>oe,ensureCopyRect:()=>op,ensureCopyTransform:()=>oq,expandOrShrinkRect:()=>oh,extendPath:()=>nZ,extendShape:()=>nX,getShapeClass:()=>n_,getTransform:()=>n8,groupTransition:()=>ob,initProps:()=>iS,isBoundingRectAxisAligned:()=>on,isElementRemoved:()=>iT,lineLineIntersect:()=>og,linePolygonIntersect:()=>of,makeImage:()=>n1,makePath:()=>n0,mergePath:()=>n3,registerShape:()=>n$,removeElement:()=>iU,removeElementWithFadeOut:()=>iW,resizePath:()=>n4,retrieveZInfo:()=>or,setTooltipConfig:()=>ok,subPixelOptimize:()=>n7,subPixelOptimizeLine:()=>n5,subPixelOptimizeRect:()=>n6,transformDirection:()=>oa,traverseElements:()=>om,traverseUpdateZ:()=>ot,updateProps:()=>iR});var aj={};c.r(aj),c.d(aj,{createDimensions:()=>ra,createList:()=>sd,createScale:()=>sf,createSymbol:()=>pq,createTextStyle:()=>sh,dataStack:()=>se,enableHoverEmphasis:()=>iE,getECData:()=>h2,getLayoutRect:()=>kh,mixinAxisModelCommonMethods:()=>sg});var ak={};c.r(ak),c.d(ak,{MAX_SAFE_INTEGER:()=>fB,asc:()=>fv,getPercentWithPrecision:()=>fz,getPixelPrecision:()=>fy,getPrecision:()=>fw,getPrecisionSafe:()=>fx,isNumeric:()=>fM,isRadianAroundZero:()=>fD,linearMap:()=>fr,nice:()=>fI,numericToNumber:()=>fL,parseDate:()=>fF,parsePercent:()=>fs,quantile:()=>fJ,quantity:()=>fG,quantityExponent:()=>fH,reformIntervals:()=>fK,remRadian:()=>fC,round:()=>fu});var al={};c.r(al),c.d(al,{format:()=>jE,parse:()=>fF,roundTime:()=>jG});var am={};c.r(am),c.d(am,{Arc:()=>nE,BezierCurve:()=>nB,BoundingRect:()=>cS,Circle:()=>m1,CompoundPath:()=>nF,Ellipse:()=>m4,Group:()=>fc,Image:()=>hE,IncrementalDisplayable:()=>nT,Line:()=>nw,LinearGradient:()=>nH,Polygon:()=>np,Polyline:()=>ns,RadialGradient:()=>nI,Rect:()=>hM,Ring:()=>nl,Sector:()=>ni,Text:()=>h1,clipPointsByRect:()=>oc,clipRectByRect:()=>od,createIcon:()=>oe,extendPath:()=>nZ,extendShape:()=>nX,getShapeClass:()=>n_,getTransform:()=>n8,initProps:()=>iS,makeImage:()=>n1,makePath:()=>n0,mergePath:()=>n3,registerShape:()=>n$,resizePath:()=>n4,updateProps:()=>iR});var an={};c.r(an),c.d(an,{addCommas:()=>jU,capitalFirst:()=>j1,encodeHTML:()=>cc,formatTime:()=>j0,formatTpl:()=>j$,getTextRect:()=>sv,getTooltipMarker:()=>j_,normalizeCssArray:()=>jW,toCamelCase:()=>jV,truncateText:()=>gt});var ao={};c.r(ao),c.d(ao,{bind:()=>a1,clone:()=>aN,curry:()=>a2,defaults:()=>aR,each:()=>aX,extend:()=>aQ,filter:()=>a$,indexOf:()=>aT,inherits:()=>aU,isArray:()=>a3,isFunction:()=>a4,isObject:()=>a8,isString:()=>a5,map:()=>aY,merge:()=>aO,reduce:()=>aZ});var ap=function(a,b){return(ap=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function aq(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}ap(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var ar=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},as=new function(){this.browser=new ar,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(as.wxa=!0,as.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?as.worker=!0:!as.hasGlobalWindow||"Deno"in window||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Node.js")>-1?(as.node=!0,as.svgSupported=!0):function(a,b){var c=b.browser,d=a.match(/Firefox\/([\d.]+)/),e=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),f=a.match(/Edge?\/([\d.]+)/),g=/micromessenger/i.test(a);if(d&&(c.firefox=!0,c.version=d[1]),e&&(c.ie=!0,c.version=e[1]),f&&(c.edge=!0,c.version=f[1],c.newEdge=+f[1].split(".")[0]>18),g&&(c.weChat=!0),b.svgSupported="undefined"!=typeof SVGRect,b.touchEventsSupported="ontouchstart"in window&&!c.ie&&!c.edge,b.pointerEventsSupported="onpointerdown"in window&&(c.edge||c.ie&&+c.version>=11),b.domSupported="undefined"!=typeof document){var h=document.documentElement.style;b.transform3dSupported=(c.ie&&"transition"in h||c.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in h)&&!("OTransition"in h),b.transformSupported=b.transform3dSupported||c.ie&&+c.version>=9}}(navigator.userAgent,as);let at=as;var au="sans-serif",av="12px "+au,aw=function(a){var b={};if("undefined"==typeof JSON)return b;for(var c=0;c<a.length;c++){var d=String.fromCharCode(c+32),e=(a.charCodeAt(c)-20)/100;b[d]=e}return b}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),ax={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(a,b){if(!d){var c=ax.createCanvas();d=c&&c.getContext("2d")}if(d)return e!==b&&(e=d.font=b||av),d.measureText(a);a=a||"",b=b||av;var f=/((?:\d+)?\.?\d*)px/.exec(b),g=f&&+f[1]||12,h=0;if(b.indexOf("mono")>=0)h=g*a.length;else for(var i=0;i<a.length;i++){var j=aw[a[i]];h+=null==j?g:j*g}return{width:h}},loadImage:function(a,b,c){var d=new Image;return d.onload=b,d.onerror=c,d.src=a,d}};function ay(a){for(var b in ax)a[b]&&(ax[b]=a[b])}var az=aZ(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(a,b){return a["[object "+b+"]"]=!0,a},{}),aA=aZ(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(a,b){return a["[object "+b+"Array]"]=!0,a},{}),aB=Object.prototype.toString,aC=Array.prototype,aD=aC.forEach,aE=aC.filter,aF=aC.slice,aG=aC.map,aH=(function(){}).constructor,aI=aH?aH.prototype:null,aJ="__proto__",aK=2311;function aL(){return aK++}function aM(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];"undefined"!=typeof console&&console.error.apply(console,a)}function aN(a){if(null==a||"object"!=typeof a)return a;var b=a,c=aB.call(a);if("[object Array]"===c){if(!a[bn]){b=[];for(var d=0,e=a.length;d<e;d++)b[d]=aN(a[d])}}else if(aA[c]){if(!a[bn]){var f=a.constructor;if(f.from)b=f.from(a);else{b=new f(a.length);for(var d=0,e=a.length;d<e;d++)b[d]=a[d]}}}else if(!az[c]&&!a[bn]&&!bb(a))for(var g in b={},a)a.hasOwnProperty(g)&&g!==aJ&&(b[g]=aN(a[g]));return b}function aO(a,b,c){if(!a8(b)||!a8(a))return c?aN(b):a;for(var d in b)if(b.hasOwnProperty(d)&&d!==aJ){var e=a[d],f=b[d];!(a8(f)&&a8(e))||a3(f)||a3(e)||bb(f)||bb(e)||a9(f)||a9(e)||f[bn]||e[bn]?!c&&d in a||(a[d]=aN(b[d])):aO(e,f,c)}return a}function aP(a,b){for(var c=a[0],d=1,e=a.length;d<e;d++)c=aO(c,a[d],b);return c}function aQ(a,b){if(Object.assign)Object.assign(a,b);else for(var c in b)b.hasOwnProperty(c)&&c!==aJ&&(a[c]=b[c]);return a}function aR(a,b,c){for(var d=a0(b),e=0,f=d.length;e<f;e++){var g=d[e];(c?null!=b[g]:null==a[g])&&(a[g]=b[g])}return a}var aS=ax.createCanvas;function aT(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c}return -1}function aU(a,b){var c=a.prototype;function d(){}for(var e in d.prototype=b.prototype,a.prototype=new d,c)c.hasOwnProperty(e)&&(a.prototype[e]=c[e]);a.prototype.constructor=a,a.superClass=b}function aV(a,b,c){if(a="prototype"in a?a.prototype:a,b="prototype"in b?b.prototype:b,Object.getOwnPropertyNames)for(var d=Object.getOwnPropertyNames(b),e=0;e<d.length;e++){var f=d[e];"constructor"!==f&&(c?null!=b[f]:null==a[f])&&(a[f]=b[f])}else aR(a,b,c)}function aW(a){return!!a&&"string"!=typeof a&&"number"==typeof a.length}function aX(a,b,c){if(a&&b)if(a.forEach&&a.forEach===aD)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);else for(var f in a)a.hasOwnProperty(f)&&b.call(c,a[f],f,a)}function aY(a,b,c){if(!a)return[];if(!b)return bj(a);if(a.map&&a.map===aG)return a.map(b,c);for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e,a));return d}function aZ(a,b,c,d){if(a&&b){for(var e=0,f=a.length;e<f;e++)c=b.call(d,c,a[e],e,a);return c}}function a$(a,b,c){if(!a)return[];if(!b)return bj(a);if(a.filter&&a.filter===aE)return a.filter(b,c);for(var d=[],e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}function a_(a,b,c){if(a&&b){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d]}}function a0(a){if(!a)return[];if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}var a1=aI&&a4(aI.bind)?aI.call.bind(aI.bind):function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];return function(){return a.apply(b,c.concat(aF.call(arguments)))}};function a2(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return function(){return a.apply(this,b.concat(aF.call(arguments)))}}function a3(a){return Array.isArray?Array.isArray(a):"[object Array]"===aB.call(a)}function a4(a){return"function"==typeof a}function a5(a){return"string"==typeof a}function a6(a){return"[object String]"===aB.call(a)}function a7(a){return"number"==typeof a}function a8(a){var b=typeof a;return"function"===b||!!a&&"object"===b}function a9(a){return!!az[aB.call(a)]}function ba(a){return!!aA[aB.call(a)]}function bb(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function bc(a){return null!=a.colorStops}function bd(a){return null!=a.image}function be(a){return"[object RegExp]"===aB.call(a)}function bf(a){return a!=a}function bg(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0,d=a.length;c<d;c++)if(null!=a[c])return a[c]}function bh(a,b){return null!=a?a:b}function bi(a,b,c){return null!=a?a:null!=b?b:c}function bj(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return aF.apply(a,b)}function bk(a){if("number"==typeof a)return[a,a,a,a];var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function bl(a,b){if(!a)throw Error(b)}function bm(a){return null==a?null:"function"==typeof a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var bn="__ec_primitive__";function bo(a){a[bn]=!0}function bp(a){return a[bn]}var bq=function(){function a(){this.data={}}return a.prototype.delete=function(a){var b=this.has(a);return b&&delete this.data[a],b},a.prototype.has=function(a){return this.data.hasOwnProperty(a)},a.prototype.get=function(a){return this.data[a]},a.prototype.set=function(a,b){return this.data[a]=b,this},a.prototype.keys=function(){return a0(this.data)},a.prototype.forEach=function(a){var b=this.data;for(var c in b)b.hasOwnProperty(c)&&a(b[c],c)},a}(),br="function"==typeof Map,bs=function(){function a(b){var c=a3(b);this.data=br?new Map:new bq;var d=this;function e(a,b){c?d.set(a,b):d.set(b,a)}b instanceof a?b.each(e):b&&aX(b,e)}return a.prototype.hasKey=function(a){return this.data.has(a)},a.prototype.get=function(a){return this.data.get(a)},a.prototype.set=function(a,b){return this.data.set(a,b),b},a.prototype.each=function(a,b){this.data.forEach(function(c,d){a.call(b,c,d)})},a.prototype.keys=function(){var a=this.data.keys();return br?Array.from(a):a},a.prototype.removeKey=function(a){this.data.delete(a)},a}();function bt(a){return new bs(a)}function bu(a,b){for(var c=new a.constructor(a.length+b.length),d=0;d<a.length;d++)c[d]=a[d];for(var e=a.length,d=0;d<b.length;d++)c[d+e]=b[d];return c}function bv(a,b){var c;if(Object.create)c=Object.create(a);else{var d=function(){};d.prototype=a,c=new d}return b&&aQ(c,b),c}function bw(a){var b=a.style;b.webkitUserSelect="none",b.userSelect="none",b.webkitTapHighlightColor="rgba(0,0,0,0)",b["-webkit-touch-callout"]="none"}function bx(a,b){return a.hasOwnProperty(b)}function by(){}var bz=180/Math.PI,bA=Number.EPSILON||2220446049250313e-31,bB=function(a,b){return(bB=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function bC(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}bB(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function bD(a,b){return null==a&&(a=0),null==b&&(b=0),[a,b]}function bE(a,b){return a[0]=b[0],a[1]=b[1],a}function bF(a){return[a[0],a[1]]}function bG(a,b,c){return a[0]=b,a[1]=c,a}function bH(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function bI(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function bJ(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function bK(a){return Math.sqrt(bM(a))}var bL=bK;function bM(a){return a[0]*a[0]+a[1]*a[1]}var bN=bM;function bO(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a}function bP(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a}function bQ(a,b){return a[0]*b[0]+a[1]*b[1]}function bR(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function bS(a,b){var c=bK(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}function bT(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}var bU=bT;function bV(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}var bW=bV;function bX(a,b){return a[0]=-b[0],a[1]=-b[1],a}function bY(a,b,c,d){return a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a}function bZ(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a}function b$(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function b_(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}var b0=function(a,b){this.target=a,this.topTarget=b&&b.topTarget},b1=function(){function a(a){this.handler=a,a.on("mousedown",this._dragStart,this),a.on("mousemove",this._drag,this),a.on("mouseup",this._dragEnd,this)}return a.prototype._dragStart=function(a){for(var b=a.target;b&&!b.draggable;)b=b.parent||b.__hostTarget;b&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.handler.dispatchToElement(new b0(b,a),"dragstart",a.event))},a.prototype._drag=function(a){var b=this._draggingTarget;if(b){var c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y;this._x=c,this._y=d,b.drift(e,f,a),this.handler.dispatchToElement(new b0(b,a),"drag",a.event);var g=this.handler.findHover(c,d,b).target,h=this._dropTarget;this._dropTarget=g,b!==g&&(h&&g!==h&&this.handler.dispatchToElement(new b0(h,a),"dragleave",a.event),g&&g!==h&&this.handler.dispatchToElement(new b0(g,a),"dragenter",a.event))}},a.prototype._dragEnd=function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.handler.dispatchToElement(new b0(b,a),"dragend",a.event),this._dropTarget&&this.handler.dispatchToElement(new b0(this._dropTarget,a),"drop",a.event),this._draggingTarget=null,this._dropTarget=null},a}(),b2=function(){function a(a){a&&(this._$eventProcessor=a)}return a.prototype.on=function(a,b,c,d){this._$handlers||(this._$handlers={});var e=this._$handlers;if("function"==typeof b&&(d=c,c=b,b=null),!c||!a)return this;var f=this._$eventProcessor;null!=b&&f&&f.normalizeQuery&&(b=f.normalizeQuery(b)),e[a]||(e[a]=[]);for(var g=0;g<e[a].length;g++)if(e[a][g].h===c)return this;var h={h:c,query:b,ctx:d||this,callAtLast:c.zrEventfulCallAtLast},i=e[a].length-1,j=e[a][i];return j&&j.callAtLast?e[a].splice(i,0,h):e[a].push(h),this},a.prototype.isSilent=function(a){var b=this._$handlers;return!b||!b[a]||!b[a].length},a.prototype.off=function(a,b){var c=this._$handlers;if(!c)return this;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;e<f;e++)c[a][e].h!==b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},a.prototype.trigger=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(!this._$handlers)return this;var d=this._$handlers[a],e=this._$eventProcessor;if(d)for(var f=b.length,g=d.length,h=0;h<g;h++){var i=d[h];if(!e||!e.filter||null==i.query||e.filter(a,i.query))switch(f){case 0:i.h.call(i.ctx);break;case 1:i.h.call(i.ctx,b[0]);break;case 2:i.h.call(i.ctx,b[0],b[1]);break;default:i.h.apply(i.ctx,b)}}return e&&e.afterTrigger&&e.afterTrigger(a),this},a.prototype.triggerWithContext=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(!this._$handlers)return this;var d=this._$handlers[a],e=this._$eventProcessor;if(d)for(var f=b.length,g=b[f-1],h=d.length,i=0;i<h;i++){var j=d[i];if(!e||!e.filter||null==j.query||e.filter(a,j.query))switch(f){case 0:j.h.call(g);break;case 1:j.h.call(g,b[0]);break;case 2:j.h.call(g,b[0],b[1]);break;default:j.h.apply(g,b.slice(1,f-1))}}return e&&e.afterTrigger&&e.afterTrigger(a),this},a}(),b3=Math.log(2);function b4(a,b,c,d,e,f){var g=d+"-"+e,h=a.length;if(f.hasOwnProperty(g))return f[g];if(1===b){var i=Math.round(Math.log((1<<h)-1&~e)/b3);return a[c][i]}for(var j=d|1<<c,k=c+1;d&1<<k;)k++;for(var l=0,m=0,n=0;m<h;m++){var o=1<<m;!(o&e)&&(l+=(n%2?-1:1)*a[c][m]*b4(a,b-1,k,j,e|o,f),n++)}return f[g]=l,l}function b5(a,b){var c=[[a[0],a[1],1,0,0,0,-b[0]*a[0],-b[0]*a[1]],[0,0,0,a[0],a[1],1,-b[1]*a[0],-b[1]*a[1]],[a[2],a[3],1,0,0,0,-b[2]*a[2],-b[2]*a[3]],[0,0,0,a[2],a[3],1,-b[3]*a[2],-b[3]*a[3]],[a[4],a[5],1,0,0,0,-b[4]*a[4],-b[4]*a[5]],[0,0,0,a[4],a[5],1,-b[5]*a[4],-b[5]*a[5]],[a[6],a[7],1,0,0,0,-b[6]*a[6],-b[6]*a[7]],[0,0,0,a[6],a[7],1,-b[7]*a[6],-b[7]*a[7]]],d={},e=b4(c,8,0,0,0,d);if(0!==e){for(var f=[],g=0;g<8;g++)for(var h=0;h<8;h++)null==f[h]&&(f[h]=0),f[h]+=((g+h)%2?-1:1)*b4(c,7,+(0===g),1<<g,1<<h,d)/e*b[g];return function(a,b,c){var d=b*f[6]+c*f[7]+1;a[0]=(b*f[0]+c*f[1]+f[2])/d,a[1]=(b*f[3]+c*f[4]+f[5])/d}}}var b6="___zrEVENTSAVED",b7=[];function b8(a,b,c,d,e){if(b.getBoundingClientRect&&at.domSupported&&!b9(b)){var f=b[b6]||(b[b6]={}),g=function(a,b,c){for(var d=c?"invTrans":"trans",e=b[d],f=b.srcCoords,g=[],h=[],i=!0,j=0;j<4;j++){var k=a[j].getBoundingClientRect(),l=2*j,m=k.left,n=k.top;g.push(m,n),i=i&&f&&m===f[l]&&n===f[l+1],h.push(a[j].offsetLeft,a[j].offsetTop)}return i&&e?e:(b.srcCoords=g,b[d]=c?b5(h,g):b5(g,h))}(function(a,b){var c=b.markers;if(c)return c;c=b.markers=[];for(var d=["left","right"],e=["top","bottom"],f=0;f<4;f++){var g=document.createElement("div"),h=g.style,i=f%2,j=(f>>1)%2;h.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",d[i]+":0",e[j]+":0",d[1-i]+":auto",e[1-j]+":auto",""].join("!important;"),a.appendChild(g),c.push(g)}return b.clearMarkers=function(){aX(c,function(a){a.parentNode&&a.parentNode.removeChild(a)})},c}(b,f),f,e);if(g)return g(a,c,d),!0}return!1}function b9(a){return"CANVAS"===a.nodeName.toUpperCase()}var ca=/([&<>"'])/g,cb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function cc(a){return null==a?"":(a+"").replace(ca,function(a,b){return cb[b]})}var cd=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ce=[],cf=at.browser.firefox&&39>+at.browser.version.split(".")[0];function cg(a,b,c,d){return c=c||{},d?ch(a,b,c):cf&&null!=b.layerX&&b.layerX!==b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):null!=b.offsetX?(c.zrX=b.offsetX,c.zrY=b.offsetY):ch(a,b,c),c}function ch(a,b,c){if(at.domSupported&&a.getBoundingClientRect){var d=b.clientX,e=b.clientY;if(b9(a)){var f=a.getBoundingClientRect();c.zrX=d-f.left,c.zrY=e-f.top;return}if(b8(ce,a,d,e)){c.zrX=ce[0],c.zrY=ce[1];return}}c.zrX=c.zrY=0}function ci(a){return a||window.event}function cj(a,b,c){if(null!=(b=ci(b)).zrX)return b;var d=b.type;if(d&&d.indexOf("touch")>=0){var e="touchend"!==d?b.targetTouches[0]:b.changedTouches[0];e&&cg(a,e,b,c)}else{cg(a,b,b,c);var f=function(a){var b=a.wheelDelta;if(b)return b;var c=a.deltaX,d=a.deltaY;return null==c||null==d?b:3*(0!==d?Math.abs(d):Math.abs(c))*(d>0?-1:d<0?1:c>0?-1:1)}(b);b.zrDelta=f?f/120:-(b.detail||0)/3}var g=b.button;return null==b.which&&void 0!==g&&cd.test(b.type)&&(b.which=1&g?1:2&g?3:4&g?2:0),b}function ck(a,b,c,d){a.addEventListener(b,c,d)}var cl=function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0};function cm(a){return 2===a.which||3===a.which}var cn=function(){function a(){this._track=[]}return a.prototype.recognize=function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},a.prototype.clear=function(){return this._track.length=0,this},a.prototype._doTrack=function(a,b,c){var d=a.touches;if(d){for(var e={points:[],touches:[],target:b,event:a},f=0,g=d.length;f<g;f++){var h=d[f],i=cg(c,h,{});e.points.push([i.zrX,i.zrY]),e.touches.push(h)}this._track.push(e)}},a.prototype._recognize=function(a){for(var b in cp)if(cp.hasOwnProperty(b)){var c=cp[b](this._track,a);if(c)return c}},a}();function co(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}var cp={pinch:function(a,b){var c=a.length;if(c){var d=(a[c-1]||{}).points,e=(a[c-2]||{}).points||d;if(e&&e.length>1&&d&&d.length>1){var f=co(d)/co(e);isFinite(f)||(f=1),b.pinchScale=f;var g=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2];return b.pinchX=g[0],b.pinchY=g[1],{type:"pinch",target:a[0].target,event:b}}}}};function cq(){return[1,0,0,1,0,0]}function cr(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function cs(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function ct(a,b,c){var d=b[0]*c[0]+b[2]*c[1],e=b[1]*c[0]+b[3]*c[1],f=b[0]*c[2]+b[2]*c[3],g=b[1]*c[2]+b[3]*c[3],h=b[0]*c[4]+b[2]*c[5]+b[4],i=b[1]*c[4]+b[3]*c[5]+b[5];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a}function cu(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function cv(a,b,c,d){void 0===d&&(d=[0,0]);var e=b[0],f=b[2],g=b[4],h=b[1],i=b[3],j=b[5],k=Math.sin(c),l=Math.cos(c);return a[0]=e*l+h*k,a[1]=-e*k+h*l,a[2]=f*l+i*k,a[3]=-f*k+l*i,a[4]=l*(g-d[0])+k*(j-d[1])+d[0],a[5]=l*(j-d[1])-k*(g-d[0])+d[1],a}function cw(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a}function cx(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],i=c*g-f*d;return i?(i=1/i,a[0]=g*i,a[1]=-f*i,a[2]=-d*i,a[3]=c*i,a[4]=(d*h-g*e)*i,a[5]=(f*e-c*h)*i,a):null}function cy(a){var b=cq();return cs(b,a),b}let cz=function(){function a(a,b){this.x=a||0,this.y=b||0}return a.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this},a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.set=function(a,b){return this.x=a,this.y=b,this},a.prototype.equal=function(a){return a.x===this.x&&a.y===this.y},a.prototype.add=function(a){return this.x+=a.x,this.y+=a.y,this},a.prototype.scale=function(a){this.x*=a,this.y*=a},a.prototype.scaleAndAdd=function(a,b){this.x+=a.x*b,this.y+=a.y*b},a.prototype.sub=function(a){return this.x-=a.x,this.y-=a.y,this},a.prototype.dot=function(a){return this.x*a.x+this.y*a.y},a.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},a.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},a.prototype.normalize=function(){var a=this.len();return this.x/=a,this.y/=a,this},a.prototype.distance=function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},a.prototype.distanceSquare=function(a){var b=this.x-a.x,c=this.y-a.y;return b*b+c*c},a.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},a.prototype.transform=function(a){if(a){var b=this.x,c=this.y;return this.x=a[0]*b+a[2]*c+a[4],this.y=a[1]*b+a[3]*c+a[5],this}},a.prototype.toArray=function(a){return a[0]=this.x,a[1]=this.y,a},a.prototype.fromArray=function(a){this.x=a[0],this.y=a[1]},a.set=function(a,b,c){a.x=b,a.y=c},a.copy=function(a,b){a.x=b.x,a.y=b.y},a.len=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},a.lenSquare=function(a){return a.x*a.x+a.y*a.y},a.dot=function(a,b){return a.x*b.x+a.y*b.y},a.add=function(a,b,c){a.x=b.x+c.x,a.y=b.y+c.y},a.sub=function(a,b,c){a.x=b.x-c.x,a.y=b.y-c.y},a.scale=function(a,b,c){a.x=b.x*c,a.y=b.y*c},a.scaleAndAdd=function(a,b,c,d){a.x=b.x+c.x*d,a.y=b.y+c.y*d},a.lerp=function(a,b,c,d){var e=1-d;a.x=e*b.x+d*c.x,a.y=e*b.y+d*c.y},a}();var cA=Math.min,cB=Math.max,cC=Math.abs,cD=["x","y"],cE=["width","height"],cF=new cz,cG=new cz,cH=new cz,cI=new cz,cJ=cR(),cK=cJ.minTv,cL=cJ.maxTv,cM=[0,0],cN=function(){function a(b,c,d,e){a.set(this,b,c,d,e)}return a.set=function(a,b,c,d,e){return d<0&&(b+=d,d=-d),e<0&&(c+=e,e=-e),a.x=b,a.y=c,a.width=d,a.height=e,a},a.prototype.union=function(a){var b=cA(a.x,this.x),c=cA(a.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=cB(a.x+a.width,this.x+this.width)-b:this.width=a.width,isFinite(this.y)&&isFinite(this.height)?this.height=cB(a.y+a.height,this.y+this.height)-c:this.height=a.height,this.x=b,this.y=c},a.prototype.applyTransform=function(b){a.applyTransform(this,this,b)},a.prototype.calculateTransform=function(a){var b=a.width/this.width,c=a.height/this.height,d=cq();return cu(d,d,[-this.x,-this.y]),cw(d,d,[b,c]),cu(d,d,[a.x,a.y]),d},a.prototype.intersect=function(b,c,d){return a.intersect(this,b,c,d)},a.intersect=function(b,c,d,e){d&&cz.set(d,0,0);var f=e&&e.outIntersectRect||null,g=e&&e.clamp;if(f&&(f.x=f.y=f.width=f.height=NaN),!b||!c)return!1;b instanceof a||(b=a.set(cO,b.x,b.y,b.width,b.height)),c instanceof a||(c=a.set(cP,c.x,c.y,c.width,c.height));var h=!!d;cJ.reset(e,h);var i=cJ.touchThreshold,j=b.x+i,k=b.x+b.width-i,l=b.y+i,m=b.y+b.height-i,n=c.x+i,o=c.x+c.width-i,p=c.y+i,q=c.y+c.height-i;if(j>k||l>m||n>o||p>q)return!1;var r=!(k<n||o<j||m<p||q<l);return(h||f)&&(cM[0]=1/0,cM[1]=0,cQ(j,k,n,o,0,h,f,g),cQ(l,m,p,q,1,h,f,g),h&&cz.copy(d,r?cJ.useDir?cJ.dirMinTv:cK:cL)),r},a.contain=function(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height},a.prototype.contain=function(b,c){return a.contain(this,b,c)},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copy=function(b){a.copy(this,b)},a.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},a.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},a.prototype.isZero=function(){return 0===this.width||0===this.height},a.create=function(b){return new a(b.x,b.y,b.width,b.height)},a.copy=function(a,b){return a.x=b.x,a.y=b.y,a.width=b.width,a.height=b.height,a},a.applyTransform=function(b,c,d){if(!d){b!==c&&a.copy(b,c);return}if(d[1]<1e-5&&d[1]>-1e-5&&d[2]<1e-5&&d[2]>-1e-5){var e=d[0],f=d[3],g=d[4],h=d[5];b.x=c.x*e+g,b.y=c.y*f+h,b.width=c.width*e,b.height=c.height*f,b.width<0&&(b.x+=b.width,b.width=-b.width),b.height<0&&(b.y+=b.height,b.height=-b.height);return}cF.x=cH.x=c.x,cF.y=cI.y=c.y,cG.x=cI.x=c.x+c.width,cG.y=cH.y=c.y+c.height,cF.transform(d),cI.transform(d),cG.transform(d),cH.transform(d),b.x=cA(cF.x,cG.x,cH.x,cI.x),b.y=cA(cF.y,cG.y,cH.y,cI.y);var i=cB(cF.x,cG.x,cH.x,cI.x),j=cB(cF.y,cG.y,cH.y,cI.y);b.width=i-b.x,b.height=j-b.y},a}(),cO=new cN(0,0,0,0),cP=new cN(0,0,0,0);function cQ(a,b,c,d,e,f,g,h){var i=cC(b-c),j=cC(d-a),k=cA(i,j),l=cD[e],m=cD[1-e],n=cE[e];b<c||d<a?i<j?(f&&(cL[l]=-i),h&&(g[l]=b,g[n]=0)):(f&&(cL[l]=j),h&&(g[l]=a,g[n]=0)):(g&&(g[l]=cB(a,c),g[n]=cA(b,d)-g[l]),f&&(k<cM[0]||cJ.useDir)&&(cM[0]=cA(k,cM[0]),(i<j||!cJ.bidirectional)&&(cK[l]=i,cK[m]=0,cJ.useDir&&cJ.calcDirMTV()),(i>=j||!cJ.bidirectional)&&(cK[l]=-j,cK[m]=0,cJ.useDir&&cJ.calcDirMTV())))}function cR(){var a=0,b=new cz,c=new cz,d={minTv:new cz,maxTv:new cz,useDir:!1,dirMinTv:new cz,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(e,f){d.touchThreshold=0,e&&null!=e.touchThreshold&&(d.touchThreshold=cB(0,e.touchThreshold)),d.negativeSize=!1,f&&(d.minTv.set(1/0,1/0),d.maxTv.set(0,0),d.useDir=!1,e&&null!=e.direction&&(d.useDir=!0,d.dirMinTv.copy(d.minTv),c.copy(d.minTv),a=e.direction,d.bidirectional=null==e.bidirectional||!!e.bidirectional,d.bidirectional||b.set(Math.cos(a),Math.sin(a))))},calcDirMTV:function(){var f=d.minTv,g=d.dirMinTv,h=f.y*f.y+f.x*f.x,i=Math.sin(a),j=Math.cos(a),k=i*f.y+j*f.x;if(e(k)){e(f.x)&&e(f.y)&&g.set(0,0);return}(c.x=h*j/k,c.y=h*i/k,e(c.x)&&e(c.y))?g.set(0,0):(d.bidirectional||b.dot(c)>0)&&c.len()<g.len()&&g.copy(c)}};function e(a){return 1e-10>cC(a)}return d}let cS=cN;var cT="silent";function cU(){cl(this.event)}var cV=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.handler=null,b}return bC(b,a),b.prototype.dispose=function(){},b.prototype.setCursor=function(){},b}(b2),cW=function(a,b){this.x=a,this.y=b},cX=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],cY=new cS(0,0,0,0),cZ=function(a){function b(b,c,d,e,f){var g=a.call(this)||this;return g._hovered=new cW(0,0),g.storage=b,g.painter=c,g.painterRoot=e,g._pointerSize=f,d=d||new cV,g.proxy=null,g.setHandlerProxy(d),g._draggingMgr=new b1(g),g}return bC(b,a),b.prototype.setHandlerProxy=function(a){this.proxy&&this.proxy.dispose(),a&&(aX(cX,function(b){a.on&&a.on(b,this[b],this)},this),a.handler=this),this.proxy=a},b.prototype.mousemove=function(a){var b=a.zrX,c=a.zrY,d=c_(this,b,c),e=this._hovered,f=e.target;f&&!f.__zr&&(f=(e=this.findHover(e.x,e.y)).target);var g=this._hovered=d?new cW(b,c):this.findHover(b,c),h=g.target,i=this.proxy;i.setCursor&&i.setCursor(h?h.cursor:"default"),f&&h!==f&&this.dispatchToElement(e,"mouseout",a),this.dispatchToElement(g,"mousemove",a),h&&h!==f&&this.dispatchToElement(g,"mouseover",a)},b.prototype.mouseout=function(a){var b=a.zrEventControl;"only_globalout"!==b&&this.dispatchToElement(this._hovered,"mouseout",a),"no_globalout"!==b&&this.trigger("globalout",{type:"globalout",event:a})},b.prototype.resize=function(){this._hovered=new cW(0,0)},b.prototype.dispatch=function(a,b){var c=this[a];c&&c.call(this,b)},b.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},b.prototype.setCursorStyle=function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},b.prototype.dispatchToElement=function(a,b,c){var d=(a=a||{}).target;if(!d||!d.silent){for(var e,f="on"+b,g={type:b,event:c,target:(e=a).target,topTarget:e.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which,stop:cU};d&&(d[f]&&(g.cancelBubble=!!d[f].call(d,g)),d.trigger(b,g),d=d.__hostTarget?d.__hostTarget:d.parent,!g.cancelBubble););!g.cancelBubble&&(this.trigger(b,g),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(a){"function"==typeof a[f]&&a[f].call(a,g),a.trigger&&a.trigger(b,g)}))}},b.prototype.findHover=function(a,b,c){var d=this.storage.getDisplayList(),e=new cW(a,b);if(c$(d,e,a,b,c),this._pointerSize&&!e.target){for(var f=[],g=this._pointerSize,h=g/2,i=new cS(a-h,b-h,g,g),j=d.length-1;j>=0;j--){var k=d[j];k===c||k.ignore||k.ignoreCoarsePointer||k.parent&&k.parent.ignoreCoarsePointer||(cY.copy(k.getBoundingRect()),k.transform&&cY.applyTransform(k.transform),cY.intersect(i)&&f.push(k))}if(f.length){for(var l=Math.PI/12,m=2*Math.PI,n=0;n<h;n+=4)for(var o=0;o<m;o+=l)if(c$(f,e,a+n*Math.cos(o),b+n*Math.sin(o),c),e.target)return e}}return e},b.prototype.processGesture=function(a,b){this._gestureMgr||(this._gestureMgr=new cn);var c=this._gestureMgr;"start"===b&&c.clear();var d=c.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);if("end"===b&&c.clear(),d){var e=d.type;a.gestureEvent=e;var f=new cW;f.target=d.target,this.dispatchToElement(f,e,d.event)}},b}(b2);function c$(a,b,c,d,e){for(var f=a.length-1;f>=0;f--){var g=a[f],h=void 0;if(g!==e&&!g.ignore&&(h=function(a,b,c){if(a[a.rectHover?"rectContain":"contain"](b,c)){for(var d=a,e=void 0,f=!1;d;){if(d.ignoreClip&&(f=!0),!f){var g=d.getClipPath();if(g&&!g.contain(b,c))return!1}d.silent&&(e=!0);var h=d.__hostTarget;d=h?d.ignoreHostSilent?null:h:d.parent}return!e||cT}return!1}(g,c,d))&&(b.topTarget||(b.topTarget=g),h!==cT)){b.target=g;break}}}function c_(a,b,c){var d=a.painter;return b<0||b>d.getWidth()||c<0||c>d.getHeight()}function c0(a,b,c,d){var e=b+1;if(e===c)return 1;if(0>d(a[e++],a[b])){for(;e<c&&0>d(a[e],a[e-1]);)e++;var f=a,g=b,h=e;for(h--;g<h;){var i=f[g];f[g++]=f[h],f[h--]=i}}else for(;e<c&&d(a[e],a[e-1])>=0;)e++;return e-b}function c1(a,b,c,d,e){for(d===b&&d++;d<c;d++){for(var f,g=a[d],h=b,i=d;h<i;)0>e(g,a[f=h+i>>>1])?i=f:h=f+1;var j=d-h;switch(j){case 3:a[h+3]=a[h+2];case 2:a[h+2]=a[h+1];case 1:a[h+1]=a[h];break;default:for(;j>0;)a[h+j]=a[h+j-1],j--}a[h]=g}}function c2(a,b,c,d,e,f){var g=0,h=0,i=1;if(f(a,b[c+e])>0){for(h=d-e;i<h&&f(a,b[c+e+i])>0;)g=i,(i=(i<<1)+1)<=0&&(i=h);i>h&&(i=h),g+=e,i+=e}else{for(h=e+1;i<h&&0>=f(a,b[c+e-i]);)g=i,(i=(i<<1)+1)<=0&&(i=h);i>h&&(i=h);var j=g;g=e-i,i=e-j}for(g++;g<i;){var k=g+(i-g>>>1);f(a,b[c+k])>0?g=k+1:i=k}return i}function c3(a,b,c,d,e,f){var g=0,h=0,i=1;if(0>f(a,b[c+e])){for(h=e+1;i<h&&0>f(a,b[c+e-i]);)g=i,(i=(i<<1)+1)<=0&&(i=h);i>h&&(i=h);var j=g;g=e-i,i=e-j}else{for(h=d-e;i<h&&f(a,b[c+e+i])>=0;)g=i,(i=(i<<1)+1)<=0&&(i=h);i>h&&(i=h),g+=e,i+=e}for(g++;g<i;){var k=g+(i-g>>>1);0>f(a,b[c+k])?i=k:g=k+1}return i}function c4(a,b,c,d){c||(c=0),d||(d=a.length);var e=d-c;if(!(e<2)){var f=0;if(e<32){f=c0(a,c,d,b),c1(a,c,d,c+f,b);return}var g=function(a,b){var c,d,e=7,f=0,g=[];function h(h){var i=c[h],j=d[h],k=c[h+1],l=d[h+1];d[h]=j+l,h===f-3&&(c[h+1]=c[h+2],d[h+1]=d[h+2]),f--;var m=c3(a[k],a,i,j,0,b);i+=m,0==(j-=m)||0!==(l=c2(a[i+j-1],a,k,l,l-1,b))&&(j<=l?function(c,d,f,h){var i,j,k,l=0;for(l=0;l<d;l++)g[l]=a[c+l];var m=0,n=f,o=c;if(a[o++]=a[n++],0==--h){for(l=0;l<d;l++)a[o+l]=g[m+l];return}if(1===d){for(l=0;l<h;l++)a[o+l]=a[n+l];a[o+h]=g[m];return}for(var p=e;;){i=0,j=0,k=!1;do if(0>b(a[n],g[m])){if(a[o++]=a[n++],j++,i=0,0==--h){k=!0;break}}else if(a[o++]=g[m++],i++,j=0,1==--d){k=!0;break}while((i|j)<p);if(k)break;do{if(0!==(i=c3(a[n],g,m,d,0,b))){for(l=0;l<i;l++)a[o+l]=g[m+l];if(o+=i,m+=i,(d-=i)<=1){k=!0;break}}if(a[o++]=a[n++],0==--h){k=!0;break}if(0!==(j=c2(g[m],a,n,h,0,b))){for(l=0;l<j;l++)a[o+l]=a[n+l];if(o+=j,n+=j,0==(h-=j)){k=!0;break}}if(a[o++]=g[m++],1==--d){k=!0;break}p--}while(i>=7||j>=7);if(k)break;p<0&&(p=0),p+=2}if((e=p)<1&&(e=1),1===d){for(l=0;l<h;l++)a[o+l]=a[n+l];a[o+h]=g[m]}else if(0===d)throw Error();else for(l=0;l<d;l++)a[o+l]=g[m+l]}(i,j,k,l):function(c,d,f,h){var i=0;for(i=0;i<h;i++)g[i]=a[f+i];var j=c+d-1,k=h-1,l=f+h-1,m=0,n=0;if(a[l--]=a[j--],0==--d){for(i=0,m=l-(h-1);i<h;i++)a[m+i]=g[i];return}if(1===h){for(l-=d,j-=d,n=l+1,m=j+1,i=d-1;i>=0;i--)a[n+i]=a[m+i];a[l]=g[k];return}for(var o=e;;){var p=0,q=0,r=!1;do if(0>b(g[k],a[j])){if(a[l--]=a[j--],p++,q=0,0==--d){r=!0;break}}else if(a[l--]=g[k--],q++,p=0,1==--h){r=!0;break}while((p|q)<o);if(r)break;do{if(0!=(p=d-c3(g[k],a,c,d,d-1,b))){for(l-=p,j-=p,d-=p,n=l+1,m=j+1,i=p-1;i>=0;i--)a[n+i]=a[m+i];if(0===d){r=!0;break}}if(a[l--]=g[k--],1==--h){r=!0;break}if(0!=(q=h-c2(a[j],g,0,h,h-1,b))){for(l-=q,k-=q,h-=q,n=l+1,m=k+1,i=0;i<q;i++)a[n+i]=g[m+i];if(h<=1){r=!0;break}}if(a[l--]=a[j--],0==--d){r=!0;break}o--}while(p>=7||q>=7);if(r)break;o<0&&(o=0),o+=2}if((e=o)<1&&(e=1),1===h){for(l-=d,j-=d,n=l+1,m=j+1,i=d-1;i>=0;i--)a[n+i]=a[m+i];a[l]=g[k]}else if(0===h)throw Error();else for(i=0,m=l-(h-1);i<h;i++)a[m+i]=g[i]}(i,j,k,l))}return c=[],d=[],{mergeRuns:function(){for(;f>1;){var a=f-2;if(a>=1&&d[a-1]<=d[a]+d[a+1]||a>=2&&d[a-2]<=d[a]+d[a-1])d[a-1]<d[a+1]&&a--;else if(d[a]>d[a+1])break;h(a)}},forceMergeRuns:function(){for(;f>1;){var a=f-2;a>0&&d[a-1]<d[a+1]&&a--,h(a)}},pushRun:function(a,b){c[f]=a,d[f]=b,f+=1}}}(a,b),h=function(a){for(var b=0;a>=32;)b|=1&a,a>>=1;return a+b}(e);do{if((f=c0(a,c,d,b))<h){var i=e;i>h&&(i=h),c1(a,c,c+i,c+f,b),f=i}g.pushRun(c,f),g.mergeRuns(),e-=f,c+=f}while(0!==e);g.forceMergeRuns()}}aX(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){cZ.prototype[a]=function(b){var c,d,e=b.zrX,f=b.zrY,g=c_(this,e,f);if("mouseup"===a&&g||(d=(c=this.findHover(e,f)).target),"mousedown"===a)this._downEl=d,this._downPoint=[b.zrX,b.zrY],this._upEl=d;else if("mouseup"===a)this._upEl=d;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||bU(this._downPoint,[b.zrX,b.zrY])>4)return;this._downPoint=null}this.dispatchToElement(c,a,b)}});var c5=!1;function c6(){c5||(c5=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function c7(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var c8=function(){function a(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=c7}return a.prototype.traverse=function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},a.prototype.getDisplayList=function(a,b){b=b||!1;var c=this._displayList;return(a||!c.length)&&this.updateDisplayList(b),c},a.prototype.updateDisplayList=function(a){this._displayListLen=0;for(var b=this._roots,c=this._displayList,d=0,e=b.length;d<e;d++)this._updateAndAddDisplayable(b[d],null,a);c.length=this._displayListLen,c4(c,c7)},a.prototype._updateAndAddDisplayable=function(a,b,c){if(!a.ignore||c){a.beforeUpdate(),a.update(),a.afterUpdate();var d=a.getClipPath(),e=b&&b.length,f=0,g=a.__clipPaths;if(!a.ignoreClip&&(e||d)){if(g||(g=a.__clipPaths=[]),e)for(var h=0;h<b.length;h++)g[f++]=b[h];for(var i=d,j=a;i;)i.parent=j,i.updateTransform(),g[f++]=i,j=i,i=i.getClipPath()}if(g&&(g.length=f),a.childrenRef){for(var k=a.childrenRef(),l=0;l<k.length;l++){var m=k[l];a.__dirty&&(m.__dirty|=1),this._updateAndAddDisplayable(m,g,c)}a.__dirty=0}else isNaN(a.z)&&(c6(),a.z=0),isNaN(a.z2)&&(c6(),a.z2=0),isNaN(a.zlevel)&&(c6(),a.zlevel=0),this._displayList[this._displayListLen++]=a;var n=a.getDecalElement&&a.getDecalElement();n&&this._updateAndAddDisplayable(n,g,c);var o=a.getTextGuideLine();o&&this._updateAndAddDisplayable(o,g,c);var p=a.getTextContent();p&&this._updateAndAddDisplayable(p,g,c)}},a.prototype.addRoot=function(a){a.__zr&&a.__zr.storage===this||this._roots.push(a)},a.prototype.delRoot=function(a){if(a instanceof Array){for(var b=0,c=a.length;b<c;b++)this.delRoot(a[b]);return}var d=aT(this._roots,a);d>=0&&this._roots.splice(d,1)},a.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},a.prototype.getRoots=function(){return this._roots},a.prototype.dispose=function(){this._displayList=null,this._roots=null},a}();p=at.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){return setTimeout(a,16)};var c9={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return .5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),-(c*Math.pow(2,10*(a-=1))*Math.sin(2*Math.PI*(a-b)/.4)))},elasticOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin(2*Math.PI*(a-b)/.4)+1)},elasticInOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),(a*=2)<1)?-.5*(c*Math.pow(2,10*(a-=1))*Math.sin(2*Math.PI*(a-b)/.4)):c*Math.pow(2,-10*(a-=1))*Math.sin(2*Math.PI*(a-b)/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return(a*=2)<1?a*a*(3.5949095*a-2.5949095)*.5:.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(a){return 1-c9.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?.5*c9.bounceIn(2*a):.5*c9.bounceOut(2*a-1)+.5}},da=Math.pow,db=Math.sqrt,dc=db(3),dd=1/3,de=bD(),df=bD(),dg=bD();function dh(a){return a>-1e-8&&a<1e-8}function di(a){return a>1e-8||a<-1e-8}function dj(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function dk(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function dl(a,b,c,d,e,f){var g=d+3*(b-c)-a,h=3*(c-2*b+a),i=3*(b-a),j=a-e,k=h*h-3*g*i,l=h*i-9*g*j,m=i*i-3*h*j,n=0;if(dh(k)&&dh(l))if(dh(h))f[0]=0;else{var o=-i/h;o>=0&&o<=1&&(f[n++]=o)}else{var p=l*l-4*k*m;if(dh(p)){var q=l/k,o=-h/g+q,r=-q/2;o>=0&&o<=1&&(f[n++]=o),r>=0&&r<=1&&(f[n++]=r)}else if(p>0){var s=db(p),t=k*h+1.5*g*(-l+s),u=k*h+1.5*g*(-l-s),o=(-h-((t=t<0?-da(-t,dd):da(t,dd))+(u=u<0?-da(-u,dd):da(u,dd))))/(3*g);o>=0&&o<=1&&(f[n++]=o)}else{var v=Math.acos((2*k*h-3*g*l)/(2*db(k*k*k)))/3,w=db(k),x=Math.cos(v),o=(-h-2*w*x)/(3*g),r=(-h+w*(x+dc*Math.sin(v)))/(3*g),y=(-h+w*(x-dc*Math.sin(v)))/(3*g);o>=0&&o<=1&&(f[n++]=o),r>=0&&r<=1&&(f[n++]=r),y>=0&&y<=1&&(f[n++]=y)}}return n}function dm(a,b,c,d,e){var f=6*c-12*b+6*a,g=9*b+3*d-3*a-9*c,h=3*b-3*a,i=0;if(dh(g)){if(di(f)){var j=-h/f;j>=0&&j<=1&&(e[i++]=j)}}else{var k=f*f-4*g*h;if(dh(k))e[0]=-f/(2*g);else if(k>0){var l=db(k),j=(-f+l)/(2*g),m=(-f-l)/(2*g);j>=0&&j<=1&&(e[i++]=j),m>=0&&m<=1&&(e[i++]=m)}}return i}function dn(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b,i=(d-c)*e+c,j=(h-g)*e+g,k=(i-h)*e+h,l=(k-j)*e+j;f[0]=a,f[1]=g,f[2]=j,f[3]=l,f[4]=l,f[5]=k,f[6]=i,f[7]=d}function dp(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q=.005,r=1/0;de[0]=i,de[1]=j;for(var s=0;s<1;s+=.05)df[0]=dj(a,c,e,g,s),df[1]=dj(b,d,f,h,s),(o=bW(de,df))<r&&(l=s,r=o);r=1/0;for(var t=0;t<32&&!(q<1e-4);t++)m=l-q,n=l+q,df[0]=dj(a,c,e,g,m),df[1]=dj(b,d,f,h,m),o=bW(df,de),m>=0&&o<r?(l=m,r=o):(dg[0]=dj(a,c,e,g,n),dg[1]=dj(b,d,f,h,n),p=bW(dg,de),n<=1&&p<r?(l=n,r=p):q*=.5);return k&&(k[0]=dj(a,c,e,g,l),k[1]=dj(b,d,f,h,l)),db(r)}function dq(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function dr(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function ds(a,b,c){var d=a+c-2*b;return 0===d?.5:(a-b)/d}function dt(a,b,c,d,e){var f=(b-a)*d+a,g=(c-b)*d+b,h=(g-f)*d+f;e[0]=a,e[1]=f,e[2]=h,e[3]=h,e[4]=g,e[5]=c}function du(a,b,c,d,e,f,g,h,i){var j,k=.005,l=1/0;de[0]=g,de[1]=h;for(var m=0;m<1;m+=.05){df[0]=dq(a,c,e,m),df[1]=dq(b,d,f,m);var n=bW(de,df);n<l&&(j=m,l=n)}l=1/0;for(var o=0;o<32&&!(k<1e-4);o++){var p=j-k,q=j+k;df[0]=dq(a,c,e,p),df[1]=dq(b,d,f,p);var n=bW(df,de);if(p>=0&&n<l)j=p,l=n;else{dg[0]=dq(a,c,e,q),dg[1]=dq(b,d,f,q);var r=bW(dg,de);q<=1&&r<l?(j=q,l=r):k*=.5}}return i&&(i[0]=dq(a,c,e,j),i[1]=dq(b,d,f,j)),db(l)}var dv=/cubic-bezier\(([0-9,\.e ]+)\)/;function dw(a){var b=a&&dv.exec(a);if(b){var c=b[1].split(","),d=+bm(c[0]),e=+bm(c[1]),f=+bm(c[2]),g=+bm(c[3]);if(isNaN(d+e+f+g))return;var h=[];return function(a){return a<=0?0:a>=1?1:dl(0,d,f,1,a,h)&&dj(0,e,g,1,h[0])}}}var dx=function(){function a(a){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=a.life||1e3,this._delay=a.delay||0,this.loop=a.loop||!1,this.onframe=a.onframe||by,this.ondestroy=a.ondestroy||by,this.onrestart=a.onrestart||by,a.easing&&this.setEasing(a.easing)}return a.prototype.step=function(a,b){if(this._inited||(this._startTime=a+this._delay,this._inited=!0),this._paused){this._pausedTime+=b;return}var c=this._life,d=a-this._startTime-this._pausedTime,e=d/c;e<0&&(e=0),e=Math.min(e,1);var f=this.easingFunc,g=f?f(e):e;if(this.onframe(g),1===e)if(!this.loop)return!0;else this._startTime=a-d%c,this._pausedTime=0,this.onrestart();return!1},a.prototype.pause=function(){this._paused=!0},a.prototype.resume=function(){this._paused=!1},a.prototype.setEasing=function(a){this.easing=a,this.easingFunc=a4(a)?a:c9[a]||dw(a)},a}(),dy=function(a){this.value=a},dz=function(){function a(){this._len=0}return a.prototype.insert=function(a){var b=new dy(a);return this.insertEntry(b),b},a.prototype.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},a.prototype.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},a.prototype.len=function(){return this._len},a.prototype.clear=function(){this.head=this.tail=null,this._len=0},a}(),dA=function(){function a(a){this._list=new dz,this._maxSize=10,this._map={},this._maxSize=a}return a.prototype.put=function(a,b){var c=this._list,d=this._map,e=null;if(null==d[a]){var f=c.len(),g=this._lastRemovedEntry;if(f>=this._maxSize&&f>0){var h=c.head;c.remove(h),delete d[h.key],e=h.value,this._lastRemovedEntry=h}g?g.value=b:g=new dy(b),g.key=a,c.insertEntry(g),d[a]=g}return e},a.prototype.get=function(a){var b=this._map[a],c=this._list;if(null!=b)return b!==c.tail&&(c.remove(b),c.insertEntry(b)),b.value},a.prototype.clear=function(){this._list.clear(),this._map={}},a.prototype.len=function(){return this._list.len()},a}(),dB={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function dC(a){return(a=Math.round(a))<0?0:a>255?255:a}function dD(a){return a<0?0:a>1?1:a}function dE(a){return a.length&&"%"===a.charAt(a.length-1)?dC(parseFloat(a)/100*255):dC(parseInt(a,10))}function dF(a){return a.length&&"%"===a.charAt(a.length-1)?dD(parseFloat(a)/100):dD(parseFloat(a))}function dG(a,b,c){return(c<0?c+=1:c>1&&(c-=1),6*c<1)?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}function dH(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function dI(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}var dJ=new dA(20),dK=null;function dL(a,b){dK&&dI(dK,b),dK=dJ.put(a,dK||b.slice())}function dM(a,b){if(a){b=b||[];var c=dJ.get(a);if(c)return dI(b,c);var d=(a+="").replace(/ /g,"").toLowerCase();if(d in dB)return dI(b,dB[d]),dL(a,b),b;var e=d.length;if("#"===d.charAt(0)){if(4===e||5===e){var f=parseInt(d.slice(1,4),16);return f>=0&&f<=4095?(dH(b,(3840&f)>>4|(3840&f)>>8,240&f|(240&f)>>4,15&f|(15&f)<<4,5===e?parseInt(d.slice(4),16)/15:1),dL(a,b),b):void dH(b,0,0,0,1)}if(7===e||9===e){var f=parseInt(d.slice(1,7),16);return f>=0&&f<=0xffffff?(dH(b,(0xff0000&f)>>16,(65280&f)>>8,255&f,9===e?parseInt(d.slice(7),16)/255:1),dL(a,b),b):void dH(b,0,0,0,1)}return}var g=d.indexOf("("),h=d.indexOf(")");if(-1!==g&&h+1===e){var i=d.substr(0,g),j=d.substr(g+1,h-(g+1)).split(","),k=1;switch(i){case"rgba":if(4!==j.length)return 3===j.length?dH(b,+j[0],+j[1],+j[2],1):dH(b,0,0,0,1);k=dF(j.pop());case"rgb":if(j.length>=3)return dH(b,dE(j[0]),dE(j[1]),dE(j[2]),3===j.length?k:dF(j[3])),dL(a,b),b;return void dH(b,0,0,0,1);case"hsla":if(4!==j.length)return void dH(b,0,0,0,1);return j[3]=dF(j[3]),dN(j,b),dL(a,b),b;case"hsl":if(3!==j.length)return void dH(b,0,0,0,1);return dN(j,b),dL(a,b),b;default:return}}dH(b,0,0,0,1)}}function dN(a,b){var c=(parseFloat(a[0])%360+360)%360/360,d=dF(a[1]),e=dF(a[2]),f=e<=.5?e*(d+1):e+d-e*d,g=2*e-f;return dH(b=b||[],dC(255*dG(g,f,c+1/3)),dC(255*dG(g,f,c)),dC(255*dG(g,f,c-1/3)),1),4===a.length&&(b[3]=a[3]),b}function dO(a,b){var c=dM(a);if(c){for(var d=0;d<3;d++)b<0?c[d]=c[d]*(1-b)|0:c[d]=(255-c[d])*b+c[d]|0,c[d]>255?c[d]=255:c[d]<0&&(c[d]=0);return dW(c,4===c.length?"rgba":"rgb")}}function dP(a){var b=dM(a);if(b)return(0x1000000+(b[0]<<16)+(b[1]<<8)+ +b[2]).toString(16).slice(1)}function dQ(a,b,c){if(b&&b.length&&a>=0&&a<=1){c=c||[];var d,e,f,g,h=a*(b.length-1),i=Math.floor(h),j=Math.ceil(h),k=b[i],l=b[j],m=h-i;return c[0]=dC((d=k[0],d+(l[0]-d)*m)),c[1]=dC((e=k[1],e+(l[1]-e)*m)),c[2]=dC((f=k[2],f+(l[2]-f)*m)),c[3]=dD((g=k[3],g+(l[3]-g)*m)),c}}var dR=dQ;function dS(a,b,c){if(b&&b.length&&a>=0&&a<=1){var d,e,f,g,h=a*(b.length-1),i=Math.floor(h),j=Math.ceil(h),k=dM(b[i]),l=dM(b[j]),m=h-i,n=dW([dC((d=k[0],d+(l[0]-d)*m)),dC((e=k[1],e+(l[1]-e)*m)),dC((f=k[2],f+(l[2]-f)*m)),dD((g=k[3],g+(l[3]-g)*m))],"rgba");return c?{color:n,leftIndex:i,rightIndex:j,value:h}:n}}var dT=dS;function dU(a,b,c,d){var e,f=dM(a);if(a)return f=function(a){if(a){var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=Math.min(d,e,f),h=Math.max(d,e,f),i=h-g,j=(h+g)/2;if(0===i)b=0,c=0;else{c=j<.5?i/(h+g):i/(2-h-g);var k=((h-d)/6+i/2)/i,l=((h-e)/6+i/2)/i,m=((h-f)/6+i/2)/i;d===h?b=m-l:e===h?b=1/3+k-m:f===h&&(b=2/3+l-k),b<0&&(b+=1),b>1&&(b-=1)}var n=[360*b,c,j];return null!=a[3]&&n.push(a[3]),n}}(f),null!=b&&(f[0]=(e=Math.round(e=a4(b)?b(f[0]):b))<0?0:e>360?360:e),null!=c&&(f[1]=dF(a4(c)?c(f[1]):c)),null!=d&&(f[2]=dF(a4(d)?d(f[2]):d)),dW(dN(f),"rgba")}function dV(a,b){var c=dM(a);if(c&&null!=b)return c[3]=dD(b),dW(c,"rgba")}function dW(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];return("rgba"===b||"hsva"===b||"hsla"===b)&&(c+=","+a[3]),b+"("+c+")"}}function dX(a,b){var c=dM(a);return c?(.299*c[0]+.587*c[1]+.114*c[2])*c[3]/255+(1-c[3])*b:0}function dY(){return dW([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}var dZ=new dA(100);function d$(a){if(a5(a)){var b=dZ.get(a);return b||(b=dO(a,-.1),dZ.put(a,b)),b}if(bc(a)){var c=aQ({},a);return c.colorStops=aY(a.colorStops,function(a){return{offset:a.offset,color:dO(a.color,-.1)}}),c}return a}var d_=Math.round;function d0(a){var b;if(a&&"transparent"!==a){if("string"==typeof a&&a.indexOf("rgba")>-1){var c=dM(a);c&&(a="rgb("+c[0]+","+c[1]+","+c[2]+")",b=c[3])}}else a="none";return{color:a,opacity:null==b?1:b}}function d1(a){return a<1e-4&&a>-1e-4}function d2(a){return d_(1e3*a)/1e3}function d3(a){return d_(1e4*a)/1e4}var d4={left:"start",right:"end",center:"middle",middle:"middle"};function d5(a){return a&&!!a.image}function d6(a){return d5(a)||a&&!!a.svgElement}function d7(a){return"linear"===a.type}function d8(a){return"radial"===a.type}function d9(a){return a&&("linear"===a.type||"radial"===a.type)}function ea(a){return"url(#"+a+")"}function eb(a){var b=a.getGlobalScale();return Math.max(Math.ceil(Math.log(Math.max(b[0],b[1]))/Math.log(10)),1)}function ec(a){var b=a.x||0,c=a.y||0,d=(a.rotation||0)*bz,e=bh(a.scaleX,1),f=bh(a.scaleY,1),g=a.skewX||0,h=a.skewY||0,i=[];return(b||c)&&i.push("translate("+b+"px,"+c+"px)"),d&&i.push("rotate("+d+")"),(1!==e||1!==f)&&i.push("scale("+e+","+f+")"),(g||h)&&i.push("skew("+d_(g*bz)+"deg, "+d_(h*bz)+"deg)"),i.join(" ")}var ed=at.hasGlobalWindow&&a4(window.btoa)?function(a){return window.btoa(unescape(encodeURIComponent(a)))}:"undefined"!=typeof Buffer?function(a){return Buffer.from(a).toString("base64")}:function(a){return null},ee=Array.prototype.slice;function ef(a,b,c,d){for(var e,f=b.length,g=0;g<f;g++)a[g]=(e=b[g],(c[g]-e)*d+e);return a}function eg(a,b,c,d){for(var e=b.length,f=0;f<e;f++)a[f]=b[f]+c[f]*d;return a}function eh(a,b,c,d){for(var e=b.length,f=e&&b[0].length,g=0;g<e;g++){a[g]||(a[g]=[]);for(var h=0;h<f;h++)a[g][h]=b[g][h]+c[g][h]*d}return a}function ei(a){if(aW(a)){var b=a.length;if(aW(a[0])){for(var c=[],d=0;d<b;d++)c.push(ee.call(a[d]));return c}return ee.call(a)}return a}function ej(a){return a[0]=Math.floor(a[0])||0,a[1]=Math.floor(a[1])||0,a[2]=Math.floor(a[2])||0,a[3]=null==a[3]?1:a[3],"rgba("+a.join(",")+")"}function ek(a){return 4===a||5===a}function el(a){return 1===a||2===a}var em=[0,0,0,0],en=function(){function a(a){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=a}return a.prototype.isFinished=function(){return this._finished},a.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},a.prototype.needsAnimate=function(){return this.keyframes.length>=1},a.prototype.getAdditiveTrack=function(){return this._additiveTrack},a.prototype.addKeyframe=function(a,b,c){this._needsSort=!0;var d=this.keyframes,e=d.length,f=!1,g=6,h=b;if(aW(b)){var i=aW(b&&b[0])?2:1;g=i,(1!==i||a7(b[0]))&&(2!==i||a7(b[0][0]))||(f=!0)}else if(a7(b)&&b==b)g=0;else if(a5(b))if(isNaN(+b)){var j=dM(b);j&&(h=j,g=3)}else g=0;else if(bc(b)){var k=aQ({},h);k.colorStops=aY(b.colorStops,function(a){return{offset:a.offset,color:dM(a.color)}}),d7(b)?g=4:d8(b)&&(g=5),h=k}0===e?this.valType=g:(g!==this.valType||6===g)&&(f=!0),this.discrete=this.discrete||f;var l={time:a,value:h,rawValue:b,percent:0};return c&&(l.easing=c,l.easingFunc=a4(c)?c:c9[c]||dw(c)),d.push(l),l},a.prototype.prepare=function(a,b){var c=this.keyframes;this._needsSort&&c.sort(function(a,b){return a.time-b.time});for(var d=this.valType,e=c.length,f=c[e-1],g=this.discrete,h=el(d),i=ek(d),j=0;j<e;j++){var k=c[j],l=k.value,m=f.value;k.percent=k.time/a,!g&&(h&&j!==e-1?function(a,b,c){if(a.push&&b.push){var d=a.length,e=b.length;if(d!==e)if(d>e)a.length=e;else for(var f=d;f<e;f++)a.push(1===c?b[f]:ee.call(b[f]));for(var g=a[0]&&a[0].length,f=0;f<a.length;f++)if(1===c)isNaN(a[f])&&(a[f]=b[f]);else for(var h=0;h<g;h++)isNaN(a[f][h])&&(a[f][h]=b[f][h])}}(l,m,d):i&&function(a,b){for(var c=a.length,d=b.length,e=c>d?b:a,f=Math.min(c,d),g=e[f-1]||{color:[0,0,0,0],offset:0},h=f;h<Math.max(c,d);h++)e.push({offset:g.offset,color:g.color.slice()})}(l.colorStops,m.colorStops))}if(!g&&5!==d&&b&&this.needsAnimate()&&b.needsAnimate()&&d===b.valType&&!b._finished){this._additiveTrack=b;for(var n=c[0].value,j=0;j<e;j++)0===d?c[j].additiveValue=c[j].value-n:3===d?c[j].additiveValue=eg([],c[j].value,n,-1):el(d)&&(c[j].additiveValue=1===d?eg([],c[j].value,n,-1):eh([],c[j].value,n,-1))}},a.prototype.step=function(a,b){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var c,d,e,f=null!=this._additiveTrack,g=f?"additiveValue":"value",h=this.valType,i=this.keyframes,j=i.length,k=this.propName,l=3===h,m=this._lastFr,n=Math.min;if(1===j)d=e=i[0];else{if(b<0)c=0;else if(b<this._lastFrP){for(c=n(m+1,j-1);c>=0&&!(i[c].percent<=b);c--);c=n(c,j-2)}else{for(c=m;c<j&&!(i[c].percent>b);c++);c=n(c-1,j-2)}e=i[c+1],d=i[c]}if(d&&e){this._lastFr=c,this._lastFrP=b;var o=e.percent-d.percent,p=0===o?1:n((b-d.percent)/o,1);e.easingFunc&&(p=e.easingFunc(p));var q=f?this._additiveValue:l?em:a[k];if((el(h)||l)&&!q&&(q=this._additiveValue=[]),this.discrete)a[k]=p<1?d.rawValue:e.rawValue;else if(el(h))1===h?ef(q,d[g],e[g],p):function(a,b,c,d){for(var e=b.length,f=e&&b[0].length,g=0;g<e;g++){a[g]||(a[g]=[]);for(var h,i=0;i<f;i++)a[g][i]=(h=b[g][i],(c[g][i]-h)*d+h)}}(q,d[g],e[g],p);else if(ek(h)){var r,s,t,u,v,w=d[g],x=e[g],y=4===h;(a[k]={type:y?"linear":"radial",x:(r=w.x,(x.x-r)*p+r),y:(s=w.y,(x.y-s)*p+s),colorStops:aY(w.colorStops,function(a,b){var c,d=x.colorStops[b];return{offset:(c=a.offset,(d.offset-c)*p+c),color:ej(ef([],a.color,d.color,p))}}),global:x.global},y)?(a[k].x2=(t=w.x2,(x.x2-t)*p+t),a[k].y2=(u=w.y2,(x.y2-u)*p+u)):a[k].r=(v=w.r,(x.r-v)*p+v)}else if(l)ef(q,d[g],e[g],p),f||(a[k]=ej(q));else{var z,A=(z=d[g],(e[g]-z)*p+z);f?this._additiveValue=A:a[k]=A}f&&this._addToTarget(a)}}},a.prototype._addToTarget=function(a){var b=this.valType,c=this.propName,d=this._additiveValue;0===b?a[c]=a[c]+d:3===b?(dM(a[c],em),eg(em,em,d,1),a[c]=ej(em)):1===b?eg(a[c],a[c],d,1):2===b&&eh(a[c],a[c],d,1)},a}(),eo=function(){function a(a,b,c,d){(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=a,this._loop=b,b&&d)?aM("Can' use additive animation on looped animation."):(this._additiveAnimators=d,this._allowDiscrete=c)}return a.prototype.getMaxTime=function(){return this._maxTime},a.prototype.getDelay=function(){return this._delay},a.prototype.getLoop=function(){return this._loop},a.prototype.getTarget=function(){return this._target},a.prototype.changeTarget=function(a){this._target=a},a.prototype.when=function(a,b,c){return this.whenWithKeys(a,b,a0(b),c)},a.prototype.whenWithKeys=function(a,b,c,d){for(var e=this._tracks,f=0;f<c.length;f++){var g=c[f],h=e[g];if(!h){h=e[g]=new en(g);var i=void 0,j=this._getAdditiveTrack(g);if(j){var k=j.keyframes,l=k[k.length-1];i=l&&l.value,3===j.valType&&i&&(i=ej(i))}else i=this._target[g];if(null==i)continue;a>0&&h.addKeyframe(0,ei(i),d),this._trackKeys.push(g)}h.addKeyframe(a,ei(b[g]),d)}return this._maxTime=Math.max(this._maxTime,a),this},a.prototype.pause=function(){this._clip.pause(),this._paused=!0},a.prototype.resume=function(){this._clip.resume(),this._paused=!1},a.prototype.isPaused=function(){return!!this._paused},a.prototype.duration=function(a){return this._maxTime=a,this._force=!0,this},a.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var a=this._doneCbs;if(a)for(var b=a.length,c=0;c<b;c++)a[c].call(this)},a.prototype._abortedCallback=function(){this._setTracksFinished();var a=this.animation,b=this._abortedCbs;if(a&&a.removeClip(this._clip),this._clip=null,b)for(var c=0;c<b.length;c++)b[c].call(this)},a.prototype._setTracksFinished=function(){for(var a=this._tracks,b=this._trackKeys,c=0;c<b.length;c++)a[b[c]].setFinished()},a.prototype._getAdditiveTrack=function(a){var b,c=this._additiveAnimators;if(c)for(var d=0;d<c.length;d++){var e=c[d].getTrack(a);e&&(b=e)}return b},a.prototype.start=function(a){if(!(this._started>0)){this._started=1;for(var b=this,c=[],d=this._maxTime||0,e=0;e<this._trackKeys.length;e++){var f=this._trackKeys[e],g=this._tracks[f],h=this._getAdditiveTrack(f),i=g.keyframes,j=i.length;if(g.prepare(d,h),g.needsAnimate())if(!this._allowDiscrete&&g.discrete){var k=i[j-1];k&&(b._target[g.propName]=k.rawValue),g.setFinished()}else c.push(g)}if(c.length||this._force){var l=new dx({life:d,loop:this._loop,delay:this._delay||0,onframe:function(a){b._started=2;var d=b._additiveAnimators;if(d){for(var e=!1,f=0;f<d.length;f++)if(d[f]._clip){e=!0;break}e||(b._additiveAnimators=null)}for(var f=0;f<c.length;f++)c[f].step(b._target,a);var g=b._onframeCbs;if(g)for(var f=0;f<g.length;f++)g[f](b._target,a)},ondestroy:function(){b._doneCallback()}});this._clip=l,this.animation&&this.animation.addClip(l),a&&l.setEasing(a)}else this._doneCallback();return this}},a.prototype.stop=function(a){if(this._clip){var b=this._clip;a&&b.onframe(1),this._abortedCallback()}},a.prototype.delay=function(a){return this._delay=a,this},a.prototype.during=function(a){return a&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(a)),this},a.prototype.done=function(a){return a&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(a)),this},a.prototype.aborted=function(a){return a&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(a)),this},a.prototype.getClip=function(){return this._clip},a.prototype.getTrack=function(a){return this._tracks[a]},a.prototype.getTracks=function(){var a=this;return aY(this._trackKeys,function(b){return a._tracks[b]})},a.prototype.stopTracks=function(a,b){if(!a.length||!this._clip)return!0;for(var c=this._tracks,d=this._trackKeys,e=0;e<a.length;e++){var f=c[a[e]];f&&!f.isFinished()&&(b?f.step(this._target,1):1===this._started&&f.step(this._target,0),f.setFinished())}for(var g=!0,e=0;e<d.length;e++)if(!c[d[e]].isFinished()){g=!1;break}return g&&this._abortedCallback(),g},a.prototype.saveTo=function(a,b,c){if(a){b=b||this._trackKeys;for(var d=0;d<b.length;d++){var e=b[d],f=this._tracks[e];if(!(!f||f.isFinished())){var g=f.keyframes,h=g[c?0:g.length-1];h&&(a[e]=ei(h.rawValue))}}}},a.prototype.__changeFinalValue=function(a,b){b=b||a0(a);for(var c=0;c<b.length;c++){var d=b[c],e=this._tracks[d];if(e){var f=e.keyframes;if(f.length>1){var g=f.pop();e.addKeyframe(g.time,a[d]),e.prepare(this._maxTime,e.getAdditiveTrack())}}}},a}();function ep(){return new Date().getTime()}var eq=function(a){function b(b){var c=a.call(this)||this;return c._running=!1,c._time=0,c._pausedTime=0,c._pauseStart=0,c._paused=!1,c.stage=(b=b||{}).stage||{},c}return bC(b,a),b.prototype.addClip=function(a){a.animation&&this.removeClip(a),this._head?(this._tail.next=a,a.prev=this._tail,a.next=null,this._tail=a):this._head=this._tail=a,a.animation=this},b.prototype.addAnimator=function(a){a.animation=this;var b=a.getClip();b&&this.addClip(b)},b.prototype.removeClip=function(a){if(a.animation){var b=a.prev,c=a.next;b?b.next=c:this._head=c,c?c.prev=b:this._tail=b,a.next=a.prev=a.animation=null}},b.prototype.removeAnimator=function(a){var b=a.getClip();b&&this.removeClip(b),a.animation=null},b.prototype.update=function(a){for(var b=ep()-this._pausedTime,c=b-this._time,d=this._head;d;){var e=d.next;d.step(b,c)&&(d.ondestroy(),this.removeClip(d)),d=e}this._time=b,!a&&(this.trigger("frame",c),this.stage.update&&this.stage.update())},b.prototype._startLoop=function(){var a=this;this._running=!0,p(function b(){a._running&&(p(b),a._paused||a.update())})},b.prototype.start=function(){this._running||(this._time=ep(),this._pausedTime=0,this._startLoop())},b.prototype.stop=function(){this._running=!1},b.prototype.pause=function(){this._paused||(this._pauseStart=ep(),this._paused=!0)},b.prototype.resume=function(){this._paused&&(this._pausedTime+=ep()-this._pauseStart,this._paused=!1)},b.prototype.clear=function(){for(var a=this._head;a;){var b=a.next;a.prev=a.next=a.animation=null,a=b}this._head=this._tail=null},b.prototype.isFinished=function(){return null==this._head},b.prototype.animate=function(a,b){b=b||{},this.start();var c=new eo(a,b.loop);return this.addAnimator(c),c},b}(b2),er=at.domSupported,es=(g={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},h=aY(f=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],function(a){var b=a.replace("mouse","pointer");return g.hasOwnProperty(b)?b:a}),{mouse:f,touch:["touchstart","touchend","touchmove"],pointer:h}),et=["mousemove","mouseup"],eu=["pointermove","pointerup"],ev=!1;function ew(a){var b=a.pointerType;return"pen"===b||"touch"===b}function ex(a){a&&(a.zrByTouch=!0)}function ey(a,b){for(var c=b,d=!1;c&&9!==c.nodeType&&!(d=c.domBelongToZr||c!==b&&c===a.painterRoot);)c=c.parentNode;return d}var ez=function(a,b){this.stopPropagation=by,this.stopImmediatePropagation=by,this.preventDefault=by,this.type=b.type,this.target=this.currentTarget=a.dom,this.pointerType=b.pointerType,this.clientX=b.clientX,this.clientY=b.clientY},eA={mousedown:function(a){a=cj(this.dom,a),this.__mayPointerCapture=[a.zrX,a.zrY],this.trigger("mousedown",a)},mousemove:function(a){a=cj(this.dom,a);var b=this.__mayPointerCapture;b&&(a.zrX!==b[0]||a.zrY!==b[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",a)},mouseup:function(a){a=cj(this.dom,a),this.__togglePointerCapture(!1),this.trigger("mouseup",a)},mouseout:function(a){ey(this,(a=cj(this.dom,a)).toElement||a.relatedTarget)||(this.__pointerCapturing&&(a.zrEventControl="no_globalout"),this.trigger("mouseout",a))},wheel:function(a){ev=!0,a=cj(this.dom,a),this.trigger("mousewheel",a)},mousewheel:function(a){ev||(a=cj(this.dom,a),this.trigger("mousewheel",a))},touchstart:function(a){ex(a=cj(this.dom,a)),this.__lastTouchMoment=new Date,this.handler.processGesture(a,"start"),eA.mousemove.call(this,a),eA.mousedown.call(this,a)},touchmove:function(a){ex(a=cj(this.dom,a)),this.handler.processGesture(a,"change"),eA.mousemove.call(this,a)},touchend:function(a){ex(a=cj(this.dom,a)),this.handler.processGesture(a,"end"),eA.mouseup.call(this,a),new Date-this.__lastTouchMoment<300&&eA.click.call(this,a)},pointerdown:function(a){eA.mousedown.call(this,a)},pointermove:function(a){ew(a)||eA.mousemove.call(this,a)},pointerup:function(a){eA.mouseup.call(this,a)},pointerout:function(a){ew(a)||eA.mouseout.call(this,a)}};aX(["click","dblclick","contextmenu"],function(a){eA[a]=function(b){b=cj(this.dom,b),this.trigger(a,b)}});var eB={pointermove:function(a){ew(a)||eB.mousemove.call(this,a)},pointerup:function(a){eB.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",a)},mouseup:function(a){var b=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",a),b&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}};function eC(a,b,c,d){a.mounted[b]=c,a.listenerOpts[b]=d,ck(a.domTarget,b,c,d)}function eD(a){var b,c,d,e=a.mounted;for(var f in e)e.hasOwnProperty(f)&&(b=a.domTarget,c=e[f],d=a.listenerOpts[f],b.removeEventListener(f,c,d));a.mounted={}}var eE=function(a,b){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=a,this.domHandlers=b},eF=function(a){function b(b,c){var d,e,f=a.call(this)||this;return f.__pointerCapturing=!1,f.dom=b,f.painterRoot=c,f._localHandlerScope=new eE(b,eA),er&&(f._globalHandlerScope=new eE(document,eB)),e=(d=f._localHandlerScope).domHandlers,at.pointerEventsSupported?aX(es.pointer,function(a){eC(d,a,function(b){e[a].call(f,b)})}):(at.touchEventsSupported&&aX(es.touch,function(a){eC(d,a,function(b){e[a].call(f,b),d.touching=!0,null!=d.touchTimer&&(clearTimeout(d.touchTimer),d.touchTimer=null),d.touchTimer=setTimeout(function(){d.touching=!1,d.touchTimer=null},700)})}),aX(es.mouse,function(a){eC(d,a,function(b){b=ci(b),d.touching||e[a].call(f,b)})})),f}return bC(b,a),b.prototype.dispose=function(){eD(this._localHandlerScope),er&&eD(this._globalHandlerScope)},b.prototype.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},b.prototype.__togglePointerCapture=function(a){if(this.__mayPointerCapture=null,er&&this.__pointerCapturing^a){this.__pointerCapturing=a;var b=this._globalHandlerScope;a?function(a,b){at.pointerEventsSupported?aX(eu,c):at.touchEventsSupported||aX(et,c);function c(c){eC(b,c,function(d){if(!ey(a,(d=ci(d)).target)){var e;e=d,d=cj(a.dom,new ez(a,e),!0),b.domHandlers[c].call(a,d)}},{capture:!0})}}(this,b):eD(b)}},b}(b2),eG=1;at.hasGlobalWindow&&(eG=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var eH=eG,eI="#333",eJ="#ccc",eK=cr;function eL(a){return a>5e-5||a<-5e-5}var eM=[],eN=[],eO=cq(),eP=Math.abs,eQ=function(){var a;function b(){}return b.prototype.getLocalTransform=function(a){return b.getLocalTransform(this,a)},b.prototype.setPosition=function(a){this.x=a[0],this.y=a[1]},b.prototype.setScale=function(a){this.scaleX=a[0],this.scaleY=a[1]},b.prototype.setSkew=function(a){this.skewX=a[0],this.skewY=a[1]},b.prototype.setOrigin=function(a){this.originX=a[0],this.originY=a[1]},b.prototype.needLocalTransform=function(){return eL(this.rotation)||eL(this.x)||eL(this.y)||eL(this.scaleX-1)||eL(this.scaleY-1)||eL(this.skewX)||eL(this.skewY)},b.prototype.updateTransform=function(){var a=this.parent&&this.parent.transform,b=this.needLocalTransform(),c=this.transform;if(!(b||a)){c&&(eK(c),this.invTransform=null);return}c=c||cq(),b?this.getLocalTransform(c):eK(c),a&&(b?ct(c,a,c):cs(c,a)),this.transform=c,this._resolveGlobalScaleRatio(c)},b.prototype._resolveGlobalScaleRatio=function(a){var b=this.globalScaleRatio;if(null!=b&&1!==b){this.getGlobalScale(eM);var c=eM[0]<0?-1:1,d=eM[1]<0?-1:1,e=((eM[0]-c)*b+c)/eM[0]||0,f=((eM[1]-d)*b+d)/eM[1]||0;a[0]*=e,a[1]*=e,a[2]*=f,a[3]*=f}this.invTransform=this.invTransform||cq(),cx(this.invTransform,a)},b.prototype.getComputedTransform=function(){for(var a=this,b=[];a;)b.push(a),a=a.parent;for(;a=b.pop();)a.updateTransform();return this.transform},b.prototype.setLocalTransform=function(a){if(a){var b=a[0]*a[0]+a[1]*a[1],c=a[2]*a[2]+a[3]*a[3],d=Math.atan2(a[1],a[0]),e=Math.PI/2+d-Math.atan2(a[3],a[2]);c=Math.sqrt(c)*Math.cos(e),b=Math.sqrt(b),this.skewX=e,this.skewY=0,this.rotation=-d,this.x=+a[4],this.y=+a[5],this.scaleX=b,this.scaleY=c,this.originX=0,this.originY=0}},b.prototype.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(a.invTransform=a.invTransform||cq(),ct(eN,a.invTransform,b),b=eN);var c=this.originX,d=this.originY;(c||d)&&(eO[4]=c,eO[5]=d,ct(eN,b,eO),eN[4]-=c,eN[5]-=d,b=eN),this.setLocalTransform(b)}},b.prototype.getGlobalScale=function(a){var b=this.transform;return(a=a||[],b)?(a[0]=Math.sqrt(b[0]*b[0]+b[1]*b[1]),a[1]=Math.sqrt(b[2]*b[2]+b[3]*b[3]),b[0]<0&&(a[0]=-a[0]),b[3]<0&&(a[1]=-a[1])):(a[0]=1,a[1]=1),a},b.prototype.transformCoordToLocal=function(a,b){var c=[a,b],d=this.invTransform;return d&&bZ(c,c,d),c},b.prototype.transformCoordToGlobal=function(a,b){var c=[a,b],d=this.transform;return d&&bZ(c,c,d),c},b.prototype.getLineScale=function(){var a=this.transform;return a&&eP(a[0]-1)>1e-10&&eP(a[3]-1)>1e-10?Math.sqrt(eP(a[0]*a[3]-a[2]*a[1])):1},b.prototype.copyTransform=function(a){eS(this,a)},b.getLocalTransform=function(a,b){b=b||[];var c=a.originX||0,d=a.originY||0,e=a.scaleX,f=a.scaleY,g=a.anchorX,h=a.anchorY,i=a.rotation||0,j=a.x,k=a.y,l=a.skewX?Math.tan(a.skewX):0,m=a.skewY?Math.tan(-a.skewY):0;if(c||d||g||h){var n=c+g,o=d+h;b[4]=-n*e-l*o*f,b[5]=-o*f-m*n*e}else b[4]=b[5]=0;return b[0]=e,b[3]=f,b[1]=m*e,b[2]=l*f,i&&cv(b,b,i),b[4]+=c+j,b[5]+=d+k,b},b.initDefaultProps=void((a=b.prototype).scaleX=a.scaleY=a.globalScaleRatio=1,a.x=a.y=a.originX=a.originY=a.skewX=a.skewY=a.rotation=a.anchorX=a.anchorY=0),b}(),eR=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function eS(a,b){for(var c=0;c<eR.length;c++){var d=eR[c];a[d]=b[d]}}function eT(a){q||(q=new dA(100)),a=a||av;var b=q.get(a);return b||(b={font:a,strWidthCache:new dA(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:ax.measureText("",a).width,asciiCharWidth:ax.measureText("a",a).width},q.put(a,b)),b}var eU=0;function eV(a,b){return a.asciiWidthMapTried||(a.asciiWidthMap=function(a){if(!(eU>=5)){a=a||av;for(var b=[],c=+new Date,d=0;d<=127;d++)b[d]=ax.measureText(String.fromCharCode(d),a).width;var e=new Date-c;return e>16?eU=5:e>2&&eU++,b}}(a.font),a.asciiWidthMapTried=!0),0<=b&&b<=127?null!=a.asciiWidthMap?a.asciiWidthMap[b]:a.asciiCharWidth:a.stWideCharWidth}function eW(a,b){var c=a.strWidthCache,d=c.get(b);return null==d&&(d=ax.measureText(b,a.font).width,c.put(b,d)),d}function eX(a,b,c,d){var e=eW(eT(b),a),f=e_(b);return new cS(eZ(0,e,c),e$(0,f,d),e,f)}function eY(a,b,c,d){var e=((a||"")+"").split("\n");if(1===e.length)return eX(e[0],b,c,d);for(var f=new cS(0,0,0,0),g=0;g<e.length;g++){var h=eX(e[g],b,c,d);0===g?f.copy(h):f.union(h)}return f}function eZ(a,b,c,d){return"right"===c?d?a+=b:a-=b:"center"===c&&(d?a+=b/2:a-=b/2),a}function e$(a,b,c,d){return"middle"===c?d?a+=b/2:a-=b/2:"bottom"===c&&(d?a+=b:a-=b),a}function e_(a){return eT(a).stWideCharWidth}function e0(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function e1(a,b,c){var d=b.position||"inside",e=null!=b.distance?b.distance:5,f=c.height,g=c.width,h=f/2,i=c.x,j=c.y,k="left",l="top";if(d instanceof Array)i+=e0(d[0],c.width),j+=e0(d[1],c.height),k=null,l=null;else switch(d){case"left":i-=e,j+=h,k="right",l="middle";break;case"right":i+=e+g,j+=h,l="middle";break;case"top":i+=g/2,j-=e,k="center",l="bottom";break;case"bottom":i+=g/2,j+=f+e,k="center";break;case"inside":i+=g/2,j+=h,k="center",l="middle";break;case"insideLeft":i+=e,j+=h,l="middle";break;case"insideRight":i+=g-e,j+=h,k="right",l="middle";break;case"insideTop":i+=g/2,j+=e,k="center";break;case"insideBottom":i+=g/2,j+=f-e,k="center",l="bottom";break;case"insideTopLeft":i+=e,j+=e;break;case"insideTopRight":i+=g-e,j+=e,k="right";break;case"insideBottomLeft":i+=e,j+=f-e,l="bottom";break;case"insideBottomRight":i+=g-e,j+=f-e,k="right",l="bottom"}return(a=a||{}).x=i,a.y=j,a.align=k,a.verticalAlign=l,a}var e2="__zr_normal__",e3=eR.concat(["ignore"]),e4=aZ(eR,function(a,b){return a[b]=!0,a},{ignore:!1}),e5={},e6=new cS(0,0,0,0),e7=[],e8=function(){function a(a){this.id=aL(),this.animators=[],this.currentStates=[],this.states={},this._init(a)}return a.prototype._init=function(a){this.attr(a)},a.prototype.drift=function(a,b,c){switch(this.draggable){case"horizontal":b=0;break;case"vertical":a=0}var d=this.transform;d||(d=this.transform=[1,0,0,1,0,0]),d[4]+=a,d[5]+=b,this.decomposeTransform(),this.markRedraw()},a.prototype.beforeUpdate=function(){},a.prototype.afterUpdate=function(){},a.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},a.prototype.updateInnerText=function(a){var b=this._textContent;if(b&&(!b.ignore||a)){this.textConfig||(this.textConfig={});var c=this.textConfig,d=c.local,e=b.innerTransformable,f=void 0,g=void 0,h=!1;e.parent=d?this:null;var i=!1;e.copyTransform(b);var j=null!=c.position,k=c.autoOverflowArea,l=void 0;if((k||j)&&(l=e6,c.layoutRect?l.copy(c.layoutRect):l.copy(this.getBoundingRect()),d||l.applyTransform(this.transform)),j){this.calculateTextPosition?this.calculateTextPosition(e5,c,l):e1(e5,c,l),e.x=e5.x,e.y=e5.y,f=e5.align,g=e5.verticalAlign;var m=c.origin;if(m&&null!=c.rotation){var n=void 0,o=void 0;"center"===m?(n=.5*l.width,o=.5*l.height):(n=e0(m[0],l.width),o=e0(m[1],l.height)),i=!0,e.originX=-e.x+n+(d?0:l.x),e.originY=-e.y+o+(d?0:l.y)}}null!=c.rotation&&(e.rotation=c.rotation);var p=c.offset;p&&(e.x+=p[0],e.y+=p[1],i||(e.originX=-p[0],e.originY=-p[1]));var q=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(k){var r=q.overflowRect=q.overflowRect||new cS(0,0,0,0);e.getLocalTransform(e7),cx(e7,e7),cS.copy(r,l),r.applyTransform(e7)}else q.overflowRect=null;var s=null==c.inside?"string"==typeof c.position&&c.position.indexOf("inside")>=0:c.inside,t=void 0,u=void 0,v=void 0;s&&this.canBeInsideText()?(t=c.insideFill,u=c.insideStroke,(null==t||"auto"===t)&&(t=this.getInsideTextFill()),(null==u||"auto"===u)&&(u=this.getInsideTextStroke(t),v=!0)):(t=c.outsideFill,u=c.outsideStroke,(null==t||"auto"===t)&&(t=this.getOutsideFill()),(null==u||"auto"===u)&&(u=this.getOutsideStroke(t),v=!0)),((t=t||"#000")!==q.fill||u!==q.stroke||v!==q.autoStroke||f!==q.align||g!==q.verticalAlign)&&(h=!0,q.fill=t,q.stroke=u,q.autoStroke=v,q.align=f,q.verticalAlign=g,b.setDefaultTextStyle(q)),b.__dirty|=1,h&&b.dirtyStyle(!0)}},a.prototype.canBeInsideText=function(){return!0},a.prototype.getInsideTextFill=function(){return"#fff"},a.prototype.getInsideTextStroke=function(a){return"#000"},a.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?eJ:eI},a.prototype.getOutsideStroke=function(a){var b=this.__zr&&this.__zr.getBackgroundColor(),c="string"==typeof b&&dM(b);c||(c=[255,255,255,1]);for(var d=c[3],e=this.__zr.isDarkMode(),f=0;f<3;f++)c[f]=c[f]*d+255*!e*(1-d);return c[3]=1,dW(c,"rgba")},a.prototype.traverse=function(a,b){},a.prototype.attrKV=function(a,b){"textConfig"===a?this.setTextConfig(b):"textContent"===a?this.setTextContent(b):"clipPath"===a?this.setClipPath(b):"extra"===a?(this.extra=this.extra||{},aQ(this.extra,b)):this[a]=b},a.prototype.hide=function(){this.ignore=!0,this.markRedraw()},a.prototype.show=function(){this.ignore=!1,this.markRedraw()},a.prototype.attr=function(a,b){if("string"==typeof a)this.attrKV(a,b);else if(a8(a))for(var c=a0(a),d=0;d<c.length;d++){var e=c[d];this.attrKV(e,a[e])}return this.markRedraw(),this},a.prototype.saveCurrentToNormalState=function(a){this._innerSaveToNormal(a);for(var b=this._normalState,c=0;c<this.animators.length;c++){var d=this.animators[c],e=d.__fromStateTransition;if(!d.getLoop()&&(!e||e===e2)){var f=d.targetName,g=f?b[f]:b;d.saveTo(g)}}},a.prototype._innerSaveToNormal=function(a){var b=this._normalState;b||(b=this._normalState={}),a.textConfig&&!b.textConfig&&(b.textConfig=this.textConfig),this._savePrimaryToNormal(a,b,e3)},a.prototype._savePrimaryToNormal=function(a,b,c){for(var d=0;d<c.length;d++){var e=c[d];null==a[e]||e in b||(b[e]=this[e])}},a.prototype.hasState=function(){return this.currentStates.length>0},a.prototype.getState=function(a){return this.states[a]},a.prototype.ensureState=function(a){var b=this.states;return b[a]||(b[a]={}),b[a]},a.prototype.clearStates=function(a){this.useState(e2,!1,a)},a.prototype.useState=function(a,b,c,d){var e,f=a===e2;if(this.hasState()||!f){var g=this.currentStates,h=this.stateTransition;if(!(aT(g,a)>=0)||!b&&1!==g.length){if(this.stateProxy&&!f&&(e=this.stateProxy(a)),e||(e=this.states&&this.states[a]),!e&&!f)return void aM("State "+a+" not exists.");f||this.saveCurrentToNormalState(e);var i=!!(e&&e.hoverLayer||d);i&&this._toggleHoverLayerFlag(!0),this._applyStateObj(a,e,this._normalState,b,!c&&!this.__inHover&&h&&h.duration>0,h);var j=this._textContent,k=this._textGuide;return j&&j.useState(a,b,c,i),k&&k.useState(a,b,c,i),f?(this.currentStates=[],this._normalState={}):b?this.currentStates.push(a):this.currentStates=[a],this._updateAnimationTargets(),this.markRedraw(),!i&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),e}}},a.prototype.useStates=function(a,b,c){if(a.length){var d=[],e=this.currentStates,f=a.length,g=f===e.length;if(g){for(var h=0;h<f;h++)if(a[h]!==e[h]){g=!1;break}}if(!g){for(var h=0;h<f;h++){var i=a[h],j=void 0;this.stateProxy&&(j=this.stateProxy(i,a)),j||(j=this.states[i]),j&&d.push(j)}var k=d[f-1],l=!!(k&&k.hoverLayer||c);l&&this._toggleHoverLayerFlag(!0);var m=this._mergeStates(d),n=this.stateTransition;this.saveCurrentToNormalState(m),this._applyStateObj(a.join(","),m,this._normalState,!1,!b&&!this.__inHover&&n&&n.duration>0,n);var o=this._textContent,p=this._textGuide;o&&o.useStates(a,b,l),p&&p.useStates(a,b,l),this._updateAnimationTargets(),this.currentStates=a.slice(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}}else this.clearStates()},a.prototype.isSilent=function(){for(var a=this;a;){if(a.silent)return!0;var b=a.__hostTarget;a=b?a.ignoreHostSilent?null:b:a.parent}return!1},a.prototype._updateAnimationTargets=function(){for(var a=0;a<this.animators.length;a++){var b=this.animators[a];b.targetName&&b.changeTarget(this[b.targetName])}},a.prototype.removeState=function(a){var b=aT(this.currentStates,a);if(b>=0){var c=this.currentStates.slice();c.splice(b,1),this.useStates(c)}},a.prototype.replaceState=function(a,b,c){var d=this.currentStates.slice(),e=aT(d,a),f=aT(d,b)>=0;e>=0?f?d.splice(e,1):d[e]=b:c&&!f&&d.push(b),this.useStates(d)},a.prototype.toggleState=function(a,b){b?this.useState(a,!0):this.removeState(a)},a.prototype._mergeStates=function(a){for(var b,c={},d=0;d<a.length;d++){var e=a[d];aQ(c,e),e.textConfig&&aQ(b=b||{},e.textConfig)}return b&&(c.textConfig=b),c},a.prototype._applyStateObj=function(a,b,c,d,e,f){var g=!(b&&d);b&&b.textConfig?(this.textConfig=aQ({},d?this.textConfig:c.textConfig),aQ(this.textConfig,b.textConfig)):g&&c.textConfig&&(this.textConfig=c.textConfig);for(var h={},i=!1,j=0;j<e3.length;j++){var k=e3[j],l=e&&e4[k];b&&null!=b[k]?l?(i=!0,h[k]=b[k]):this[k]=b[k]:g&&null!=c[k]&&(l?(i=!0,h[k]=c[k]):this[k]=c[k])}if(!e)for(var j=0;j<this.animators.length;j++){var m=this.animators[j],n=m.targetName;m.getLoop()||m.__changeFinalValue(n?(b||c)[n]:b||c)}i&&this._transitionState(a,h,f)},a.prototype._attachComponent=function(a){if((!a.__zr||a.__hostTarget)&&a!==this){var b=this.__zr;b&&a.addSelfToZr(b),a.__zr=b,a.__hostTarget=this}},a.prototype._detachComponent=function(a){a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__hostTarget=null},a.prototype.getClipPath=function(){return this._clipPath},a.prototype.setClipPath=function(a){this._clipPath&&this._clipPath!==a&&this.removeClipPath(),this._attachComponent(a),this._clipPath=a,this.markRedraw()},a.prototype.removeClipPath=function(){var a=this._clipPath;a&&(this._detachComponent(a),this._clipPath=null,this.markRedraw())},a.prototype.getTextContent=function(){return this._textContent},a.prototype.setTextContent=function(a){var b=this._textContent;b!==a&&(b&&b!==a&&this.removeTextContent(),a.innerTransformable=new eQ,this._attachComponent(a),this._textContent=a,this.markRedraw())},a.prototype.setTextConfig=function(a){this.textConfig||(this.textConfig={}),aQ(this.textConfig,a),this.markRedraw()},a.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},a.prototype.removeTextContent=function(){var a=this._textContent;a&&(a.innerTransformable=null,this._detachComponent(a),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},a.prototype.getTextGuideLine=function(){return this._textGuide},a.prototype.setTextGuideLine=function(a){this._textGuide&&this._textGuide!==a&&this.removeTextGuideLine(),this._attachComponent(a),this._textGuide=a,this.markRedraw()},a.prototype.removeTextGuideLine=function(){var a=this._textGuide;a&&(this._detachComponent(a),this._textGuide=null,this.markRedraw())},a.prototype.markRedraw=function(){this.__dirty|=1;var a=this.__zr;a&&(this.__inHover?a.refreshHover():a.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},a.prototype.dirty=function(){this.markRedraw()},a.prototype._toggleHoverLayerFlag=function(a){this.__inHover=a;var b=this._textContent,c=this._textGuide;b&&(b.__inHover=a),c&&(c.__inHover=a)},a.prototype.addSelfToZr=function(a){if(this.__zr!==a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this._clipPath&&this._clipPath.addSelfToZr(a),this._textContent&&this._textContent.addSelfToZr(a),this._textGuide&&this._textGuide.addSelfToZr(a)}},a.prototype.removeSelfFromZr=function(a){if(this.__zr){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this._clipPath&&this._clipPath.removeSelfFromZr(a),this._textContent&&this._textContent.removeSelfFromZr(a),this._textGuide&&this._textGuide.removeSelfFromZr(a)}},a.prototype.animate=function(a,b,c){var d=new eo(a?this[a]:this,b,c);return a&&(d.targetName=a),this.addAnimator(d,a),d},a.prototype.addAnimator=function(a,b){var c=this.__zr,d=this;a.during(function(){d.updateDuringAnimation(b)}).done(function(){var b=d.animators,c=aT(b,a);c>=0&&b.splice(c,1)}),this.animators.push(a),c&&c.animation.addAnimator(a),c&&c.wakeUp()},a.prototype.updateDuringAnimation=function(a){this.markRedraw()},a.prototype.stopAnimation=function(a,b){for(var c=this.animators,d=c.length,e=[],f=0;f<d;f++){var g=c[f];a&&a!==g.scope?e.push(g):g.stop(b)}return this.animators=e,this},a.prototype.animateTo=function(a,b,c){e9(this,a,b,c)},a.prototype.animateFrom=function(a,b,c){e9(this,a,b,c,!0)},a.prototype._transitionState=function(a,b,c,d){for(var e=e9(this,b,c,d),f=0;f<e.length;f++)e[f].__fromStateTransition=a},a.prototype.getBoundingRect=function(){return null},a.prototype.getPaintRect=function(){return null},a.initDefaultProps=function(){var b=a.prototype;function c(a,c,d,e){Object.defineProperty(b,a,{get:function(){return this[c]||f(this,this[c]=[]),this[c]},set:function(a){this[d]=a[0],this[e]=a[1],this[c]=a,f(this,a)}});function f(a,b){Object.defineProperty(b,0,{get:function(){return a[d]},set:function(b){a[d]=b}}),Object.defineProperty(b,1,{get:function(){return a[e]},set:function(b){a[e]=b}})}}b.type="element",b.name="",b.ignore=b.silent=b.ignoreHostSilent=b.isGroup=b.draggable=b.dragging=b.ignoreClip=b.__inHover=!1,b.__dirty=1,Object.defineProperty&&(c("position","_legacyPos","x","y"),c("scale","_legacyScale","scaleX","scaleY"),c("origin","_legacyOrigin","originX","originY"))}(),a}();function e9(a,b,c,d,e){var f=[];!function a(b,c,d,e,f,g,h,i){for(var j=a0(e),k=f.duration,l=f.delay,m=f.additive,n=f.setToFinal,o=!a8(g),p=b.animators,q=[],r=0;r<j.length;r++){var s=j[r],t=e[s];if(null!=t&&null!=d[s]&&(o||g[s]))if(!a8(t)||aW(t)||bc(t))q.push(s);else{if(c){i||(d[s]=t,b.updateDuringAnimation(c));continue}a(b,s,d[s],t,f,g&&g[s],h,i)}else i||(d[s]=t,b.updateDuringAnimation(c),q.push(s))}var u=q.length;if(!m&&u)for(var v=0;v<p.length;v++){var w=p[v];if(w.targetName===c&&w.stopTracks(q)){var x=aT(p,w);p.splice(x,1)}}if(f.force||(u=(q=a$(q,function(a){var b,c;return!((b=e[a])===(c=d[a])||aW(b)&&aW(c)&&function(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}(b,c))})).length),u>0||f.force&&!h.length){var y=void 0,z=void 0,A=void 0;if(i){z={},n&&(y={});for(var v=0;v<u;v++){var s=q[v];z[s]=d[s],n?y[s]=e[s]:d[s]=e[s]}}else if(n){A={};for(var v=0;v<u;v++){var s=q[v];A[s]=ei(d[s]),function(a,b,c){if(aW(b[c]))if(aW(a[c])||(a[c]=[]),ba(b[c])){var d=b[c].length;a[c].length!==d&&(a[c]=new b[c].constructor(d),fa(a[c],b[c],d))}else{var e=b[c],f=a[c],g=e.length;if(aW(e[0]))for(var h=e[0].length,i=0;i<g;i++)f[i]?fa(f[i],e[i],h):f[i]=Array.prototype.slice.call(e[i]);else fa(f,e,g);f.length=e.length}else a[c]=b[c]}(d,e,s)}}var w=new eo(d,!1,!1,m?a$(p,function(a){return a.targetName===c}):null);w.targetName=c,f.scope&&(w.scope=f.scope),n&&y&&w.whenWithKeys(0,y,q),A&&w.whenWithKeys(0,A,q),w.whenWithKeys(null==k?500:k,i?z:e,q).delay(l||0),b.addAnimator(w,c),h.push(w)}}(a,"",a,b,c=c||{},d,f,e);var g=f.length,h=!1,i=c.done,j=c.aborted,k=function(){h=!0,--g<=0&&(h?i&&i():j&&j())},l=function(){--g<=0&&(h?i&&i():j&&j())};!g&&i&&i(),f.length>0&&c.during&&f[0].during(function(a,b){c.during(b)});for(var m=0;m<f.length;m++){var n=f[m];k&&n.done(k),l&&n.aborted(l),c.force&&n.duration(c.duration),n.start(c.easing)}return f}function fa(a,b,c){for(var d=0;d<c;d++)a[d]=b[d]}aV(e8,b2),aV(e8,eQ);var fb=function(a){function b(b){var c=a.call(this)||this;return c.isGroup=!0,c._children=[],c.attr(b),c}return bC(b,a),b.prototype.childrenRef=function(){return this._children},b.prototype.children=function(){return this._children.slice()},b.prototype.childAt=function(a){return this._children[a]},b.prototype.childOfName=function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},b.prototype.childCount=function(){return this._children.length},b.prototype.add=function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},b.prototype.addBefore=function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);d>=0&&(c.splice(d,0,a),this._doAdd(a))}return this},b.prototype.replace=function(a,b){var c=aT(this._children,a);return c>=0&&this.replaceAt(b,c),this},b.prototype.replaceAt=function(a,b){var c=this._children,d=c[b];if(a&&a!==this&&a.parent!==this&&a!==d){c[b]=a,d.parent=null;var e=this.__zr;e&&d.removeSelfFromZr(e),this._doAdd(a)}return this},b.prototype._doAdd=function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__zr;b&&b!==a.__zr&&a.addSelfToZr(b),b&&b.refresh()},b.prototype.remove=function(a){var b=this.__zr,c=this._children,d=aT(c,a);return d<0||(c.splice(d,1),a.parent=null,b&&a.removeSelfFromZr(b),b&&b.refresh()),this},b.prototype.removeAll=function(){for(var a=this._children,b=this.__zr,c=0;c<a.length;c++){var d=a[c];b&&d.removeSelfFromZr(b),d.parent=null}return a.length=0,this},b.prototype.eachChild=function(a,b){for(var c=this._children,d=0;d<c.length;d++){var e=c[d];a.call(b,e,d)}return this},b.prototype.traverse=function(a,b){for(var c=0;c<this._children.length;c++){var d=this._children[c],e=a.call(b,d);d.isGroup&&!e&&d.traverse(a,b)}return this},b.prototype.addSelfToZr=function(b){a.prototype.addSelfToZr.call(this,b);for(var c=0;c<this._children.length;c++)this._children[c].addSelfToZr(b)},b.prototype.removeSelfFromZr=function(b){a.prototype.removeSelfFromZr.call(this,b);for(var c=0;c<this._children.length;c++)this._children[c].removeSelfFromZr(b)},b.prototype.getBoundingRect=function(a){for(var b=new cS(0,0,0,0),c=a||this._children,d=[],e=null,f=0;f<c.length;f++){var g=c[f];if(!g.ignore&&!g.invisible){var h=g.getBoundingRect(),i=g.getLocalTransform(d);i?(cS.applyTransform(b,h,i),(e=e||b.clone()).union(b)):(e=e||h.clone()).union(h)}}return e||b},b}(e8);fb.prototype.type="group";let fc=fb;var fd={},fe={},ff=function(){function a(a,b,c){var d,e=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,c=c||{},this.dom=b,this.id=a;var f=new c8,g=c.renderer||"canvas";fd[g]||(g=a0(fd)[0]),c.useDirtyRect=null!=c.useDirtyRect&&c.useDirtyRect;var h=new fd[g](b,f,c,a),i=c.ssr||h.ssrOnly;this.storage=f,this.painter=h;var j=at.node||at.worker||i?null:new eF(h.getViewportRoot(),h.root),k=c.useCoarsePointer;(null==k||"auto"===k?at.touchEventsSupported:!!k)&&(d=bh(c.pointerSize,44)),this.handler=new cZ(f,h,j,h.root,d),this.animation=new eq({stage:{update:i?null:function(){return e._flush(!0)}}}),i||this.animation.start()}return a.prototype.add=function(a){!this._disposed&&a&&(this.storage.addRoot(a),a.addSelfToZr(this),this.refresh())},a.prototype.remove=function(a){!this._disposed&&a&&(this.storage.delRoot(a),a.removeSelfFromZr(this),this.refresh())},a.prototype.configLayer=function(a,b){this._disposed||(this.painter.configLayer&&this.painter.configLayer(a,b),this.refresh())},a.prototype.setBackgroundColor=function(a){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a),this.refresh(),this._backgroundColor=a,this._darkMode=function(a){if(!a)return!1;if("string"==typeof a)return .4>dX(a,1);if(a.colorStops){for(var b=a.colorStops,c=0,d=b.length,e=0;e<d;e++)c+=dX(b[e].color,1);return(c/=d)<.4}return!1}(a))},a.prototype.getBackgroundColor=function(){return this._backgroundColor},a.prototype.setDarkMode=function(a){this._darkMode=a},a.prototype.isDarkMode=function(){return this._darkMode},a.prototype.refreshImmediately=function(a){this._disposed||(a||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},a.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},a.prototype.flush=function(){this._disposed||this._flush(!1)},a.prototype._flush=function(a){var b,c=ep();this._needsRefresh&&(b=!0,this.refreshImmediately(a)),this._needsRefreshHover&&(b=!0,this.refreshHoverImmediately());var d=ep();b?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:d-c})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},a.prototype.setSleepAfterStill=function(a){this._sleepAfterStill=a},a.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},a.prototype.refreshHover=function(){this._needsRefreshHover=!0},a.prototype.refreshHoverImmediately=function(){!this._disposed&&(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},a.prototype.resize=function(a){this._disposed||(a=a||{},this.painter.resize(a.width,a.height),this.handler.resize())},a.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},a.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},a.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},a.prototype.setCursorStyle=function(a){this._disposed||this.handler.setCursorStyle(a)},a.prototype.findHover=function(a,b){if(!this._disposed)return this.handler.findHover(a,b)},a.prototype.on=function(a,b,c){return this._disposed||this.handler.on(a,b,c),this},a.prototype.off=function(a,b){this._disposed||this.handler.off(a,b)},a.prototype.trigger=function(a,b){this._disposed||this.handler.trigger(a,b)},a.prototype.clear=function(){if(!this._disposed){for(var a=this.storage.getRoots(),b=0;b<a.length;b++)a[b]instanceof fc&&a[b].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},a.prototype.dispose=function(){if(!this._disposed){var a;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,a=this.id,delete fe[a]}},a}();function fg(a,b){var c=new ff(aL(),a,b);return fe[c.id]=c,c}function fh(a){a.dispose()}function fi(){for(var a in fe)fe.hasOwnProperty(a)&&fe[a].dispose();fe={}}function fj(a){return fe[a]}function fk(a,b){fd[a]=b}function fl(a){if("function"==typeof r)return r(a)}function fm(a){r=a}var fn="6.0.0",fo=Math.min,fp=Math.max,fq=Math.abs;function fr(a,b,c,d){var e=b[0],f=b[1],g=c[0],h=c[1],i=f-e,j=h-g;if(0===i)return 0===j?g:(g+h)/2;if(d){if(i>0){if(a<=e)return g;else if(a>=f)return h}else if(a>=e)return g;else if(a<=f)return h}else{if(a===e)return g;if(a===f)return h}return(a-e)/i*j+g}var fs=function(a,b,c){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return ft(a,b,c)};function ft(a,b,c){return a5(a)?a.replace(/^\s+|\s+$/g,"").match(/%$/)?parseFloat(a)/100*b+(c||0):parseFloat(a):null==a?NaN:+a}function fu(a,b,c){return null==b&&(b=10),b=Math.min(Math.max(0,b),20),a=(+a).toFixed(b),c?a:+a}function fv(a){return a.sort(function(a,b){return a-b}),a}function fw(a){if(isNaN(a*=1))return 0;if(a>1e-14){for(var b=1,c=0;c<15;c++,b*=10)if(Math.round(a*b)/b===a)return c}return fx(a)}function fx(a){var b=a.toString().toLowerCase(),c=b.indexOf("e"),d=c>0?+b.slice(c+1):0,e=c>0?c:b.length,f=b.indexOf(".");return Math.max(0,(f<0?0:e-1-f)-d)}function fy(a,b){var c=Math.log,d=Math.LN10,e=Math.min(Math.max(-Math.floor(c(a[1]-a[0])/d)+Math.round(c(fq(b[1]-b[0]))/d),0),20);return isFinite(e)?e:20}function fz(a,b,c){return a[b]&&fA(a,c)[b]||0}function fA(a,b){var c=aZ(a,function(a,b){return a+(isNaN(b)?0:b)},0);if(0===c)return[];for(var d=Math.pow(10,b),e=aY(a,function(a){return(isNaN(a)?0:a)/c*d*100}),f=100*d,g=aY(e,function(a){return Math.floor(a)}),h=aZ(g,function(a,b){return a+b},0),i=aY(e,function(a,b){return a-g[b]});h<f;){for(var j=-1/0,k=null,l=0,m=i.length;l<m;++l)i[l]>j&&(j=i[l],k=l);++g[k],i[k]=0,++h}return aY(g,function(a){return a/d})}var fB=0x1fffffffffffff;function fC(a){var b=2*Math.PI;return(a%b+b)%b}function fD(a){return a>-1e-4&&a<1e-4}var fE=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function fF(a){if(a instanceof Date)return a;if(a5(a)){var b=fE.exec(a);if(!b)return new Date(NaN);if(!b[8])return new Date(+b[1],(b[2]||1)-1,+b[3]||1,+b[4]||0,+(b[5]||0),+b[6]||0,b[7]?+b[7].substring(0,3):0);var c=+b[4]||0;return"Z"!==b[8].toUpperCase()&&(c-=b[8].slice(0,3)),new Date(Date.UTC(+b[1],(b[2]||1)-1,+b[3]||1,c,+(b[5]||0),+b[6]||0,b[7]?+b[7].substring(0,3):0))}return null==a?new Date(NaN):new Date(Math.round(a))}function fG(a){return Math.pow(10,fH(a))}function fH(a){if(0===a)return 0;var b=Math.floor(Math.log(a)/Math.LN10);return a/Math.pow(10,b)>=10&&b++,b}function fI(a,b){var c=fH(a),d=Math.pow(10,c),e=a/d;return a=(b?e<1.5?1:e<2.5?2:e<4?3:e<7?5:10:e<1?1:e<2?2:e<3?3:e<5?5:10)*d,c>=-20?+a.toFixed(c<0?-c:0):a}function fJ(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e}function fK(a){a.sort(function(a,b){return!function a(b,c,d){return b.interval[d]<c.interval[d]||b.interval[d]===c.interval[d]&&(b.close[d]-c.close[d]==(d?-1:1)||!d&&a(b,c,1))}(a,b,0)?1:-1});for(var b=-1/0,c=1,d=0;d<a.length;){for(var e=a[d].interval,f=a[d].close,g=0;g<2;g++)e[g]<=b&&(e[g]=b,f[g]=g?1:1-c),b=e[g],c=f[g];e[0]===e[1]&&f[0]*f[1]!=1?a.splice(d,1):d++}return a}function fL(a){var b=parseFloat(a);return b==a&&(0!==b||!a5(a)||0>=a.indexOf("x"))?b:NaN}function fM(a){return!isNaN(fL(a))}function fN(){return Math.round(9*Math.random())}function fO(a,b){return null==a?b:null==b?a:a*b/function a(b,c){return 0===c?b:a(c,b%c)}(a,b)}var fP="series\0",fQ="\0_ec_\0";function fR(a){return a instanceof Array?a:null==a?[]:[a]}function fS(a,b,c){if(a){a[b]=a[b]||{},a.emphasis=a.emphasis||{},a.emphasis[b]=a.emphasis[b]||{};for(var d=0,e=c.length;d<e;d++){var f=c[d];!a.emphasis[b].hasOwnProperty(f)&&a[b].hasOwnProperty(f)&&(a.emphasis[b][f]=a[b][f])}}}var fT=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function fU(a){return!a8(a)||a3(a)||a instanceof Date?a:a.value}function fV(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p="normalMerge"===c,q="replaceMerge"===c,r="replaceAll"===c;a=a||[],b=(b||[]).slice();var s=bt();aX(b,function(a,c){if(!a8(a)){b[c]=null;return}});var t=function(a,b,c){var d=[];if("replaceAll"===c)return d;for(var e=0;e<a.length;e++){var f=a[e];f&&null!=f.id&&b.set(f.id,e),d.push({existing:"replaceMerge"===c||f$(f)?null:f,newOption:null,keyInfo:null,brandNew:null})}return d}(a,s,c);return(p||q)&&(d=t,e=a,f=s,aX(g=b,function(a,b){if(a&&null!=a.id){var c=fX(a.id),h=f.get(c);if(null!=h){var i=d[h];bl(!i.newOption,'Duplicated option on id "'+c+'".'),i.newOption=a,i.existing=e[h],g[b]=null}}})),p&&(h=t,aX(i=b,function(a,b){if(a&&null!=a.name)for(var c=0;c<h.length;c++){var d=h[c].existing;if(!h[c].newOption&&d&&(null==d.id||null==a.id)&&!f$(a)&&!f$(d)&&fW("name",d,a)){h[c].newOption=a,i[b]=null;return}}})),p||q?(j=t,k=b,l=q,aX(k,function(a){if(a){for(var b,c=0;(b=j[c])&&(b.newOption||f$(b.existing)||b.existing&&null!=a.id&&!fW("id",a,b.existing));)c++;b?(b.newOption=a,b.brandNew=l):j.push({newOption:a,brandNew:l,existing:null,keyInfo:null}),c++}})):r&&(m=t,aX(b,function(a){m.push({newOption:a,brandNew:!0,existing:null,keyInfo:null})})),n=t,o=bt(),aX(n,function(a){var b=a.existing;b&&o.set(b.id,a)}),aX(n,function(a){var b=a.newOption;bl(!b||null==b.id||!o.get(b.id)||o.get(b.id)===a,"id duplicates: "+(b&&b.id)),b&&null!=b.id&&o.set(b.id,a),a.keyInfo||(a.keyInfo={})}),aX(n,function(a,b){var c=a.existing,d=a.newOption,e=a.keyInfo;if(a8(d)){if(e.name=null!=d.name?fX(d.name):c?c.name:fP+b,c)e.id=fX(c.id);else if(null!=d.id)e.id=fX(d.id);else{var f=0;do e.id="\0"+e.name+"\0"+f++;while(o.get(e.id))}o.set(e.id,a)}}),t}function fW(a,b,c){var d=fY(b[a],null),e=fY(c[a],null);return null!=d&&null!=e&&d===e}function fX(a){return fY(a,"")}function fY(a,b){return null==a?b:a5(a)?a:a7(a)||a6(a)?a+"":b}function fZ(a){var b=a.name;return!!(b&&b.indexOf(fP))}function f$(a){return a&&null!=a.id&&0===fX(a.id).indexOf(fQ)}function f_(a,b){return null!=b.dataIndexInside?b.dataIndexInside:null!=b.dataIndex?a3(b.dataIndex)?aY(b.dataIndex,function(b){return a.indexOfRawIndex(b)}):a.indexOfRawIndex(b.dataIndex):null!=b.name?a3(b.name)?aY(b.name,function(b){return a.indexOfName(b)}):a.indexOfName(b.name):void 0}function f0(){var a="__ec_inner_"+f1++;return function(b){return b[a]||(b[a]={})}}var f1=fN();function f2(a,b,c){var d=f3(b,c),e=d.mainTypeSpecified,f=d.queryOptionMap,g=d.others,h=c?c.defaultMainType:null;return!e&&h&&f.set(h,{}),f.each(function(b,d){var e=f6(a,d,b,{useDefault:h===d,enableAll:!c||null==c.enableAll||c.enableAll,enableNone:!c||null==c.enableNone||c.enableNone});g[d+"Models"]=e.models,g[d+"Model"]=e.models[0]}),g}function f3(a,b){if(a5(a)){var c,d={};d[a+"Index"]=0,c=d}else c=a;var e=bt(),f={},g=!1;return aX(c,function(a,c){if("dataIndex"===c||"dataIndexInside"===c){f[c]=a;return}var d=c.match(/^(\w+)(Index|Id|Name)$/)||[],h=d[1],i=(d[2]||"").toLowerCase();!h||!i||b&&b.includeMainTypes&&0>aT(b.includeMainTypes,h)||(g=g||!!h,(e.get(h)||e.set(h,{}))[i]=a)}),{mainTypeSpecified:g,queryOptionMap:e,others:f}}var f4={useDefault:!0,enableAll:!1,enableNone:!1},f5={useDefault:!1,enableAll:!0,enableNone:!0};function f6(a,b,c,d){d=d||f4;var e=c.index,f=c.id,g=c.name,h={models:null,specified:null!=e||null!=f||null!=g};if(!h.specified){var i=void 0;return h.models=d.useDefault&&(i=a.getComponent(b))?[i]:[],h}if("none"===e||!1===e)if(d.enableNone)return h.models=[],h;else e=-1;return"all"===e&&(e=d.enableAll?f=g=null:-1),h.models=a.queryComponents({mainType:b,index:e,id:f,name:g}),h}function f7(a,b,c){a.setAttribute?a.setAttribute(b,c):a[b]=c}function f8(a,b){var c=bt(),d=[];return aX(a,function(a){var e=b(a);(c.get(e)||(d.push(e),c.set(e,[]))).push(a)}),{keys:d,buckets:c}}function f9(a,b,c,d,e){var f=null==b||"auto"===b;if(null==d)return d;if(a7(d)){var g,h=(d-(g=c||0))*e+g;return fu(h,f?Math.max(fw(c||0),fw(d)):b)}if(a5(d))return e<1?c:d;for(var i=[],j=Math.max(c?c.length:0,d.length),k=0;k<j;++k){var l=a.getDimensionInfo(k);if(l&&"ordinal"===l.type)i[k]=(e<1&&c?c:d)[k];else{var m=c&&c[k]?c[k]:0,n=d[k],h=(n-m)*e+m;i[k]=fu(h,f?Math.max(fw(m),fw(n)):b)}}return i}var ga=function(){function a(){}return a.prototype.reset=function(a,b,c,d){return this._list=a,this._step=d=d||1,this._idx=b,this._end=null!=c?c:d>0?a.length:0,this.item=null,this.key=NaN,this},a.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)&&(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0)},a}();function gb(a){a.option=a.parentModel=a.ecModel=null}var gc="___EC__COMPONENT__CONTAINER___",gd="___EC__EXTENDED_CLASS___";function ge(a){var b={main:"",sub:""};if(a){var c=a.split(".");b.main=c[0]||"",b.sub=c[1]||""}return b}function gf(a,b){a.$constructor=a,a.extend=function(a){var b,c,d=this;return a4(b=d)&&/^class\s/.test(Function.prototype.toString.call(b))?c=function(a){function b(){return a.apply(this,arguments)||this}return aq(b,a),b}(d):aU(c=function(){(a.$constructor||d).apply(this,arguments)},this),aQ(c.prototype,a),c[gd]=!0,c.extend=this.extend,c.superCall=gi,c.superApply=gj,c.superClass=d,c}}function gg(a,b){a.extend=b.extend}var gh=Math.round(10*Math.random());function gi(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];return this.superClass.prototype[b].apply(a,c)}function gj(a,b,c){return this.superClass.prototype[b].apply(a,c)}function gk(a){var b={};a.registerClass=function(a){var c=a.type||a.prototype.type;if(c){bl(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(c),'componentType "'+c+'" illegal'),a.prototype.type=c;var d,e,f=ge(c);f.sub?f.sub!==gc&&(((e=b[(d=f).main])&&e[gc]||((e=b[d.main]={})[gc]=!0),e)[f.sub]=a):b[f.main]=a}return a},a.getClass=function(a,c,d){var e=b[a];if(e&&e[gc]&&(e=c?e[c]:null),d&&!e)throw Error(c?"Component "+a+"."+(c||"")+" is used but not imported.":a+".type should be specified.");return e},a.getClassesByMainType=function(a){var c=ge(a),d=[],e=b[c.main];return e&&e[gc]?aX(e,function(a,b){b!==gc&&d.push(a)}):d.push(e),d},a.hasClass=function(a){return!!b[ge(a).main]},a.getAllClassMainTypes=function(){var a=[];return aX(b,function(b,c){a.push(c)}),a},a.hasSubTypes=function(a){var c=b[ge(a).main];return c&&c[gc]}}function gl(a,b){for(var c=0;c<a.length;c++)a[c][1]||(a[c][1]=a[c][0]);return b=b||!1,function(c,d,e){for(var f={},g=0;g<a.length;g++){var h=a[g][1];if(!(d&&aT(d,h)>=0||e&&0>aT(e,h))){var i=c.getShallow(h,b);null!=i&&(f[a[g][0]]=i)}}return f}}var gm=gl([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),gn=function(){function a(){}return a.prototype.getAreaStyle=function(a,b){return gm(this,a,b)},a}(),go=new dA(50);function gp(a,b,c,d,e){if(!a)return b;if("string"!=typeof a)return a;if(b&&b.__zrImageSrc===a||!c)return b;var f=go.get(a),g={hostEl:c,cb:d,cbPayload:e};return f?gr(b=f.image)||f.pending.push(g):((b=ax.loadImage(a,gq,gq)).__zrImageSrc=a,go.put(a,b.__cachedImgObj={image:b,pending:[g]})),b}function gq(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload),c.hostEl.dirty()}a.pending.length=0}function gr(a){return a&&a.width&&a.height}var gs=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function gt(a,b,c,d,e){var f={};return gu(f,a,b,c,d,e),f.text}function gu(a,b,c,d,e,f){if(!c){a.text="",a.isTruncated=!1;return}var g=(b+"").split("\n");f=gv(c,d,e,f);for(var h=!1,i={},j=0,k=g.length;j<k;j++)gw(i,g[j],f),g[j]=i.textLine,h=h||i.isTruncated;a.text=g.join("\n"),a.isTruncated=h}function gv(a,b,c,d){var e=aQ({},d=d||{});c=bh(c,"..."),e.maxIterations=bh(d.maxIterations,2);var f=e.minChar=bh(d.minChar,0),g=e.fontMeasureInfo=eT(b),h=g.asciiCharWidth;e.placeholder=bh(d.placeholder,"");for(var i=a=Math.max(0,a-1),j=0;j<f&&i>=h;j++)i-=h;var k=eW(g,c);return k>i&&(c="",k=0),i=a-k,e.ellipsis=c,e.ellipsisWidth=k,e.contentWidth=i,e.containerWidth=a,e}function gw(a,b,c){var d=c.containerWidth,e=c.contentWidth,f=c.fontMeasureInfo;if(!d){a.textLine="",a.isTruncated=!1;return}var g=eW(f,b);if(g<=d){a.textLine=b,a.isTruncated=!1;return}for(var h=0;;h++){if(g<=e||h>=c.maxIterations){b+=c.ellipsis;break}var i=0===h?function(a,b,c){for(var d=0,e=0,f=a.length;e<f&&d<b;e++)d+=eV(c,a.charCodeAt(e));return e}(b,e,f):g>0?Math.floor(b.length*e/g):0;g=eW(f,b=b.substr(0,i))}""===b&&(b=c.placeholder),a.textLine=b,a.isTruncated=!0}var gx=function(){},gy=function(a){this.tokens=[],a&&(this.tokens=a)},gz=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1};function gA(a,b,c,d,e){var f,g,h=""===b,i=e&&c.rich[e]||{},j=a.lines,k=i.font||c.font,l=!1;if(d){var m=i.padding,n=m?m[1]+m[3]:0;if(null!=i.width&&"auto"!==i.width){var o=e0(i.width,d.width)+n;j.length>0&&o+d.accumWidth>d.width&&(f=b.split("\n"),l=!0),d.accumWidth=o}else{var p=gC(b,k,d.width,d.breakAll,d.accumWidth);d.accumWidth=p.accumWidth+n,g=p.linesWidths,f=p.lines}}f||(f=b.split("\n"));for(var q=eT(k),r=0;r<f.length;r++){var s=f[r],t=new gx;if(t.styleName=e,t.text=s,t.isLineHolder=!s&&!h,"number"==typeof i.width?t.width=i.width:t.width=g?g[r]:eW(q,s),r||l)j.push(new gy([t]));else{var u=(j[j.length-1]||(j[0]=new gy)).tokens,v=u.length;1===v&&u[0].isLineHolder?u[0]=t:(s||!v||h)&&u.push(t)}}}var gB=aZ(",&?/;] ".split(""),function(a,b){return a[b]=!0,a},{});function gC(a,b,c,d,e){for(var f=[],g=[],h="",i="",j=0,k=0,l=eT(b),m=0;m<a.length;m++){var n=a.charAt(m);if("\n"===n){i&&(h+=i,k+=j),f.push(h),g.push(k),h="",i="",j=0,k=0;continue}var o=eV(l,n.charCodeAt(0)),p=!d&&!function(a){var b;return(!((b=a.charCodeAt(0))>=32)||!(b<=591))&&(!(b>=880)||!(b<=4351))&&(!(b>=4608)||!(b<=5119))&&(!(b>=7680)||!(b<=8303))||!!gB[a]}(n);if(f.length?k+o>c:e+k+o>c){k?(h||i)&&(p?(h||(h=i,i="",k=j=0),f.push(h),g.push(k-j),i+=n,j+=o,h="",k=j):(i&&(h+=i,i="",j=0),f.push(h),g.push(k),h=n,k=o)):p?(f.push(i),g.push(j),i=n,j=o):(f.push(n),g.push(o));continue}k+=o,p?(i+=n,j+=o):(i&&(h+=i,i="",j=0),h+=n)}return i&&(h+=i),h&&(f.push(h),g.push(k)),1===f.length&&(k+=e),{accumWidth:k,lines:f,linesWidths:g}}function gD(a,b,c,d,e,f){if(a.baseX=c,a.baseY=d,a.outerWidth=a.outerHeight=null,b){var g=2*b.width,h=2*b.height;cS.set(gE,eZ(c,g,e),e$(d,h,f),g,h),cS.intersect(b,gE,null,gF);var i=gF.outIntersectRect;a.outerWidth=i.width,a.outerHeight=i.height,a.baseX=eZ(i.x,i.width,e,!0),a.baseY=e$(i.y,i.height,f,!0)}}var gE=new cS(0,0,0,0),gF={outIntersectRect:{},clamp:!0};function gG(a){return null!=a?a+="":a=""}function gH(a,b,c,d){var e=new cS(eZ(a.x||0,b,a.textAlign),e$(a.y||0,c,a.textBaseline),b,c),f=null!=d?d:gI(a)?a.lineWidth:0;return f>0&&(e.x-=f/2,e.y-=f/2,e.width+=f,e.height+=f),e}function gI(a){var b=a.stroke;return null!=b&&"none"!==b&&a.lineWidth>0}var gJ="__zr_style_"+Math.round(10*Math.random()),gK={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},gL={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};gK[gJ]=!0;var gM=["z","z2","invisible"],gN=["invisible"],gO=function(a){var b;function c(b){return a.call(this,b)||this}return bC(c,a),c.prototype._init=function(b){for(var c=a0(b),d=0;d<c.length;d++){var e=c[d];"style"===e?this.useStyle(b[e]):a.prototype.attrKV.call(this,e,b[e])}this.style||this.useStyle({})},c.prototype.beforeBrush=function(){},c.prototype.afterBrush=function(){},c.prototype.innerBeforeBrush=function(){},c.prototype.innerAfterBrush=function(){},c.prototype.shouldBePainted=function(a,b,c,d){var e,f,g,h=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(e=this,f=a,g=b,gP.copy(e.getBoundingRect()),e.transform&&gP.applyTransform(e.transform),gQ.width=f,gQ.height=g,!gP.intersect(gQ))||h&&!h[0]&&!h[3])return!1;if(c&&this.__clipPaths&&this.__clipPaths.length){for(var i=0;i<this.__clipPaths.length;++i)if(this.__clipPaths[i].isZeroArea())return!1}if(d&&this.parent)for(var j=this.parent;j;){if(j.ignore)return!1;j=j.parent}return!0},c.prototype.contain=function(a,b){return this.rectContain(a,b)},c.prototype.traverse=function(a,b){a.call(b,this)},c.prototype.rectContain=function(a,b){var c=this.transformCoordToLocal(a,b);return this.getBoundingRect().contain(c[0],c[1])},c.prototype.getPaintRect=function(){var a=this._paintRect;if(!this._paintRect||this.__dirty){var b=this.transform,c=this.getBoundingRect(),d=this.style,e=d.shadowBlur||0,f=d.shadowOffsetX||0,g=d.shadowOffsetY||0;a=this._paintRect||(this._paintRect=new cS(0,0,0,0)),b?cS.applyTransform(a,c,b):a.copy(c),(e||f||g)&&(a.width+=2*e+Math.abs(f),a.height+=2*e+Math.abs(g),a.x=Math.min(a.x,a.x+f-e),a.y=Math.min(a.y,a.y+g-e));var h=this.dirtyRectTolerance;a.isZero()||(a.x=Math.floor(a.x-h),a.y=Math.floor(a.y-h),a.width=Math.ceil(a.width+1+2*h),a.height=Math.ceil(a.height+1+2*h))}return a},c.prototype.setPrevPaintRect=function(a){a?(this._prevPaintRect=this._prevPaintRect||new cS(0,0,0,0),this._prevPaintRect.copy(a)):this._prevPaintRect=null},c.prototype.getPrevPaintRect=function(){return this._prevPaintRect},c.prototype.animateStyle=function(a){return this.animate("style",a)},c.prototype.updateDuringAnimation=function(a){"style"===a?this.dirtyStyle():this.markRedraw()},c.prototype.attrKV=function(b,c){"style"!==b?a.prototype.attrKV.call(this,b,c):this.style?this.setStyle(c):this.useStyle(c)},c.prototype.setStyle=function(a,b){return"string"==typeof a?this.style[a]=b:aQ(this.style,a),this.dirtyStyle(),this},c.prototype.dirtyStyle=function(a){a||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},c.prototype.dirty=function(){this.dirtyStyle()},c.prototype.styleChanged=function(){return!!(2&this.__dirty)},c.prototype.styleUpdated=function(){this.__dirty&=-3},c.prototype.createStyle=function(a){return bv(gK,a)},c.prototype.useStyle=function(a){a[gJ]||(a=this.createStyle(a)),this.__inHover?this.__hoverStyle=a:this.style=a,this.dirtyStyle()},c.prototype.isStyleObject=function(a){return a[gJ]},c.prototype._innerSaveToNormal=function(b){a.prototype._innerSaveToNormal.call(this,b);var c=this._normalState;b.style&&!c.style&&(c.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(b,c,gM)},c.prototype._applyStateObj=function(b,c,d,e,f,g){a.prototype._applyStateObj.call(this,b,c,d,e,f,g);var h,i=!(c&&e);if(c&&c.style?f?e?h=c.style:(h=this._mergeStyle(this.createStyle(),d.style),this._mergeStyle(h,c.style)):(h=this._mergeStyle(this.createStyle(),e?this.style:d.style),this._mergeStyle(h,c.style)):i&&(h=d.style),h)if(f){var j=this.style;if(this.style=this.createStyle(i?{}:j),i)for(var k=a0(j),l=0;l<k.length;l++){var m=k[l];m in h&&(h[m]=h[m],this.style[m]=j[m])}for(var n=a0(h),l=0;l<n.length;l++){var m=n[l];this.style[m]=this.style[m]}this._transitionState(b,{style:h},g,this.getAnimationStyleProps())}else this.useStyle(h);for(var o=this.__inHover?gN:gM,l=0;l<o.length;l++){var m=o[l];c&&null!=c[m]?this[m]=c[m]:i&&null!=d[m]&&(this[m]=d[m])}},c.prototype._mergeStates=function(b){for(var c,d=a.prototype._mergeStates.call(this,b),e=0;e<b.length;e++){var f=b[e];f.style&&(c=c||{},this._mergeStyle(c,f.style))}return c&&(d.style=c),d},c.prototype._mergeStyle=function(a,b){return aQ(a,b),a},c.prototype.getAnimationStyleProps=function(){return gL},c.initDefaultProps=void((b=c.prototype).type="displayable",b.invisible=!1,b.z=0,b.z2=0,b.zlevel=0,b.culling=!1,b.cursor="pointer",b.rectHover=!1,b.incremental=!1,b._rect=null,b.dirtyRectTolerance=0,b.__dirty=3),c}(e8),gP=new cS(0,0,0,0),gQ=new cS(0,0,0,0),gR=Math.min,gS=Math.max,gT=Math.sin,gU=Math.cos,gV=2*Math.PI,gW=bD(),gX=bD(),gY=bD();function gZ(a,b,c){if(0!==a.length){for(var d=a[0],e=d[0],f=d[0],g=d[1],h=d[1],i=1;i<a.length;i++)e=gR(e,(d=a[i])[0]),f=gS(f,d[0]),g=gR(g,d[1]),h=gS(h,d[1]);b[0]=e,b[1]=g,c[0]=f,c[1]=h}}function g$(a,b,c,d,e,f){e[0]=gR(a,c),e[1]=gR(b,d),f[0]=gS(a,c),f[1]=gS(b,d)}var g_=[],g0=[],g1={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},g2=[],g3=[],g4=[],g5=[],g6=[],g7=[],g8=Math.min,g9=Math.max,ha=Math.cos,hb=Math.sin,hc=Math.abs,hd=Math.PI,he=2*hd,hf="undefined"!=typeof Float32Array,hg=[];function hh(a){return Math.round(a/hd*1e8)/1e8%2*hd}function hi(a,b){var c=hh(a[0]);c<0&&(c+=he);var d=c-a[0],e=a[1];e+=d,!b&&e-c>=he?e=c+he:b&&c-e>=he?e=c-he:!b&&c>e?e=c+(he-hh(c-e)):b&&c<e&&(e=c-(he-hh(e-c))),a[0]=c,a[1]=e}var hj=function(){var a;function b(a){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,a&&(this._saveData=!1),this._saveData&&(this.data=[])}return b.prototype.increaseVersion=function(){this._version++},b.prototype.getVersion=function(){return this._version},b.prototype.setScale=function(a,b,c){(c=c||0)>0&&(this._ux=hc(c/eH/a)||0,this._uy=hc(c/eH/b)||0)},b.prototype.setDPR=function(a){this.dpr=a},b.prototype.setContext=function(a){this._ctx=a},b.prototype.getContext=function(){return this._ctx},b.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},b.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},b.prototype.moveTo=function(a,b){return this._drawPendingPt(),this.addData(g1.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},b.prototype.lineTo=function(a,b){var c=hc(a-this._xi),d=hc(b-this._yi),e=c>this._ux||d>this._uy;if(this.addData(g1.L,a,b),this._ctx&&e&&this._ctx.lineTo(a,b),e)this._xi=a,this._yi=b,this._pendingPtDist=0;else{var f=c*c+d*d;f>this._pendingPtDist&&(this._pendingPtX=a,this._pendingPtY=b,this._pendingPtDist=f)}return this},b.prototype.bezierCurveTo=function(a,b,c,d,e,f){return this._drawPendingPt(),this.addData(g1.C,a,b,c,d,e,f),this._ctx&&this._ctx.bezierCurveTo(a,b,c,d,e,f),this._xi=e,this._yi=f,this},b.prototype.quadraticCurveTo=function(a,b,c,d){return this._drawPendingPt(),this.addData(g1.Q,a,b,c,d),this._ctx&&this._ctx.quadraticCurveTo(a,b,c,d),this._xi=c,this._yi=d,this},b.prototype.arc=function(a,b,c,d,e,f){this._drawPendingPt(),hg[0]=d,hg[1]=e,hi(hg,f),d=hg[0];var g=(e=hg[1])-d;return this.addData(g1.A,a,b,c,c,d,g,0,+!f),this._ctx&&this._ctx.arc(a,b,c,d,e,f),this._xi=ha(e)*c+a,this._yi=hb(e)*c+b,this},b.prototype.arcTo=function(a,b,c,d,e){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},b.prototype.rect=function(a,b,c,d){return this._drawPendingPt(),this._ctx&&this._ctx.rect(a,b,c,d),this.addData(g1.R,a,b,c,d),this},b.prototype.closePath=function(){this._drawPendingPt(),this.addData(g1.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&a.closePath(),this._xi=b,this._yi=c,this},b.prototype.fill=function(a){a&&a.fill(),this.toStatic()},b.prototype.stroke=function(a){a&&a.stroke(),this.toStatic()},b.prototype.len=function(){return this._len},b.prototype.setData=function(a){if(this._saveData){var b=a.length;!(this.data&&this.data.length===b)&&hf&&(this.data=new Float32Array(b));for(var c=0;c<b;c++)this.data[c]=a[c];this._len=b}},b.prototype.appendPath=function(a){if(this._saveData){a instanceof Array||(a=[a]);for(var b=a.length,c=0,d=this._len,e=0;e<b;e++)c+=a[e].len();var f=this.data;if(hf&&(f instanceof Float32Array||!f)&&(this.data=new Float32Array(d+c),d>0&&f))for(var g=0;g<d;g++)this.data[g]=f[g];for(var e=0;e<b;e++)for(var h=a[e].data,g=0;g<h.length;g++)this.data[d++]=h[g];this._len=d}},b.prototype.addData=function(a,b,c,d,e,f,g,h,i){if(this._saveData){var j=this.data;this._len+arguments.length>j.length&&(this._expandData(),j=this.data);for(var k=0;k<arguments.length;k++)j[this._len++]=arguments[k]}},b.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},b.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},b.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var a=this.data;a instanceof Array&&(a.length=this._len,hf&&this._len>11&&(this.data=new Float32Array(a)))}},b.prototype.getBoundingRect=function(){g4[0]=g4[1]=g6[0]=g6[1]=Number.MAX_VALUE,g5[0]=g5[1]=g7[0]=g7[1]=-Number.MAX_VALUE;var a,b=this.data,c=0,d=0,e=0,f=0;for(a=0;a<this._len;){var g=b[a++],h=1===a;switch(h&&(c=b[a],d=b[a+1],e=c,f=d),g){case g1.M:c=e=b[a++],d=f=b[a++],g6[0]=e,g6[1]=f,g7[0]=e,g7[1]=f;break;case g1.L:g$(c,d,b[a],b[a+1],g6,g7),c=b[a++],d=b[a++];break;case g1.C:!function(a,b,c,d,e,f,g,h,i,j){var k=dm(a,c,e,g,g_);i[0]=1/0,i[1]=1/0,j[0]=-1/0,j[1]=-1/0;for(var l=0;l<k;l++){var m=dj(a,c,e,g,g_[l]);i[0]=gR(m,i[0]),j[0]=gS(m,j[0])}k=dm(b,d,f,h,g0);for(var l=0;l<k;l++){var n=dj(b,d,f,h,g0[l]);i[1]=gR(n,i[1]),j[1]=gS(n,j[1])}i[0]=gR(a,i[0]),j[0]=gS(a,j[0]),i[0]=gR(g,i[0]),j[0]=gS(g,j[0]),i[1]=gR(b,i[1]),j[1]=gS(b,j[1]),i[1]=gR(h,i[1]),j[1]=gS(h,j[1])}(c,d,b[a++],b[a++],b[a++],b[a++],b[a],b[a+1],g6,g7),c=b[a++],d=b[a++];break;case g1.Q:!function(a,b,c,d,e,f,g,h){var i=gS(gR(ds(a,c,e),1),0),j=gS(gR(ds(b,d,f),1),0),k=dq(a,c,e,i),l=dq(b,d,f,j);g[0]=gR(a,e,k),g[1]=gR(b,f,l),h[0]=gS(a,e,k),h[1]=gS(b,f,l)}(c,d,b[a++],b[a++],b[a],b[a+1],g6,g7),c=b[a++],d=b[a++];break;case g1.A:var i=b[a++],j=b[a++],k=b[a++],l=b[a++],m=b[a++],n=b[a++]+m;a+=1;var o=!b[a++];h&&(e=ha(m)*k+i,f=hb(m)*l+j),function(a,b,c,d,e,f,g,h,i){var j=b$,k=b_,l=Math.abs(e-f);if(l%gV<1e-4&&l>1e-4){h[0]=a-c,h[1]=b-d,i[0]=a+c,i[1]=b+d;return}if(gW[0]=gU(e)*c+a,gW[1]=gT(e)*d+b,gX[0]=gU(f)*c+a,gX[1]=gT(f)*d+b,j(h,gW,gX),k(i,gW,gX),(e%=gV)<0&&(e+=gV),(f%=gV)<0&&(f+=gV),e>f&&!g?f+=gV:e<f&&g&&(e+=gV),g){var m=f;f=e,e=m}for(var n=0;n<f;n+=Math.PI/2)n>e&&(gY[0]=gU(n)*c+a,gY[1]=gT(n)*d+b,j(h,gY,h),k(i,gY,i))}(i,j,k,l,m,n,o,g6,g7),c=ha(n)*k+i,d=hb(n)*l+j;break;case g1.R:g$(e=c=b[a++],f=d=b[a++],e+b[a++],f+b[a++],g6,g7);break;case g1.Z:c=e,d=f}b$(g4,g4,g6),b_(g5,g5,g7)}return 0===a&&(g4[0]=g4[1]=g5[0]=g5[1]=0),new cS(g4[0],g4[1],g5[0]-g4[0],g5[1]-g4[1])},b.prototype._calculateLength=function(){var a=this.data,b=this._len,c=this._ux,d=this._uy,e=0,f=0,g=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var i=this._pathSegLen,j=0,k=0,l=0;l<b;){var m=a[l++],n=1===l;n&&(e=a[l],f=a[l+1],g=e,h=f);var o=-1;switch(m){case g1.M:e=g=a[l++],f=h=a[l++];break;case g1.L:var p=a[l++],q=a[l++],r=p-e,s=q-f;(hc(r)>c||hc(s)>d||l===b-1)&&(o=Math.sqrt(r*r+s*s),e=p,f=q);break;case g1.C:var t=a[l++],u=a[l++],p=a[l++],q=a[l++],v=a[l++],w=a[l++];o=function(a,b,c,d,e,f,g,h,i){for(var j=a,k=b,l=0,m=1;m<=10;m++){var n=.1*m,o=dj(a,c,e,g,n),p=dj(b,d,f,h,n),q=o-j,r=p-k;l+=Math.sqrt(q*q+r*r),j=o,k=p}return l}(e,f,t,u,p,q,v,w,0),e=v,f=w;break;case g1.Q:var t=a[l++],u=a[l++],p=a[l++],q=a[l++];o=function(a,b,c,d,e,f,g){for(var h=a,i=b,j=0,k=1;k<=10;k++){var l=.1*k,m=dq(a,c,e,l),n=dq(b,d,f,l),o=m-h,p=n-i;j+=Math.sqrt(o*o+p*p),h=m,i=n}return j}(e,f,t,u,p,q,0),e=p,f=q;break;case g1.A:var x=a[l++],y=a[l++],z=a[l++],A=a[l++],B=a[l++],C=a[l++],D=C+B;l+=1,n&&(g=ha(B)*z+x,h=hb(B)*A+y),o=g9(z,A)*g8(he,Math.abs(C)),e=ha(D)*z+x,f=hb(D)*A+y;break;case g1.R:g=e=a[l++],h=f=a[l++],o=2*a[l++]+2*a[l++];break;case g1.Z:var r=g-e,s=h-f;o=Math.sqrt(r*r+s*s),e=g,f=h}o>=0&&(i[k++]=o,j+=o)}return this._pathLen=j,j},b.prototype.rebuildPath=function(a,b){var c,d,e,f,g,h,i,j,k,l,m=this.data,n=this._ux,o=this._uy,p=this._len,q=b<1,r=0,s=0,t=0;if(!q||(this._pathSegLen||this._calculateLength(),i=this._pathSegLen,j=b*this._pathLen))a:for(var u=0;u<p;){var v=m[u++],w=1===u;switch(w&&(e=m[u],f=m[u+1],c=e,d=f),v!==g1.L&&t>0&&(a.lineTo(k,l),t=0),v){case g1.M:c=e=m[u++],d=f=m[u++],a.moveTo(e,f);break;case g1.L:g=m[u++],h=m[u++];var x=hc(g-e),y=hc(h-f);if(x>n||y>o){if(q){var z=i[s++];if(r+z>j){var A=(j-r)/z;a.lineTo(e*(1-A)+g*A,f*(1-A)+h*A);break a}r+=z}a.lineTo(g,h),e=g,f=h,t=0}else{var B=x*x+y*y;B>t&&(k=g,l=h,t=B)}break;case g1.C:var C=m[u++],D=m[u++],E=m[u++],F=m[u++],G=m[u++],H=m[u++];if(q){var z=i[s++];if(r+z>j){var A=(j-r)/z;dn(e,C,E,G,A,g2),dn(f,D,F,H,A,g3),a.bezierCurveTo(g2[1],g3[1],g2[2],g3[2],g2[3],g3[3]);break a}r+=z}a.bezierCurveTo(C,D,E,F,G,H),e=G,f=H;break;case g1.Q:var C=m[u++],D=m[u++],E=m[u++],F=m[u++];if(q){var z=i[s++];if(r+z>j){var A=(j-r)/z;dt(e,C,E,A,g2),dt(f,D,F,A,g3),a.quadraticCurveTo(g2[1],g3[1],g2[2],g3[2]);break a}r+=z}a.quadraticCurveTo(C,D,E,F),e=E,f=F;break;case g1.A:var I=m[u++],J=m[u++],K=m[u++],L=m[u++],M=m[u++],N=m[u++],O=m[u++],P=!m[u++],Q=K>L?K:L,R=hc(K-L)>.001,S=M+N,T=!1;if(q){var z=i[s++];r+z>j&&(S=M+N*(j-r)/z,T=!0),r+=z}if(R&&a.ellipse?a.ellipse(I,J,K,L,O,M,S,P):a.arc(I,J,Q,M,S,P),T)break a;w&&(c=ha(M)*K+I,d=hb(M)*L+J),e=ha(S)*K+I,f=hb(S)*L+J;break;case g1.R:c=e=m[u],d=f=m[u+1],g=m[u++],h=m[u++];var U=m[u++],V=m[u++];if(q){var z=i[s++];if(r+z>j){var W=j-r;a.moveTo(g,h),a.lineTo(g+g8(W,U),h),(W-=U)>0&&a.lineTo(g+U,h+g8(W,V)),(W-=V)>0&&a.lineTo(g+g9(U-W,0),h+V),(W-=U)>0&&a.lineTo(g,h+g9(V-W,0));break a}r+=z}a.rect(g,h,U,V);break;case g1.Z:if(q){var z=i[s++];if(r+z>j){var A=(j-r)/z;a.lineTo(e*(1-A)+c*A,f*(1-A)+d*A);break a}r+=z}a.closePath(),e=c,f=d}}},b.prototype.clone=function(){var a=new b,c=this.data;return a.data=c.slice?c.slice():Array.prototype.slice.call(c),a._len=this._len,a},b.prototype.canSave=function(){return!!this._saveData},b.CMD=g1,b.initDefaultProps=void((a=b.prototype)._saveData=!0,a._ux=0,a._uy=0,a._pendingPtDist=0,a._version=0),b}();function hk(a,b,c,d,e,f,g){if(0===e)return!1;var h=0,i=a;if(g>b+e&&g>d+e||g<b-e&&g<d-e||f>a+e&&f>c+e||f<a-e&&f<c-e)return!1;if(a===c)return Math.abs(f-a)<=e/2;h=(b-d)/(a-c);var j=h*f-g+(i=(a*d-c*b)/(a-c));return j*j/(h*h+1)<=e/2*e/2}function hl(a,b,c,d,e,f,g,h,i){return 0!==g&&(!(i>b+g)||!(i>d+g)||!(i>f+g))&&(!(i<b-g)||!(i<d-g)||!(i<f-g))&&(!(h>a+g)||!(h>c+g)||!(h>e+g))&&(!(h<a-g)||!(h<c-g)||!(h<e-g))&&du(a,b,c,d,e,f,h,i,null)<=g/2}var hm=2*Math.PI;function hn(a){return(a%=hm)<0&&(a+=hm),a}var ho=2*Math.PI;function hp(a,b,c,d,e,f){if(f>b&&f>d||f<b&&f<d||d===b)return 0;var g=(f-b)/(d-b),h=d<b?1:-1;(1===g||0===g)&&(h=d<b?.5:-.5);var i=g*(c-a)+a;return i===e?1/0:i>e?h:0}var hq=hj.CMD,hr=2*Math.PI,hs=[-1,-1,-1],ht=[-1,-1];function hu(a,b,c,d,e){for(var f,g,h=a.data,i=a.len(),j=0,k=0,l=0,m=0,n=0,o=0;o<i;){var p,q,r,s,t,u,v,w,x=h[o++],y=1===o;switch(x===hq.M&&o>1&&!c&&(j+=hp(k,l,m,n,d,e)),y&&(k=h[o],l=h[o+1],m=k,n=l),x){case hq.M:m=h[o++],n=h[o++],k=m,l=n;break;case hq.L:if(c){if(hk(k,l,h[o],h[o+1],b,d,e))return!0}else j+=hp(k,l,h[o],h[o+1],d,e)||0;k=h[o++],l=h[o++];break;case hq.C:if(c){if(p=k,q=l,r=h[o++],s=h[o++],t=h[o++],u=h[o++],v=h[o],w=h[o+1],0!==b&&(!(e>q+b)||!(e>s+b)||!(e>u+b)||!(e>w+b))&&(!(e<q-b)||!(e<s-b)||!(e<u-b)||!(e<w-b))&&(!(d>p+b)||!(d>r+b)||!(d>t+b)||!(d>v+b))&&(!(d<p-b)||!(d<r-b)||!(d<t-b)||!(d<v-b))&&dp(p,q,r,s,t,u,v,w,d,e,null)<=b/2)return!0}else j+=function(a,b,c,d,e,f,g,h,i,j){if(j>b&&j>d&&j>f&&j>h||j<b&&j<d&&j<f&&j<h)return 0;var k=dl(b,d,f,h,j,hs);if(0===k)return 0;for(var l=0,m=-1,n=void 0,o=void 0,p=0;p<k;p++){var q=hs[p],r=0===q||1===q?.5:1;dj(a,c,e,g,q)<i||(m<0&&(m=dm(b,d,f,h,ht),ht[1]<ht[0]&&m>1&&function(){var a=ht[0];ht[0]=ht[1],ht[1]=a}(),n=dj(b,d,f,h,ht[0]),m>1&&(o=dj(b,d,f,h,ht[1]))),2===m?q<ht[0]?l+=n<b?r:-r:q<ht[1]?l+=o<n?r:-r:l+=h<o?r:-r:q<ht[0]?l+=n<b?r:-r:l+=h<n?r:-r)}return l}(k,l,h[o++],h[o++],h[o++],h[o++],h[o],h[o+1],d,e)||0;k=h[o++],l=h[o++];break;case hq.Q:if(c){if(hl(k,l,h[o++],h[o++],h[o],h[o+1],b,d,e))return!0}else j+=function(a,b,c,d,e,f,g,h){if(h>b&&h>d&&h>f||h<b&&h<d&&h<f)return 0;var i=function(a,b,c,d,e){var f=a-2*b+c,g=2*(b-a),h=a-d,i=0;if(dh(f)){if(di(g)){var j=-h/g;j>=0&&j<=1&&(e[i++]=j)}}else{var k=g*g-4*f*h;if(dh(k)){var j=-g/(2*f);j>=0&&j<=1&&(e[i++]=j)}else if(k>0){var l=db(k),j=(-g+l)/(2*f),m=(-g-l)/(2*f);j>=0&&j<=1&&(e[i++]=j),m>=0&&m<=1&&(e[i++]=m)}}return i}(b,d,f,h,hs);if(0===i)return 0;var j=ds(b,d,f);if(j>=0&&j<=1){for(var k=0,l=dq(b,d,f,j),m=0;m<i;m++){var n=0===hs[m]||1===hs[m]?.5:1,o=dq(a,c,e,hs[m]);o<g||(hs[m]<j?k+=l<b?n:-n:k+=f<l?n:-n)}return k}var n=0===hs[0]||1===hs[0]?.5:1,o=dq(a,c,e,hs[0]);return o<g?0:f<b?n:-n}(k,l,h[o++],h[o++],h[o],h[o+1],d,e)||0;k=h[o++],l=h[o++];break;case hq.A:var z=h[o++],A=h[o++],B=h[o++],C=h[o++],D=h[o++],E=h[o++];o+=1;var F=!!(1-h[o++]);f=Math.cos(D)*B+z,g=Math.sin(D)*C+A,y?(m=f,n=g):j+=hp(k,l,f,g,d,e);var G=(d-z)*C/B+z;if(c){if(function(a,b,c,d,e,f,g,h,i){if(0===g)return!1;var j=Math.sqrt((h-=a)*h+(i-=b)*i);if(j-g>c||j+g<c)return!1;if(Math.abs(d-e)%ho<1e-4)return!0;if(f){var k=d;d=hn(e),e=hn(k)}else d=hn(d),e=hn(e);d>e&&(e+=ho);var l=Math.atan2(i,h);return l<0&&(l+=ho),l>=d&&l<=e||l+ho>=d&&l+ho<=e}(z,A,C,D,D+E,F,b,G,e))return!0}else j+=function(a,b,c,d,e,f,g,h){if((h-=b)>c||h<-c)return 0;var i=Math.sqrt(c*c-h*h);hs[0]=-i,hs[1]=i;var j=Math.abs(d-e);if(j<1e-4)return 0;if(j>=hr-1e-4){d=0,e=hr;var k=f?1:-1;return g>=hs[0]+a&&g<=hs[1]+a?k:0}if(d>e){var l=d;d=e,e=l}d<0&&(d+=hr,e+=hr);for(var m=0,n=0;n<2;n++){var o=hs[n];if(o+a>g){var p=Math.atan2(h,o),k=f?1:-1;p<0&&(p=hr+p),(p>=d&&p<=e||p+hr>=d&&p+hr<=e)&&(p>Math.PI/2&&p<1.5*Math.PI&&(k=-k),m+=k)}}return m}(z,A,C,D,D+E,F,G,e);k=Math.cos(D+E)*B+z,l=Math.sin(D+E)*C+A;break;case hq.R:m=k=h[o++],n=l=h[o++];var H=h[o++],I=h[o++];if(f=m+H,g=n+I,c){if(hk(m,n,f,n,b,d,e)||hk(f,n,f,g,b,d,e)||hk(f,g,m,g,b,d,e)||hk(m,g,m,n,b,d,e))return!0}else j+=hp(f,n,f,g,d,e),j+=hp(m,g,m,n,d,e);break;case hq.Z:if(c){if(hk(k,l,m,n,b,d,e))return!0}else j+=hp(k,l,m,n,d,e);k=m,l=n}}return c||1e-4>Math.abs(l-n)||(j+=hp(k,l,m,n,d,e)||0),0!==j}var hv=aR({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},gK),hw={style:aR({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},gL.style)},hx=eR.concat(["invisible","culling","z","z2","zlevel","parent"]);let hy=function(a){var b;function c(b){return a.call(this,b)||this}return bC(c,a),c.prototype.update=function(){var b=this;a.prototype.update.call(this);var d=this.style;if(d.decal){var e=this._decalEl=this._decalEl||new c;e.buildPath===c.prototype.buildPath&&(e.buildPath=function(a){b.buildPath(a,b.shape)}),e.silent=!0;var f=e.style;for(var g in d)f[g]!==d[g]&&(f[g]=d[g]);f.fill=d.fill?d.decal:null,f.decal=null,f.shadowColor=null,d.strokeFirst&&(f.stroke=null);for(var h=0;h<hx.length;++h)e[hx[h]]=this[hx[h]];e.__dirty|=1}else this._decalEl&&(this._decalEl=null)},c.prototype.getDecalElement=function(){return this._decalEl},c.prototype._init=function(b){var c=a0(b);this.shape=this.getDefaultShape();var d=this.getDefaultStyle();d&&this.useStyle(d);for(var e=0;e<c.length;e++){var f=c[e],g=b[f];"style"===f?this.style?aQ(this.style,g):this.useStyle(g):"shape"===f?aQ(this.shape,g):a.prototype.attrKV.call(this,f,g)}this.style||this.useStyle({})},c.prototype.getDefaultStyle=function(){return null},c.prototype.getDefaultShape=function(){return{}},c.prototype.canBeInsideText=function(){return this.hasFill()},c.prototype.getInsideTextFill=function(){var a=this.style.fill;if("none"!==a){if(a5(a)){var b=dX(a,0);return b>.5?eI:b>.2?"#eee":eJ}else if(a)return eJ}return eI},c.prototype.getInsideTextStroke=function(a){var b=this.style.fill;if(a5(b)){var c=this.__zr;if(!!(c&&c.isDarkMode())==.4>dX(a,0))return b}},c.prototype.buildPath=function(a,b,c){},c.prototype.pathUpdated=function(){this.__dirty&=-5},c.prototype.getUpdatedPathProxy=function(a){return this.path||this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,a),this.path},c.prototype.createPathProxy=function(){this.path=new hj(!1)},c.prototype.hasStroke=function(){var a=this.style,b=a.stroke;return null!=b&&"none"!==b&&a.lineWidth>0},c.prototype.hasFill=function(){var a=this.style.fill;return null!=a&&"none"!==a},c.prototype.getBoundingRect=function(){var a=this._rect,b=this.style,c=!a;if(c){var d=!1;this.path||(d=!0,this.createPathProxy());var e=this.path;(d||4&this.__dirty)&&(e.beginPath(),this.buildPath(e,this.shape,!1),this.pathUpdated()),a=e.getBoundingRect()}if(this._rect=a,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=a.clone());if(this.__dirty||c){f.copy(a);var g=b.strokeNoScale?this.getLineScale():1,h=b.lineWidth;if(!this.hasFill()){var i=this.strokeContainThreshold;h=Math.max(h,null==i?4:i)}g>1e-10&&(f.width+=h/g,f.height+=h/g,f.x-=h/g/2,f.y-=h/g/2)}return f}return a},c.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),e=this.style;if(a=c[0],b=c[1],d.contain(a,b)){var f=this.path;if(this.hasStroke()){var g=e.lineWidth,h=e.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(g=Math.max(g,this.strokeContainThreshold)),hu(f,g/h,!0,a,b)))return!0}if(this.hasFill())return hu(f,0,!1,a,b)}return!1},c.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},c.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},c.prototype.animateShape=function(a){return this.animate("shape",a)},c.prototype.updateDuringAnimation=function(a){"style"===a?this.dirtyStyle():"shape"===a?this.dirtyShape():this.markRedraw()},c.prototype.attrKV=function(b,c){"shape"===b?this.setShape(c):a.prototype.attrKV.call(this,b,c)},c.prototype.setShape=function(a,b){var c=this.shape;return c||(c=this.shape={}),"string"==typeof a?c[a]=b:aQ(c,a),this.dirtyShape(),this},c.prototype.shapeChanged=function(){return!!(4&this.__dirty)},c.prototype.createStyle=function(a){return bv(hv,a)},c.prototype._innerSaveToNormal=function(b){a.prototype._innerSaveToNormal.call(this,b);var c=this._normalState;b.shape&&!c.shape&&(c.shape=aQ({},this.shape))},c.prototype._applyStateObj=function(b,c,d,e,f,g){a.prototype._applyStateObj.call(this,b,c,d,e,f,g);var h,i=!(c&&e);if(c&&c.shape?f?e?h=c.shape:(h=aQ({},d.shape),aQ(h,c.shape)):(h=aQ({},e?this.shape:d.shape),aQ(h,c.shape)):i&&(h=d.shape),h)if(f){this.shape=aQ({},this.shape);for(var j={},k=a0(h),l=0;l<k.length;l++){var m=k[l];"object"==typeof h[m]?this.shape[m]=h[m]:j[m]=h[m]}this._transitionState(b,{shape:j},g)}else this.shape=h,this.dirtyShape()},c.prototype._mergeStates=function(b){for(var c,d=a.prototype._mergeStates.call(this,b),e=0;e<b.length;e++){var f=b[e];f.shape&&(c=c||{},this._mergeStyle(c,f.shape))}return c&&(d.shape=c),d},c.prototype.getAnimationStyleProps=function(){return hw},c.prototype.isZeroArea=function(){return!1},c.extend=function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return a.init&&a.init.call(d,c),d}return bC(c,b),c.prototype.getDefaultStyle=function(){return aN(a.style)},c.prototype.getDefaultShape=function(){return aN(a.shape)},c}(c);for(var d in a)"function"==typeof a[d]&&(b.prototype[d]=a[d]);return b},c.initDefaultProps=void((b=c.prototype).type="path",b.strokeContainThreshold=5,b.segmentIgnoreThreshold=0,b.subPixelOptimize=!1,b.autoBatch=!1,b.__dirty=7),c}(gO);var hz=aR({strokeFirst:!0,font:av,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},hv),hA=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bC(b,a),b.prototype.hasStroke=function(){return gI(this.style)},b.prototype.hasFill=function(){var a=this.style.fill;return null!=a&&"none"!==a},b.prototype.createStyle=function(a){return bv(hz,a)},b.prototype.setBoundingRect=function(a){this._rect=a},b.prototype.getBoundingRect=function(){var a,b,c;return this._rect||(this._rect=(b=gG((a=this.style).text),c=a.font,gH(a,eW(eT(c),b),e_(c),null))),this._rect},b.initDefaultProps=void(b.prototype.dirtyRectTolerance=10),b}(gO);hA.prototype.type="tspan";var hB=aR({x:0,y:0},gK),hC={style:aR({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},gL.style)},hD=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bC(b,a),b.prototype.createStyle=function(a){return bv(hB,a)},b.prototype._getSize=function(a){var b,c=this.style,d=c[a];if(null!=d)return d;var e=(b=c.image)&&"string"!=typeof b&&b.width&&b.height?c.image:this.__image;if(!e)return 0;var f="width"===a?"height":"width",g=c[f];return null==g?e[a]:e[a]/e[f]*g},b.prototype.getWidth=function(){return this._getSize("width")},b.prototype.getHeight=function(){return this._getSize("height")},b.prototype.getAnimationStyleProps=function(){return hC},b.prototype.getBoundingRect=function(){var a=this.style;return this._rect||(this._rect=new cS(a.x||0,a.y||0,this.getWidth(),this.getHeight())),this._rect},b}(gO);hD.prototype.type="image";let hE=hD;var hF=Math.round;function hG(a,b,c){if(b){var d=b.x1,e=b.x2,f=b.y1,g=b.y2;a.x1=d,a.x2=e,a.y1=f,a.y2=g;var h=c&&c.lineWidth;return h&&(hF(2*d)===hF(2*e)&&(a.x1=a.x2=hI(d,h,!0)),hF(2*f)===hF(2*g)&&(a.y1=a.y2=hI(f,h,!0))),a}}function hH(a,b,c){if(b){var d=b.x,e=b.y,f=b.width,g=b.height;a.x=d,a.y=e,a.width=f,a.height=g;var h=c&&c.lineWidth;return h&&(a.x=hI(d,h,!0),a.y=hI(e,h,!0),a.width=Math.max(hI(d+f,h,!1)-a.x,+(0!==f)),a.height=Math.max(hI(e+g,h,!1)-a.y,+(0!==g))),a}}function hI(a,b,c){if(!b)return a;var d=hF(2*a);return(d+hF(b))%2==0?d/2:(d+(c?1:-1))/2}var hJ=function(){this.x=0,this.y=0,this.width=0,this.height=0},hK={},hL=function(a){function b(b){return a.call(this,b)||this}return bC(b,a),b.prototype.getDefaultShape=function(){return new hJ},b.prototype.buildPath=function(a,b){if(this.subPixelOptimize){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=hH(hK,b,this.style);n=r.x,o=r.y,p=r.width,q=r.height,r.r=b.r,b=r}else n=b.x,o=b.y,p=b.width,q=b.height;b.r?(i=(c=b).x,j=c.y,k=c.width,l=c.height,m=c.r,k<0&&(i+=k,k=-k),l<0&&(j+=l,l=-l),"number"==typeof m?d=e=f=g=m:m instanceof Array?1===m.length?d=e=f=g=m[0]:2===m.length?(d=f=m[0],e=g=m[1]):3===m.length?(d=m[0],e=g=m[1],f=m[2]):(d=m[0],e=m[1],f=m[2],g=m[3]):d=e=f=g=0,d+e>k&&(h=d+e,d*=k/h,e*=k/h),f+g>k&&(h=f+g,f*=k/h,g*=k/h),e+f>l&&(h=e+f,e*=l/h,f*=l/h),d+g>l&&(h=d+g,d*=l/h,g*=l/h),a.moveTo(i+d,j),a.lineTo(i+k-e,j),0!==e&&a.arc(i+k-e,j+e,e,-Math.PI/2,0),a.lineTo(i+k,j+l-f),0!==f&&a.arc(i+k-f,j+l-f,f,0,Math.PI/2),a.lineTo(i+g,j+l),0!==g&&a.arc(i+g,j+l-g,g,Math.PI/2,Math.PI),a.lineTo(i,j+d),0!==d&&a.arc(i+d,j+d,d,Math.PI,1.5*Math.PI)):a.rect(n,o,p,q)},b.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},b}(hy);hL.prototype.type="rect";let hM=hL;var hN={fill:"#000"},hO={},hP={style:aR({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},gL.style)},hQ=function(a){function b(b){var c=a.call(this)||this;return c.type="text",c._children=[],c._defaultStyle=hN,c.attr(b),c}return bC(b,a),b.prototype.childrenRef=function(){return this._children},b.prototype.update=function(){a.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var b=0;b<this._children.length;b++){var c=this._children[b];c.zlevel=this.zlevel,c.z=this.z,c.z2=this.z2,c.culling=this.culling,c.cursor=this.cursor,c.invisible=this.invisible}},b.prototype.updateTransform=function(){var b=this.innerTransformable;b?(b.updateTransform(),b.transform&&(this.transform=b.transform)):a.prototype.updateTransform.call(this)},b.prototype.getLocalTransform=function(b){var c=this.innerTransformable;return c?c.getLocalTransform(b):a.prototype.getLocalTransform.call(this,b)},b.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),a.prototype.getComputedTransform.call(this)},b.prototype._updateSubTexts=function(){var a;this._childCursor=0,hX(a=this.style),aX(a.rich,hX),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},b.prototype.addSelfToZr=function(b){a.prototype.addSelfToZr.call(this,b);for(var c=0;c<this._children.length;c++)this._children[c].__zr=b},b.prototype.removeSelfFromZr=function(b){a.prototype.removeSelfFromZr.call(this,b);for(var c=0;c<this._children.length;c++)this._children[c].__zr=null},b.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var a=new cS(0,0,0,0),b=this._children,c=[],d=null,e=0;e<b.length;e++){var f=b[e],g=f.getBoundingRect(),h=f.getLocalTransform(c);h?(a.copy(g),a.applyTransform(h),(d=d||a.clone()).union(a)):(d=d||g.clone()).union(g)}this._rect=d||a}return this._rect},b.prototype.setDefaultTextStyle=function(a){this._defaultStyle=a||hN},b.prototype.setTextContent=function(a){},b.prototype._mergeStyle=function(a,b){if(!b)return a;var c=b.rich,d=a.rich||c&&{};return aQ(a,b),c&&d?(this._mergeRich(d,c),a.rich=d):d&&(a.rich=d),a},b.prototype._mergeRich=function(a,b){for(var c=a0(b),d=0;d<c.length;d++){var e=c[d];a[e]=a[e]||{},aQ(a[e],b[e])}},b.prototype.getAnimationStyleProps=function(){return hP},b.prototype._getOrCreateChild=function(a){var b=this._children[this._childCursor];return b&&b instanceof a||(b=new a),this._children[this._childCursor++]=b,b.__zr=this.__zr,b.parent=this,b},b.prototype._updatePlainTexts=function(){var a=this.style,b=a.font||av,c=a.padding,d=this._defaultStyle,e=a.x||0,f=a.y||0,g=a.align||d.align||"left",h=a.verticalAlign||d.verticalAlign||"top";gD(hO,d.overflowRect,e,f,g,h),e=hO.baseX,f=hO.baseY;var i=function(a,b,c,d){var e,f=gG(a),g=b.overflow,h=b.padding,i=h?h[1]+h[3]:0,j=h?h[0]+h[2]:0,k=b.font,l=e_(k),m=bh(b.lineHeight,l),n="truncate"===b.lineOverflow,o=!1,p=b.width;null==p&&null!=c&&(p=c-i);var q=b.height;null==q&&null!=d&&(q=d-j);var r=(e=null!=p&&("break"===g||"breakAll"===g)?f?gC(f,b.font,p,"breakAll"===g,0).lines:[]:f?f.split("\n"):[]).length*m;if(null==q&&(q=r),r>q&&n){var s=Math.floor(q/m);o=o||e.length>s,r=(e=e.slice(0,s)).length*m}if(f&&"truncate"===g&&null!=p)for(var t=gv(p,k,b.ellipsis,{minChar:b.truncateMinChar,placeholder:b.placeholder}),u={},v=0;v<e.length;v++)gw(u,e[v],t),e[v]=u.textLine,o=o||u.isTruncated;for(var w=q,x=0,y=eT(k),v=0;v<e.length;v++)x=Math.max(eW(y,e[v]),x);null==p&&(p=x);var z=p;return w+=j,{lines:e,height:q,outerWidth:z+=i,outerHeight:w,lineHeight:m,calculatedLineHeight:l,contentWidth:x,contentHeight:r,width:p,isTruncated:o}}(h_(a),a,hO.outerWidth,hO.outerHeight),j=h0(a),k=!!a.backgroundColor,l=i.outerHeight,m=i.outerWidth,n=i.lines,o=i.lineHeight;this.isTruncated=!!i.isTruncated;var p=e,q=e$(f,i.contentHeight,h);if(j||c){var r=eZ(e,m,g),s=e$(f,l,h);j&&this._renderBackground(a,a,r,s,m,l)}q+=o/2,c&&(p=h$(e,g,c),"top"===h?q+=c[0]:"bottom"===h&&(q-=c[2]));for(var t=0,u=!1,v=!1,w=hZ("fill"in a?a.fill:(v=!0,d.fill)),x=hY("stroke"in a?a.stroke:k||d.autoStroke&&!v?null:(t=2,u=!0,d.stroke)),y=a.textShadowBlur>0,z=0;z<n.length;z++){var A=this._getOrCreateChild(hA),B=A.createStyle();A.useStyle(B),B.text=n[z],B.x=p,B.y=q,g&&(B.textAlign=g),B.textBaseline="middle",B.opacity=a.opacity,B.strokeFirst=!0,y&&(B.shadowBlur=a.textShadowBlur||0,B.shadowColor=a.textShadowColor||"transparent",B.shadowOffsetX=a.textShadowOffsetX||0,B.shadowOffsetY=a.textShadowOffsetY||0),B.stroke=x,B.fill=w,x&&(B.lineWidth=a.lineWidth||t,B.lineDash=a.lineDash,B.lineDashOffset=a.lineDashOffset||0),B.font=b,hV(B,a),q+=o,A.setBoundingRect(gH(B,i.contentWidth,i.calculatedLineHeight,u?0:null))}},b.prototype._updateRichTexts=function(){var a=this.style,b=this._defaultStyle,c=a.align||b.align,d=a.verticalAlign||b.verticalAlign,e=a.x||0,f=a.y||0;gD(hO,b.overflowRect,e,f,c,d),e=hO.baseX,f=hO.baseY;var g=function(a,b,c,d,e){var f,g=new gz,h=gG(a);if(!h)return g;var i=b.padding,j=i?i[1]+i[3]:0,k=i?i[0]+i[2]:0,l=b.width;null==l&&null!=c&&(l=c-j);var m=b.height;null==m&&null!=d&&(m=d-k);for(var n=b.overflow,o=("break"===n||"breakAll"===n)&&null!=l?{width:l,accumWidth:0,breakAll:"breakAll"===n}:null,p=gs.lastIndex=0;null!=(f=gs.exec(h));){var q=f.index;q>p&&gA(g,h.substring(p,q),b,o),gA(g,f[2],b,o,f[1]),p=gs.lastIndex}p<h.length&&gA(g,h.substring(p,h.length),b,o);var r=[],s=0,t=0,u="truncate"===n,v="truncate"===b.lineOverflow,w={};function x(a,b,c){a.width=b,a.lineHeight=c,s+=c,t=Math.max(t,b)}b:for(var y=0;y<g.lines.length;y++){for(var z=g.lines[y],A=0,B=0,C=0;C<z.tokens.length;C++){var D=z.tokens[C],E=D.styleName&&b.rich[D.styleName]||{},F=D.textPadding=E.padding,G=F?F[1]+F[3]:0,H=D.font=E.font||b.font;D.contentHeight=e_(H);var I=bh(E.height,D.contentHeight);if(D.innerHeight=I,F&&(I+=F[0]+F[2]),D.height=I,D.lineHeight=bi(E.lineHeight,b.lineHeight,I),D.align=E&&E.align||e,D.verticalAlign=E&&E.verticalAlign||"middle",v&&null!=m&&s+D.lineHeight>m){var J=g.lines.length;C>0?(z.tokens=z.tokens.slice(0,C),x(z,B,A),g.lines=g.lines.slice(0,y+1)):g.lines=g.lines.slice(0,y),g.isTruncated=g.isTruncated||g.lines.length<J;break b}var K=E.width,L=null==K||"auto"===K;if("string"==typeof K&&"%"===K.charAt(K.length-1))D.percentWidth=K,r.push(D),D.contentWidth=eW(eT(H),D.text);else{if(L){var M=E.backgroundColor,N=M&&M.image;N&&gr(N=function(a){if("string"!=typeof a)return a;var b=go.get(a);return b&&b.image}(N))&&(D.width=Math.max(D.width,N.width*I/N.height))}var O=u&&null!=l?l-B:null;null!=O&&O<D.width?!L||O<G?(D.text="",D.width=D.contentWidth=0):(gu(w,D.text,O-G,H,b.ellipsis,{minChar:b.truncateMinChar}),D.text=w.text,g.isTruncated=g.isTruncated||w.isTruncated,D.width=D.contentWidth=eW(eT(H),D.text)):D.contentWidth=eW(eT(H),D.text)}D.width+=G,B+=D.width,E&&(A=Math.max(A,D.lineHeight))}x(z,B,A)}g.outerWidth=g.width=bh(l,t),g.outerHeight=g.height=bh(m,s),g.contentHeight=s,g.contentWidth=t,g.outerWidth+=j,g.outerHeight+=k;for(var y=0;y<r.length;y++){var D=r[y],P=D.percentWidth;D.width=parseInt(P,10)/100*g.width}return g}(h_(a),a,hO.outerWidth,hO.outerHeight,c),h=g.width,i=g.outerWidth,j=g.outerHeight,k=a.padding;this.isTruncated=!!g.isTruncated;var l=eZ(e,i,c),m=e$(f,j,d),n=l,o=m;k&&(n+=k[3],o+=k[0]);var p=n+h;h0(a)&&this._renderBackground(a,a,l,m,i,j);for(var q=!!a.backgroundColor,r=0;r<g.lines.length;r++){for(var s=g.lines[r],t=s.tokens,u=t.length,v=s.lineHeight,w=s.width,x=0,y=n,z=p,A=u-1,B=void 0;x<u&&(!(B=t[x]).align||"left"===B.align);)this._placeToken(B,a,v,o,y,"left",q),w-=B.width,y+=B.width,x++;for(;A>=0&&"right"===(B=t[A]).align;)this._placeToken(B,a,v,o,z,"right",q),w-=B.width,z-=B.width,A--;for(y+=(h-(y-n)-(p-z)-w)/2;x<=A;)B=t[x],this._placeToken(B,a,v,o,y+B.width/2,"center",q),y+=B.width,x++;o+=v}},b.prototype._placeToken=function(a,b,c,d,e,f,g){var h=b.rich[a.styleName]||{};h.text=a.text;var i=a.verticalAlign,j=d+c/2;"top"===i?j=d+a.height/2:"bottom"===i&&(j=d+c-a.height/2),!a.isLineHolder&&h0(h)&&this._renderBackground(h,b,"right"===f?e-a.width:"center"===f?e-a.width/2:e,j-a.height/2,a.width,a.height);var k=!!h.backgroundColor,l=a.textPadding;l&&(e=h$(e,f,l),j-=a.height/2-l[0]-a.innerHeight/2);var m=this._getOrCreateChild(hA),n=m.createStyle();m.useStyle(n);var o=this._defaultStyle,p=!1,q=0,r=!1,s=hZ("fill"in h?h.fill:"fill"in b?b.fill:(p=!0,o.fill)),t=hY("stroke"in h?h.stroke:"stroke"in b?b.stroke:k||g||o.autoStroke&&!p?null:(q=2,r=!0,o.stroke)),u=h.textShadowBlur>0||b.textShadowBlur>0;n.text=a.text,n.x=e,n.y=j,u&&(n.shadowBlur=h.textShadowBlur||b.textShadowBlur||0,n.shadowColor=h.textShadowColor||b.textShadowColor||"transparent",n.shadowOffsetX=h.textShadowOffsetX||b.textShadowOffsetX||0,n.shadowOffsetY=h.textShadowOffsetY||b.textShadowOffsetY||0),n.textAlign=f,n.textBaseline="middle",n.font=a.font||av,n.opacity=bi(h.opacity,b.opacity,1),hV(n,h),t&&(n.lineWidth=bi(h.lineWidth,b.lineWidth,q),n.lineDash=bh(h.lineDash,b.lineDash),n.lineDashOffset=b.lineDashOffset||0,n.stroke=t),s&&(n.fill=s),m.setBoundingRect(gH(n,a.contentWidth,a.contentHeight,r?0:null))},b.prototype._renderBackground=function(a,b,c,d,e,f){var g,h,i=a.backgroundColor,j=a.borderWidth,k=a.borderColor,l=i&&i.image,m=i&&!l,n=a.borderRadius,o=this;if(m||a.lineHeight||j&&k){(g=this._getOrCreateChild(hM)).useStyle(g.createStyle()),g.style.fill=null;var p=g.shape;p.x=c,p.y=d,p.width=e,p.height=f,p.r=n,g.dirtyShape()}if(m){var q=g.style;q.fill=i||null,q.fillOpacity=bh(a.fillOpacity,1)}else if(l){(h=this._getOrCreateChild(hE)).onload=function(){o.dirtyStyle()};var r=h.style;r.image=i.image,r.x=c,r.y=d,r.width=e,r.height=f}if(j&&k){var q=g.style;q.lineWidth=j,q.stroke=k,q.strokeOpacity=bh(a.strokeOpacity,1),q.lineDash=a.borderDash,q.lineDashOffset=a.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(q.strokeFirst=!0,q.lineWidth*=2)}var s=(g||h).style;s.shadowBlur=a.shadowBlur||0,s.shadowColor=a.shadowColor||"transparent",s.shadowOffsetX=a.shadowOffsetX||0,s.shadowOffsetY=a.shadowOffsetY||0,s.opacity=bi(a.opacity,b.opacity,1)},b.makeFont=function(a){var b="";return hW(a)&&(b=[a.fontStyle,a.fontWeight,hU(a.fontSize),a.fontFamily||"sans-serif"].join(" ")),b&&bm(b)||a.textFont||a.font},b}(gO),hR={left:!0,right:1,center:1},hS={top:1,bottom:1,middle:1},hT=["fontStyle","fontWeight","fontSize","fontFamily"];function hU(a){return"string"==typeof a&&(-1!==a.indexOf("px")||-1!==a.indexOf("rem")||-1!==a.indexOf("em"))?a:isNaN(+a)?"12px":a+"px"}function hV(a,b){for(var c=0;c<hT.length;c++){var d=hT[c],e=b[d];null!=e&&(a[d]=e)}}function hW(a){return null!=a.fontSize||a.fontFamily||a.fontWeight}function hX(a){if(a){a.font=hQ.makeFont(a);var b=a.align;"middle"===b&&(b="center"),a.align=null==b||hR[b]?b:"left";var c=a.verticalAlign;"center"===c&&(c="middle"),a.verticalAlign=null==c||hS[c]?c:"top",a.padding&&(a.padding=bk(a.padding))}}function hY(a,b){return null==a||b<=0||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function hZ(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function h$(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function h_(a){var b=a.text;return null!=b&&(b+=""),b}function h0(a){return!!(a.backgroundColor||a.lineHeight||a.borderWidth&&a.borderColor)}let h1=hQ;var h2=f0(),h3=function(a,b,c,d){if(d){var e=h2(d);e.dataIndex=c,e.dataType=b,e.seriesIndex=a,e.ssrType="chart","group"===d.type&&d.traverse(function(d){var e=h2(d);e.seriesIndex=a,e.dataIndex=c,e.dataType=b,e.ssrType="chart"})}},h4=1,h5={},h6=f0(),h7=f0(),h8=["emphasis","blur","select"],h9=["normal","emphasis","blur","select"],ia="highlight",ib="downplay",ic="select",id="unselect",ie="toggleSelect",ig="selectchanged";function ih(a){return null!=a&&"none"!==a}function ii(a,b,c){a.onHoverStateChange&&(a.hoverState||0)!==c&&a.onHoverStateChange(b),a.hoverState=c}function ij(a){ii(a,"emphasis",2)}function ik(a){2===a.hoverState&&ii(a,"normal",0)}function il(a){ii(a,"blur",1)}function im(a){1===a.hoverState&&ii(a,"normal",0)}function io(a){a.selected=!0}function ip(a){a.selected=!1}function iq(a,b,c){b(a,c),a.isGroup&&a.traverse(function(a){b(a,c)})}function ir(a,b){switch(b){case"emphasis":a.hoverState=2;break;case"normal":a.hoverState=0;break;case"blur":a.hoverState=1;break;case"select":a.selected=!0}}function is(a,b){var c,d,e,f,g,h=this.states[a];if(this.style){if("emphasis"===a)return function(a,b,c,d){var e=c&&aT(c,"select")>=0,f=!1;if(a instanceof hy){var g=h6(a),h=e&&g.selectFill||g.normalFill,i=e&&g.selectStroke||g.normalStroke;if(ih(h)||ih(i)){var j=(d=d||{}).style||{};"inherit"===j.fill?(f=!0,d=aQ({},d),(j=aQ({},j)).fill=h):!ih(j.fill)&&ih(h)?(f=!0,d=aQ({},d),(j=aQ({},j)).fill=d$(h)):!ih(j.stroke)&&ih(i)&&(f||(d=aQ({},d),j=aQ({},j)),j.stroke=d$(i)),d.style=j}}if(d&&null==d.z2){f||(d=aQ({},d));var k=a.z2EmphasisLift;d.z2=a.z2+(null!=k?k:10)}return d}(this,0,b,h);else if("blur"===a)return c=h,d=aT(this.currentStates,a)>=0,e=this.style.opacity,f=d?null:function(a,b,c,d){for(var e=a.style,f={},g=0;g<b.length;g++){var h=b[g],i=e[h];f[h]=null==i?d&&d[h]:i}for(var g=0;g<a.animators.length;g++){var j=a.animators[g];j.__fromStateTransition&&0>j.__fromStateTransition.indexOf(c)&&"style"===j.targetName&&j.saveTo(f,b)}return f}(this,["opacity"],a,{opacity:1}),null==(g=(c=c||{}).style||{}).opacity&&(c=aQ({},c),g=aQ({opacity:d?e:.1*f.opacity},g),c.style=g),c;else if("select"===a){var i=h;if(i&&null==i.z2){i=aQ({},i);var j=this.z2SelectLift;i.z2=this.z2+(null!=j?j:9)}return i}}return h}function it(a){a.stateProxy=is;var b=a.getTextContent(),c=a.getTextGuideLine();b&&(b.stateProxy=is),c&&(c.stateProxy=is)}function iu(a,b){iy(a,b)||a.__highByOuter||iq(a,ij)}function iv(a,b){iy(a,b)||a.__highByOuter||iq(a,ik)}function iw(a,b){a.__highByOuter|=1<<(b||0),iq(a,ij)}function ix(a,b){(a.__highByOuter&=~(1<<(b||0)))||iq(a,ik)}function iy(a,b){return a.__highDownSilentOnTouch&&b.zrByTouch}function iz(a){var b=a.getModel(),c=[],d=[];b.eachComponent(function(b,e){var f=h7(e),g="series"===b,h=g?a.getViewOfSeriesModel(e):a.getViewOfComponentModel(e);g||d.push(h),f.isBlured&&(h.group.traverse(function(a){im(a)}),g&&c.push(e)),f.isBlured=!1}),aX(d,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(c,!1,b)})}function iA(a,b,c,d){var e=d.getModel();function f(a,b){for(var c=0;c<b.length;c++){var d=a.getItemGraphicEl(b[c]);d&&iq(d,im)}}if((c=c||"coordinateSystem",null!=a)&&b&&"none"!==b){var g=e.getSeriesByIndex(a),h=g.coordinateSystem;h&&h.master&&(h=h.master);var i=[];e.eachSeries(function(a){var e=g===a,j=a.coordinateSystem;j&&j.master&&(j=j.master);var k=j&&h?j===h:e;if(!("series"===c&&!e||"coordinateSystem"===c&&!k||"series"===b&&e)){if(d.getViewOfSeriesModel(a).group.traverse(function(a){a.__highByOuter&&e&&"self"===b||il(a)}),aW(b))f(a.getData(),b);else if(a8(b))for(var l=a0(b),m=0;m<l.length;m++)f(a.getData(l[m]),b[l[m]]);i.push(a),h7(a).isBlured=!0}}),e.eachComponent(function(a,b){if("series"!==a){var c=d.getViewOfComponentModel(b);c&&c.toggleBlurSeries&&c.toggleBlurSeries(i,!0,e)}})}}function iB(a,b,c){if(null!=a&&null!=b){var d=c.getModel().getComponent(a,b);if(d){h7(d).isBlured=!0;var e=c.getViewOfComponentModel(d);e&&e.focusBlurEnabled&&e.group.traverse(function(a){il(a)})}}}function iC(a,b,c,d){var e,f={focusSelf:!1,dispatchers:null};if(null==a||"series"===a||null==b||null==c)return f;var g=d.getModel().getComponent(a,b);if(!g)return f;var h=d.getViewOfComponentModel(g);if(!h||!h.findHighDownDispatchers)return f;for(var i=h.findHighDownDispatchers(c),j=0;j<i.length;j++)if("self"===h2(i[j]).focus){e=!0;break}return{focusSelf:e,dispatchers:i}}function iD(a){aX(a.getAllData(),function(b){var c=b.data,d=b.type;c.eachItemGraphicEl(function(b,c){a.isSelected(c,d)?iq(b,io):iq(b,ip)})})}function iE(a,b,c){iK(a,!0),iq(a,it),iG(a,b,c)}function iF(a,b,c,d){d?iK(a,!1):iE(a,b,c)}function iG(a,b,c){var d=h2(a);null!=b?(d.focus=b,d.blurScope=c):d.focus&&(d.focus=null)}var iH=["emphasis","blur","select"],iI={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function iJ(a,b,c,d){c=c||"itemStyle";for(var e=0;e<iH.length;e++){var f=iH[e],g=b.getModel([f,c]);a.ensureState(f).style=d?d(g):g[iI[c]]()}}function iK(a,b){var c=!1===b;a.highDownSilentOnTouch&&(a.__highDownSilentOnTouch=a.highDownSilentOnTouch),(!c||a.__highDownDispatcher)&&(a.__highByOuter=a.__highByOuter||0,a.__highDownDispatcher=!c)}function iL(a){return!!(a&&a.__highDownDispatcher)}function iM(a){var b=a.type;return b===ic||b===id||b===ie}function iN(a){var b=a.type;return b===ia||b===ib}var iO=f0();function iP(a,b,c,d,e){if(b&&b.ecModel){var f,g=b.ecModel.getUpdatePayload();f=g&&g.animation}var h=b&&b.isAnimationEnabled(),i="update"===a;if(!h)return null;var j=void 0,k=void 0,l=void 0;return d?(j=bh(d.duration,200),k=bh(d.easing,"cubicOut"),l=0):(j=b.getShallow(i?"animationDurationUpdate":"animationDuration"),k=b.getShallow(i?"animationEasingUpdate":"animationEasing"),l=b.getShallow(i?"animationDelayUpdate":"animationDelay")),f&&(null!=f.duration&&(j=f.duration),null!=f.easing&&(k=f.easing),null!=f.delay&&(l=f.delay)),a4(l)&&(l=l(c,e)),a4(j)&&(j=j(c)),{duration:j||0,delay:l,easing:k}}function iQ(a,b,c,d,e,f,g){var h,i=!1;a4(e)?(g=f,f=e,e=null):a8(e)&&(f=e.cb,g=e.during,i=e.isFrom,h=e.removeOpt,e=e.dataIndex);var j="leave"===a;j||b.stopAnimation("leave");var k=iP(a,d,e,j?h||{}:null,d&&d.getAnimationDelayParams?d.getAnimationDelayParams(b,e):null);if(k&&k.duration>0){var l={duration:k.duration,delay:k.delay||0,easing:k.easing,done:f,force:!!f||!!g,setToFinal:!j,scope:a,during:g};i?b.animateFrom(c,l):b.animateTo(c,l)}else b.stopAnimation(),i||b.attr(c),g&&g(1),f&&f()}function iR(a,b,c,d,e,f){iQ("update",a,b,c,d,e,f)}function iS(a,b,c,d,e,f){iQ("enter",a,b,c,d,e,f)}function iT(a){if(!a.__zr)return!0;for(var b=0;b<a.animators.length;b++)if("leave"===a.animators[b].scope)return!0;return!1}function iU(a,b,c,d,e,f){iT(a)||iQ("leave",a,b,c,d,e,f)}function iV(a,b,c,d){a.removeTextContent(),a.removeTextGuideLine(),iU(a,{style:{opacity:0}},b,c,d)}function iW(a,b,c){function d(){a.parent&&a.parent.remove(a)}a.isGroup?a.traverse(function(a){a.isGroup||iV(a,b,c,d)}):iV(a,b,c,d)}function iX(a){iO(a).oldStyle=a.style}var iY={};function iZ(a,b){for(var c=0;c<h8.length;c++){var d=h8[c],e=b[d],f=a.ensureState(d);f.style=f.style||{},f.style.text=e}var g=a.currentStates.slice();a.clearStates(!0),a.setStyle({text:b.normal}),a.useStates(g,!0)}function i$(a,b,c){var d,e=a.labelFetcher,f=a.labelDataIndex,g=a.labelDimIndex,h=b.normal;e&&(d=e.getFormattedLabel(f,"normal",null,g,h&&h.get("formatter"),null!=c?{interpolatedValue:c}:null)),null==d&&(d=a4(a.defaultText)?a.defaultText(f,a,c):a.defaultText);for(var i={normal:d},j=0;j<h8.length;j++){var k=h8[j],l=b[k];i[k]=bh(e?e.getFormattedLabel(f,k,null,g,l&&l.get("formatter")):null,d)}return i}function i_(a,b,c,d){c=c||iY;for(var e=a instanceof h1,f=!1,g=0;g<h9.length;g++){var h=b[h9[g]];if(h&&h.getShallow("show")){f=!0;break}}var i=e?a:a.getTextContent();if(f){!e&&(i||(i=new h1,a.setTextContent(i)),a.stateProxy&&(i.stateProxy=a.stateProxy));var j=i$(c,b),k=b.normal,l=!!k.getShallow("show"),m=i1(k,d&&d.normal,c,!1,!e);m.text=j.normal,e||a.setTextConfig(i2(k,c,!1));for(var g=0;g<h8.length;g++){var n=h8[g],h=b[n];if(h){var o=i.ensureState(n),p=!!bh(h.getShallow("show"),l);p!==l&&(o.ignore=!p),o.style=i1(h,d&&d[n],c,!0,!e),o.style.text=j[n],e||(a.ensureState(n).textConfig=i2(h,c,!0))}}i.silent=!!k.getShallow("silent"),null!=i.style.x&&(m.x=i.style.x),null!=i.style.y&&(m.y=i.style.y),i.ignore=!l,i.useStyle(m),i.dirty(),c.enableTextSetter&&(i8(i).setLabelText=function(a){var d=i$(c,b,a);iZ(i,d)})}else i&&(i.ignore=!0);a.dirty()}function i0(a,b){b=b||"label";for(var c={normal:a.getModel(b)},d=0;d<h8.length;d++){var e=h8[d];c[e]=a.getModel([e,b])}return c}function i1(a,b,c,d,e){var f={};return function(a,b,c,d,e){c=c||iY;var f,g=b.ecModel,h=g&&g.option.textStyle,i=function(a){for(var b;a&&a!==a.ecModel;){var c=(a.option||iY).rich;if(c){b=b||{};for(var d=a0(c),e=0;e<d.length;e++)b[d[e]]=1}a=a.parentModel}return b}(b);if(i){f={};var j="richInheritPlainLabel",k=bh(b.get(j),g?g.get(j):void 0);for(var l in i)if(i.hasOwnProperty(l)){var m=b.getModel(["rich",l]);i6(f[l]={},m,h,b,k,c,d,e,!1,!0)}}f&&(a.rich=f);var n=b.get("overflow");n&&(a.overflow=n);var o=b.get("lineOverflow");o&&(a.lineOverflow=o);var p=b.get("minMargin");if(null!=p)a.margin=[p=a7(p)?p/2:0,p,p,p],a.__marginType=jb.minMargin;else{var q=b.get("textMargin");null!=q&&(a.margin=bk(q),a.__marginType=jb.textMargin)}i6(a,b,h,null,null,c,d,e,!0,!1)}(f,a,c,d,e),b&&aQ(f,b),f}function i2(a,b,c){b=b||{};var d,e={},f=a.getShallow("rotate"),g=bh(a.getShallow("distance"),c?null:5),h=a.getShallow("offset");return"outside"===(d=a.getShallow("position")||(c?null:"inside"))&&(d=b.defaultOutsidePosition||"top"),null!=d&&(e.position=d),null!=h&&(e.offset=h),null!=f&&(e.rotation=f*=Math.PI/180),null!=g&&(e.distance=g),e.outsideFill="inherit"===a.get("color")?b.inheritColor||null:"auto",null!=b.autoOverflowArea&&(e.autoOverflowArea=b.autoOverflowArea),null!=b.layoutRect&&(e.layoutRect=b.layoutRect),e}var i3=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],i4=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],i5=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function i6(a,b,c,d,e,f,g,h,i,j){c=!g&&c||iY;var k=f&&f.inheritColor,l=b.getShallow("color"),m=b.getShallow("textBorderColor"),n=bh(b.getShallow("opacity"),c.opacity);("inherit"===l||"auto"===l)&&(l=k||null),("inherit"===m||"auto"===m)&&(m=k||null),h||(l=l||c.color,m=m||c.textBorderColor),null!=l&&(a.fill=l),null!=m&&(a.stroke=m);var o=bh(b.getShallow("textBorderWidth"),c.textBorderWidth);null!=o&&(a.lineWidth=o);var p=bh(b.getShallow("textBorderType"),c.textBorderType);null!=p&&(a.lineDash=p);var q=bh(b.getShallow("textBorderDashOffset"),c.textBorderDashOffset);null!=q&&(a.lineDashOffset=q),g||null!=n||j||(n=f&&f.defaultOpacity),null!=n&&(a.opacity=n),g||h||null!=a.fill||!f.inheritColor||(a.fill=f.inheritColor);for(var r=0;r<i3.length;r++){var s=i3[r],t=!1!==e&&d?bi(b.getShallow(s),d.getShallow(s),c[s]):bh(b.getShallow(s),c[s]);null!=t&&(a[s]=t)}for(var r=0;r<i4.length;r++){var s=i4[r],t=b.getShallow(s);null!=t&&(a[s]=t)}if(null==a.verticalAlign){var u=b.getShallow("baseline");null!=u&&(a.verticalAlign=u)}if(!i||!f.disableBox){for(var r=0;r<i5.length;r++){var s=i5[r],t=b.getShallow(s);null!=t&&(a[s]=t)}var v=b.getShallow("borderType");null!=v&&(a.borderDash=v),("auto"===a.backgroundColor||"inherit"===a.backgroundColor)&&k&&(a.backgroundColor=k),("auto"===a.borderColor||"inherit"===a.borderColor)&&k&&(a.borderColor=k)}}function i7(a,b){var c=b&&b.getModel("textStyle");return bm([a.fontStyle||c&&c.getShallow("fontStyle")||"",a.fontWeight||c&&c.getShallow("fontWeight")||"",(a.fontSize||c&&c.getShallow("fontSize")||12)+"px",a.fontFamily||c&&c.getShallow("fontFamily")||"sans-serif"].join(" "))}var i8=f0();function i9(a,b,c,d){if(a){var e=i8(a);e.prevValue=e.value,e.value=c;var f=b.normal;e.valueAnimation=f.get("valueAnimation"),e.valueAnimation&&(e.precision=f.get("precision"),e.defaultInterpolatedText=d,e.statesModels=b)}}function ja(a,b,c,d,e){var f=i8(a);if(f.valueAnimation&&f.prevValue!==f.value){var g=f.defaultInterpolatedText,h=bh(f.interpolatedValue,f.prevValue),i=f.value;a.percent=0,(null==f.prevValue?iS:iR)(a,{percent:1},d,b,null,function(d){var j=f9(c,f.precision,h,i,d);f.interpolatedValue=1===d?null:j,iZ(a,i$({labelDataIndex:b,labelFetcher:e,defaultText:g?g(j):j+""},f.statesModels,j))})}}var jb={minMargin:1,textMargin:2},jc=["textStyle","color"],jd=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],je=new h1,jf=function(){function a(){}return a.prototype.getTextColor=function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(jc):null)},a.prototype.getFont=function(){return i7({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},a.prototype.getTextRect=function(a){for(var b={text:a,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},c=0;c<jd.length;c++)b[jd[c]]=this.getShallow(jd[c]);return je.useStyle(b),je.update(),je.getBoundingRect()},a}(),jg=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],jh=gl(jg),ji=function(){function a(){}return a.prototype.getLineStyle=function(a){return jh(this,a)},a}(),jj=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],jk=gl(jj),jl=function(){function a(){}return a.prototype.getItemStyle=function(a,b){return jk(this,a,b)},a}(),jm=function(){function a(a,b,c){this.parentModel=b,this.ecModel=c,this.option=a}return a.prototype.init=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e]},a.prototype.mergeOption=function(a,b){aO(this.option,a,!0)},a.prototype.get=function(a,b){return null==a?this.option:this._doGet(this.parsePath(a),!b&&this.parentModel)},a.prototype.getShallow=function(a,b){var c=this.option,d=null==c?c:c[a];if(null==d&&!b){var e=this.parentModel;e&&(d=e.getShallow(a))}return d},a.prototype.getModel=function(b,c){var d=null!=b,e=d?this.parsePath(b):null;return new a(d?this._doGet(e):this.option,c=c||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(e)),this.ecModel)},a.prototype.isEmpty=function(){return null==this.option},a.prototype.restoreData=function(){},a.prototype.clone=function(){return new this.constructor(aN(this.option))},a.prototype.parsePath=function(a){return"string"==typeof a?a.split("."):a},a.prototype.resolveParentPath=function(a){return a},a.prototype.isAnimationEnabled=function(){if(!at.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;else if(this.parentModel)return this.parentModel.isAnimationEnabled()}},a.prototype._doGet=function(a,b){var c=this.option;if(!a)return c;for(var d=0;d<a.length&&(!a[d]||null!=(c=c&&"object"==typeof c?c[a[d]]:null));d++);return null==c&&b&&(c=b._doGet(this.resolveParentPath(a),b.parentModel)),c},a}();gf(jm),i=["__\0is_clz",gh++].join("_"),jm.prototype[i]=!0,jm.isInstance=function(a){return!!(a&&a[i])},aV(jm,ji),aV(jm,jl),aV(jm,gn),aV(jm,jf);let jn=jm;var jo=Math.round(10*Math.random());function jp(a){return[a||"",jo++].join("_")}function jq(a,b){return aO(aO({},a,!0),b,!0)}var jr={},js={},jt=at.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||"EN").toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function ju(a,b){js[a=a.toUpperCase()]=new jn(b),jr[a]=b}ju("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),ju("ZH",{time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}});var jv=null,jw={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},jx={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},jy="{yyyy}-{MM}-{dd}",jz={year:"{yyyy}",month:"{yyyy}-{MM}",day:jy,hour:jy+" "+jx.hour,minute:jy+" "+jx.minute,second:jy+" "+jx.second,millisecond:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},jA=["year","month","day","hour","minute","second","millisecond"],jB=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function jC(a,b){return a+="","0000".substr(0,b-a.length)+a}function jD(a){switch(a){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return a}}function jE(a,b,c,d){var e=fF(a),f=e[jH(c)](),g=e[jI(c)]()+1,h=Math.floor((g-1)/3)+1,i=e[jJ(c)](),j=e["get"+(c?"UTC":"")+"Day"](),k=e[jK(c)](),l=(k-1)%12+1,m=e[jL(c)](),n=e[jM(c)](),o=e[jN(c)](),p=k>=12?"pm":"am",q=p.toUpperCase(),r=(d instanceof jn?d:js[d||jt]||js.EN).getModel("time"),s=r.get("month"),t=r.get("monthAbbr"),u=r.get("dayOfWeek"),v=r.get("dayOfWeekAbbr");return(b||"").replace(/{a}/g,p+"").replace(/{A}/g,q+"").replace(/{yyyy}/g,f+"").replace(/{yy}/g,jC(f%100+"",2)).replace(/{Q}/g,h+"").replace(/{MMMM}/g,s[g-1]).replace(/{MMM}/g,t[g-1]).replace(/{MM}/g,jC(g,2)).replace(/{M}/g,g+"").replace(/{dd}/g,jC(i,2)).replace(/{d}/g,i+"").replace(/{eeee}/g,u[j]).replace(/{ee}/g,v[j]).replace(/{e}/g,j+"").replace(/{HH}/g,jC(k,2)).replace(/{H}/g,k+"").replace(/{hh}/g,jC(l+"",2)).replace(/{h}/g,l+"").replace(/{mm}/g,jC(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,jC(n,2)).replace(/{s}/g,n+"").replace(/{SSS}/g,jC(o,3)).replace(/{S}/g,o+"")}function jF(a,b){var c=fF(a),d=c[jI(b)]()+1,e=c[jJ(b)](),f=c[jK(b)](),g=c[jL(b)](),h=c[jM(b)](),i=0===c[jN(b)](),j=i&&0===h,k=j&&0===g,l=k&&0===f,m=l&&1===e;if(m&&1===d)return"year";if(m)return"month";if(l)return"day";if(k)return"hour";if(j)return"minute";else if(i)return"second";else return"millisecond"}function jG(a,b,c){switch(b){case"year":a[jO(c)](0);case"month":a[jP(c)](1);case"day":a[jQ(c)](0);case"hour":a[jR(c)](0);case"minute":a[jS(c)](0);case"second":a[jT(c)](0)}return a}function jH(a){return a?"getUTCFullYear":"getFullYear"}function jI(a){return a?"getUTCMonth":"getMonth"}function jJ(a){return a?"getUTCDate":"getDate"}function jK(a){return a?"getUTCHours":"getHours"}function jL(a){return a?"getUTCMinutes":"getMinutes"}function jM(a){return a?"getUTCSeconds":"getSeconds"}function jN(a){return a?"getUTCMilliseconds":"getMilliseconds"}function jO(a){return a?"setUTCMonth":"setMonth"}function jP(a){return a?"setUTCDate":"setDate"}function jQ(a){return a?"setUTCHours":"setHours"}function jR(a){return a?"setUTCMinutes":"setMinutes"}function jS(a){return a?"setUTCSeconds":"setSeconds"}function jT(a){return a?"setUTCMilliseconds":"setMilliseconds"}function jU(a){if(!fM(a))return a5(a)?a:"-";var b=(a+"").split(".");return b[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(b.length>1?"."+b[1]:"")}function jV(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}var jW=bk;function jX(a,b,c){function d(a){return a&&bm(a)?a:"-"}function e(a){return!!(null!=a&&!isNaN(a)&&isFinite(a))}var f="time"===b,g=a instanceof Date;if(f||g){var h=f?fF(a):a;if(!isNaN(+h))return jE(h,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",c);if(g)return"-"}if("ordinal"===b)return a6(a)?d(a):a7(a)&&e(a)?a+"":"-";var i=fL(a);return e(i)?jU(i):a6(a)?d(a):"boolean"==typeof a?a+"":"-"}var jY=["a","b","c","d","e","f","g"],jZ=function(a,b){return"{"+a+(null==b?"":b)+"}"};function j$(a,b,c){a3(b)||(b=[b]);var d=b.length;if(!d)return"";for(var e=b[0].$vars||[],f=0;f<e.length;f++){var g=jY[f];a=a.replace(jZ(g),jZ(g,0))}for(var h=0;h<d;h++)for(var i=0;i<e.length;i++){var j=b[h][e[i]];a=a.replace(jZ(jY[i],h),c?cc(j):j)}return a}function j_(a,b){var c=a5(a)?{color:a,extraCssText:b}:a||{},d=c.color,e=c.type;b=c.extraCssText;var f=c.renderMode||"html";return d?"html"===f?"subItem"===e?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+cc(d)+";"+(b||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+cc(d)+";"+(b||"")+'"></span>':{renderMode:f,content:"{"+(c.markerId||"markerX")+"|}  ",style:"subItem"===e?{width:4,height:4,borderRadius:2,backgroundColor:d}:{width:10,height:10,borderRadius:5,backgroundColor:d}}:""}function j0(a,b,c){("week"===a||"month"===a||"quarter"===a||"half-year"===a||"year"===a)&&(a="MM-dd\nyyyy");var d=fF(b),e=c?"getUTC":"get",f=d[e+"FullYear"](),g=d[e+"Month"]()+1,h=d[e+"Date"](),i=d[e+"Hours"](),j=d[e+"Minutes"](),k=d[e+"Seconds"](),l=d[e+"Milliseconds"]();return a.replace("MM",jC(g,2)).replace("M",g).replace("yyyy",f).replace("yy",jC(f%100+"",2)).replace("dd",jC(h,2)).replace("d",h).replace("hh",jC(i,2)).replace("h",i).replace("mm",jC(j,2)).replace("m",j).replace("ss",jC(k,2)).replace("s",k).replace("SSS",jC(l,3))}function j1(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function j2(a,b){return b=b||"transparent",a5(a)?a:a8(a)&&a.colorStops&&(a.colorStops[0]||{}).color||b}function j3(a,b){if("_blank"===b||"blank"===b){var c=window.open();c.opener=null,c.location.href=a}else window.open(a,b)}var j4={},j5={},j6=function(){function a(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return a.prototype.create=function(a,b){function c(c,d){var e=[];return aX(c,function(c,d){var f=c.create(a,b);e=e.concat(f||[])}),e}this._nonSeriesBoxMasterList=c(j4,!0),this._normalMasterList=c(j5,!1)},a.prototype.update=function(a,b){aX(this._normalMasterList,function(c){c.update&&c.update(a,b)})},a.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},a.register=function(a,b){if("matrix"===a||"calendar"===a){j4[a]=b;return}j5[a]=b},a.get=function(a){return j5[a]||j4[a]},a}(),j7=bt();function j8(a,b){var c=a.getShallow("coordinateSystem"),d=a.getShallow("coordinateSystemUsage",!0),e=0;if(c){var f="series"===a.mainType;(null==d&&(d=f?"data":"box"),"data"===d)?(e=1,f||(e=0)):"box"!==d||(e=2,f||j4[c])||(e=0)}return{coordSysType:c,kind:e}}function j9(a){var b=a.targetModel,c=a.coordSysType,d=a.coordSysProvider,e=a.isDefaultDataCoordSys;a.allowNotFound;var f=j8(b,!0),g=f.kind,h=f.coordSysType;if(e&&1!==g&&(g=1,h=c),0===g||h!==c)return!1;var i=d(c,b);return!!i&&(1===g?b.coordinateSystem=i:b.boxCoordinateSystem=i,!0)}var ka=function(a,b){var c=b.getReferringComponents(a,f4).models[0];return c&&c.coordinateSystem},kb=aX,kc=["left","right","top","bottom","width","height"],kd=[["width","left","right"],["height","top","bottom"]];function ke(a,b,c,d,e){var f=0,g=0;null==d&&(d=1/0),null==e&&(e=1/0);var h=0;b.eachChild(function(i,j){var k,l,m=i.getBoundingRect(),n=b.childAt(j+1),o=n&&n.getBoundingRect();if("horizontal"===a){var p=m.width+(o?-o.x+m.x:0);(k=f+p)>d||i.newline?(f=0,k=p,g+=h+c,h=m.height):h=Math.max(h,m.height)}else{var q=m.height+(o?-o.y+m.y:0);(l=g+q)>e||i.newline?(f+=h+c,g=0,l=q,h=m.width):h=Math.max(h,m.width)}i.newline||(i.x=f,i.y=g,i.markRedraw(),"horizontal"===a?f=k+c:g=l+c)})}function kf(a,b){return{left:a.getShallow("left",b),top:a.getShallow("top",b),right:a.getShallow("right",b),bottom:a.getShallow("bottom",b),width:a.getShallow("width",b),height:a.getShallow("height",b)}}function kg(a,b){var c=function(a,b){var c,d,e=kk(a,b,{enableLayoutOnlyByCenter:!0}),f=a.getBoxLayoutParams();if(e.type===kj.point)d=e.refPoint,c=kh(f,{width:b.getWidth(),height:b.getHeight()});else{var g=a.get("center"),h=a3(g)?g:[g,g];c=kh(f,e.refContainer),d=2===e.boxCoordFrom?e.refPoint:[fs(h[0],c.width)+c.x,fs(h[1],c.height)+c.y]}return{viewRect:c,center:d}}(a,b),d=c.viewRect,e=c.center,f=a.get("radius");a3(f)||(f=[0,f]);var g=Math.min(fs(d.width,b.getWidth()),fs(d.height,b.getHeight())),h=fs(f[0],g/2),i=fs(f[1],g/2);return{cx:e[0],cy:e[1],r0:h,r:i,viewRect:d}}function kh(a,b,c){c=jW(c||0);var d=b.width,e=b.height,f=fs(a.left,d),g=fs(a.top,e),h=fs(a.right,d),i=fs(a.bottom,e),j=fs(a.width,d),k=fs(a.height,e),l=c[2]+c[0],m=c[1]+c[3],n=a.aspect;switch(isNaN(j)&&(j=d-h-m-f),isNaN(k)&&(k=e-i-l-g),null!=n&&(isNaN(j)&&isNaN(k)&&(n>d/e?j=.8*d:k=.8*e),isNaN(j)&&(j=n*k),isNaN(k)&&(k=j/n)),isNaN(f)&&(f=d-h-j-m),isNaN(g)&&(g=e-i-k-l),a.left||a.right){case"center":f=d/2-j/2-c[3];break;case"right":f=d-j-m}switch(a.top||a.bottom){case"middle":case"center":g=e/2-k/2-c[0];break;case"bottom":g=e-k-l}f=f||0,g=g||0,isNaN(j)&&(j=d-m-f-(h||0)),isNaN(k)&&(k=e-l-g-(i||0));var o=new cS((b.x||0)+f+c[3],(b.y||0)+g+c[0],j,k);return o.margin=c,o}function ki(a,b,c){var d=a.getShallow("preserveAspect",!0);if(!d)return b;var e=b.width/b.height;if(1e-9>Math.abs(Math.atan(c)-Math.atan(e)))return b;var f=a.getShallow("preserveAspectAlign",!0),g=a.getShallow("preserveAspectVerticalAlign",!0),h={width:b.width,height:b.height},i="cover"===d;return e>c&&!i||e<c&&i?(h.width=b.height*c,"left"===f?h.left=0:"right"===f?h.right=0:h.left="center"):(h.height=b.width/c,"top"===g?h.top=0:"bottom"===g?h.bottom=0:h.top="middle"),kh(h,b)}a2(ke,"vertical"),a2(ke,"horizontal");var kj={rect:1,point:2};function kk(a,b,c){var d,e,f,g,h=a.boxCoordinateSystem;if(h){var i=function(a){var b=a.getShallow("coord",!0),c=1;if(null==b){var d=j7.get(a.type);d&&d.getCoord2&&(c=2,b=d.getCoord2(a))}return{coord:b,from:c}}(a),j=i.coord,k=i.from;if(h.dataToLayout){f=kj.rect,g=k;var l=h.dataToLayout(j);d=l.contentRect||l.rect}else c&&c.enableLayoutOnlyByCenter&&h.dataToPoint&&(f=kj.point,g=k,e=h.dataToPoint(j))}return null==f&&(f=kj.rect),f===kj.rect&&(d||(d={x:0,y:0,width:b.getWidth(),height:b.getHeight()}),e=[d.x+d.width/2,d.y+d.height/2]),{type:f,refContainer:d,refPoint:e,boxCoordFrom:g}}function kl(a,b,c,d,e,f){var g,h=!e||!e.hv||e.hv[0],i=!e||!e.hv||e.hv[1],j=e&&e.boundingMode||"all";if((f=f||a).x=a.x,f.y=a.y,!h&&!i)return!1;if("raw"===j)g="group"===a.type?new cS(0,0,+b.width||0,+b.height||0):a.getBoundingRect();else if(g=a.getBoundingRect(),a.needLocalTransform()){var k=a.getLocalTransform();(g=g.clone()).applyTransform(k)}var l=kh(aR({width:g.width,height:g.height},b),c,d),m=h?l.x-g.x:0,n=i?l.y-g.y:0;return"raw"===j?(f.x=m,f.y=n):(f.x+=m,f.y+=n),f===a&&a.markRedraw(),!0}function km(a){var b=a.layoutMode||a.constructor.layoutMode;return a8(b)?b:b?{type:b}:null}function kn(a,b,c){var d=c&&c.ignoreSize;a3(d)||(d=[d,d]);var e=g(kd[0],0),f=g(kd[1],1);function g(c,e){var f={},g=0,i={},j=0;if(kb(c,function(b){i[b]=a[b]}),kb(c,function(a){bx(b,a)&&(f[a]=i[a]=b[a]),h(f,a)&&g++,h(i,a)&&j++}),d[e])return h(b,c[1])?i[c[2]]=null:h(b,c[2])&&(i[c[1]]=null),i;if(2===j||!g)return i;if(g>=2)return f;for(var k=0;k<c.length;k++){var l=c[k];if(!bx(f,l)&&bx(a,l)){f[l]=a[l];break}}return f}function h(a,b){return null!=a[b]&&"auto"!==a[b]}function i(a,b,c){kb(a,function(a){b[a]=c[a]})}i(kd[0],a,e),i(kd[1],a,f)}function ko(a){return kp({},a)}function kp(a,b){return b&&a&&kb(kc,function(c){bx(b,c)&&(a[c]=b[c])}),a}var kq=f0(),kr=function(a){var b;function c(b,c,d){var e=a.call(this,b,c,d)||this;return e.uid=jp("ec_cpt_model"),e}return aq(c,a),c.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c)},c.prototype.mergeDefaultAndTheme=function(a,b){var c=km(this),d=c?ko(a):{};aO(a,b.getTheme().get(this.mainType)),aO(a,this.getDefaultOption()),c&&kn(a,d,c)},c.prototype.mergeOption=function(a,b){aO(this.option,a,!0);var c=km(this);c&&kn(this.option,a,c)},c.prototype.optionUpdated=function(a,b){},c.prototype.getDefaultOption=function(){var a=this.constructor;if(!(a&&a[gd]))return a.defaultOption;var b=kq(this);if(!b.defaultOption){for(var c=[],d=a;d;){var e=d.prototype.defaultOption;e&&c.push(e),d=d.superClass}for(var f={},g=c.length-1;g>=0;g--)f=aO(f,c[g],!0);b.defaultOption=f}return b.defaultOption},c.prototype.getReferringComponents=function(a,b){return f6(this.ecModel,a,{index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)},b)},c.prototype.getBoxLayoutParams=function(){return kf(this,!1)},c.prototype.getZLevelKey=function(){return""},c.prototype.setZLevel=function(a){this.option.zlevel=a},c.protoInitialize=void((b=c.prototype).type="component",b.id="",b.name="",b.mainType="",b.subType="",b.componentIndex=0),c}(jn);gg(kr,jn),gk(kr),j={},kr.registerSubTypeDefaulter=function(a,b){j[ge(a).main]=b},kr.determineSubType=function(a,b){var c=b.type;if(!c){var d=ge(a).main;kr.hasSubTypes(a)&&j[d]&&(c=j[d](b))}return c};var ks=function(a){var b=[];return aX(kr.getClassesByMainType(a),function(a){b=b.concat(a.dependencies||a.prototype.dependencies||[])}),b=aY(b,function(a){return ge(a).main}),"dataset"!==a&&0>=aT(b,"dataset")&&b.unshift("dataset"),b};function kt(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}kr.topologicalTravel=function(a,b,c,d){if(a.length){var e,f,g,h=(f={},g=[],aX(e=b,function(a){var b,c,d,h=kt(f,a),i=(b=h.originalDeps=ks(a),c=e,d=[],aX(b,function(a){aT(c,a)>=0&&d.push(a)}),d);h.entryCount=i.length,0===h.entryCount&&g.push(a),aX(i,function(b){0>aT(h.predecessor,b)&&h.predecessor.push(b);var c=kt(f,b);0>aT(c.successor,b)&&c.successor.push(a)})}),{graph:f,noEntryList:g}),i=h.graph,j=h.noEntryList,k={};for(aX(a,function(a){k[a]=!0});j.length;){var l=j.pop(),m=i[l],n=!!k[l];n&&(c.call(d,l,m.originalDeps.slice()),delete k[l]),aX(m.successor,n?p:o)}aX(k,function(){throw Error("")})}function o(a){i[a].entryCount--,0===i[a].entryCount&&j.push(a)}function p(a){k[a]=!0,o(a)}};let ku=kr;var kv={color:{},darkColor:{},size:{}},kw=kv.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};for(var kx in aQ(kw,{primary:kw.neutral80,secondary:kw.neutral70,tertiary:kw.neutral60,quaternary:kw.neutral50,disabled:kw.neutral20,border:kw.neutral30,borderTint:kw.neutral20,borderShade:kw.neutral40,background:kw.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:kw.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:kw.neutral70,axisLineTint:kw.neutral40,axisTick:kw.neutral70,axisTickMinor:kw.neutral60,axisLabel:kw.neutral70,axisSplitLine:kw.neutral15,axisMinorSplitLine:kw.neutral05}),kw)if(kw.hasOwnProperty(kx)){var ky=kw[kx];"theme"===kx?kv.darkColor.theme=kw.theme.slice():"highlight"===kx?kv.darkColor.highlight="rgba(255,231,130,0.4)":0===kx.indexOf("accent")?kv.darkColor[kx]=dU(ky,null,function(a){return .5*a},function(a){return Math.min(1,1.3-a)}):kv.darkColor[kx]=dU(ky,null,function(a){return .9*a},function(a){return 1-Math.pow(a,1.5)})}kv.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var kz="";"undefined"!=typeof navigator&&(kz=navigator.platform||"");var kA="rgba(0, 0, 0, 0.2)",kB=kv.color.theme[0],kC=dU(kB,null,null,.9);let kD={darkMode:"auto",colorBy:"series",color:kv.color.theme,gradientColor:[kC,kB],aria:{decal:{decals:[{color:kA,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:kA,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:kA,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:kA,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:kA,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:kA,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:kz.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var kE=bt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),kF="original",kG="arrayRows",kH="objectRows",kI="keyedColumns",kJ="typedArray",kK="unknown",kL="column",kM=f0();function kN(a,b,c){var d,e,f={},g=kP(b);if(!g||!a)return f;var h=[],i=[],j=kM(b.ecModel).datasetMap,k=g.uid+"_"+c.seriesLayoutBy;aX(a=a.slice(),function(b,c){var g=a8(b)?b:a[c]={name:b};"ordinal"===g.type&&null==d&&(d=c,e=n(g)),f[g.name]=[]});var l=j.get(k)||j.set(k,{categoryWayDim:e,valueWayDim:0});function m(a,b,c){for(var d=0;d<c;d++)a.push(b+d)}function n(a){var b=a.dimsDef;return b?b.length:1}return aX(a,function(a,b){var c=a.name,e=n(a);if(null==d){var g=l.valueWayDim;m(f[c],g,e),m(i,g,e),l.valueWayDim+=e}else if(d===b)m(f[c],0,e),m(h,0,e);else{var g=l.categoryWayDim;m(f[c],g,e),m(i,g,e),l.categoryWayDim+=e}}),h.length&&(f.itemName=h),i.length&&(f.seriesName=i),f}function kO(a,b,c){var d,e={};if(!kP(a))return e;var f=b.sourceFormat,g=b.dimensionsDefine;(f===kH||f===kI)&&aX(g,function(a,b){(a8(a)?a.name:a)==="name"&&(d=b)});var h=function(){for(var a={},e={},h=[],i=0,j=Math.min(5,c);i<j;i++){var k=kR(b.data,f,b.seriesLayoutBy,g,b.startIndex,i);h.push(k);var l=3===k;if(l&&null==a.v&&i!==d&&(a.v=i),null!=a.n&&a.n!==a.v&&(l||3!==h[a.n])||(a.n=i),m(a)&&3!==h[a.n])return a;l||(2===k&&null==e.v&&i!==d&&(e.v=i),(null==e.n||e.n===e.v)&&(e.n=i))}function m(a){return null!=a.v&&null!=a.n}return m(a)?a:m(e)?e:null}();if(h){e.value=[h.v];var i=null!=d?d:h.n;e.itemName=[i],e.seriesName=[i]}return e}function kP(a){if(!a.get("data",!0))return f6(a.ecModel,"dataset",{index:a.get("datasetIndex",!0),id:a.get("datasetId",!0)},f4).models[0]}function kQ(a,b){return kR(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,b)}function kR(a,b,c,d,e,f){var g,h,i;if(ba(a))return 3;if(d){var j=d[f];a8(j)?(h=j.name,i=j.type):a5(j)&&(h=j)}if(null!=i)return"ordinal"===i?1:3;if(b===kG)if("row"===c){for(var k=a[f],l=0;l<(k||[]).length&&l<5;l++)if(null!=(g=p(k[e+l])))return g}else for(var l=0;l<a.length&&l<5;l++){var m=a[e+l];if(m&&null!=(g=p(m[f])))return g}else if(b===kH){if(!h)return 3;for(var l=0;l<a.length&&l<5;l++){var n=a[l];if(n&&null!=(g=p(n[h])))return g}}else if(b===kI){if(!h)return 3;var k=a[h];if(!k||ba(k))return 3;for(var l=0;l<k.length&&l<5;l++)if(null!=(g=p(k[l])))return g}else if(b===kF)for(var l=0;l<a.length&&l<5;l++){var n=a[l],o=fU(n);if(!a3(o))return 3;if(null!=(g=p(o[f])))return g}function p(a){var b=a5(a);return null!=a&&Number.isFinite(Number(a))&&""!==a?b?2:3:b&&"-"!==a?1:void 0}return 3}var kS=bt(),kT=f0(),kU=f0(),kV=function(){function a(){}return a.prototype.getColorFromPalette=function(a,b,c){return kX(this,kT,fR(this.get("color",!0)),this.get("colorLayer",!0),a,b,c)},a.prototype.clearColorPalette=function(){var a,b;a=this,(b=kT)(a).paletteIdx=0,b(a).paletteNameMap={}},a}();function kW(a,b,c,d){var e=fR(a.get(["aria","decal","decals"]));return kX(a,kU,e,null,b,c,d)}function kX(a,b,c,d,e,f,g){var h=b(f=f||a),i=h.paletteIdx||0,j=h.paletteNameMap=h.paletteNameMap||{};if(j.hasOwnProperty(e))return j[e];var k=null!=g&&d?function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d].length>b)return a[d];return a[c-1]}(d,g):c;if((k=k||c)&&k.length){var l=k[i];return e&&(j[e]=l),h.paletteIdx=(i+1)%k.length,l}}var kY="\0_ec_inner",kZ=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.init=function(a,b,c,d,e,f){d=d||{},this.option=null,this._theme=new jn(d),this._locale=new jn(e),this._optionManager=f},b.prototype.setOption=function(a,b,c){var d=k0(b);this._optionManager.setOption(a,c,d),this._resetOption(null,d)},b.prototype.resetOption=function(a,b){return this._resetOption(a,k0(b))},b.prototype._resetOption=function(a,b){var c=!1,d=this._optionManager;if(!a||"recreate"===a){var e=d.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this._mergeOption(e,b)):u(this,e),c=!0}if(("timeline"===a||"media"===a)&&this.restoreData(),!a||"recreate"===a||"timeline"===a){var f=d.getTimelineOption(this);f&&(c=!0,this._mergeOption(f,b))}if(!a||"recreate"===a||"media"===a){var g=d.getMediaOption(this);g.length&&aX(g,function(a){c=!0,this._mergeOption(a,b)},this)}return c},b.prototype.mergeOption=function(a){this._mergeOption(a,null)},b.prototype._mergeOption=function(a,b){var c=this.option,d=this._componentsMap,e=this._componentsCount,f=[],g=bt(),h=b&&b.replaceMergeMainTypeMap;kM(this).datasetMap=bt(),aX(a,function(a,b){null!=a&&(ku.hasClass(b)?b&&(f.push(b),g.set(b,!0)):c[b]=null==c[b]?aN(a):aO(c[b],a,!0))}),h&&h.each(function(a,b){ku.hasClass(b)&&!g.get(b)&&(f.push(b),g.set(b,!0))}),ku.topologicalTravel(f,ku.getAllClassMainTypes(),function(b){var f,g=function(a,b,c){var d=kS.get(b);if(!d)return c;var e=d(a);return e?c.concat(e):c}(this,b,fR(a[b])),i=d.get(b),j=i?h&&h.get(b)?"replaceMerge":"normalMerge":"replaceAll",k=fV(i,g,j);aX(k,function(a){var c,d,e,f,g=a.newOption;a8(g)&&(a.keyInfo.mainType=b,a.keyInfo.subType=(c=b,d=g,e=a.existing,f=ku,d.type?d.type:e?e.subType:f.determineSubType(c,d)))}),c[b]=null,d.set(b,null),e.set(b,0);var l=[],m=[],n=0;aX(k,function(a,c){var d=a.existing,e=a.newOption;if(e){var g="series"===b,h=ku.getClass(b,a.keyInfo.subType,!g);if(!h)return;if("tooltip"===b){if(f)return;f=!0}if(d&&d.constructor===h)d.name=a.keyInfo.name,d.mergeOption(e,this),d.optionUpdated(e,!1);else{var i=aQ({componentIndex:c},a.keyInfo);aQ(d=new h(e,this,this,i),i),a.brandNew&&(d.__requireNewView=!0),d.init(e,this,this),d.optionUpdated(null,!0)}}else d&&(d.mergeOption({},this),d.optionUpdated({},!1));d?(l.push(d.option),m.push(d),n++):(l.push(void 0),m.push(void 0))},this),c[b]=l,d.set(b,m),e.set(b,n),"series"===b&&s(this)},this),this._seriesIndices||s(this)},b.prototype.getOption=function(){var a=aN(this.option);return aX(a,function(b,c){if(ku.hasClass(c)){for(var d=fR(b),e=d.length,f=!1,g=e-1;g>=0;g--)d[g]&&!f$(d[g])?f=!0:(d[g]=null,!f&&e--);d.length=e,a[c]=d}}),delete a[kY],a},b.prototype.setTheme=function(a){this._theme=new jn(a),this._resetOption("recreate",null)},b.prototype.getTheme=function(){return this._theme},b.prototype.getLocaleModel=function(){return this._locale},b.prototype.setUpdatePayload=function(a){this._payload=a},b.prototype.getUpdatePayload=function(){return this._payload},b.prototype.getComponent=function(a,b){var c=this._componentsMap.get(a);if(c){var d=c[b||0];if(d)return d;if(null==b){for(var e=0;e<c.length;e++)if(c[e])return c[e]}}},b.prototype.queryComponents=function(a){var b,c=a.mainType;if(!c)return[];var d=a.index,e=a.id,f=a.name,g=this._componentsMap.get(c);return g&&g.length?(null!=d?(b=[],aX(fR(d),function(a){g[a]&&b.push(g[a])})):b=null!=e?k$("id",e,g):null!=f?k$("name",f,g):a$(g,function(a){return!!a}),k_(b,a)):[]},b.prototype.findComponents=function(a){var b,c,d,e,f,g=a.query,h=a.mainType,i=(b=g,c=h+"Index",d=h+"Id",e=h+"Name",b&&(null!=b[c]||null!=b[d]||null!=b[e])?{mainType:h,index:b[c],id:b[d],name:b[e]}:null);return f=k_(i?this.queryComponents(i):a$(this._componentsMap.get(h),function(a){return!!a}),a),a.filter?a$(f,a.filter):f},b.prototype.eachComponent=function(a,b,c){var d=this._componentsMap;if(a4(a))d.each(function(c,d){for(var e=0;c&&e<c.length;e++){var f=c[e];f&&a.call(b,d,f,f.componentIndex)}});else for(var e=a5(a)?d.get(a):a8(a)?this.findComponents(a):null,f=0;e&&f<e.length;f++){var g=e[f];g&&b.call(c,g,g.componentIndex)}},b.prototype.getSeriesByName=function(a){var b=fY(a,null);return a$(this._componentsMap.get("series"),function(a){return!!a&&null!=b&&a.name===b})},b.prototype.getSeriesByIndex=function(a){return this._componentsMap.get("series")[a]},b.prototype.getSeriesByType=function(a){return a$(this._componentsMap.get("series"),function(b){return!!b&&b.subType===a})},b.prototype.getSeries=function(){return a$(this._componentsMap.get("series"),function(a){return!!a})},b.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},b.prototype.eachSeries=function(a,b){t(this),aX(this._seriesIndices,function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},b.prototype.eachRawSeries=function(a,b){aX(this._componentsMap.get("series"),function(c){c&&a.call(b,c,c.componentIndex)})},b.prototype.eachSeriesByType=function(a,b,c){t(this),aX(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];e.subType===a&&b.call(c,e,d)},this)},b.prototype.eachRawSeriesByType=function(a,b,c){return aX(this.getSeriesByType(a),b,c)},b.prototype.isSeriesFiltered=function(a){return t(this),null==this._seriesIndicesMap.get(a.componentIndex)},b.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},b.prototype.filterSeries=function(a,b){t(this);var c=[];aX(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];a.call(b,e,d)&&c.push(d)},this),this._seriesIndices=c,this._seriesIndicesMap=bt(c)},b.prototype.restoreData=function(a){s(this);var b=this._componentsMap,c=[];b.each(function(a,b){ku.hasClass(b)&&c.push(b)}),ku.topologicalTravel(c,ku.getAllClassMainTypes(),function(c){aX(b.get(c),function(b){b&&("series"!==c||!function(a,b){if(b){var c=b.seriesIndex,d=b.seriesId,e=b.seriesName;return null!=c&&a.componentIndex!==c||null!=d&&a.id!==d||null!=e&&a.name!==e}}(b,a))&&b.restoreData()})})},b.internalField=void(s=function(a){var b=a._seriesIndices=[];aX(a._componentsMap.get("series"),function(a){a&&b.push(a.componentIndex)}),a._seriesIndicesMap=bt(b)},t=function(a){},u=function(a,b){a.option={},a.option[kY]=1,a._componentsMap=bt({series:[]}),a._componentsCount=bt();var c,d,e,f=b.aria;a8(f)&&null==f.enabled&&(f.enabled=!0),c=b,d=a._theme.option,e=c.color&&!c.colorLayer,aX(d,function(a,b){"colorLayer"===b&&e||"color"===b&&c.color||ku.hasClass(b)||("object"==typeof a?c[b]=c[b]?aO(c[b],a,!1):aN(a):null==c[b]&&(c[b]=a))}),aO(b,kD,!1),a._mergeOption(b,null)}),b}(jn);function k$(a,b,c){if(a3(b)){var d=bt();return aX(b,function(a){null!=a&&null!=fY(a,null)&&d.set(a,!0)}),a$(c,function(b){return b&&d.get(b[a])})}var e=fY(b,null);return a$(c,function(b){return b&&null!=e&&b[a]===e})}function k_(a,b){return b.hasOwnProperty("subType")?a$(a,function(a){return a&&a.subType===b.subType}):a}function k0(a){var b=bt();return a&&aX(fR(a.replaceMerge),function(a){b.set(a,!0)}),{replaceMergeMainTypeMap:b}}aV(kZ,kV);var k1=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];let k2=function(a){aX(k1,function(b){this[b]=a1(a[b],a)},this)};var k3=/^(min|max)?(.+)$/,k4=function(){function a(a){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=a}return a.prototype.setOption=function(a,b,c){a&&(aX(fR(a.series),function(a){a&&a.data&&ba(a.data)&&bo(a.data)}),aX(fR(a.dataset),function(a){a&&a.source&&ba(a.source)&&bo(a.source)})),a=aN(a);var d=this._optionBackup,e=function(a,b,c){var d,e,f=[],g=a.baseOption,h=a.timeline,i=a.options,j=a.media,k=!!a.media,l=!!(i||h||g&&g.timeline);function m(a){aX(b,function(b){b(a,c)})}return g?(e=g).timeline||(e.timeline=h):((l||k)&&(a.options=a.media=null),e=a),k&&a3(j)&&aX(j,function(a){a&&a.option&&(a.query?f.push(a):d||(d=a))}),m(e),aX(i,function(a){return m(a)}),aX(f,function(a){return m(a.option)}),{baseOption:e,timelineOptions:i||[],mediaDefault:d,mediaList:f}}(a,b,!d);this._newBaseOption=e.baseOption,d?(e.timelineOptions.length&&(d.timelineOptions=e.timelineOptions),e.mediaList.length&&(d.mediaList=e.mediaList),e.mediaDefault&&(d.mediaDefault=e.mediaDefault)):this._optionBackup=e},a.prototype.mountOption=function(a){var b=this._optionBackup;return this._timelineOptions=b.timelineOptions,this._mediaList=b.mediaList,this._mediaDefault=b.mediaDefault,this._currentMediaIndices=[],aN(a?b.baseOption:this._newBaseOption)},a.prototype.getTimelineOption=function(a){var b,c=this._timelineOptions;if(c.length){var d=a.getComponent("timeline");d&&(b=aN(c[d.getCurrentIndex()]))}return b},a.prototype.getMediaOption=function(a){var b,c,d=this._api.getWidth(),e=this._api.getHeight(),f=this._mediaList,g=this._mediaDefault,h=[],i=[];if(!f.length&&!g)return i;for(var j=0,k=f.length;j<k;j++)(function(a,b,c){var d={width:b,height:c,aspectratio:b/c},e=!0;return aX(a,function(a,b){var c=b.match(k3);if(c&&c[1]&&c[2]){var f,g,h,i=c[1];f=d[c[2].toLowerCase()],g=a,("min"===(h=i)?f>=g:"max"===h?f<=g:f===g)||(e=!1)}}),e})(f[j].query,d,e)&&h.push(j);return!h.length&&g&&(h=[-1]),h.length&&(b=h,c=this._currentMediaIndices,b.join(",")!==c.join(","))&&(i=aY(h,function(a){return aN(-1===a?g.option:f[a].option)})),this._currentMediaIndices=h,i},a}(),k5=aX,k6=a8,k7=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function k8(a){var b=a&&a.itemStyle;if(b)for(var c=0,d=k7.length;c<d;c++){var e=k7[c],f=b.normal,g=b.emphasis;f&&f[e]&&(a[e]=a[e]||{},a[e].normal?aO(a[e].normal,f[e]):a[e].normal=f[e],f[e]=null),g&&g[e]&&(a[e]=a[e]||{},a[e].emphasis?aO(a[e].emphasis,g[e]):a[e].emphasis=g[e],g[e]=null)}}function k9(a,b,c){if(a&&a[b]&&(a[b].normal||a[b].emphasis)){var d=a[b].normal,e=a[b].emphasis;d&&(c?(a[b].normal=a[b].emphasis=null,aR(a[b],d)):a[b]=d),e&&(a.emphasis=a.emphasis||{},a.emphasis[b]=e,e.focus&&(a.emphasis.focus=e.focus),e.blurScope&&(a.emphasis.blurScope=e.blurScope))}}function la(a){k9(a,"itemStyle"),k9(a,"lineStyle"),k9(a,"areaStyle"),k9(a,"label"),k9(a,"labelLine"),k9(a,"upperLabel"),k9(a,"edgeLabel")}function lb(a,b){var c=k6(a)&&a[b],d=k6(c)&&c.textStyle;if(d)for(var e=0,f=fT.length;e<f;e++){var g=fT[e];d.hasOwnProperty(g)&&(c[g]=d[g])}}function lc(a){a&&(la(a),lb(a,"label"),a.emphasis&&lb(a.emphasis,"label"))}function ld(a){return a3(a)?a:a?[a]:[]}function le(a){return(a3(a)?a[0]:a)||{}}function lf(a){a&&aX(lg,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}var lg=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],lh=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],li=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function lj(a){var b=a&&a.itemStyle;if(b)for(var c=0;c<li.length;c++){var d=li[c][1],e=li[c][0];null!=b[d]&&(b[e]=b[d])}}function lk(a){a&&"edge"===a.alignTo&&null!=a.margin&&null==a.edgeDistance&&(a.edgeDistance=a.margin)}function ll(a){a&&a.downplay&&!a.blur&&(a.blur=a.downplay)}function lm(a,b){var c;k5(ld(a.series),function(a){k6(a)&&function(a){if(k6(a)){k8(a),la(a),lb(a,"label"),lb(a,"upperLabel"),lb(a,"edgeLabel"),a.emphasis&&(lb(a.emphasis,"label"),lb(a.emphasis,"upperLabel"),lb(a.emphasis,"edgeLabel"));var b=a.markPoint;b&&(k8(b),lc(b));var c=a.markLine;c&&(k8(c),lc(c));var d=a.markArea;d&&lc(d);var e=a.data;if("graph"===a.type){e=e||a.nodes;var f=a.links||a.edges;if(f&&!ba(f))for(var g=0;g<f.length;g++)lc(f[g]);aX(a.categories,function(a){la(a)})}if(e&&!ba(e))for(var g=0;g<e.length;g++)lc(e[g]);if((b=a.markPoint)&&b.data)for(var h=b.data,g=0;g<h.length;g++)lc(h[g]);if((c=a.markLine)&&c.data)for(var i=c.data,g=0;g<i.length;g++)a3(i[g])?(lc(i[g][0]),lc(i[g][1])):lc(i[g]);"gauge"===a.type?(lb(a,"axisLabel"),lb(a,"title"),lb(a,"detail")):"treemap"===a.type?(k9(a.breadcrumb,"itemStyle"),aX(a.levels,function(a){la(a)})):"tree"===a.type&&la(a.leaves)}}(a)}),c=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"],b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis"),k5(c,function(b){k5(ld(a[b]),function(a){a&&(lb(a,"axisLabel"),lb(a.axisPointer,"label"))})}),k5(ld(a.parallel),function(a){var b=a&&a.parallelAxisDefault;lb(b,"axisLabel"),lb(b&&b.axisPointer,"label")}),k5(ld(a.calendar),function(a){k9(a,"itemStyle"),lb(a,"dayLabel"),lb(a,"monthLabel"),lb(a,"yearLabel")}),k5(ld(a.radar),function(a){lb(a,"name"),a.name&&null==a.axisName&&(a.axisName=a.name,delete a.name),null!=a.nameGap&&null==a.axisNameGap&&(a.axisNameGap=a.nameGap,delete a.nameGap)}),k5(ld(a.geo),function(a){k6(a)&&(lc(a),k5(ld(a.regions),function(a){lc(a)}))}),k5(ld(a.timeline),function(a){lc(a),k9(a,"label"),k9(a,"itemStyle"),k9(a,"controlStyle",!0);var b=a.data;a3(b)&&aX(b,function(a){a8(a)&&(k9(a,"label"),k9(a,"itemStyle"))})}),k5(ld(a.toolbox),function(a){k9(a,"iconStyle"),k5(a.feature,function(a){k9(a,"iconStyle")})}),lb(le(a.axisPointer),"label"),lb(le(a.tooltip).axisPointer,"label"),a.series=fR(a.series),aX(a.series,function(a){if(a8(a)){var b=a.type;if("line"===b)null!=a.clipOverflow&&(a.clip=a.clipOverflow);else if("pie"===b||"gauge"===b){null!=a.clockWise&&(a.clockwise=a.clockWise),lk(a.label);var c=a.data;if(c&&!ba(c))for(var d=0;d<c.length;d++)lk(c[d]);null!=a.hoverOffset&&(a.emphasis=a.emphasis||{},a.emphasis.scaleSize=null)}else if("gauge"===b){var e=function(a,b){for(var c=b.split(","),d=a,e=0;e<c.length&&null!=(d=d&&d[c[e]]);e++);return d}(a,"pointer.color");null!=e&&function(a,b,c,d){for(var e,f=b.split(","),g=a,h=0;h<f.length-1;h++)null==g[e=f[h]]&&(g[e]={}),g=g[e];null==g[f[h]]&&(g[f[h]]=c)}(a,"itemStyle.color",e)}else if("bar"===b){lj(a),lj(a.backgroundStyle),lj(a.emphasis);var c=a.data;if(c&&!ba(c))for(var d=0;d<c.length;d++)"object"==typeof c[d]&&(lj(c[d]),lj(c[d]&&c[d].emphasis))}else if("sunburst"===b){var f=a.highlightPolicy;f&&(a.emphasis=a.emphasis||{},a.emphasis.focus||(a.emphasis.focus=f)),ll(a),function a(b,c){if(b)for(var d=0;d<b.length;d++)c(b[d]),b[d]&&a(b[d].children,c)}(a.data,ll)}else"graph"===b||"sankey"===b?a&&null!=a.focusNodeAdjacency&&(a.emphasis=a.emphasis||{},null==a.emphasis.focus&&(a.emphasis.focus="adjacency")):"map"===b&&(a.mapType&&!a.map&&(a.map=a.mapType),a.mapLocation&&aR(a,a.mapLocation));null!=a.hoverAnimation&&(a.emphasis=a.emphasis||{},a.emphasis&&null==a.emphasis.scale&&(a.emphasis.scale=a.hoverAnimation)),lf(a)}}),a.dataRange&&(a.visualMap=a.dataRange),aX(lh,function(b){var c=a[b];c&&(a3(c)||(c=[c]),aX(c,function(a){lf(a)}))})}var ln=function(a){this.data=a.data||(a.sourceFormat===kI?{}:[]),this.sourceFormat=a.sourceFormat||kK,this.seriesLayoutBy=a.seriesLayoutBy||kL,this.startIndex=a.startIndex||0,this.dimensionsDetectedCount=a.dimensionsDetectedCount,this.metaRawOption=a.metaRawOption;var b=this.dimensionsDefine=a.dimensionsDefine;if(b)for(var c=0;c<b.length;c++){var d=b[c];null==d.type&&1===kQ(this,c)&&(d.type="ordinal")}};function lo(a){return a instanceof ln}function lp(a,b,c){c=c||lr(a);var d=b.seriesLayoutBy,e=function(a,b,c,d,e){if(!a)return{dimensionsDefine:ls(e),startIndex:g,dimensionsDetectedCount:f};if(b===kG){var f,g;"auto"===d||null==d?lt(function(a){null!=a&&"-"!==a&&(a5(a)?null==g&&(g=1):g=0)},c,a,10):g=a7(d)?d:+!!d,e||1!==g||(e=[],lt(function(a,b){e[b]=null!=a?a+"":""},c,a,1/0)),f=e?e.length:"row"===c?a.length:a[0]?a[0].length:null}else if(b===kH)e||(e=function(a){for(var b,c=0;c<a.length&&!(b=a[c++]););if(b)return a0(b)}(a));else if(b===kI)e||(e=[],aX(a,function(a,b){e.push(b)}));else if(b===kF){var h=fU(a[0]);f=a3(h)&&h.length||1}return{startIndex:g,dimensionsDefine:ls(e),dimensionsDetectedCount:f}}(a,c,d,b.sourceHeader,b.dimensions);return new ln({data:a,sourceFormat:c,seriesLayoutBy:d,dimensionsDefine:e.dimensionsDefine,startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount,metaRawOption:aN(b)})}function lq(a){return new ln({data:a,sourceFormat:ba(a)?kJ:kF})}function lr(a){var b=kK;if(ba(a))b=kJ;else if(a3(a)){0===a.length&&(b=kG);for(var c=0,d=a.length;c<d;c++){var e=a[c];if(null!=e){if(a3(e)||ba(e)){b=kG;break}else if(a8(e)){b=kH;break}}}}else if(a8(a)){for(var f in a)if(bx(a,f)&&aW(a[f])){b=kI;break}}return b}function ls(a){if(a){var b=bt();return aY(a,function(a,c){var d={name:(a=a8(a)?a:{name:a}).name,displayName:a.displayName,type:a.type};if(null==d.name)return d;d.name+="",null==d.displayName&&(d.displayName=d.name);var e=b.get(d.name);return e?d.name+="-"+e.count++:b.set(d.name,{count:1}),d})}}function lt(a,b,c,d){if("row"===b)for(var e=0;e<c.length&&e<d;e++)a(c[e]?c[e][0]:null,e);else for(var f=c[0]||[],e=0;e<f.length&&e<d;e++)a(f[e],e)}function lu(a){var b=a.sourceFormat;return b===kH||b===kI}var lv={},lw="undefined"!=typeof console&&console.warn&&console.log;function lx(a,b){!function(a,b,c){if(lw){if(c){if(lv[b])return;lv[b]=!0}console[a]("[ECharts] "+b)}}("error",a,b)}function ly(a){throw Error(a)}var lz=function(){var a;function b(a,b){var c=lo(a)?a:lq(a);this._source=c;var d=this._data=c.data,e=c.sourceFormat;c.seriesLayoutBy,e===kJ&&(this._offset=0,this._dimSize=b,this._data=d),A(this,d,c)}return b.prototype.getSource=function(){return this._source},b.prototype.count=function(){return 0},b.prototype.getItem=function(a,b){},b.prototype.appendData=function(a){},b.prototype.clean=function(){},b.protoInitialize=void((a=b.prototype).pure=!1,a.persistent=!0),b.internalField=function(){A=function(a,e,f){var g=f.sourceFormat,h=f.seriesLayoutBy,i=f.startIndex,j=f.dimensionsDefine;aQ(a,z[lH(g,h)]),g===kJ?(a.getItem=b,a.count=d,a.fillStorage=c):(a.getItem=a1(function(a,b){return lC[lH(a,b)]}(g,h),null,e,i,j),a.count=a1(function(a,b){return lE[lH(a,b)]}(g,h),null,e,i,j))};var a,b=function(a,b){a-=this._offset,b=b||[];for(var c=this._data,d=this._dimSize,e=d*a,f=0;f<d;f++)b[f]=c[e+f];return b},c=function(a,b,c,d){for(var e=this._data,f=this._dimSize,g=0;g<f;g++){for(var h=d[g],i=null==h[0]?1/0:h[0],j=null==h[1]?-1/0:h[1],k=b-a,l=c[g],m=0;m<k;m++){var n=e[m*f+g];l[a+m]=n,n<i&&(i=n),n>j&&(j=n)}h[0]=i,h[1]=j}},d=function(){return this._data?this._data.length/this._dimSize:0};function e(a){for(var b=0;b<a.length;b++)this._data.push(a[b])}(a={})[kG+"_"+kL]={pure:!0,appendData:e},a[kG+"_row"]={pure:!0,appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".')}},a[kH]={pure:!0,appendData:e},a[kI]={pure:!0,appendData:function(a){var b=this._data;aX(a,function(a,c){for(var d=b[c]||(b[c]=[]),e=0;e<(a||[]).length;e++)d.push(a[e])})}},a[kF]={appendData:e},a[kJ]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},z=a}(),b}(),lA=function(a){a3(a)||lx("series.data or dataset.source must be an array.")};(v={})[kG+"_"+kL]=lA,v[kG+"_row"]=lA,v[kH]=lA,v[kI]=function(a,b){for(var c=0;c<b.length;c++)null==b[c].name&&lx("dimension name must not be null/undefined.")},v[kF]=lA;var lB=function(a,b,c,d){return a[d]},lC=((w={})[kG+"_"+kL]=function(a,b,c,d){return a[d+b]},w[kG+"_row"]=function(a,b,c,d,e){d+=b;for(var f=e||[],g=0;g<a.length;g++){var h=a[g];f[g]=h?h[d]:null}return f},w[kH]=lB,w[kI]=function(a,b,c,d,e){for(var f=e||[],g=0;g<c.length;g++){var h=c[g].name,i=null!=h?a[h]:null;f[g]=i?i[d]:null}return f},w[kF]=lB,w),lD=function(a,b,c){return a.length},lE=((x={})[kG+"_"+kL]=function(a,b,c){return Math.max(0,a.length-b)},x[kG+"_row"]=function(a,b,c){var d=a[0];return d?Math.max(0,d.length-b):0},x[kH]=lD,x[kI]=function(a,b,c){var d=c[0].name,e=null!=d?a[d]:null;return e?e.length:0},x[kF]=lD,x),lF=function(a,b,c){return a[b]},lG=((y={})[kG]=lF,y[kH]=function(a,b,c){return a[c]},y[kI]=lF,y[kF]=function(a,b,c){var d=fU(a);return d instanceof Array?d[b]:d},y[kJ]=lF,y);function lH(a,b){return a===kG?a+"_"+b:a}function lI(a,b,c){if(a){var d=a.getRawDataItem(b);if(null!=d){var e=a.getStore(),f=e.getSource().sourceFormat;if(null!=c){var g=a.getDimensionIndex(c),h=e.getDimensionProperty(g);return lG[f](d,g,h)}var i=d;return f===kF&&(i=fU(d)),i}}}var lJ=/\{@(.+?)\}/g,lK=function(){function a(){}return a.prototype.getDataParams=function(a,b){var c=this.getData(b),d=this.getRawValue(a,b),e=c.getRawIndex(a),f=c.getName(a),g=c.getRawDataItem(a),h=c.getItemVisual(a,"style"),i=h&&h[c.getItemVisual(a,"drawType")||"fill"],j=h&&h.stroke,k=this.mainType,l="series"===k,m=c.userOutput&&c.userOutput.get();return{componentType:k,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:l?this.subType:null,seriesIndex:this.seriesIndex,seriesId:l?this.id:null,seriesName:l?this.name:null,name:f,dataIndex:e,data:g,dataType:b,value:d,color:i,borderColor:j,dimensionNames:m?m.fullDimensions:null,encode:m?m.encode:null,$vars:["seriesName","name","value"]}},a.prototype.getFormattedLabel=function(a,b,c,d,e,f){b=b||"normal";var g=this.getData(c),h=this.getDataParams(a,c);return(f&&(h.value=f.interpolatedValue),null!=d&&a3(h.value)&&(h.value=h.value[d]),e||(e=g.getItemModel(a).get("normal"===b?["label","formatter"]:[b,"label","formatter"])),a4(e))?(h.status=b,h.dimensionIndex=d,e(h)):a5(e)?j$(e,h).replace(lJ,function(b,c){var d=c.length,e=c;"["===e.charAt(0)&&"]"===e.charAt(d-1)&&(e=+e.slice(1,d-1));var h=lI(g,a,e);if(f&&a3(f.interpolatedValue)){var i=g.getDimensionIndex(e);i>=0&&(h=f.interpolatedValue[i])}return null!=h?h+"":""}):void 0},a.prototype.getRawValue=function(a,b){return lI(this.getData(b),a)},a.prototype.formatTooltip=function(a,b,c){},a}();function lL(a){var b,c;return a8(a)?a.type&&(c=a):b=a,{text:b,frag:c}}function lM(a){return new lN(a)}var lN=function(){function a(a){a=a||{},this._reset=a.reset,this._plan=a.plan,this._count=a.count,this._onDirty=a.onDirty,this._dirty=!0}return a.prototype.perform=function(a){var b,c,d,e,f=this._upstream,g=a&&a.skip;if(this._dirty&&f){var h=this.context;h.data=h.outputData=f.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!g&&(d=this._plan(this.context));var i=((b=this._modBy)>=1||(b=1),b),j=this._modDataCount||0,k=((c=a&&a.modBy)>=1||(c=1),c),l=a&&a.modDataCount||0;(i!==k||j!==l)&&(d="reset"),(this._dirty||"reset"===d)&&(this._dirty=!1,e=this._doReset(g)),this._modBy=k,this._modDataCount=l;var m=a&&a.step;if(f?this._dueEnd=f._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var n=this._dueIndex,o=Math.min(null!=m?this._dueIndex+m:1/0,this._dueEnd);if(!g&&(e||n<o)){var p=this._progress;if(a3(p))for(var q=0;q<p.length;q++)this._doProgress(p[q],n,o,k,l);else this._doProgress(p,n,o,k,l)}this._dueIndex=o;var r=null!=this._settedOutputEnd?this._settedOutputEnd:o;this._outputDueEnd=r}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},a.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},a.prototype._doProgress=function(a,b,c,d,e){lO.reset(b,c,d,e),this._callingProgress=a,this._callingProgress({start:b,end:c,count:c-b,next:lO.next},this.context)},a.prototype._doReset=function(a){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!a&&this._reset&&((b=this._reset(this.context))&&b.progress&&(c=b.forceFirstProgress,b=b.progress),a3(b)&&!b.length&&(b=null)),this._progress=b,this._modBy=this._modDataCount=null;var b,c,d=this._downstream;return d&&d.dirty(),c},a.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},a.prototype.pipe=function(a){(this._downstream!==a||this._dirty)&&(this._downstream=a,a._upstream=this,a.dirty())},a.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},a.prototype.getUpstream=function(){return this._upstream},a.prototype.getDownstream=function(){return this._downstream},a.prototype.setOutputEnd=function(a){this._outputDueEnd=this._settedOutputEnd=a},a}(),lO=function(){var a,b,c,d,e,f={reset:function(i,j,k,l){b=i,a=j,c=k,e=Math.ceil((d=l)/c),f.next=c>1&&d>0?h:g}};return f;function g(){return b<a?b++:null}function h(){var f=b%e*c+Math.ceil(b/e),g=b>=a?null:f<d?f:b;return b++,g}}();function lP(a,b){var c=b&&b.type;return"ordinal"===c?a:("time"!==c||a7(a)||null==a||"-"===a||(a=+fF(a)),null==a||""===a?NaN:Number(a))}var lQ=bt({number:function(a){return parseFloat(a)},time:function(a){return+fF(a)},trim:function(a){return a5(a)?bm(a):a}}),lR={lt:function(a,b){return a<b},lte:function(a,b){return a<=b},gt:function(a,b){return a>b},gte:function(a,b){return a>=b}},lS=function(){function a(a,b){a7(b)||ly(""),this._opFn=lR[a],this._rvalFloat=fL(b)}return a.prototype.evaluate=function(a){return a7(a)?this._opFn(a,this._rvalFloat):this._opFn(fL(a),this._rvalFloat)},a}(),lT=function(){function a(a,b){var c="desc"===a;this._resultLT=c?1:-1,null==b&&(b=c?"min":"max"),this._incomparable="min"===b?-1/0:1/0}return a.prototype.evaluate=function(a,b){var c=a7(a)?a:fL(a),d=a7(b)?b:fL(b),e=isNaN(c),f=isNaN(d);if(e&&(c=this._incomparable),f&&(d=this._incomparable),e&&f){var g=a5(a),h=a5(b);g&&(c=h?a:0),h&&(d=g?b:0)}return c<d?this._resultLT:c>d?-this._resultLT:0},a}(),lU=function(){function a(a,b){this._rval=b,this._isEQ=a,this._rvalTypeof=typeof b,this._rvalFloat=fL(b)}return a.prototype.evaluate=function(a){var b=a===this._rval;if(!b){var c=typeof a;c!==this._rvalTypeof&&("number"===c||"number"===this._rvalTypeof)&&(b=fL(a)===this._rvalFloat)}return this._isEQ?b:!b},a}(),lV=function(){function a(){}return a.prototype.getRawData=function(){throw Error("not supported")},a.prototype.getRawDataItem=function(a){throw Error("not supported")},a.prototype.cloneRawData=function(){},a.prototype.getDimensionInfo=function(a){},a.prototype.cloneAllDimensionInfo=function(){},a.prototype.count=function(){},a.prototype.retrieveValue=function(a,b){},a.prototype.retrieveValueFromItem=function(a,b){},a.prototype.convertValue=function(a,b){return lP(a,b)},a}();function lW(a){return l_(a.sourceFormat)||ly(""),a.data}function lX(a){var b=a.sourceFormat,c=a.data;if(l_(b)||ly(""),b===kG){for(var d=[],e=0,f=c.length;e<f;e++)d.push(c[e].slice());return d}if(b===kH){for(var d=[],e=0,f=c.length;e<f;e++)d.push(aQ({},c[e]));return d}}function lY(a,b,c){if(null!=c){if(a7(c)||!isNaN(c)&&!bx(b,c))return a[c];else if(bx(b,c))return b[c]}}function lZ(a){return aN(a)}var l$=bt();function l_(a){return a===kG||a===kH}var l0="undefined",l1=typeof Uint32Array===l0?Array:Uint32Array,l2=typeof Uint16Array===l0?Array:Uint16Array,l3=typeof Int32Array===l0?Array:Int32Array,l4=typeof Float64Array===l0?Array:Float64Array,l5={float:l4,int:l3,ordinal:Array,number:Array,time:l4};function l6(a){return a>65535?l1:l2}function l7(){return[1/0,-1/0]}function l8(a,b,c,d,e){var f=l5[c||"float"];if(e){var g=a[b],h=g&&g.length;if(h!==d){for(var i=new f(d),j=0;j<h;j++)i[j]=g[j];a[b]=i}}else a[b]=new f(d)}var l9=function(){function a(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=bt()}return a.prototype.initData=function(a,b,c){this._provider=a,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var d=a.getSource(),e=this.defaultDimValueGetter=B[d.sourceFormat];this._dimValueGetter=c||e,this._rawExtent=[],lu(d),this._dimensions=aY(b,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,a.count())},a.prototype.getProvider=function(){return this._provider},a.prototype.getSource=function(){return this._provider.getSource()},a.prototype.ensureCalculationDimension=function(a,b){var c=this._calcDimNameToIdx,d=this._dimensions,e=c.get(a);if(null!=e){if(d[e].type===b)return e}else e=d.length;return d[e]={type:b},c.set(a,e),this._chunks[e]=new l5[b||"float"](this._rawCount),this._rawExtent[e]=l7(),e},a.prototype.collectOrdinalMeta=function(a,b){var c=this._chunks[a],d=this._dimensions[a],e=this._rawExtent,f=d.ordinalOffset||0,g=c.length;0===f&&(e[a]=l7());for(var h=e[a],i=f;i<g;i++){var j=c[i]=b.parseAndCollect(c[i]);isNaN(j)||(h[0]=Math.min(j,h[0]),h[1]=Math.max(j,h[1]))}d.ordinalMeta=b,d.ordinalOffset=g,d.type="ordinal"},a.prototype.getOrdinalMeta=function(a){return this._dimensions[a].ordinalMeta},a.prototype.getDimensionProperty=function(a){var b=this._dimensions[a];return b&&b.property},a.prototype.appendData=function(a){var b=this._provider,c=this.count();b.appendData(a);var d=b.count();return b.persistent||(d+=c),c<d&&this._initDataFromProvider(c,d,!0),[c,d]},a.prototype.appendValues=function(a,b){for(var c=this._chunks,d=this._dimensions,e=d.length,f=this._rawExtent,g=this.count(),h=g+Math.max(a.length,b||0),i=0;i<e;i++){var j=d[i];l8(c,i,j.type,h,!0)}for(var k=[],l=g;l<h;l++)for(var m=l-g,n=0;n<e;n++){var j=d[n],o=B.arrayRows.call(this,a[m]||k,j.property,m,n);c[n][l]=o;var p=f[n];o<p[0]&&(p[0]=o),o>p[1]&&(p[1]=o)}return this._rawCount=this._count=h,{start:g,end:h}},a.prototype._initDataFromProvider=function(a,b,c){for(var d=this._provider,e=this._chunks,f=this._dimensions,g=f.length,h=this._rawExtent,i=aY(f,function(a){return a.property}),j=0;j<g;j++){var k=f[j];h[j]||(h[j]=l7()),l8(e,j,k.type,b,c)}if(d.fillStorage)d.fillStorage(a,b,e,h);else for(var l=[],m=a;m<b;m++){l=d.getItem(m,l);for(var n=0;n<g;n++){var o=e[n],p=this._dimValueGetter(l,i[n],m,n);o[m]=p;var q=h[n];p<q[0]&&(q[0]=p),p>q[1]&&(q[1]=p)}}!d.persistent&&d.clean&&d.clean(),this._rawCount=this._count=b,this._extent=[]},a.prototype.count=function(){return this._count},a.prototype.get=function(a,b){if(!(b>=0&&b<this._count))return NaN;var c=this._chunks[a];return c?c[this.getRawIndex(b)]:NaN},a.prototype.getValues=function(a,b){var c=[],d=[];if(null==b){b=a,a=[];for(var e=0;e<this._dimensions.length;e++)d.push(e)}else d=a;for(var e=0,f=d.length;e<f;e++)c.push(this.get(d[e],b));return c},a.prototype.getByRawIndex=function(a,b){if(!(b>=0&&b<this._rawCount))return NaN;var c=this._chunks[a];return c?c[b]:NaN},a.prototype.getSum=function(a){var b=this._chunks[a],c=0;if(b)for(var d=0,e=this.count();d<e;d++){var f=this.get(a,d);isNaN(f)||(c+=f)}return c},a.prototype.getMedian=function(a){var b=[];this.each([a],function(a){isNaN(a)||b.push(a)});var c=b.sort(function(a,b){return a-b}),d=this.count();return 0===d?0:d%2==1?c[(d-1)/2]:(c[d/2]+c[d/2-1])/2},a.prototype.indexOfRawIndex=function(a){if(a>=this._rawCount||a<0)return -1;if(!this._indices)return a;var b=this._indices,c=b[a];if(null!=c&&c<this._count&&c===a)return a;for(var d=0,e=this._count-1;d<=e;){var f=(d+e)/2|0;if(b[f]<a)d=f+1;else{if(!(b[f]>a))return f;e=f-1}}return -1},a.prototype.getIndices=function(){var a,b=this._indices;if(b){var c=b.constructor,d=this._count;if(c===Array){a=new c(d);for(var e=0;e<d;e++)a[e]=b[e]}else a=new c(b.buffer,0,d)}else{var c=l6(this._rawCount);a=new c(this.count());for(var e=0;e<a.length;e++)a[e]=e}return a},a.prototype.filter=function(a,b){if(!this._count)return this;for(var c=this.clone(),d=c.count(),e=new(l6(c._rawCount))(d),f=[],g=a.length,h=0,i=a[0],j=c._chunks,k=0;k<d;k++){var l=void 0,m=c.getRawIndex(k);if(0===g)l=b(k);else if(1===g)l=b(j[i][m],k);else{for(var n=0;n<g;n++)f[n]=j[a[n]][m];f[n]=k,l=b.apply(null,f)}l&&(e[h++]=m)}return h<d&&(c._indices=e),c._count=h,c._extent=[],c._updateGetRawIdx(),c},a.prototype.selectRange=function(a){var b=this.clone(),c=b._count;if(!c)return this;var d=a0(a),e=d.length;if(!e)return this;var f=b.count(),g=new(l6(b._rawCount))(f),h=0,i=d[0],j=a[i][0],k=a[i][1],l=b._chunks,m=!1;if(!b._indices){var n=0;if(1===e){for(var o=l[d[0]],p=0;p<c;p++){var q=o[p];(q>=j&&q<=k||isNaN(q))&&(g[h++]=n),n++}m=!0}else if(2===e){for(var o=l[d[0]],r=l[d[1]],s=a[d[1]][0],t=a[d[1]][1],p=0;p<c;p++){var q=o[p],u=r[p];(q>=j&&q<=k||isNaN(q))&&(u>=s&&u<=t||isNaN(u))&&(g[h++]=n),n++}m=!0}}if(!m)if(1===e)for(var p=0;p<f;p++){var v=b.getRawIndex(p),q=l[d[0]][v];(q>=j&&q<=k||isNaN(q))&&(g[h++]=v)}else for(var p=0;p<f;p++){for(var w=!0,v=b.getRawIndex(p),x=0;x<e;x++){var y=d[x],q=l[y][v];(q<a[y][0]||q>a[y][1])&&(w=!1)}w&&(g[h++]=b.getRawIndex(p))}return h<f&&(b._indices=g),b._count=h,b._extent=[],b._updateGetRawIdx(),b},a.prototype.map=function(a,b){var c=this.clone(a);return this._updateDims(c,a,b),c},a.prototype.modify=function(a,b){this._updateDims(this,a,b)},a.prototype._updateDims=function(a,b,c){for(var d=a._chunks,e=[],f=b.length,g=a.count(),h=[],i=a._rawExtent,j=0;j<b.length;j++)i[b[j]]=l7();for(var k=0;k<g;k++){for(var l=a.getRawIndex(k),m=0;m<f;m++)h[m]=d[b[m]][l];h[f]=k;var n=c&&c.apply(null,h);if(null!=n){"object"!=typeof n&&(e[0]=n,n=e);for(var j=0;j<n.length;j++){var o=b[j],p=n[j],q=i[o],r=d[o];r&&(r[l]=p),p<q[0]&&(q[0]=p),p>q[1]&&(q[1]=p)}}}},a.prototype.lttbDownSample=function(a,b){var c,d,e,f=this.clone([a],!0),g=f._chunks[a],h=this.count(),i=0,j=Math.floor(1/b),k=this.getRawIndex(0),l=new(l6(this._rawCount))(Math.min((Math.ceil(h/j)+2)*2,h));l[i++]=k;for(var m=1;m<h-1;m+=j){for(var n=Math.min(m+j,h-1),o=Math.min(m+2*j,h),p=(o+n)/2,q=0,r=n;r<o;r++){var s=this.getRawIndex(r),t=g[s];isNaN(t)||(q+=t)}q/=o-n;var u=m,v=Math.min(m+j,h),w=m-1,x=g[k];c=-1,e=u;for(var y=-1,z=0,r=u;r<v;r++){var s=this.getRawIndex(r),t=g[s];if(isNaN(t)){z++,y<0&&(y=s);continue}(d=Math.abs((w-p)*(t-x)-(w-r)*(q-x)))>c&&(c=d,e=s)}z>0&&z<v-u&&(l[i++]=Math.min(y,e),e=Math.max(y,e)),l[i++]=e,k=e}return l[i++]=this.getRawIndex(h-1),f._count=i,f._indices=l,f.getRawIndex=this._getRawIdx,f},a.prototype.minmaxDownSample=function(a,b){for(var c=this.clone([a],!0),d=c._chunks,e=Math.floor(1/b),f=d[a],g=this.count(),h=new(l6(this._rawCount))(2*Math.ceil(g/e)),i=0,j=0;j<g;j+=e){var k=j,l=f[this.getRawIndex(k)],m=j,n=f[this.getRawIndex(m)],o=e;j+e>g&&(o=g-j);for(var p=0;p<o;p++){var q=f[this.getRawIndex(j+p)];q<l&&(l=q,k=j+p),q>n&&(n=q,m=j+p)}var r=this.getRawIndex(k),s=this.getRawIndex(m);k<m?(h[i++]=r,h[i++]=s):(h[i++]=s,h[i++]=r)}return c._count=i,c._indices=h,c._updateGetRawIdx(),c},a.prototype.downSample=function(a,b,c,d){for(var e=this.clone([a],!0),f=e._chunks,g=[],h=Math.floor(1/b),i=f[a],j=this.count(),k=e._rawExtent[a]=l7(),l=new(l6(this._rawCount))(Math.ceil(j/h)),m=0,n=0;n<j;n+=h){h>j-n&&(g.length=h=j-n);for(var o=0;o<h;o++){var p=this.getRawIndex(n+o);g[o]=i[p]}var q=c(g),r=this.getRawIndex(Math.min(n+d(g,q)||0,j-1));i[r]=q,q<k[0]&&(k[0]=q),q>k[1]&&(k[1]=q),l[m++]=r}return e._count=m,e._indices=l,e._updateGetRawIdx(),e},a.prototype.each=function(a,b){if(this._count)for(var c=a.length,d=this._chunks,e=0,f=this.count();e<f;e++){var g=this.getRawIndex(e);switch(c){case 0:b(e);break;case 1:b(d[a[0]][g],e);break;case 2:b(d[a[0]][g],d[a[1]][g],e);break;default:for(var h=0,i=[];h<c;h++)i[h]=d[a[h]][g];i[h]=e,b.apply(null,i)}}},a.prototype.getDataExtent=function(a){var b,c=this._chunks[a],d=l7();if(!c)return d;var e=this.count();if(!this._indices)return this._rawExtent[a].slice();if(b=this._extent[a])return b.slice();for(var f=(b=d)[0],g=b[1],h=0;h<e;h++){var i=c[this.getRawIndex(h)];i<f&&(f=i),i>g&&(g=i)}return b=[f,g],this._extent[a]=b,b},a.prototype.getRawDataItem=function(a){var b=this.getRawIndex(a);if(this._provider.persistent)return this._provider.getItem(b);for(var c=[],d=this._chunks,e=0;e<d.length;e++)c.push(d[e][b]);return c},a.prototype.clone=function(b,c){var d=new a,e=this._chunks,f=b&&aZ(b,function(a,b){return a[b]=!0,a},{});if(f)for(var g=0;g<e.length;g++)d._chunks[g]=f[g]?function(a){var b=a.constructor;return b===Array?a.slice():new b(a)}(e[g]):e[g];else d._chunks=e;return this._copyCommonProps(d),c||(d._indices=this._cloneIndices()),d._updateGetRawIdx(),d},a.prototype._copyCommonProps=function(a){a._count=this._count,a._rawCount=this._rawCount,a._provider=this._provider,a._dimensions=this._dimensions,a._extent=aN(this._extent),a._rawExtent=aN(this._rawExtent)},a.prototype._cloneIndices=function(){if(this._indices){var a=this._indices.constructor,b=void 0;if(a===Array){var c=this._indices.length;b=new a(c);for(var d=0;d<c;d++)b[d]=this._indices[d]}else b=new a(this._indices);return b}return null},a.prototype._getRawIdxIdentity=function(a){return a},a.prototype._getRawIdx=function(a){return a<this._count&&a>=0?this._indices[a]:-1},a.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},a.internalField=function(){function a(a,b,c,d){return lP(a[d],this._dimensions[d])}B={arrayRows:a,objectRows:function(a,b,c,d){return lP(a[b],this._dimensions[d])},keyedColumns:a,original:function(a,b,c,d){var e=a&&(null==a.value?a:a.value);return lP(e instanceof Array?e[d]:e,this._dimensions[d])},typedArray:function(a,b,c,d){return a[d]}}}(),a}(),ma=function(){function a(a){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=a}return a.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},a.prototype._setLocalSource=function(a,b){this._sourceList=a,this._upstreamSignList=b,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},a.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},a.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},a.prototype._createSource=function(){this._setLocalSource([],[]);var a,b,c=this._sourceHost,d=this._getUpstreamSourceManagers(),e=!!d.length;if(mc(c)){var f=void 0,g=void 0,h=void 0;if(e){var i=d[0];i.prepareSource(),f=(h=i.getSource()).data,g=h.sourceFormat,b=[i._getVersionSign()]}else g=ba(f=c.get("data",!0))?kJ:kF,b=[];var j=this._getSourceMetaRawOption()||{},k=h&&h.metaRawOption||{},l=bh(j.seriesLayoutBy,k.seriesLayoutBy)||null,m=bh(j.sourceHeader,k.sourceHeader),n=bh(j.dimensions,k.dimensions);a=l!==k.seriesLayoutBy||!!m!=!!k.sourceHeader||n?[lp(f,{seriesLayoutBy:l,sourceHeader:m,dimensions:n},g)]:[]}else if(e){var o=this._applyTransform(d);a=o.sourceList,b=o.upstreamSignList}else a=[lp(c.get("source",!0),this._getSourceMetaRawOption(),null)],b=[];this._setLocalSource(a,b)},a.prototype._applyTransform=function(a){var b,c,d=this._sourceHost,e=d.get("transform",!0),f=d.get("fromTransformResult",!0);null!=f&&1!==a.length&&md("");var g=[],h=[];return(aX(a,function(a){a.prepareSource();var b=a.getSource(f||0);null==f||b||md(""),g.push(b),h.push(a._getVersionSign())}),e)?c=function(a,b,c){var d=fR(a),e=d.length;e||ly("");for(var f=0;f<e;f++)b=function(a,b,c,d){b.length||ly(""),a8(a)||ly("");var e=a.type,f=l$.get(e);f||ly("");var g=aY(b,function(a){return function(a,b){var c=new lV,d=a.data,e=c.sourceFormat=a.sourceFormat,f=a.startIndex;a.seriesLayoutBy!==kL&&ly("");var g=[],h={},i=a.dimensionsDefine;if(i)aX(i,function(a,b){var c=a.name,d={index:b,name:c,displayName:a.displayName};g.push(d),null!=c&&(bx(h,c)&&ly(""),h[c]=d)});else for(var j=0;j<a.dimensionsDetectedCount||0;j++)g.push({index:j});var k=lC[lH(e,kL)];b.__isBuiltIn&&(c.getRawDataItem=function(a){return k(d,f,g,a)},c.getRawData=a1(lW,null,a)),c.cloneRawData=a1(lX,null,a),c.count=a1(lE[lH(e,kL)],null,d,f,g);var l=lG[e];c.retrieveValue=function(a,b){return m(k(d,f,g,a),b)};var m=c.retrieveValueFromItem=function(a,b){if(null!=a){var c=g[b];if(c)return l(a,b,c.name)}};return c.getDimensionInfo=a1(lY,null,g,h),c.cloneAllDimensionInfo=a1(lZ,null,g),c}(a,f)});return aY(fR(f.transform({upstream:g[0],upstreamList:g,config:aN(a.config)})),function(a,c){a8(a)||ly(""),a.data||ly(""),l_(lr(a.data))||ly("");var d,e=b[0];if(e&&0===c&&!a.dimensions){var f=e.startIndex;f&&(a.data=e.data.slice(0,f).concat(a.data)),d={seriesLayoutBy:kL,sourceHeader:f,dimensions:e.metaRawOption.dimensions}}else d={seriesLayoutBy:kL,sourceHeader:0,dimensions:a.dimensions};return lp(a.data,d,null)})}(d[f],b,0,0),f!==e-1&&(b.length=Math.max(b.length,1));return b}(e,g,{datasetIndex:d.componentIndex}):null!=f&&(c=[new ln({data:(b=g[0]).data,sourceFormat:b.sourceFormat,seriesLayoutBy:b.seriesLayoutBy,dimensionsDefine:aN(b.dimensionsDefine),startIndex:b.startIndex,dimensionsDetectedCount:b.dimensionsDetectedCount})]),{sourceList:c,upstreamSignList:h}},a.prototype._isDirty=function(){if(this._dirty)return!0;for(var a=this._getUpstreamSourceManagers(),b=0;b<a.length;b++){var c=a[b];if(c._isDirty()||this._upstreamSignList[b]!==c._getVersionSign())return!0}},a.prototype.getSource=function(a){a=a||0;var b=this._sourceList[a];if(!b){var c=this._getUpstreamSourceManagers();return c[0]&&c[0].getSource(a)}return b},a.prototype.getSharedDataStore=function(a){var b=a.makeStoreSchema();return this._innerGetDataStore(b.dimensions,a.source,b.hash)},a.prototype._innerGetDataStore=function(a,b,c){var d=this._storeList,e=d[0];e||(e=d[0]={});var f=e[c];if(!f){var g=this._getUpstreamSourceManagers()[0];mc(this._sourceHost)&&g?f=g._innerGetDataStore(a,b,c):(f=new l9).initData(new lz(b,a.length),a),e[c]=f}return f},a.prototype._getUpstreamSourceManagers=function(){var a=this._sourceHost;if(mc(a)){var b=kP(a);return b?[b.getSourceManager()]:[]}return aY(a.get("transform",!0)||a.get("fromTransformResult",!0)?f6(a.ecModel,"dataset",{index:a.get("fromDatasetIndex",!0),id:a.get("fromDatasetId",!0)},f4).models:[],function(a){return a.getSourceManager()})},a.prototype._getSourceMetaRawOption=function(){var a,b,c,d=this._sourceHost;return mc(d)?(a=d.get("seriesLayoutBy",!0),b=d.get("sourceHeader",!0),c=d.get("dimensions",!0)):this._getUpstreamSourceManagers().length||(a=d.get("seriesLayoutBy",!0),b=d.get("sourceHeader",!0),c=d.get("dimensions",!0)),{seriesLayoutBy:a,sourceHeader:b,dimensions:c}},a}();function mb(a){a.option.transform&&bo(a.option.transform)}function mc(a){return"series"===a.mainType}function md(a){throw Error(a)}function me(a){var b=a.lineHeight;return null==b?"line-height:1":"line-height:"+cc(b+"")+"px"}function mf(a,b){var c=a.color||kv.color.tertiary,d=a.fontSize||12,e=a.fontWeight||"400",f=a.color||kv.color.secondary,g=a.fontSize||14,h=a.fontWeight||"900";return"html"===b?{nameStyle:"font-size:"+cc(d+"")+"px;color:"+cc(c)+";font-weight:"+cc(e+""),valueStyle:"font-size:"+cc(g+"")+"px;color:"+cc(f)+";font-weight:"+cc(h+"")}:{nameStyle:{fontSize:d,fill:c,fontWeight:e},valueStyle:{fontSize:g,fill:f,fontWeight:h}}}var mg=[0,10,20,30],mh=["","\n","\n\n","\n\n\n"];function mi(a,b){return b.type=a,b}function mj(a){return"section"===a.type}function mk(a,b,c,d){var e,f=b.noHeader,g={html:mg[e=function a(b){if(mj(b)){var c=0,d=b.blocks.length,e=d>1||d>0&&!b.noHeader;return aX(b.blocks,function(b){var d=a(b);d>=c&&(c=d+ +(e&&(!d||mj(b)&&!b.noHeader)))}),c}return 0}(b)],richText:mh[e]},h=[],i=b.blocks||[];bl(!i||a3(i)),i=i||[];var j=a.orderMode;if(b.sortBlocks&&j){i=i.slice();var k={valueAsc:"asc",valueDesc:"desc"};if(bx(k,j)){var l=new lT(k[j],null);i.sort(function(a,b){return l.evaluate(a.sortParam,b.sortParam)})}else"seriesDesc"===j&&i.reverse()}aX(i,function(c,e){var f=b.valueFormatter,i=(mj(c)?mk:ml)(f?aQ(aQ({},a),{valueFormatter:f}):a,c,e>0?g.html:0,d);null!=i&&h.push(i)});var m="richText"===a.renderMode?h.join(g.richText):mn(d,h.join(""),f?c:g.html);if(f)return m;var n=jX(b.header,"ordinal",a.useUTC),o=mf(d,a.renderMode).nameStyle,p=me(d);return"richText"===a.renderMode?mo(a,n,o)+g.richText+m:mn(d,'<div style="'+o+";"+p+';">'+cc(n)+"</div>"+m,c)}function ml(a,b,c,d){var e=a.renderMode,f=b.noName,g=b.noValue,h=!b.markerType,i=b.name,j=a.useUTC,k=b.valueFormatter||a.valueFormatter||function(a){return aY(a=a3(a)?a:[a],function(a,b){return jX(a,a3(v)?v[b]:v,j)})};if(!f||!g){var l,m,n,o,p,q,r,s,t=h?"":a.markupStyleCreator.makeTooltipMarker(b.markerType,b.markerColor||kv.color.secondary,e),u=f?"":jX(i,"ordinal",j),v=b.valueType,w=g?[]:k(b.value,b.dataIndex),x=!h||!f,y=!h&&f,z=mf(d,e),A=z.nameStyle,B=z.valueStyle;return"richText"===e?(h?"":t)+(f?"":mo(a,u,A))+(g?"":(l=a,m=w,n=x,o=y,p=[B],n&&p.push({padding:[0,0,0,o?10:20],align:"right"}),l.markupStyleCreator.wrapRichTextStyle(a3(m)?m.join("  "):m,p))):mn(d,(h?"":t)+(f?"":'<span style="'+A+";"+(h?"":"margin-left:2px")+'">'+cc(u)+"</span>")+(g?"":(q=w,r=x,s=y,'<span style="'+(r?"float:right;margin-left:"+(s?"10px":"20px"):"")+";"+B+'">'+aY(q=a3(q)?q:[q],function(a){return cc(a)}).join("&nbsp;&nbsp;")+"</span>")),c)}}function mm(a,b,c,d,e,f){if(a)return(mj(a)?mk:ml)({useUTC:e,renderMode:c,orderMode:d,markupStyleCreator:b,valueFormatter:a.valueFormatter},a,0,f)}function mn(a,b,c){return'<div style="margin: '+c+"px 0 0;"+me(a)+';">'+b+'<div style="clear:both"></div></div>'}function mo(a,b,c){return a.markupStyleCreator.wrapRichTextStyle(b,c)}function mp(a,b){return j2(a.getData().getItemVisual(b,"style")[a.visualDrawType])}function mq(a,b){var c=a.get("padding");return null!=c?c:"richText"===b?[8,10]:10}var mr=function(){function a(){this.richTextStyles={},this._nextStyleNameId=fN()}return a.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},a.prototype.makeTooltipMarker=function(a,b,c){var d="richText"===c?this._generateStyleName():null,e=j_({color:b,type:a,renderMode:c,markerId:d});return a5(e)?e:(this.richTextStyles[d]=e.style,e.content)},a.prototype.wrapRichTextStyle=function(a,b){var c={};a3(b)?aX(b,function(a){return aQ(c,a)}):aQ(c,b);var d=this._generateStyleName();return this.richTextStyles[d]=c,"{"+d+"|"+a+"}"},a}();function ms(a){var b,c,d,e,f=a.series,g=a.dataIndex,h=a.multipleSeries,i=f.getData(),j=i.mapDimensionsAll("defaultedTooltip"),k=j.length,l=f.getRawValue(g),m=a3(l),n=mp(f,g);if(k>1||m&&!k){var o=function(a,b,c,d,e){var f=b.getData(),g=aZ(a,function(a,b,c){var d=f.getDimensionInfo(c);return a||d&&!1!==d.tooltip&&null!=d.displayName},!1),h=[],i=[],j=[];function k(a,b){var c=f.getDimensionInfo(b);c&&!1!==c.otherDims.tooltip&&(g?j.push(mi("nameValue",{markerType:"subItem",markerColor:e,name:c.displayName,value:a,valueType:c.type})):(h.push(a),i.push(c.type)))}return d.length?aX(d,function(a){k(lI(f,c,a),a)}):aX(a,k),{inlineValues:h,inlineValueTypes:i,blocks:j}}(l,f,g,j,n);b=o.inlineValues,c=o.inlineValueTypes,d=o.blocks,e=o.inlineValues[0]}else if(k){var p=i.getDimensionInfo(j[0]);e=b=lI(i,g,j[0]),c=p.type}else e=b=m?l[0]:l;var q=fZ(f),r=q&&f.name||"",s=i.getName(g),t=h?r:s;return mi("section",{header:r,noHeader:h||!q,sortParam:e,blocks:[mi("nameValue",{markerType:"item",markerColor:n,name:t,noName:!bm(t),value:b,valueType:c,dataIndex:g})].concat(d||[])})}var mt=f0();function mu(a,b){return a.getName(b)||a.getId(b)}var mv="__universalTransitionEnabled",mw=function(a){var b;function c(){var b=null!==a&&a.apply(this,arguments)||this;return b._selectedDataIndicesMap={},b}return aq(c,a),c.prototype.init=function(a,b,c){this.seriesIndex=this.componentIndex,this.dataTask=lM({count:my,reset:mz}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(a,c),(mt(this).sourceManager=new ma(this)).prepareSource();var d=this.getInitialData(a,c);mB(d,this),this.dataTask.context.data=d,mt(this).dataBeforeProcessed=d,mx(this),this._initSelectedMapFromData(d)},c.prototype.mergeDefaultAndTheme=function(a,b){var c=km(this),d=c?ko(a):{},e=this.subType;ku.hasClass(e)&&(e+="Series"),aO(a,b.getTheme().get(this.subType)),aO(a,this.getDefaultOption()),fS(a,"label",["show"]),this.fillDataTextStyle(a.data),c&&kn(a,d,c)},c.prototype.mergeOption=function(a,b){a=aO(this.option,a,!0),this.fillDataTextStyle(a.data);var c=km(this);c&&kn(this.option,a,c);var d=mt(this).sourceManager;d.dirty(),d.prepareSource();var e=this.getInitialData(a,b);mB(e,this),this.dataTask.dirty(),this.dataTask.context.data=e,mt(this).dataBeforeProcessed=e,mx(this),this._initSelectedMapFromData(e)},c.prototype.fillDataTextStyle=function(a){if(a&&!ba(a))for(var b=["show"],c=0;c<a.length;c++)a[c]&&a[c].label&&fS(a[c],"label",b)},c.prototype.getInitialData=function(a,b){},c.prototype.appendData=function(a){this.getRawData().appendData(a.data)},c.prototype.getData=function(a){var b=mD(this);if(!b)return mt(this).data;var c=b.context.data;return null!=a&&c.getLinkedData?c.getLinkedData(a):c},c.prototype.getAllData=function(){var a=this.getData();return a&&a.getLinkedDataAll?a.getLinkedDataAll():[{data:a}]},c.prototype.setData=function(a){var b=mD(this);if(b){var c=b.context;c.outputData=a,b!==this.dataTask&&(c.data=a)}mt(this).data=a},c.prototype.getEncode=function(){var a=this.get("encode",!0);if(a)return bt(a)},c.prototype.getSourceManager=function(){return mt(this).sourceManager},c.prototype.getSource=function(){return this.getSourceManager().getSource()},c.prototype.getRawData=function(){return mt(this).dataBeforeProcessed},c.prototype.getColorBy=function(){return this.get("colorBy")||"series"},c.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},c.prototype.getBaseAxis=function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},c.prototype.indicesOfNearest=function(a,b,c,d){var e=this.getData(),f=this.coordinateSystem,g=f&&f.getAxis(a);if(!f||!g)return[];var h=g.dataToCoord(c);null==d&&(d=1/0);var i=[],j=1/0,k=-1,l=0;return e.each(b,function(a,b){var c=h-g.dataToCoord(a),e=Math.abs(c);e<=d&&((e<j||e===j&&c>=0&&k<0)&&(j=e,k=c,l=0),c===k&&(i[l++]=b))}),i.length=l,i},c.prototype.formatTooltip=function(a,b,c){return ms({series:this,dataIndex:a,multipleSeries:b})},c.prototype.isAnimationEnabled=function(){var a=this.ecModel;if(at.node&&!(a&&a.ssr))return!1;var b=this.getShallow("animation");return b&&this.getData().count()>this.getShallow("animationThreshold")&&(b=!1),!!b},c.prototype.restoreData=function(){this.dataTask.dirty()},c.prototype.getColorFromPalette=function(a,b,c){var d=this.ecModel,e=kV.prototype.getColorFromPalette.call(this,a,b,c);return e||(e=d.getColorFromPalette(a,b,c)),e},c.prototype.coordDimToDataDim=function(a){return this.getRawData().mapDimensionsAll(a)},c.prototype.getProgressive=function(){return this.get("progressive")},c.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},c.prototype.select=function(a,b){this._innerSelect(this.getData(b),a)},c.prototype.unselect=function(a,b){var c=this.option.selectedMap;if(c){var d=this.option.selectedMode,e=this.getData(b);if("series"===d||"all"===c){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var f=0;f<a.length;f++){var g=mu(e,a[f]);c[g]=!1,this._selectedDataIndicesMap[g]=-1}}},c.prototype.toggleSelect=function(a,b){for(var c=[],d=0;d<a.length;d++)c[0]=a[d],this.isSelected(a[d],b)?this.unselect(c,b):this.select(c,b)},c.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var a=this._selectedDataIndicesMap,b=a0(a),c=[],d=0;d<b.length;d++){var e=a[b[d]];e>=0&&c.push(e)}return c},c.prototype.isSelected=function(a,b){var c=this.option.selectedMap;if(!c)return!1;var d=this.getData(b);return("all"===c||c[mu(d,a)])&&!d.getItemModel(a).get(["select","disabled"])},c.prototype.isUniversalTransitionEnabled=function(){if(this[mv])return!0;var a=this.option.universalTransition;return!!a&&(!0===a||a&&a.enabled)},c.prototype._innerSelect=function(a,b){var c,d,e=this.option,f=e.selectedMode,g=b.length;if(f&&g){if("series"===f)e.selectedMap="all";else if("multiple"===f){a8(e.selectedMap)||(e.selectedMap={});for(var h=e.selectedMap,i=0;i<g;i++){var j=b[i],k=mu(a,j);h[k]=!0,this._selectedDataIndicesMap[k]=a.getRawIndex(j)}}else if("single"===f||!0===f){var l=b[g-1],k=mu(a,l);(c={})[k]=!0,e.selectedMap=c,this._selectedDataIndicesMap=((d={})[k]=a.getRawIndex(l),d)}}},c.prototype._initSelectedMapFromData=function(a){if(!this.option.selectedMap){var b=[];a.hasItemOption&&a.each(function(c){var d=a.getRawDataItem(c);d&&d.selected&&b.push(c)}),b.length>0&&this._innerSelect(a,b)}},c.registerClass=function(a){return ku.registerClass(a)},c.protoInitialize=void((b=c.prototype).type="series.__base__",b.seriesIndex=0,b.ignoreStyleOnData=!1,b.hasSymbolVisual=!1,b.defaultSymbol="circle",b.visualStyleAccessPath="itemStyle",b.visualDrawType="fill"),c}(ku);function mx(a){var b,c,d,e=a.name;fZ(a)||(a.name=(c=(b=a.getRawData()).mapDimensionsAll("seriesName"),d=[],aX(c,function(a){var c=b.getDimensionInfo(a);c.displayName&&d.push(c.displayName)}),d.join(" ")||e))}function my(a){return a.model.getRawData().count()}function mz(a){var b=a.model;return b.setData(b.getRawData().cloneShallow()),mA}function mA(a,b){b.outputData&&a.end>b.outputData.count()&&b.model.getRawData().cloneShallow(b.outputData)}function mB(a,b){aX(bu(a.CHANGABLE_METHODS,a.DOWNSAMPLE_METHODS),function(c){a.wrapMethod(c,a2(mC,b))})}function mC(a,b){var c=mD(a);return c&&c.setOutputEnd((b||this).count()),b}function mD(a){var b=(a.ecModel||{}).scheduler,c=b&&b.getPipeline(a.uid);if(c){var d=c.currentTask;if(d){var e=d.agentStubMap;e&&(d=e.get(a.uid))}return d}}aV(mw,lK),aV(mw,kV),gg(mw,ku);let mE=mw;var mF=function(){function a(){this.group=new fc,this.uid=jp("viewComponent")}return a.prototype.init=function(a,b){},a.prototype.render=function(a,b,c,d){},a.prototype.dispose=function(a,b){},a.prototype.updateView=function(a,b,c,d){},a.prototype.updateLayout=function(a,b,c,d){},a.prototype.updateVisual=function(a,b,c,d){},a.prototype.toggleBlurSeries=function(a,b,c){},a.prototype.eachRendered=function(a){var b=this.group;b&&b.traverse(a)},a}();gf(mF),gk(mF);let mG=mF;function mH(){var a=f0();return function(b){var c=a(b),d=b.pipelineContext,e=!!c.large,f=!!c.progressiveRender,g=c.large=!!(d&&d.large),h=c.progressiveRender=!!(d&&d.progressiveRender);return(e!==g||f!==h)&&"reset"}}var mI=hj.CMD,mJ=[[],[],[]],mK=Math.sqrt,mL=Math.atan2;function mM(a,b){if(b){var c,d,e,f,g,h,i=a.data,j=a.len(),k=mI.M,l=mI.C,m=mI.L,n=mI.R,o=mI.A,p=mI.Q;for(e=0,f=0;e<j;){switch(c=i[e++],f=e,d=0,c){case k:case m:d=1;break;case l:d=3;break;case p:d=2;break;case o:var q=b[4],r=b[5],s=mK(b[0]*b[0]+b[1]*b[1]),t=mK(b[2]*b[2]+b[3]*b[3]),u=mL(-b[1]/t,b[0]/s);i[e]*=s,i[e++]+=q,i[e]*=t,i[e++]+=r,i[e++]*=s,i[e++]*=t,i[e++]+=u,i[e++]+=u,e+=2,f=e;break;case n:h[0]=i[e++],h[1]=i[e++],bZ(h,h,b),i[f++]=h[0],i[f++]=h[1],h[0]+=i[e++],h[1]+=i[e++],bZ(h,h,b),i[f++]=h[0],i[f++]=h[1]}for(g=0;g<d;g++){var v=mJ[g];v[0]=i[e++],v[1]=i[e++],bZ(v,v,b),i[f++]=v[0],i[f++]=v[1]}}a.increaseVersion()}}var mN=Math.sqrt,mO=Math.sin,mP=Math.cos,mQ=Math.PI;function mR(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function mS(a,b){return(a[0]*b[0]+a[1]*b[1])/(mR(a)*mR(b))}function mT(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(mS(a,b))}function mU(a,b,c,d,e,f,g,h,i,j,k){var l=mQ/180*i,m=mP(l)*(a-c)/2+mO(l)*(b-d)/2,n=-1*mO(l)*(a-c)/2+mP(l)*(b-d)/2,o=m*m/(g*g)+n*n/(h*h);o>1&&(g*=mN(o),h*=mN(o));var p=(e===f?-1:1)*mN((g*g*(h*h)-g*g*(n*n)-h*h*(m*m))/(g*g*(n*n)+h*h*(m*m)))||0,q=p*g*n/h,r=-(p*h)*m/g,s=(a+c)/2+mP(l)*q-mO(l)*r,t=(b+d)/2+mO(l)*q+mP(l)*r,u=mT([1,0],[(m-q)/g,(n-r)/h]),v=[(m-q)/g,(n-r)/h],w=[(-1*m-q)/g,(-1*n-r)/h],x=mT(v,w);if(-1>=mS(v,w)&&(x=mQ),mS(v,w)>=1&&(x=0),x<0){var y=Math.round(x/mQ*1e6)/1e6;x=2*mQ+y%2*mQ}k.addData(j,s,t,g,h,u,x,l,f)}var mV=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,mW=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,mX=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bC(b,a),b.prototype.applyTransform=function(a){},b}(hy);function mY(a){return null!=a.setData}function mZ(a,b){var c=function(a){var b,c=new hj;if(!a)return c;var d=0,e=0,f=0,g=0,h=hj.CMD,i=a.match(mV);if(!i)return c;for(var j=0;j<i.length;j++){for(var k=i[j],l=k.charAt(0),m=void 0,n=k.match(mW)||[],o=n.length,p=0;p<o;p++)n[p]=parseFloat(n[p]);for(var q=0;q<o;){var r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=d,z=e,A=void 0,B=void 0;switch(l){case"l":d+=n[q++],e+=n[q++],m=h.L,c.addData(m,d,e);break;case"L":d=n[q++],e=n[q++],m=h.L,c.addData(m,d,e);break;case"m":d+=n[q++],e+=n[q++],m=h.M,c.addData(m,d,e),f=d,g=e,l="l";break;case"M":d=n[q++],e=n[q++],m=h.M,c.addData(m,d,e),f=d,g=e,l="L";break;case"h":d+=n[q++],m=h.L,c.addData(m,d,e);break;case"H":d=n[q++],m=h.L,c.addData(m,d,e);break;case"v":e+=n[q++],m=h.L,c.addData(m,d,e);break;case"V":e=n[q++],m=h.L,c.addData(m,d,e);break;case"C":m=h.C,c.addData(m,n[q++],n[q++],n[q++],n[q++],n[q++],n[q++]),d=n[q-2],e=n[q-1];break;case"c":m=h.C,c.addData(m,n[q++]+d,n[q++]+e,n[q++]+d,n[q++]+e,n[q++]+d,n[q++]+e),d+=n[q-2],e+=n[q-1];break;case"S":r=d,s=e,A=c.len(),B=c.data,b===h.C&&(r+=d-B[A-4],s+=e-B[A-3]),m=h.C,y=n[q++],z=n[q++],d=n[q++],e=n[q++],c.addData(m,r,s,y,z,d,e);break;case"s":r=d,s=e,A=c.len(),B=c.data,b===h.C&&(r+=d-B[A-4],s+=e-B[A-3]),m=h.C,y=d+n[q++],z=e+n[q++],d+=n[q++],e+=n[q++],c.addData(m,r,s,y,z,d,e);break;case"Q":y=n[q++],z=n[q++],d=n[q++],e=n[q++],m=h.Q,c.addData(m,y,z,d,e);break;case"q":y=n[q++]+d,z=n[q++]+e,d+=n[q++],e+=n[q++],m=h.Q,c.addData(m,y,z,d,e);break;case"T":r=d,s=e,A=c.len(),B=c.data,b===h.Q&&(r+=d-B[A-4],s+=e-B[A-3]),d=n[q++],e=n[q++],m=h.Q,c.addData(m,r,s,d,e);break;case"t":r=d,s=e,A=c.len(),B=c.data,b===h.Q&&(r+=d-B[A-4],s+=e-B[A-3]),d+=n[q++],e+=n[q++],m=h.Q,c.addData(m,r,s,d,e);break;case"A":t=n[q++],u=n[q++],v=n[q++],w=n[q++],x=n[q++],y=d,z=e,d=n[q++],mU(y,z,d,e=n[q++],w,x,t,u,v,m=h.A,c);break;case"a":t=n[q++],u=n[q++],v=n[q++],w=n[q++],x=n[q++],y=d,z=e,d+=n[q++],mU(y,z,d,e+=n[q++],w,x,t,u,v,m=h.A,c)}}("z"===l||"Z"===l)&&(m=h.Z,c.addData(m),d=f,e=g),b=m}return c.toStatic(),c}(a),d=aQ({},b);return d.buildPath=function(a){var b=mY(a);if(b&&a.canSave()){a.appendPath(c);var d=a.getContext();d&&a.rebuildPath(d,1)}else{var d=b?a.getContext():a;d&&c.rebuildPath(d,1)}},d.applyTransform=function(a){mM(c,a),this.dirtyShape()},d}function m$(a,b){b=b||{};var c=new hy;return a.shape&&c.setShape(a.shape),c.setStyle(a.style),b.bakeTransform?mM(c.path,a.getComputedTransform()):b.toLocal?c.setLocalTransform(a.getComputedTransform()):c.copyTransform(a),c.buildPath=a.buildPath,c.applyTransform=c.applyTransform,c.z=a.z,c.z2=a.z2,c.zlevel=a.zlevel,c}var m_=function(){this.cx=0,this.cy=0,this.r=0},m0=function(a){function b(b){return a.call(this,b)||this}return bC(b,a),b.prototype.getDefaultShape=function(){return new m_},b.prototype.buildPath=function(a,b){a.moveTo(b.cx+b.r,b.cy),a.arc(b.cx,b.cy,b.r,0,2*Math.PI)},b}(hy);m0.prototype.type="circle";let m1=m0;var m2=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},m3=function(a){function b(b){return a.call(this,b)||this}return bC(b,a),b.prototype.getDefaultShape=function(){return new m2},b.prototype.buildPath=function(a,b){var c=b.cx,d=b.cy,e=b.rx,f=b.ry,g=.5522848*e,h=.5522848*f;a.moveTo(c-e,d),a.bezierCurveTo(c-e,d-h,c-g,d-f,c,d-f),a.bezierCurveTo(c+g,d-f,c+e,d-h,c+e,d),a.bezierCurveTo(c+e,d+h,c+g,d+f,c,d+f),a.bezierCurveTo(c-g,d+f,c-e,d+h,c-e,d),a.closePath()},b}(hy);m3.prototype.type="ellipse";let m4=m3;var m5=Math.PI,m6=2*m5,m7=Math.sin,m8=Math.cos,m9=Math.acos,na=Math.atan2,nb=Math.abs,nc=Math.sqrt,nd=Math.max,ne=Math.min;function nf(a,b,c,d,e,f,g){var h=a-c,i=b-d,j=(g?f:-f)/nc(h*h+i*i),k=j*i,l=-j*h,m=a+k,n=b+l,o=c+k,p=d+l,q=(m+o)/2,r=(n+p)/2,s=o-m,t=p-n,u=s*s+t*t,v=e-f,w=m*p-o*n,x=(t<0?-1:1)*nc(nd(0,v*v*u-w*w)),y=(w*t-s*x)/u,z=(-w*s-t*x)/u,A=(w*t+s*x)/u,B=(-w*s+t*x)/u,C=y-q,D=z-r,E=A-q,F=B-r;return C*C+D*D>E*E+F*F&&(y=A,z=B),{cx:y,cy:z,x0:-k,y0:-l,x1:y*(e/v-1),y1:z*(e/v-1)}}var ng=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},nh=function(a){function b(b){return a.call(this,b)||this}return bC(b,a),b.prototype.getDefaultShape=function(){return new ng},b.prototype.buildPath=function(a,b){!function(a,b){var c,d=nd(b.r,0),e=nd(b.r0||0,0),f=d>0,g=e>0;if(f||g){if(f||(d=e,e=0),e>d){var h=d;d=e,e=h}var i=b.startAngle,j=b.endAngle;if(!(isNaN(i)||isNaN(j))){var k=b.cx,l=b.cy,m=!!b.clockwise,n=nb(j-i),o=n>m6&&n%m6;if(o>1e-4&&(n=o),d>1e-4)if(n>m6-1e-4)a.moveTo(k+d*m8(i),l+d*m7(i)),a.arc(k,l,d,i,j,!m),e>1e-4&&(a.moveTo(k+e*m8(j),l+e*m7(j)),a.arc(k,l,e,j,i,m));else{var p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0,F=d*m8(i),G=d*m7(i),H=e*m8(j),I=e*m7(j),J=n>1e-4;if(J){var K=b.cornerRadius;K&&(p=(c=function(a){var b;if(a3(a)){var c=a.length;if(!c)return a;b=1===c?[a[0],a[0],0,0]:2===c?[a[0],a[0],a[1],a[1]]:3===c?a.concat(a[2]):a}else b=[a,a,a,a];return b}(K))[0],q=c[1],r=c[2],s=c[3]);var L=nb(d-e)/2;if(t=ne(L,r),u=ne(L,s),v=ne(L,p),w=ne(L,q),z=x=nd(t,u),A=y=nd(v,w),(x>1e-4||y>1e-4)&&(B=d*m8(j),C=d*m7(j),D=e*m8(i),E=e*m7(i),n<m5)){var M=function(a,b,c,d,e,f,g,h){var i=c-a,j=d-b,k=g-e,l=h-f,m=l*i-k*j;if(!(m*m<1e-4))return m=(k*(b-f)-l*(a-e))/m,[a+m*i,b+m*j]}(F,G,D,E,B,C,H,I);if(M){var N=F-M[0],O=G-M[1],P=B-M[0],Q=C-M[1],R=1/m7(m9((N*P+O*Q)/(nc(N*N+O*O)*nc(P*P+Q*Q)))/2),S=nc(M[0]*M[0]+M[1]*M[1]);z=ne(x,(d-S)/(R+1)),A=ne(y,(e-S)/(R-1))}}}if(J)if(z>1e-4){var T=ne(r,z),U=ne(s,z),V=nf(D,E,F,G,d,T,m),W=nf(B,C,H,I,d,U,m);a.moveTo(k+V.cx+V.x0,l+V.cy+V.y0),z<x&&T===U?a.arc(k+V.cx,l+V.cy,z,na(V.y0,V.x0),na(W.y0,W.x0),!m):(T>0&&a.arc(k+V.cx,l+V.cy,T,na(V.y0,V.x0),na(V.y1,V.x1),!m),a.arc(k,l,d,na(V.cy+V.y1,V.cx+V.x1),na(W.cy+W.y1,W.cx+W.x1),!m),U>0&&a.arc(k+W.cx,l+W.cy,U,na(W.y1,W.x1),na(W.y0,W.x0),!m))}else a.moveTo(k+F,l+G),a.arc(k,l,d,i,j,!m);else a.moveTo(k+F,l+G);if(e>1e-4&&J)if(A>1e-4){var T=ne(p,A),U=ne(q,A),V=nf(H,I,B,C,e,-U,m),W=nf(F,G,D,E,e,-T,m);a.lineTo(k+V.cx+V.x0,l+V.cy+V.y0),A<y&&T===U?a.arc(k+V.cx,l+V.cy,A,na(V.y0,V.x0),na(W.y0,W.x0),!m):(U>0&&a.arc(k+V.cx,l+V.cy,U,na(V.y0,V.x0),na(V.y1,V.x1),!m),a.arc(k,l,e,na(V.cy+V.y1,V.cx+V.x1),na(W.cy+W.y1,W.cx+W.x1),m),T>0&&a.arc(k+W.cx,l+W.cy,T,na(W.y1,W.x1),na(W.y0,W.x0),!m))}else a.lineTo(k+H,l+I),a.arc(k,l,e,j,i,m);else a.lineTo(k+H,l+I)}else a.moveTo(k,l);a.closePath()}}}(a,b)},b.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},b}(hy);nh.prototype.type="sector";let ni=nh;var nj=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},nk=function(a){function b(b){return a.call(this,b)||this}return bC(b,a),b.prototype.getDefaultShape=function(){return new nj},b.prototype.buildPath=function(a,b){var c=b.cx,d=b.cy,e=2*Math.PI;a.moveTo(c+b.r,d),a.arc(c,d,b.r,0,e,!1),a.moveTo(c+b.r0,d),a.arc(c,d,b.r0,0,e,!0)},b}(hy);nk.prototype.type="ring";let nl=nk;function nm(a,b,c){var d=b.smooth,e=b.points;if(e&&e.length>=2){if(d){var f=function(a,b,c,d){var e,f,g,h,i=[],j=[],k=[],l=[];if(d){g=[1/0,1/0],h=[-1/0,-1/0];for(var m=0,n=a.length;m<n;m++)b$(g,g,a[m]),b_(h,h,a[m]);b$(g,g,d[0]),b_(h,h,d[1])}for(var m=0,n=a.length;m<n;m++){var o=a[m];if(c)e=a[m?m-1:n-1],f=a[(m+1)%n];else if(0===m||m===n-1){i.push(bF(a[m]));continue}else e=a[m-1],f=a[m+1];bJ(j,f,e),bR(j,j,b);var p=bT(o,e),q=bT(o,f),r=p+q;0!==r&&(p/=r,q/=r),bR(k,j,-p),bR(l,j,q);var s=bH([],o,k),t=bH([],o,l);d&&(b_(s,s,g),b$(s,s,h),b_(t,t,g),b$(t,t,h)),i.push(s),i.push(t)}return c&&i.push(i.shift()),i}(e,d,c,b.smoothConstraint);a.moveTo(e[0][0],e[0][1]);for(var g=e.length,h=0;h<(c?g:g-1);h++){var i=f[2*h],j=f[2*h+1],k=e[(h+1)%g];a.bezierCurveTo(i[0],i[1],j[0],j[1],k[0],k[1])}}else{a.moveTo(e[0][0],e[0][1]);for(var h=1,l=e.length;h<l;h++)a.lineTo(e[h][0],e[h][1])}c&&a.closePath()}}var nn=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},no=function(a){function b(b){return a.call(this,b)||this}return bC(b,a),b.prototype.getDefaultShape=function(){return new nn},b.prototype.buildPath=function(a,b){nm(a,b,!0)},b}(hy);no.prototype.type="polygon";let np=no;var nq=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},nr=function(a){function b(b){return a.call(this,b)||this}return bC(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new nq},b.prototype.buildPath=function(a,b){nm(a,b,!1)},b}(hy);nr.prototype.type="polyline";let ns=nr;var nt={},nu=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},nv=function(a){function b(b){return a.call(this,b)||this}return bC(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new nu},b.prototype.buildPath=function(a,b){if(this.subPixelOptimize){var c,d,e,f,g=hG(nt,b,this.style);c=g.x1,d=g.y1,e=g.x2,f=g.y2}else c=b.x1,d=b.y1,e=b.x2,f=b.y2;var h=b.percent;0!==h&&(a.moveTo(c,d),h<1&&(e=c*(1-h)+e*h,f=d*(1-h)+f*h),a.lineTo(e,f))},b.prototype.pointAt=function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]},b}(hy);nv.prototype.type="line";let nw=nv;var nx=[],ny=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function nz(a,b,c){var d=a.cpx2,e=a.cpy2;return null!=d||null!=e?[(c?dk:dj)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?dk:dj)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?dr:dq)(a.x1,a.cpx1,a.x2,b),(c?dr:dq)(a.y1,a.cpy1,a.y2,b)]}var nA=function(a){function b(b){return a.call(this,b)||this}return bC(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new ny},b.prototype.buildPath=function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.cpx1,h=b.cpy1,i=b.cpx2,j=b.cpy2,k=b.percent;0!==k&&(a.moveTo(c,d),null==i||null==j?(k<1&&(dt(c,g,e,k,nx),g=nx[1],e=nx[2],dt(d,h,f,k,nx),h=nx[1],f=nx[2]),a.quadraticCurveTo(g,h,e,f)):(k<1&&(dn(c,g,i,e,k,nx),g=nx[1],i=nx[2],e=nx[3],dn(d,h,j,f,k,nx),h=nx[1],j=nx[2],f=nx[3]),a.bezierCurveTo(g,h,i,j,e,f)))},b.prototype.pointAt=function(a){return nz(this.shape,a,!1)},b.prototype.tangentAt=function(a){var b=nz(this.shape,a,!0);return bS(b,b)},b}(hy);nA.prototype.type="bezier-curve";let nB=nA;var nC=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},nD=function(a){function b(b){return a.call(this,b)||this}return bC(b,a),b.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},b.prototype.getDefaultShape=function(){return new nC},b.prototype.buildPath=function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle,h=b.clockwise,i=Math.cos(f),j=Math.sin(f);a.moveTo(i*e+c,j*e+d),a.arc(c,d,e,f,g,!h)},b}(hy);nD.prototype.type="arc";let nE=nD,nF=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="compound",b}return bC(b,a),b.prototype._updatePathDirty=function(){for(var a=this.shape.paths,b=this.shapeChanged(),c=0;c<a.length;c++)b=b||a[c].shapeChanged();b&&this.dirtyShape()},b.prototype.beforeBrush=function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++)a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1],a[c].segmentIgnoreThreshold)},b.prototype.buildPath=function(a,b){for(var c=b.paths||[],d=0;d<c.length;d++)c[d].buildPath(a,c[d].shape,!0)},b.prototype.afterBrush=function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++)a[b].pathUpdated()},b.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),hy.prototype.getBoundingRect.call(this)},b}(hy);var nG=function(){function a(a){this.colorStops=a||[]}return a.prototype.addColorStop=function(a,b){this.colorStops.push({offset:a,color:b})},a}();let nH=function(a){function b(b,c,d,e,f,g){var h=a.call(this,f)||this;return h.x=null==b?0:b,h.y=null==c?0:c,h.x2=null==d?1:d,h.y2=null==e?0:e,h.type="linear",h.global=g||!1,h}return bC(b,a),b}(nG),nI=function(a){function b(b,c,d,e,f){var g=a.call(this,e)||this;return g.x=null==b?.5:b,g.y=null==c?.5:c,g.r=null==d?.5:d,g.type="radial",g.global=f||!1,g}return bC(b,a),b}(nG);var nJ=Math.min,nK=Math.max,nL=Math.abs,nM=[0,0],nN=[0,0],nO=cR(),nP=nO.minTv,nQ=nO.maxTv;let nR=function(){function a(a,b){this._corners=[],this._axes=[],this._origin=[0,0];for(var c=0;c<4;c++)this._corners[c]=new cz;for(var c=0;c<2;c++)this._axes[c]=new cz;a&&this.fromBoundingRect(a,b)}return a.prototype.fromBoundingRect=function(a,b){var c=this._corners,d=this._axes,e=a.x,f=a.y,g=e+a.width,h=f+a.height;if(c[0].set(e,f),c[1].set(g,f),c[2].set(g,h),c[3].set(e,h),b)for(var i=0;i<4;i++)c[i].transform(b);cz.sub(d[0],c[1],c[0]),cz.sub(d[1],c[3],c[0]),d[0].normalize(),d[1].normalize();for(var i=0;i<2;i++)this._origin[i]=d[i].dot(c[0])},a.prototype.intersect=function(a,b,c){var d=!0,e=!b;return(b&&cz.set(b,0,0),nO.reset(c,!e),!this._intersectCheckOneSide(this,a,e,1)&&(d=!1,e)||!this._intersectCheckOneSide(a,this,e,-1)&&(d=!1,e))?d:(e||nO.negativeSize||cz.copy(b,d?nO.useDir?nO.dirMinTv:nP:nQ),d)},a.prototype._intersectCheckOneSide=function(a,b,c,d){for(var e=!0,f=0;f<2;f++){var g=a._axes[f];if(a._getProjMinMaxOnAxis(f,a._corners,nM),a._getProjMinMaxOnAxis(f,b._corners,nN),nO.negativeSize||nM[1]<nN[0]||nM[0]>nN[1]){if(e=!1,nO.negativeSize||c)return e;var h=nL(nN[0]-nM[1]),i=nL(nM[0]-nN[1]);nJ(h,i)>nQ.len()&&(h<i?cz.scale(nQ,g,-h*d):cz.scale(nQ,g,i*d))}else if(!c){var h=nL(nN[0]-nM[1]),i=nL(nM[0]-nN[1]);(nO.useDir||nJ(h,i)<nP.len())&&((h<i||!nO.bidirectional)&&(cz.scale(nP,g,h*d),nO.useDir&&nO.calcDirMTV()),(h>=i||!nO.bidirectional)&&(cz.scale(nP,g,-i*d),nO.useDir&&nO.calcDirMTV()))}}return e},a.prototype._getProjMinMaxOnAxis=function(a,b,c){for(var d=this._axes[a],e=this._origin,f=b[0].dot(d)+e[a],g=f,h=f,i=1;i<b.length;i++){var j=b[i].dot(d)+e[a];g=nJ(j,g),h=nK(j,h)}c[0]=g+nO.touchThreshold,c[1]=h-nO.touchThreshold,nO.negativeSize=c[1]<c[0]},a}();var nS=[];let nT=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.notClear=!0,b.incremental=!0,b._displayables=[],b._temporaryDisplayables=[],b._cursor=0,b}return bC(b,a),b.prototype.traverse=function(a,b){a.call(b,this)},b.prototype.useStyle=function(){this.style={}},b.prototype.getCursor=function(){return this._cursor},b.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},b.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},b.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},b.prototype.addDisplayable=function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a),this.markRedraw()},b.prototype.addDisplayables=function(a,b){b=b||!1;for(var c=0;c<a.length;c++)this.addDisplayable(a[c],b)},b.prototype.getDisplayables=function(){return this._displayables},b.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},b.prototype.eachPendingDisplayable=function(a){for(var b=this._cursor;b<this._displayables.length;b++)a&&a(this._displayables[b]);for(var b=0;b<this._temporaryDisplayables.length;b++)a&&a(this._temporaryDisplayables[b])},b.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var b=this._displayables[a];b.parent=this,b.update(),b.parent=null}for(var a=0;a<this._temporaryDisplayables.length;a++){var b=this._temporaryDisplayables[a];b.parent=this,b.update(),b.parent=null}},b.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new cS(1/0,1/0,-1/0,-1/0),b=0;b<this._displayables.length;b++){var c=this._displayables[b],d=c.getBoundingRect().clone();c.needLocalTransform()&&d.applyTransform(c.getLocalTransform(nS)),a.union(d)}this._rect=a}return this._rect},b.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b);if(this.getBoundingRect().contain(c[0],c[1])){for(var d=0;d<this._displayables.length;d++)if(this._displayables[d].contain(a,b))return!0}return!1},b}(gO);var nU={},nV=["x","y"],nW=["width","height"];function nX(a){return hy.extend(a)}var nY=function(a,b){var c=mZ(a,b),d=mX;function e(a){var b=d.call(this,a)||this;return b.applyTransform=c.applyTransform,b.buildPath=c.buildPath,b}return bC(e,d),e};function nZ(a,b){return nY(a,b)}function n$(a,b){nU[a]=b}function n_(a){if(nU.hasOwnProperty(a))return nU[a]}function n0(a,b,c,d){var e=new mX(mZ(a,b));return c&&("center"===d&&(c=n2(c,e.getBoundingRect())),n4(e,c)),e}function n1(a,b,c){var d=new hE({style:{image:a,x:b.x,y:b.y,width:b.width,height:b.height},onload:function(a){if("center"===c){var e={width:a.width,height:a.height};d.setStyle(n2(b,e))}}});return d}function n2(a,b){var c,d=b.width/b.height,e=a.height*d;return c=e<=a.width?a.height:(e=a.width)/d,{x:a.x+a.width/2-e/2,y:a.y+a.height/2-c/2,width:e,height:c}}var n3=function(a,b){for(var c=[],d=a.length,e=0;e<d;e++){var f=a[e];c.push(f.getUpdatedPathProxy(!0))}var g=new hy(b);return g.createPathProxy(),g.buildPath=function(a){if(mY(a)){a.appendPath(c);var b=a.getContext();b&&a.rebuildPath(b,1)}},g};function n4(a,b){if(a.applyTransform){var c=a.getBoundingRect().calculateTransform(b);a.applyTransform(c)}}function n5(a,b){return hG(a,a,{lineWidth:b}),a}function n6(a,b){return hH(a,a,b),a}var n7=hI;function n8(a,b){for(var c=cr([]);a&&a!==b;)ct(c,a.getLocalTransform(),c),a=a.parent;return c}function n9(a,b,c){return b&&!aW(b)&&(b=eQ.getLocalTransform(b)),c&&(b=cx([],b)),bZ([],a,b)}function oa(a,b,c){var d=0===b[4]||0===b[5]||0===b[0]?1:fq(2*b[4]/b[0]),e=0===b[4]||0===b[5]||0===b[2]?1:fq(2*b[4]/b[2]),f=["left"===a?-d:"right"===a?d:0,"top"===a?-e:"bottom"===a?e:0];return fq((f=n9(f,b,c))[0])>fq(f[1])?f[0]>0?"right":"left":f[1]>0?"bottom":"top"}function ob(a,b,c){if(a&&b){var d,e=(d={},a.traverse(function(a){!a.isGroup&&a.anid&&(d[a.anid]=a)}),d);b.traverse(function(a){if(!a.isGroup&&a.anid){var b=e[a.anid];if(b){var d=f(a);a.attr(f(b)),iR(a,d,c,h2(a).dataIndex)}}})}function f(a){var b={x:a.x,y:a.y,rotation:a.rotation};return null!=a.shape&&(b.shape=aN(a.shape)),b}}function oc(a,b){return aY(a,function(a){var c=a[0];c=fo(c=fp(c,b.x),b.x+b.width);var d=a[1];return[c,d=fo(d=fp(d,b.y),b.y+b.height)]})}function od(a,b){var c=fp(a.x,b.x),d=fo(a.x+a.width,b.x+b.width),e=fp(a.y,b.y),f=fo(a.y+a.height,b.y+b.height);if(d>=c&&f>=e)return{x:c,y:e,width:d-c,height:f-e}}function oe(a,b,c){var d=aQ({rectHover:!0},b),e=d.style={strokeNoScale:!0};if(c=c||{x:-1,y:-1,width:2,height:2},a)return 0===a.indexOf("image://")?(e.image=a.slice(8),aR(e,c),new hE(d)):n0(a.replace("path://",""),d,c,"center")}function of(a,b,c,d,e){for(var f=0,g=e[e.length-1];f<e.length;f++){var h=e[f];if(og(a,b,c,d,h[0],h[1],g[0],g[1]))return!0;g=h}}function og(a,b,c,d,e,f,g,h){var i,j=c-a,k=d-b,l=g-e,m=h-f,n=l*k-j*m;if((i=n)<=1e-6&&i>=-1e-6)return!1;var o=a-e,p=b-f,q=(o*k-j*p)/n;if(q<0||q>1)return!1;var r=(o*m-l*p)/n;return!(r<0)&&!(r>1)}function oh(a,b,c,d,e){return null==b||(a7(b)?oi[0]=oi[1]=oi[2]=oi[3]=b:(oi[0]=b[0],oi[1]=b[1],oi[2]=b[2],oi[3]=b[3]),d&&(oi[0]=fp(0,oi[0]),oi[1]=fp(0,oi[1]),oi[2]=fp(0,oi[2]),oi[3]=fp(0,oi[3])),c&&(oi[0]=-oi[0],oi[1]=-oi[1],oi[2]=-oi[2],oi[3]=-oi[3]),oj(a,oi,"x","width",3,1,e&&e[0]||0),oj(a,oi,"y","height",0,2,e&&e[1]||0)),a}var oi=[0,0,0,0];function oj(a,b,c,d,e,f,g){var h=b[f]+b[e],i=a[d];a[d]+=h,g=fp(0,fo(g,i)),a[d]<g?(a[d]=g,a[c]+=b[e]>=0?-b[e]:b[f]>=0?i+b[f]:fq(h)>1e-8?(i-g)*b[e]/h:0):a[c]-=b[e]}function ok(a){var b=a.itemTooltipOption,c=a.componentModel,d=a.itemName,e=a5(b)?{formatter:b}:b,f=c.mainType,g=c.componentIndex,h={componentType:f,name:d,$vars:["name"]};h[f+"Index"]=g;var i=a.formatterParamsExtra;i&&aX(a0(i),function(a){bx(h,a)||(h[a]=i[a],h.$vars.push(a))});var j=h2(a.el);j.componentMainType=f,j.componentIndex=g,j.tooltipConfig={name:d,option:aR({content:d,encodeHTMLContent:!0,formatterParams:h},e)}}function ol(a,b){var c;a.isGroup&&(c=b(a)),c||a.traverse(b)}function om(a,b){if(a)if(a3(a))for(var c=0;c<a.length;c++)ol(a[c],b);else ol(a,b)}function on(a){return!a||fq(a[1])<oo&&fq(a[2])<oo||fq(a[0])<oo&&fq(a[3])<oo}var oo=1e-5;function op(a,b){return a?cS.copy(a,b):b.clone()}function oq(a,b){return b?cs(a||cq(),b):void 0}function or(a){return{z:a.get("z")||0,zlevel:a.get("zlevel")||0}}function os(a){var b=-1/0,c=1/0;function d(a){if(a&&!a.isGroup){var b=a.currentStates;if(b.length)for(var c=0;c<b.length;c++)e(a.states[b[c]]);e(a)}}function e(a){if(a){var d=a.z2;d>b&&(b=d),d<c&&(c=d)}}return ol(a,function(a){d(a),d(a.getTextContent()),d(a.getTextGuideLine())}),c>b&&(c=b=0),{min:c,max:b}}function ot(a,b,c){!function a(b,c,d,e){if(b.ignoreModelZ)return e;var f=b.getTextContent(),g=b.getTextGuideLine();if(b.isGroup)for(var h=b.childrenRef(),i=0;i<h.length;i++)e=fp(a(h[i],c,d,e),e);else b.z=c,b.zlevel=d,e=fp(b.z2||0,e);if(f&&(f.z=c,f.zlevel=d,isFinite(e)&&(f.z2=e+2)),g){var j=b.textGuideLineConfig;g.z=c,g.zlevel=d,isFinite(e)&&(g.z2=e+(j&&j.showAbove?1:-1))}return e}(a,b,c,-1/0)}nU.circle=m1,nU.ellipse=m4,nU.sector=ni,nU.ring=nl,nU.polygon=np,nU.polyline=ns,nU.rect=hM,nU.line=nw,nU.bezierCurve=nB,nU.arc=nE;var ou=f0(),ov=mH(),ow=function(){function a(){this.group=new fc,this.uid=jp("viewChart"),this.renderTask=lM({plan:oz,reset:oA}),this.renderTask.context={view:this}}return a.prototype.init=function(a,b){},a.prototype.render=function(a,b,c,d){},a.prototype.highlight=function(a,b,c,d){var e=a.getData(d&&d.dataType);e&&oy(e,d,"emphasis")},a.prototype.downplay=function(a,b,c,d){var e=a.getData(d&&d.dataType);e&&oy(e,d,"normal")},a.prototype.remove=function(a,b){this.group.removeAll()},a.prototype.dispose=function(a,b){},a.prototype.updateView=function(a,b,c,d){this.render(a,b,c,d)},a.prototype.updateLayout=function(a,b,c,d){this.render(a,b,c,d)},a.prototype.updateVisual=function(a,b,c,d){this.render(a,b,c,d)},a.prototype.eachRendered=function(a){om(this.group,a)},a.markUpdateMethod=function(a,b){ou(a).updateMethod=b},a.protoInitialize=void(a.prototype.type="chart"),a}();function ox(a,b,c){a&&iL(a)&&("emphasis"===b?iw:ix)(a,c)}function oy(a,b,c){var d,e,f=f_(a,b),g=b&&null!=b.highlightKey?(null==(e=h5[d=b.highlightKey])&&h4<=32&&(e=h5[d]=h4++),e):null;null!=f?aX(fR(f),function(b){ox(a.getItemGraphicEl(b),c,g)}):a.eachItemGraphicEl(function(a){ox(a,c,g)})}function oz(a){return ov(a.model)}function oA(a){var b=a.model,c=a.ecModel,d=a.api,e=a.payload,f=b.pipelineContext.progressiveRender,g=a.view,h=e&&ou(e).updateMethod,i=f?"incrementalPrepareRender":h&&g[h]?h:"render";return"render"!==i&&g[i](b,c,d,e),oB[i]}gf(ow,["dispose"]),gk(ow);var oB={incrementalPrepareRender:{progress:function(a,b){b.view.incrementalRender(a,b.model,b.ecModel,b.api,b.payload)}},render:{forceFirstProgress:!0,progress:function(a,b){b.view.render(b.model,b.ecModel,b.api,b.payload)}}};let oC=ow;var oD="\0__throttleOriginMethod",oE="\0__throttleRate",oF="\0__throttleType";function oG(a,b,c){var d,e,f,g,h,i=0,j=0,k=null;function l(){j=new Date().getTime(),k=null,a.apply(f,g||[])}b=b||0;var m=function(){for(var a=[],m=0;m<arguments.length;m++)a[m]=arguments[m];d=new Date().getTime(),f=this,g=a;var n=h||b,o=h||c;h=null,e=d-(o?i:j)-n,clearTimeout(k),o?k=setTimeout(l,n):e>=0?l():k=setTimeout(l,-e),i=d};return m.clear=function(){k&&(clearTimeout(k),k=null)},m.debounceNextCall=function(a){h=a},m}function oH(a,b,c,d){var e=a[b];if(e){var f=e[oD]||e,g=e[oF];if(e[oE]!==c||g!==d){if(null==c||!d)return a[b]=f;(e=a[b]=oG(f,c,"debounce"===d))[oD]=f,e[oF]=d,e[oE]=c}return e}}function oI(a,b){var c=a[b];c&&c[oD]&&(c.clear&&c.clear(),a[b]=c[oD])}var oJ=f0(),oK={itemStyle:gl(jj,!0),lineStyle:gl(jg,!0)},oL={lineStyle:"stroke",itemStyle:"fill"};function oM(a,b){var c=a.visualStyleMapper||oK[b];return c||(console.warn("Unknown style type '"+b+"'."),oK.itemStyle)}function oN(a,b){var c=a.visualDrawType||oL[b];return c||(console.warn("Unknown style type '"+b+"'."),"fill")}var oO=new jn,oP=Math.PI,oQ=function(){function a(a,b,c,d){this._stageTaskMap=bt(),this.ecInstance=a,this.api=b,c=this._dataProcessorHandlers=c.slice(),d=this._visualHandlers=d.slice(),this._allHandlers=c.concat(d)}return a.prototype.restoreData=function(a,b){a.restoreData(b),this._stageTaskMap.each(function(a){var b=a.overallTask;b&&b.dirty()})},a.prototype.getPerformArgs=function(a,b){if(a.__pipeline){var c=this._pipelineMap.get(a.__pipeline.id),d=c.context,e=!b&&c.progressiveEnabled&&(!d||d.progressiveRender)&&a.__idxInPipeline>c.blockIndex?c.step:null,f=d&&d.modDataCount,g=null!=f?Math.ceil(f/e):null;return{step:e,modBy:g,modDataCount:f}}},a.prototype.getPipeline=function(a){return this._pipelineMap.get(a)},a.prototype.updateStreamModes=function(a,b){var c=this._pipelineMap.get(a.uid),d=a.getData().count(),e=c.progressiveEnabled&&b.incrementalPrepareRender&&d>=c.threshold,f=a.get("large")&&d>=a.get("largeThreshold"),g="mod"===a.get("progressiveChunkMode")?d:null;a.pipelineContext=c.context={progressiveRender:e,modDataCount:g,large:f}},a.prototype.restorePipelines=function(a){var b=this,c=b._pipelineMap=bt();a.eachSeries(function(a){var d=a.getProgressive(),e=a.uid;c.set(e,{id:e,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:d&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(d||700),count:0}),b._pipe(a,a.dataTask)})},a.prototype.prepareStageTasks=function(){var a=this._stageTaskMap,b=this.api.getModel(),c=this.api;aX(this._allHandlers,function(d){var e=a.get(d.uid)||a.set(d.uid,{});bl(!(d.reset&&d.overallReset),""),d.reset&&this._createSeriesStageTask(d,e,b,c),d.overallReset&&this._createOverallStageTask(d,e,b,c)},this)},a.prototype.prepareView=function(a,b,c,d){var e=a.renderTask,f=e.context;f.model=b,f.ecModel=c,f.api=d,e.__block=!a.incrementalPrepareRender,this._pipe(b,e)},a.prototype.performDataProcessorTasks=function(a,b){this._performStageTasks(this._dataProcessorHandlers,a,b,{block:!0})},a.prototype.performVisualTasks=function(a,b,c){this._performStageTasks(this._visualHandlers,a,b,c)},a.prototype._performStageTasks=function(a,b,c,d){d=d||{};var e=!1,f=this;function g(a,b){return a.setDirty&&(!a.dirtyMap||a.dirtyMap.get(b.__pipeline.id))}aX(a,function(a,h){if(!d.visualType||d.visualType===a.visualType){var i=f._stageTaskMap.get(a.uid),j=i.seriesTaskMap,k=i.overallTask;if(k){var l,m=k.agentStubMap;m.each(function(a){g(d,a)&&(a.dirty(),l=!0)}),l&&k.dirty(),f.updatePayload(k,c);var n=f.getPerformArgs(k,d.block);m.each(function(a){a.perform(n)}),k.perform(n)&&(e=!0)}else j&&j.each(function(h,i){g(d,h)&&h.dirty();var j=f.getPerformArgs(h,d.block);j.skip=!a.performRawSeries&&b.isSeriesFiltered(h.context.model),f.updatePayload(h,c),h.perform(j)&&(e=!0)})}}),this.unfinished=e||this.unfinished},a.prototype.performSeriesTasks=function(a){var b;a.eachSeries(function(a){b=a.dataTask.perform()||b}),this.unfinished=b||this.unfinished},a.prototype.plan=function(){this._pipelineMap.each(function(a){var b=a.tail;do{if(b.__block){a.blockIndex=b.__idxInPipeline;break}b=b.getUpstream()}while(b)})},a.prototype.updatePayload=function(a,b){"remain"!==b&&(a.context.payload=b)},a.prototype._createSeriesStageTask=function(a,b,c,d){var e=this,f=b.seriesTaskMap,g=b.seriesTaskMap=bt(),h=a.seriesType,i=a.getTargetSeries;function j(b){var h=b.uid,i=g.set(h,f&&f.get(h)||lM({plan:oV,reset:oW,count:oZ}));i.context={model:b,ecModel:c,api:d,useClearVisual:a.isVisual&&!a.isLayout,plan:a.plan,reset:a.reset,scheduler:e},e._pipe(b,i)}a.createOnAllSeries?c.eachRawSeries(j):h?c.eachRawSeriesByType(h,j):i&&i(c,d).each(j)},a.prototype._createOverallStageTask=function(a,b,c,d){var e=this,f=b.overallTask=b.overallTask||lM({reset:oR});f.context={ecModel:c,api:d,overallReset:a.overallReset,scheduler:e};var g=f.agentStubMap,h=f.agentStubMap=bt(),i=a.seriesType,j=a.getTargetSeries,k=!0,l=!1;function m(a){var b=a.uid,c=h.set(b,g&&g.get(b)||(l=!0,lM({reset:oS,onDirty:oU})));c.context={model:a,overallProgress:k},c.agent=f,c.__block=k,e._pipe(a,c)}bl(!a.createOnAllSeries,""),i?c.eachRawSeriesByType(i,m):j?j(c,d).each(m):(k=!1,aX(c.getSeries(),m)),l&&f.dirty()},a.prototype._pipe=function(a,b){var c=a.uid,d=this._pipelineMap.get(c);d.head||(d.head=b),d.tail&&d.tail.pipe(b),d.tail=b,b.__idxInPipeline=d.count++,b.__pipeline=d},a.wrapStageHandler=function(a,b){return a4(a)&&(a={overallReset:a,seriesType:function(a){C=null;try{a(o$,o_)}catch(a){}return C}(a)}),a.uid=jp("stageHandler"),b&&(a.visualType=b),a},a}();function oR(a){a.overallReset(a.ecModel,a.api,a.payload)}function oS(a){return a.overallProgress&&oT}function oT(){this.agent.dirty(),this.getDownstream().dirty()}function oU(){this.agent&&this.agent.dirty()}function oV(a){return a.plan?a.plan(a.model,a.ecModel,a.api,a.payload):null}function oW(a){a.useClearVisual&&a.data.clearAllVisual();var b=a.resetDefines=fR(a.reset(a.model,a.ecModel,a.api,a.payload));return b.length>1?aY(b,function(a,b){return oY(b)}):oX}var oX=oY(0);function oY(a){return function(b,c){var d=c.data,e=c.resetDefines[a];if(e&&e.dataEach)for(var f=b.start;f<b.end;f++)e.dataEach(d,f);else e&&e.progress&&e.progress(b,d)}}function oZ(a){return a.data.count()}var o$={},o_={};function o0(a,b){for(var c in b.prototype)a[c]=by}o0(o$,kZ),o0(o_,k2),o$.eachSeriesByType=o$.eachRawSeriesByType=function(a){C=a},o$.eachComponent=function(a){"series"===a.mainType&&a.subType&&(C=a.subType)};var o1=kv.darkColor,o2=o1.background,o3=function(){return{axisLine:{lineStyle:{color:o1.axisLine}},splitLine:{lineStyle:{color:o1.axisSplitLine}},splitArea:{areaStyle:{color:[o1.backgroundTint,o1.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:o1.axisMinorSplitLine}},axisLabel:{color:o1.axisLabel},axisName:{}}},o4={label:{color:o1.secondary},itemStyle:{borderColor:o1.borderTint},dividerLineStyle:{color:o1.border}},o5={darkMode:!0,color:o1.theme,backgroundColor:o2,axisPointer:{lineStyle:{color:o1.border},crossStyle:{color:o1.borderShade},label:{color:o1.tertiary}},legend:{textStyle:{color:o1.secondary},pageTextStyle:{color:o1.tertiary}},textStyle:{color:o1.secondary},title:{textStyle:{color:o1.primary},subtextStyle:{color:o1.quaternary}},toolbox:{iconStyle:{borderColor:o1.accent50}},tooltip:{backgroundColor:o1.neutral20,defaultBorderColor:o1.border,textStyle:{color:o1.tertiary}},dataZoom:{borderColor:o1.accent10,textStyle:{color:o1.tertiary},brushStyle:{color:o1.backgroundTint},handleStyle:{color:o1.neutral00,borderColor:o1.accent20},moveHandleStyle:{color:o1.accent40},emphasis:{handleStyle:{borderColor:o1.accent50}},dataBackground:{lineStyle:{color:o1.accent30},areaStyle:{color:o1.accent20}},selectedDataBackground:{lineStyle:{color:o1.accent50},areaStyle:{color:o1.accent30}}},visualMap:{textStyle:{color:o1.secondary},handleStyle:{borderColor:o1.neutral30}},timeline:{lineStyle:{color:o1.accent10},label:{color:o1.tertiary},controlStyle:{color:o1.accent30,borderColor:o1.accent30}},calendar:{itemStyle:{color:o1.neutral00,borderColor:o1.neutral20},dayLabel:{color:o1.tertiary},monthLabel:{color:o1.secondary},yearLabel:{color:o1.secondary}},matrix:{x:o4,y:o4,backgroundColor:{borderColor:o1.axisLine},body:{itemStyle:{borderColor:o1.borderTint}}},timeAxis:o3(),logAxis:o3(),valueAxis:o3(),categoryAxis:o3(),line:{symbol:"circle"},graph:{color:o1.theme},gauge:{title:{color:o1.secondary},axisLine:{lineStyle:{color:[[1,o1.neutral05]]}},axisLabel:{color:o1.axisLabel},detail:{color:o1.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:o1.background}},radar:((k=o3()).axisName={color:o1.axisLabel},k.axisLine.lineStyle.color=o1.neutral20,k),treemap:{breadcrumb:{itemStyle:{color:o1.neutral20,textStyle:{color:o1.secondary}},emphasis:{itemStyle:{color:o1.neutral30}}}},sunburst:{itemStyle:{borderColor:o1.background}},map:{itemStyle:{borderColor:o1.border,areaColor:o1.neutral10},label:{color:o1.tertiary},emphasis:{label:{color:o1.primary},itemStyle:{areaColor:o1.highlight}},select:{label:{color:o1.primary},itemStyle:{areaColor:o1.highlight}}},geo:{itemStyle:{borderColor:o1.border,areaColor:o1.neutral10},emphasis:{label:{color:o1.primary},itemStyle:{areaColor:o1.highlight}},select:{label:{color:o1.primary},itemStyle:{color:o1.highlight}}}};o5.categoryAxis.splitLine.show=!1;var o6=function(){function a(){}return a.prototype.normalizeQuery=function(a){var b={},c={},d={};if(a5(a)){var e=ge(a);b.mainType=e.main||null,b.subType=e.sub||null}else{var f=["Index","Name","Id"],g={name:1,dataIndex:1,dataType:1};aX(a,function(a,e){for(var h=!1,i=0;i<f.length;i++){var j=f[i],k=e.lastIndexOf(j);if(k>0&&k===e.length-j.length){var l=e.slice(0,k);"data"!==l&&(b.mainType=l,b[j.toLowerCase()]=a,h=!0)}}g.hasOwnProperty(e)&&(c[e]=a,h=!0),h||(d[e]=a)})}return{cptQuery:b,dataQuery:c,otherQuery:d}},a.prototype.filter=function(a,b){var c=this.eventInfo;if(!c)return!0;var d=c.targetEl,e=c.packedEvent,f=c.model,g=c.view;if(!f||!g)return!0;var h=b.cptQuery,i=b.dataQuery;return j(h,f,"mainType")&&j(h,f,"subType")&&j(h,f,"index","componentIndex")&&j(h,f,"name")&&j(h,f,"id")&&j(i,e,"name")&&j(i,e,"dataIndex")&&j(i,e,"dataType")&&(!g.filterForExposedEvent||g.filterForExposedEvent(a,b.otherQuery,d,e));function j(a,b,c,d){return null==a[c]||b[d||c]===a[c]}},a.prototype.afterTrigger=function(){this.eventInfo=null},a}(),o7=["symbol","symbolSize","symbolRotate","symbolOffset"],o8=o7.concat(["symbolKeepAspect"]);function o9(a,b,c){switch(c){case"color":return a.getItemVisual(b,"style")[a.getVisual("drawType")];case"opacity":return a.getItemVisual(b,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getItemVisual(b,c)}}function pa(a,b){switch(b){case"color":return a.getVisual("style")[a.getVisual("drawType")];case"opacity":return a.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getVisual(b)}}function pb(a,b,c,d){switch(c){case"color":a.ensureUniqueItemVisual(b,"style")[a.getVisual("drawType")]=d,a.setItemVisual(b,"colorFromPalette",!1);break;case"opacity":a.ensureUniqueItemVisual(b,"style").opacity=d;break;case"symbol":case"symbolSize":case"liftZ":a.setItemVisual(b,c,d)}}function pc(a,b){aX([[a+"ToggleSelect","toggleSelect"],[a+"Select","select"],[a+"UnSelect","unselect"]],function(c){b(c[0],function(b,d,e){var f,g;b=aQ({},b),e.dispatchAction(aQ(b,{type:c[1],seriesIndex:(f=b,g=[],d.eachComponent({mainType:"series",subType:a,query:f},function(a){g.push(a.seriesIndex)}),g)}))})})}function pd(a,b,c,d,e){var f=a+b;c.isSilent(f)||d.eachComponent({mainType:"series",subType:"pie"},function(a){for(var b=a.seriesIndex,d=a.option.selectedMap,g=e.selected,h=0;h<g.length;h++)if(g[h].seriesIndex===b){var i=a.getData(),j=f_(i,e.fromActionPayload);c.trigger(f,{type:f,seriesId:a.id,name:a3(j)?i.getName(j[0]):i.getName(j),selected:a5(d)?d:aQ({},d)})}})}function pe(a,b,c){for(var d;a&&(!b(a)||(d=a,!c));)a=a.__hostTarget||a.parent;return d}var pf=Math.round(9*Math.random()),pg="function"==typeof Object.defineProperty,ph=function(){function a(){this._id="__ec_inner_"+pf++}return a.prototype.get=function(a){return this._guard(a)[this._id]},a.prototype.set=function(a,b){var c=this._guard(a);return pg?Object.defineProperty(c,this._id,{value:b,enumerable:!1,configurable:!0}):c[this._id]=b,this},a.prototype.delete=function(a){return!!this.has(a)&&(delete this._guard(a)[this._id],!0)},a.prototype.has=function(a){return!!this._guard(a)[this._id]},a.prototype._guard=function(a){if(a!==Object(a))throw TypeError("Value of WeakMap is not a non-null object.");return a},a}(),pi=hy.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d+f),a.lineTo(c-e,d+f),a.closePath()}}),pj=hy.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d),a.lineTo(c,d+f),a.lineTo(c-e,d),a.closePath()}}),pk=hy.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width/5*3,f=Math.max(e,b.height),g=e/2,h=g*g/(f-g),i=d-f+g+h,j=Math.asin(h/g),k=Math.cos(j)*g,l=Math.sin(j),m=Math.cos(j),n=.6*g,o=.7*g;a.moveTo(c-k,i+h),a.arc(c,i,g,Math.PI-j,2*Math.PI+j),a.bezierCurveTo(c+k-l*n,i+h+m*n,c,d-o,c,d),a.bezierCurveTo(c,d-o,c-k+l*n,i+h+m*n,c-k,i+h),a.closePath()}}),pl=hy.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.width,e=b.x,f=b.y,g=d/3*2;a.moveTo(e,f),a.lineTo(e+g,f+c),a.lineTo(e,f+c/4*3),a.lineTo(e-g,f+c),a.lineTo(e,f),a.closePath()}}),pm={line:function(a,b,c,d,e){e.x1=a,e.y1=b+d/2,e.x2=a+c,e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d},roundRect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d,e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){var f=Math.min(c,d);e.x=a,e.y=b,e.width=f,e.height=f},circle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d}},pn={};aX({line:nw,rect:hM,roundRect:hM,square:hM,circle:m1,diamond:pj,pin:pk,arrow:pl,triangle:pi},function(a,b){pn[b]=new a});var po=hy.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(a,b,c){var d=e1(a,b,c),e=this.shape;return e&&"pin"===e.symbolType&&"inside"===b.position&&(d.y=c.y+.4*c.height),d},buildPath:function(a,b,c){var d=b.symbolType;if("none"!==d){var e=pn[d];e||(e=pn[d="rect"]),pm[d](b.x,b.y,b.width,b.height,e.shape),e.buildPath(a,e.shape,c)}}});function pp(a,b){if("image"!==this.type){var c=this.style;this.__isEmptyBrush?(c.stroke=a,c.fill=b||kv.color.neutral00,c.lineWidth=2):"line"===this.shape.symbolType?c.stroke=a:c.fill=a,this.markRedraw()}}function pq(a,b,c,d,e,f,g){var h,i=0===a.indexOf("empty");return i&&(a=a.substr(5,1).toLowerCase()+a.substr(6)),(h=0===a.indexOf("image://")?n1(a.slice(8),new cS(b,c,d,e),g?"center":"cover"):0===a.indexOf("path://")?n0(a.slice(7),{},new cS(b,c,d,e),g?"center":"cover"):new po({shape:{symbolType:a,x:b,y:c,width:d,height:e}})).__isEmptyBrush=i,h.setColor=pp,f&&h.setColor(f),h}function pr(a){return a3(a)||(a=[+a,+a]),[a[0]||0,a[1]||0]}function ps(a,b){if(null!=a)return a3(a)||(a=[a,a]),[fs(a[0],b[0])||0,fs(bh(a[1],a[0]),b[1])||0]}function pt(a){return isFinite(a)}function pu(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n="radial"===b.type?(f=Math.min(d=c.width,e=c.height),g=null==b.x?.5:b.x,h=null==b.y?.5:b.y,i=null==b.r?.5:b.r,b.global||(g=g*d+c.x,h=h*e+c.y,i*=f),g=pt(g)?g:.5,h=pt(h)?h:.5,i=i>=0&&pt(i)?i:.5,a.createRadialGradient(g,h,0,g,h,i)):(j=null==b.x?0:b.x,k=null==b.x2?1:b.x2,l=null==b.y?0:b.y,m=null==b.y2?0:b.y2,b.global||(j=j*c.width+c.x,k=k*c.width+c.x,l=l*c.height+c.y,m=m*c.height+c.y),j=pt(j)?j:0,k=pt(k)?k:1,l=pt(l)?l:0,m=pt(m)?m:0,a.createLinearGradient(j,l,k,m)),o=b.colorStops,p=0;p<o.length;p++)n.addColorStop(o[p].offset,o[p].color);return n}function pv(a){return parseInt(a,10)}function pw(a,b,c){var d=["width","height"][b],e=["clientWidth","clientHeight"][b],f=["paddingLeft","paddingTop"][b],g=["paddingRight","paddingBottom"][b];if(null!=c[d]&&"auto"!==c[d])return parseFloat(c[d]);var h=document.defaultView.getComputedStyle(a);return(a[e]||pv(h[d])||pv(a.style[d]))-(pv(h[f])||0)-(pv(h[g])||0)|0}function px(a){var b,c,d=a.style,e=d.lineDash&&d.lineWidth>0&&(b=d.lineDash,c=d.lineWidth,b&&"solid"!==b&&c>0?"dashed"===b?[4*c,2*c]:"dotted"===b?[c]:a7(b)?[b]:a3(b)?b:null:null),f=d.lineDashOffset;if(e){var g=d.strokeNoScale&&a.getLineScale?a.getLineScale():1;g&&1!==g&&(e=aY(e,function(a){return a/g}),f/=g)}return[e,f]}var py=new hj(!0);function pz(a){var b=a.stroke;return null!=b&&"none"!==b&&a.lineWidth>0}function pA(a){return"string"==typeof a&&"none"!==a}function pB(a){var b=a.fill;return null!=b&&"none"!==b}function pC(a,b){if(null!=b.fillOpacity&&1!==b.fillOpacity){var c=a.globalAlpha;a.globalAlpha=b.fillOpacity*b.opacity,a.fill(),a.globalAlpha=c}else a.fill()}function pD(a,b){if(null!=b.strokeOpacity&&1!==b.strokeOpacity){var c=a.globalAlpha;a.globalAlpha=b.strokeOpacity*b.opacity,a.stroke(),a.globalAlpha=c}else a.stroke()}function pE(a,b,c){var d=gp(b.image,b.__image,c);if(gr(d)){var e=a.createPattern(d,b.repeat||"repeat");if("function"==typeof DOMMatrix&&e&&e.setTransform){var f=new DOMMatrix;f.translateSelf(b.x||0,b.y||0),f.rotateSelf(0,0,(b.rotation||0)*bz),f.scaleSelf(b.scaleX||1,b.scaleY||1),e.setTransform(f)}return e}}var pF=["shadowBlur","shadowOffsetX","shadowOffsetY"],pG=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function pH(a,b,c,d,e){var f=!1;if(!d&&b===(c=c||{}))return!1;if(d||b.opacity!==c.opacity){pK(a,e),f=!0;var g=Math.max(Math.min(b.opacity,1),0);a.globalAlpha=isNaN(g)?gK.opacity:g}(d||b.blend!==c.blend)&&(f||(pK(a,e),f=!0),a.globalCompositeOperation=b.blend||gK.blend);for(var h=0;h<pF.length;h++){var i=pF[h];(d||b[i]!==c[i])&&(f||(pK(a,e),f=!0),a[i]=a.dpr*(b[i]||0))}return(d||b.shadowColor!==c.shadowColor)&&(f||(pK(a,e),f=!0),a.shadowColor=b.shadowColor||gK.shadowColor),f}function pI(a,b,c,d,e){var f=pL(b,e.inHover),g=d?null:c&&pL(c,e.inHover)||{};if(f===g)return!1;var h=pH(a,f,g,d,e);if((d||f.fill!==g.fill)&&(h||(pK(a,e),h=!0),pA(f.fill)&&(a.fillStyle=f.fill)),(d||f.stroke!==g.stroke)&&(h||(pK(a,e),h=!0),pA(f.stroke)&&(a.strokeStyle=f.stroke)),(d||f.opacity!==g.opacity)&&(h||(pK(a,e),h=!0),a.globalAlpha=null==f.opacity?1:f.opacity),b.hasStroke()){var i=f.lineWidth/(f.strokeNoScale&&b.getLineScale?b.getLineScale():1);a.lineWidth!==i&&(h||(pK(a,e),h=!0),a.lineWidth=i)}for(var j=0;j<pG.length;j++){var k=pG[j],l=k[0];(d||f[l]!==g[l])&&(h||(pK(a,e),h=!0),a[l]=f[l]||k[1])}return h}function pJ(a,b){var c=b.transform,d=a.dpr||1;c?a.setTransform(d*c[0],d*c[1],d*c[2],d*c[3],d*c[4],d*c[5]):a.setTransform(d,0,0,d,0,0)}function pK(a,b){b.batchFill&&a.fill(),b.batchStroke&&a.stroke(),b.batchFill="",b.batchStroke=""}function pL(a,b){return b&&a.__hoverStyle||a.style}function pM(a,b){pN(a,b,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function pN(a,b,c,d){var e,f=b.transform;if(!b.shouldBePainted(c.viewWidth,c.viewHeight,!1,!1)){b.__dirty&=-2,b.__isRendered=!1;return}var g=b.__clipPaths,h=c.prevElClipPaths,i=!1,j=!1;if(!h||function(a,b){if(a===b||!a&&!b)return!1;if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}(g,h)){if(h&&h.length&&(pK(a,c),a.restore(),j=i=!0,c.prevElClipPaths=null,c.allClipped=!1,c.prevEl=null),g&&g.length){pK(a,c),a.save();for(var k=!1,l=0;l<g.length;l++){var m=g[l];k=k||m.isZeroArea(),pJ(a,m),a.beginPath(),m.buildPath(a,m.shape),a.clip()}c.allClipped=k,i=!0}c.prevElClipPaths=g}if(c.allClipped){b.__isRendered=!1;return}b.beforeBrush&&b.beforeBrush(),b.innerBeforeBrush();var n=c.prevEl;n||(j=i=!0);var o=b instanceof hy&&b.autoBatch&&(r=pB(q=b.style),s=pz(q),!(q.lineDash||!(r^s)||r&&"string"!=typeof q.fill||s&&"string"!=typeof q.stroke||q.strokePercent<1||q.strokeOpacity<1||q.fillOpacity<1));!i&&(t=n.transform,f&&t?f[0]===t[0]&&f[1]===t[1]&&f[2]===t[2]&&f[3]===t[3]&&f[4]===t[4]&&f[5]===t[5]:+(!f&&!t))?o||pK(a,c):(pK(a,c),pJ(a,b));var p=pL(b,c.inHover);if(b instanceof hy)1!==c.lastDrawType&&(j=!0,c.lastDrawType=1),pI(a,b,n,j,c),o&&(c.batchFill||c.batchStroke)||a.beginPath(),function(a,b,c,d){var e,f,g,h=pz(c),i=pB(c),j=c.strokePercent,k=j<1,l=!b.path;(!b.silent||k)&&l&&b.createPathProxy();var m=b.path||py,n=b.__dirty;if(!d){var o=c.fill,p=c.stroke,q=i&&!!o.colorStops,r=h&&!!p.colorStops,s=i&&!!o.image,t=h&&!!p.image,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0;(q||r)&&(y=b.getBoundingRect()),q&&(u=n?pu(a,o,y):b.__canvasFillGradient,b.__canvasFillGradient=u),r&&(v=n?pu(a,p,y):b.__canvasStrokeGradient,b.__canvasStrokeGradient=v),s&&(w=n||!b.__canvasFillPattern?pE(a,o,b):b.__canvasFillPattern,b.__canvasFillPattern=w),t&&(x=n||!b.__canvasStrokePattern?pE(a,p,b):b.__canvasStrokePattern,b.__canvasStrokePattern=x),q?a.fillStyle=u:s&&(w?a.fillStyle=w:i=!1),r?a.strokeStyle=v:t&&(x?a.strokeStyle=x:h=!1)}var z=b.getGlobalScale();m.setScale(z[0],z[1],b.segmentIgnoreThreshold),a.setLineDash&&c.lineDash&&(f=(e=px(b))[0],g=e[1]);var A=!0;(l||4&n)&&(m.setDPR(a.dpr),k?m.setContext(null):(m.setContext(a),A=!1),m.reset(),b.buildPath(m,b.shape,d),m.toStatic(),b.pathUpdated()),A&&m.rebuildPath(a,k?j:1),f&&(a.setLineDash(f),a.lineDashOffset=g),!d&&(c.strokeFirst?(h&&pD(a,c),i&&pC(a,c)):(i&&pC(a,c),h&&pD(a,c))),f&&a.setLineDash([])}(a,b,p,o),o&&(c.batchFill=p.fill||"",c.batchStroke=p.stroke||"");else if(b instanceof hA){3!==c.lastDrawType&&(j=!0,c.lastDrawType=3),pI(a,b,n,j,c);var q,r,s,t,u,v=p.text;if(null!=v&&(v+=""),v){a.font=p.font||av,a.textAlign=p.textAlign,a.textBaseline=p.textBaseline;var w=void 0,x=void 0;a.setLineDash&&p.lineDash&&(w=(u=px(b))[0],x=u[1]),w&&(a.setLineDash(w),a.lineDashOffset=x),p.strokeFirst?(pz(p)&&a.strokeText(v,p.x,p.y),pB(p)&&a.fillText(v,p.x,p.y)):(pB(p)&&a.fillText(v,p.x,p.y),pz(p)&&a.strokeText(v,p.x,p.y)),w&&a.setLineDash([])}}else b instanceof hE?(2!==c.lastDrawType&&(j=!0,c.lastDrawType=2),e=j,pH(a,pL(b,c.inHover),n&&pL(n,c.inHover),e,c),function(a,b,c){var d=b.__image=gp(c.image,b.__image,b,b.onload);if(d&&gr(d)){var e=c.x||0,f=c.y||0,g=b.getWidth(),h=b.getHeight(),i=d.width/d.height;if(null==g&&null!=h?g=h*i:null==h&&null!=g?h=g/i:null==g&&null==h&&(g=d.width,h=d.height),c.sWidth&&c.sHeight){var j=c.sx||0,k=c.sy||0;a.drawImage(d,j,k,c.sWidth,c.sHeight,e,f,g,h)}else if(c.sx&&c.sy){var j=c.sx,k=c.sy,l=g-j,m=h-k;a.drawImage(d,j,k,l,m,e,f,g,h)}else a.drawImage(d,e,f,g,h)}}(a,b,p)):b.getTemporalDisplayables&&(4!==c.lastDrawType&&(j=!0,c.lastDrawType=4),function(a,b,c){var d,e,f=b.getDisplayables(),g=b.getTemporalDisplayables();a.save();var h={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:c.viewWidth,viewHeight:c.viewHeight,inHover:c.inHover};for(d=b.getCursor(),e=f.length;d<e;d++){var i=f[d];i.beforeBrush&&i.beforeBrush(),i.innerBeforeBrush(),pN(a,i,h,d===e-1),i.innerAfterBrush(),i.afterBrush&&i.afterBrush(),h.prevEl=i}for(var j=0,k=g.length;j<k;j++){var i=g[j];i.beforeBrush&&i.beforeBrush(),i.innerBeforeBrush(),pN(a,i,h,j===k-1),i.innerAfterBrush(),i.afterBrush&&i.afterBrush(),h.prevEl=i}b.clearTemporalDisplayables(),b.notClear=!0,a.restore()}(a,b,c));o&&d&&pK(a,c),b.innerAfterBrush(),b.afterBrush&&b.afterBrush(),c.prevEl=b,b.__dirty=0,b.__isRendered=!0}var pO=new ph,pP=new dA(100),pQ=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function pR(a,b){if("none"===a)return null;var c=b.getDevicePixelRatio(),d=b.getZr(),e="svg"===d.painter.type;a.dirty&&pO.delete(a);var f=pO.get(a);if(f)return f;var g=aR(a,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===g.backgroundColor&&(g.backgroundColor=null);var h={repeat:"repeat"};return function(a){for(var b,f,h=[c],i=!0,j=0;j<pQ.length;++j){var k=g[pQ[j]];if(null!=k&&!a3(k)&&!a5(k)&&!a7(k)&&"boolean"!=typeof k){i=!1;break}h.push(k)}if(i){b=h.join(",")+(e?"-svg":"");var l=pP.get(b);l&&(e?a.svgElement=l:a.image=l)}var m=function a(b){if(!b||0===b.length)return[[0,0]];if(a7(b)){var c=Math.ceil(b);return[[c,c]]}for(var d=!0,e=0;e<b.length;++e)if(!a7(b[e])){d=!1;break}if(d)return a([b]);for(var f=[],e=0;e<b.length;++e)if(a7(b[e])){var c=Math.ceil(b[e]);f.push([c,c])}else{var c=aY(b[e],function(a){return Math.ceil(a)});c.length%2==1?f.push(c.concat(c)):f.push(c)}return f}(g.dashArrayX),n=function(a){if(!a||"object"==typeof a&&0===a.length)return[0,0];if(a7(a)){var b=Math.ceil(a);return[b,b]}var c=aY(a,function(a){return Math.ceil(a)});return a.length%2?c.concat(c):c}(g.dashArrayY),o=function a(b){if(!b||0===b.length)return[["rect"]];if(a5(b))return[[b]];for(var c=!0,d=0;d<b.length;++d)if(!a5(b[d])){c=!1;break}if(c)return a([b]);for(var e=[],d=0;d<b.length;++d)a5(b[d])?e.push([b[d]]):e.push(b[d]);return e}(g.symbol),p=aY(m,function(a){return pS(a)}),q=pS(n),r=!e&&ax.createCanvas(),s=e&&{tag:"g",attrs:{},key:"dcl",children:[]},t=function(){for(var a=1,b=0,c=p.length;b<c;++b)a=fO(a,p[b]);for(var d=1,b=0,c=o.length;b<c;++b)d=fO(d,o[b].length);a*=d;var e=q*p.length*o.length;return{width:Math.max(1,Math.min(a,g.maxTileWidth)),height:Math.max(1,Math.min(e,g.maxTileHeight))}}();r&&(r.width=t.width*c,r.height=t.height*c,f=r.getContext("2d")),function(){f&&(f.clearRect(0,0,r.width,r.height),g.backgroundColor&&(f.fillStyle=g.backgroundColor,f.fillRect(0,0,r.width,r.height)));for(var a=0,b=0;b<n.length;++b)a+=n[b];if(!(a<=0))for(var h=-q,i=0,j=0,k=0;h<t.height;){if(i%2==0){for(var l=j/2%o.length,p=0,u=0,v=0;p<2*t.width;){for(var w=0,b=0;b<m[k].length;++b)w+=m[k][b];if(w<=0)break;if(u%2==0){var x=(1-g.symbolSize)*.5,y=p+m[k][u]*x,z=h+n[i]*x,A=m[k][u]*g.symbolSize,B=n[i]*g.symbolSize,C=v/2%o[l].length;!function(a,b,h,i,j){var k=e?1:c,l=pq(j,a*k,b*k,h*k,i*k,g.color,g.symbolKeepAspect);if(e){var m=d.painter.renderOneToVNode(l);m&&s.children.push(m)}else pM(f,l)}(y,z,A,B,o[l][C])}p+=m[k][u],++v,++u===m[k].length&&(u=0)}++k===m.length&&(k=0)}h+=n[i],++j,++i===n.length&&(i=0)}}(),i&&pP.put(b,r||s),a.image=r,a.svgElement=s,a.svgWidth=t.width,a.svgHeight=t.height}(h),h.rotation=g.rotation,h.scaleX=h.scaleY=e?1:1/c,pO.set(a,h),a.dirty=!1,h}function pS(a){for(var b=0,c=0;c<a.length;++c)b+=a[c];return a.length%2==1?2*b:b}var pT=new b2,pU={},pV={},pW="6.0.0",pX={zrender:"6.0.0"},pY={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},pZ="__flagInMainProcess",p$="__mainProcessVersion",p_="__pendingUpdate",p0="__needsUpdateStatus",p1=/^[a-zA-Z0-9_]+$/,p2="__connectUpdateStatus";function p3(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return this.isDisposed()?void this.id:p5(this,a,b)}}function p4(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return p5(this,a,b)}}function p5(a,b,c){return c[0]=c[0]&&c[0].toLowerCase(),b2.prototype[b].apply(a,c)}var p6=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b}(b2),p7=p6.prototype;p7.on=p4("on"),p7.off=p4("off");var p8=function(a){function b(b,c,d){var e=a.call(this,new o6)||this;e._chartsViews=[],e._chartsMap={},e._componentsViews=[],e._componentsMap={},e._pendingActions=[],d=d||{},e._dom=b,e[p$]=1,d.ssr&&(r=function(a){var b=h2(a),c=b.dataIndex;if(null!=c){var d=bt();return d.set("series_index",b.seriesIndex),d.set("data_index",c),b.ssrType&&d.set("ssr_type",b.ssrType),d}});var f=e._zr=fg(b,{renderer:d.renderer||"canvas",devicePixelRatio:d.devicePixelRatio,width:d.width,height:d.height,ssr:d.ssr,useDirtyRect:bh(d.useDirtyRect,!1),useCoarsePointer:bh(d.useCoarsePointer,"auto"),pointerSize:d.pointerSize});e._ssr=d.ssr,e._throttledZrFlush=oG(a1(f.flush,f),17),e._updateTheme(c),e._locale=function(a){if(!a5(a))return aO(aN(a),aN(jr.EN),!1);var b=jr[a.toUpperCase()]||{};return"ZH"===a||"EN"===a?aN(b):aO(aN(b),aN(jr.EN),!1)}(d.locale||jt),e._coordSysMgr=new j6;var g=e._api=R(e);function h(a,b){return a.__prio-b.__prio}return c4(qg,h),c4(qe,h),e._scheduler=new oQ(e,g,qe,qg),e._messageCenter=new p6,e._initEvents(),e.resize=a1(e.resize,e),f.animation.on("frame",e._onframe,e),M(f,e),N(f,e),bo(e),e}return aq(b,a),b.prototype._onframe=function(){if(!this._disposed){U(this);var a=this._scheduler;if(this[p_]){var b=this[p_].silent;this[pZ]=!0,V(this);try{D(this),G.update.call(this,null,this[p_].updateParams)}catch(a){throw this[pZ]=!1,this[p_]=null,a}this._zr.flush(),this[pZ]=!1,this[p_]=null,K.call(this,b),L.call(this,b)}else if(a.unfinished){var c=1,d=this._model,e=this._api;a.unfinished=!1;do{var f=+new Date;a.performSeriesTasks(d),a.performDataProcessorTasks(d),I(this,d),a.performVisualTasks(d),Q(this,this._model,e,"remain",{}),c-=new Date-f}while(c>0&&a.unfinished);a.unfinished||this._zr.flush()}}},b.prototype.getDom=function(){return this._dom},b.prototype.getId=function(){return this.id},b.prototype.getZr=function(){return this._zr},b.prototype.isSSR=function(){return this._ssr},b.prototype.setOption=function(a,b,c){if(!this[pZ]){if(this._disposed)return void this.id;if(a8(b)&&(c=b.lazyUpdate,d=b.silent,e=b.replaceMerge,f=b.transition,b=b.notMerge),this[pZ]=!0,V(this),!this._model||b){var d,e,f,g=new k4(this._api),h=this._theme,i=this._model=new kZ;i.scheduler=this._scheduler,i.ssr=this._ssr,i.init(null,null,null,h,this._locale,g)}this._model.setOption(a,{replaceMerge:e},qf);var j={seriesTransition:f,optionChanged:!0};if(c)this[p_]={silent:d,updateParams:j},this[pZ]=!1,this.getZr().wakeUp();else{try{D(this),G.update.call(this,null,j)}catch(a){throw this[p_]=null,this[pZ]=!1,a}this._ssr||this._zr.flush(),this[p_]=null,this[pZ]=!1,K.call(this,d),L.call(this,d)}}},b.prototype.setTheme=function(a,b){if(!this[pZ]){if(this._disposed)return void this.id;var c=this._model;if(c){var d=b&&b.silent,e=null;this[p_]&&(null==d&&(d=this[p_].silent),e=this[p_].updateParams,this[p_]=null),this[pZ]=!0,V(this);try{this._updateTheme(a),c.setTheme(this._theme),D(this),G.update.call(this,{type:"setTheme"},e)}catch(a){throw this[pZ]=!1,a}this[pZ]=!1,K.call(this,d),L.call(this,d)}}},b.prototype._updateTheme=function(a){a5(a)&&(a=qh[a]),a&&((a=aN(a))&&lm(a,!0),this._theme=a)},b.prototype.getModel=function(){return this._model},b.prototype.getOption=function(){return this._model&&this._model.getOption()},b.prototype.getWidth=function(){return this._zr.getWidth()},b.prototype.getHeight=function(){return this._zr.getHeight()},b.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||at.hasGlobalWindow&&window.devicePixelRatio||1},b.prototype.getRenderedCanvas=function(a){return this.renderToCanvas(a)},b.prototype.renderToCanvas=function(a){return a=a||{},this._zr.painter.getRenderedCanvas({backgroundColor:a.backgroundColor||this._model.get("backgroundColor"),pixelRatio:a.pixelRatio||this.getDevicePixelRatio()})},b.prototype.renderToSVGString=function(a){return a=a||{},this._zr.painter.renderToString({useViewBox:a.useViewBox})},b.prototype.getSvgDataURL=function(){var a=this._zr;return aX(a.storage.getDisplayList(),function(a){a.stopAnimation(null,!0)}),a.painter.toDataURL()},b.prototype.getDataURL=function(a){if(this._disposed)return void this.id;var b=(a=a||{}).excludeComponents,c=this._model,d=[],e=this;aX(b,function(a){c.eachComponent({mainType:a},function(a){var b=e._componentsMap[a.__viewId];b.group.ignore||(d.push(b),b.group.ignore=!0)})});var f="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return aX(d,function(a){a.group.ignore=!1}),f},b.prototype.getConnectedDataURL=function(a){if(this._disposed)return void this.id;var b="svg"===a.type,c=this.group,d=Math.min,e=Math.max,f=1/0;if(!qk[c])return this.getDataURL(a);var g=f,h=f,i=-f,j=-f,k=[],l=a&&a.pixelRatio||this.getDevicePixelRatio();aX(qj,function(f,l){if(f.group===c){var m=b?f.getZr().painter.getSvgDom().innerHTML:f.renderToCanvas(aN(a)),n=f.getDom().getBoundingClientRect();g=d(n.left,g),h=d(n.top,h),i=e(n.right,i),j=e(n.bottom,j),k.push({dom:m,left:n.left,top:n.top})}}),g*=l,h*=l,i*=l,j*=l;var m=i-g,n=j-h,o=ax.createCanvas(),p=fg(o,{renderer:b?"svg":"canvas"});if(p.resize({width:m,height:n}),!b)return a.connectedBackgroundColor&&p.add(new hM({shape:{x:0,y:0,width:m,height:n},style:{fill:a.connectedBackgroundColor}})),aX(k,function(a){var b=new hE({style:{x:a.left*l-g,y:a.top*l-h,image:a.dom}});p.add(b)}),p.refreshImmediately(),o.toDataURL("image/"+(a&&a.type||"png"));var q="";return aX(k,function(a){var b=a.left-g,c=a.top-h;q+='<g transform="translate('+b+","+c+')">'+a.dom+"</g>"}),p.painter.getSvgRoot().innerHTML=q,a.connectedBackgroundColor&&p.painter.setBackgroundColor(a.connectedBackgroundColor),p.refreshImmediately(),p.painter.toDataURL()},b.prototype.convertToPixel=function(a,b,c){return H(this,"convertToPixel",a,b,c)},b.prototype.convertToLayout=function(a,b,c){return H(this,"convertToLayout",a,b,c)},b.prototype.convertFromPixel=function(a,b,c){return H(this,"convertFromPixel",a,b,c)},b.prototype.containPixel=function(a,b){var c;return this._disposed?void this.id:(aX(f2(this._model,a),function(a,d){d.indexOf("Models")>=0&&aX(a,function(a){var e=a.coordinateSystem;if(e&&e.containPoint)c=c||!!e.containPoint(b);else if("seriesModels"===d){var f=this._chartsMap[a.__viewId];f&&f.containPoint&&(c=c||f.containPoint(b,a))}},this)},this),!!c)},b.prototype.getVisual=function(a,b){var c=f2(this._model,a,{defaultMainType:"series"}),d=c.seriesModel.getData(),e=c.hasOwnProperty("dataIndexInside")?c.dataIndexInside:c.hasOwnProperty("dataIndex")?d.indexOfRawIndex(c.dataIndex):null;return null!=e?o9(d,e,b):pa(d,b)},b.prototype.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},b.prototype.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]},b.prototype._initEvents=function(){var a,b,c=this;aX(qa,function(a){var b=function(b){var d,e=c.getModel(),f=b.target;if("globalout"===a?d={}:f&&pe(f,function(a){var b=h2(a);if(b&&null!=b.dataIndex){var c=b.dataModel||e.getSeriesByIndex(b.seriesIndex);return d=c&&c.getDataParams(b.dataIndex,b.dataType,f)||{},!0}if(b.eventData)return d=aQ({},b.eventData),!0},!0),d){var g=d.componentType,h=d.componentIndex;("markLine"===g||"markPoint"===g||"markArea"===g)&&(g="series",h=d.seriesIndex);var i=g&&null!=h&&e.getComponent(g,h),j=i&&c["series"===i.mainType?"_chartsMap":"_componentsMap"][i.__viewId];d.event=b,d.type=a,c._$eventProcessor.eventInfo={targetEl:f,packedEvent:d,model:i,view:j},c.trigger(a,d)}};b.zrEventfulCallAtLast=!0,c._zr.on(a,b,c)});var d=this._messageCenter;aX(qd,function(a,b){d.on(b,function(a){c.trigger(b,a)})}),a=this,b=this._api,d.on("selectchanged",function(c){var d=b.getModel();c.isFromClick?(pd("map","selectchanged",a,d,c),pd("pie","selectchanged",a,d,c)):"select"===c.fromAction?(pd("map","selected",a,d,c),pd("pie","selected",a,d,c)):"unselect"===c.fromAction&&(pd("map","unselected",a,d,c),pd("pie","unselected",a,d,c))})},b.prototype.isDisposed=function(){return this._disposed},b.prototype.clear=function(){this._disposed?this.id:this.setOption({series:[]},!0)},b.prototype.dispose=function(){if(this._disposed)return void this.id;this._disposed=!0,this.getDom()&&f7(this.getDom(),qn,"");var a=this._api,b=this._model;aX(this._componentsViews,function(c){c.dispose(b,a)}),aX(this._chartsViews,function(c){c.dispose(b,a)}),this._zr.dispose(),this._dom=this._model=this._chartsMap=this._componentsMap=this._chartsViews=this._componentsViews=this._scheduler=this._api=this._zr=this._throttledZrFlush=this._theme=this._coordSysMgr=this._messageCenter=null,delete qj[this.id]},b.prototype.resize=function(a){if(!this[pZ]){if(this._disposed)return void this.id;this._zr.resize(a);var b=this._model;if(this._loadingFX&&this._loadingFX.resize(),b){var c=b.resetOption("media"),d=a&&a.silent;this[p_]&&(null==d&&(d=this[p_].silent),c=!0,this[p_]=null),this[pZ]=!0,V(this);try{c&&D(this),G.update.call(this,{type:"resize",animation:aQ({duration:0},a&&a.animation)})}catch(a){throw this[pZ]=!1,a}this[pZ]=!1,K.call(this,d),L.call(this,d)}}},b.prototype.showLoading=function(a,b){if(this._disposed)return void this.id;if(a8(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),qi[a]){var c=qi[a](this._api,b),d=this._zr;this._loadingFX=c,d.add(c)}},b.prototype.hideLoading=function(){this._disposed?this.id:(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},b.prototype.makeActionFromEvent=function(a){var b=aQ({},a);return b.type=qc[a.type],b},b.prototype.dispatchAction=function(a,b){if(this._disposed)return void this.id;if((a8(b)||(b={silent:!!b}),qb[a.type])&&this._model){if(this[pZ])return void this._pendingActions.push(a);var c=b.silent;J.call(this,a,c);var d=b.flush;d?this._zr.flush():!1!==d&&at.browser.weChat&&this._throttledZrFlush(),K.call(this,c),L.call(this,c)}},b.prototype.updateLabelLayout=function(){pT.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},b.prototype.appendData=function(a){if(this._disposed)return void this.id;var b=a.seriesIndex;this.getModel().getSeriesByIndex(b).appendData(a),this._scheduler.unfinished=!0,this.getZr().wakeUp()},b.internalField=function(){function a(a){a.clearColorPalette(),a.eachSeries(function(a){a.clearColorPalette()})}function b(a){for(var b=[],c=a.currentStates,d=0;d<c.length;d++){var e=c[d];"emphasis"!==e&&"blur"!==e&&"select"!==e&&b.push(e)}a.selected&&a.states.select&&b.push("select"),2===a.hoverState&&a.states.emphasis?b.push("emphasis"):1===a.hoverState&&a.states.blur&&b.push("blur"),a.useStates(b)}function c(a,b){if(!a.preventAutoZ){var c=or(a);b.eachRendered(function(a){return ot(a,c.z,c.zlevel),!0})}}function d(a,b){b.eachRendered(function(a){if(!iT(a)){var b=a.getTextContent(),c=a.getTextGuideLine();a.stateTransition&&(a.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),c&&c.stateTransition&&(c.stateTransition=null),a.hasState()?(a.prevStates=a.currentStates,a.clearStates()):a.prevStates&&(a.prevStates=null)}})}function e(a,c){var d=a.getModel("stateAnimation"),e=a.isAnimationEnabled(),f=d.get("duration"),g=f>0?{duration:f,delay:d.get("delay"),easing:d.get("easing")}:null;c.eachRendered(function(a){if(a.states&&a.states.emphasis&&!iT(a)){if(a instanceof hy&&((c=h6(a)).normalFill=a.style.fill,c.normalStroke=a.style.stroke,c.selectFill=(d=a.states.select||{}).style&&d.style.fill||null,c.selectStroke=d.style&&d.style.stroke||null),a.__dirty){var c,d,f=a.prevStates;f&&a.useStates(f)}if(e){a.stateTransition=g;var h=a.getTextContent(),i=a.getTextGuideLine();h&&(h.stateTransition=g),i&&(i.stateTransition=g)}a.__dirty&&b(a)}})}D=function(a){var b=a._scheduler;b.restorePipelines(a._model),b.prepareStageTasks(),E(a,!0),E(a,!1),b.plan()},E=function(a,b){for(var c=a._model,d=a._scheduler,e=b?a._componentsViews:a._chartsViews,f=b?a._componentsMap:a._chartsMap,g=a._zr,h=a._api,i=0;i<e.length;i++)e[i].__alive=!1;function j(a){var i=a.__requireNewView;a.__requireNewView=!1;var j="_ec_"+a.id+"_"+a.type,k=!i&&f[j];if(!k){var l=ge(a.type);(k=new(b?mG.getClass(l.main,l.sub):oC.getClass(l.sub))).init(c,h),f[j]=k,e.push(k),g.add(k.group)}a.__viewId=k.__id=j,k.__alive=!0,k.__model=a,k.group.__ecComponentInfo={mainType:a.mainType,index:a.componentIndex},b||d.prepareView(k,a,c,h)}b?c.eachComponent(function(a,b){"series"!==a&&j(b)}):c.eachSeries(j);for(var i=0;i<e.length;){var k=e[i];k.__alive?i++:(b||k.renderTask.dispose(),g.remove(k.group),k.dispose(c,h),e.splice(i,1),f[k.__id]===k&&delete f[k.__id],k.__id=k.group.__ecComponentInfo=null)}},F=function(a,b,c,d,e){var f,g=a._model;if(g.setUpdatePayload(c),!d)return void aX([].concat(a._componentsViews).concat(a._chartsViews),k);var h={};h[d+"Id"]=c[d+"Id"],h[d+"Index"]=c[d+"Index"],h[d+"Name"]=c[d+"Name"];var i={mainType:d,query:h};e&&(i.subType=e);var j=c.excludeSeriesId;function k(d){d&&d.__alive&&d[b]&&d[b](d.__model,g,a._api,c)}null!=j&&(f=bt(),aX(fR(j),function(a){var b=fY(a,null);null!=b&&f.set(b,!0)})),g&&g.eachComponent(i,function(b){if(!(f&&null!=f.get(b.id))){if(iN(c))if(b instanceof mE)c.type!==ia||c.notBlur||b.get(["emphasis","disabled"])||function(a,b,c){var d=a.seriesIndex,e=a.getData(b.dataType);if(e){var f=f_(e,b);f=(a3(f)?f[0]:f)||0;var g=e.getItemGraphicEl(f);if(!g)for(var h=e.count(),i=0;!g&&i<h;)g=e.getItemGraphicEl(i++);if(g){var j=h2(g);iA(d,j.focus,j.blurScope,c)}else{var k=a.get(["emphasis","focus"]),l=a.get(["emphasis","blurScope"]);null!=k&&iA(d,k,l,c)}}}(b,c,a._api);else{var d=iC(b.mainType,b.componentIndex,c.name,a._api),e=d.focusSelf,g=d.dispatchers;c.type===ia&&e&&!c.notBlur&&iB(b.mainType,b.componentIndex,a._api),g&&aX(g,function(a){c.type===ia?iw(a):ix(a)})}else if(iM(c)&&b instanceof mE){if(a._api,iM(c)){var h=c.dataType,i=f_(b.getData(h),c);a3(i)||(i=[i]),b[c.type===ie?"toggleSelect":c.type===ic?"select":"unselect"](i,h)}iD(b),T(a)}}},a),g&&g.eachComponent(i,function(b){f&&null!=f.get(b.id)||k(a["series"===d?"_chartsMap":"_componentsMap"][b.__viewId])},a)},G={prepareAndUpdate:function(a){D(this),G.update.call(this,a,a&&{optionChanged:null!=a.newOption})},update:function(b,c){var d=this._model,e=this._api,f=this._zr,g=this._coordSysMgr,h=this._scheduler;if(d){d.setUpdatePayload(b),h.restoreData(d,b),h.performSeriesTasks(d),g.create(d,e),h.performDataProcessorTasks(d,b),I(this,d),g.update(d,e),a(d),h.performVisualTasks(d,b);var i=d.get("backgroundColor")||"transparent";f.setBackgroundColor(i);var j=d.get("darkMode");null!=j&&"auto"!==j&&f.setDarkMode(j),O(this,d,e,b,c),pT.trigger("afterupdate",d,e)}},updateTransform:function(b){var c=this,d=this._model,e=this._api;if(d){d.setUpdatePayload(b);var f=[];d.eachComponent(function(a,g){if("series"!==a){var h=c.getViewOfComponentModel(g);if(h&&h.__alive)if(h.updateTransform){var i=h.updateTransform(g,d,e,b);i&&i.update&&f.push(h)}else f.push(h)}});var g=bt();d.eachSeries(function(a){var f=c._chartsMap[a.__viewId];if(f.updateTransform){var h=f.updateTransform(a,d,e,b);h&&h.update&&g.set(a.uid,1)}else g.set(a.uid,1)}),a(d),this._scheduler.performVisualTasks(d,b,{setDirty:!0,dirtyMap:g}),Q(this,d,e,b,{},g),pT.trigger("afterupdate",d,e)}},updateView:function(b){var c=this._model;c&&(c.setUpdatePayload(b),oC.markUpdateMethod(b,"updateView"),a(c),this._scheduler.performVisualTasks(c,b,{setDirty:!0}),O(this,c,this._api,b,{}),pT.trigger("afterupdate",c,this._api))},updateVisual:function(b){var c=this,d=this._model;d&&(d.setUpdatePayload(b),d.eachSeries(function(a){a.getData().clearAllVisual()}),oC.markUpdateMethod(b,"updateVisual"),a(d),this._scheduler.performVisualTasks(d,b,{visualType:"visual",setDirty:!0}),d.eachComponent(function(a,e){if("series"!==a){var f=c.getViewOfComponentModel(e);f&&f.__alive&&f.updateVisual(e,d,c._api,b)}}),d.eachSeries(function(a){c._chartsMap[a.__viewId].updateVisual(a,d,c._api,b)}),pT.trigger("afterupdate",d,this._api))},updateLayout:function(a){G.update.call(this,a)}},H=function(a,b,c,d,e){if(a._disposed)return void a.id;for(var f,g=a._model,h=a._coordSysMgr.getCoordinateSystems(),i=f2(g,c),j=0;j<h.length;j++){var k=h[j];if(k[b]&&null!=(f=k[b](g,i,d,e)))return f}},I=function(a,b){var c=a._chartsMap,d=a._scheduler;b.eachSeries(function(a){d.updateStreamModes(a,c[a.__viewId])})},J=function(a,b){var c,d=this,e=this.getModel(),f=a.type,g=a.escapeConnect,h=qb[f],i=(h.update||"update").split(":"),j=i.pop(),k=null!=i[0]&&ge(i[0]);this[pZ]=!0,V(this);var l=[a],m=!1;a.batch&&(m=!0,l=aY(a.batch,function(b){return(b=aR(aQ({},b),a)).batch=null,b}));var n=[],o=[],p=h.nonRefinedEventType,q=iM(a),r=iN(a);if(r&&iz(this._api),aX(l,function(b){var f=h.action(b,e,d._api);if(h.refineEvent?o.push(f):c=f,(c=c||aQ({},b)).type=p,n.push(c),r){var g=f3(a),i=g.queryOptionMap;F(d,j,b,g.mainTypeSpecified?i.keys()[0]:"series"),T(d)}else q?(F(d,j,b,"series"),T(d)):k&&F(d,j,b,k.main,k.sub)}),"none"!==j&&!r&&!q&&!k)try{this[p_]?(D(this),G.update.call(this,a),this[p_]=null):G[j].call(this,a)}catch(a){throw this[pZ]=!1,a}if(c=m?{type:p,escapeConnect:g,batch:n}:n[0],this[pZ]=!1,!b){var s=void 0;if(h.refineEvent){var t=h.refineEvent(o,a,e,this._api).eventContent;bl(a8(t)),(s=aR({type:h.refinedEventType},t)).fromAction=a.type,s.fromActionPayload=a,s.escapeConnect=!0}var u=this._messageCenter;u.trigger(c.type,c),s&&u.trigger(s.type,s)}},K=function(a){for(var b=this._pendingActions;b.length;){var c=b.shift();J.call(this,c,a)}},L=function(a){a||this.trigger("updated")},M=function(a,b){a.on("rendered",function(c){b.trigger("rendered",c),!a.animation.isFinished()||b[p_]||b._scheduler.unfinished||b._pendingActions.length||b.trigger("finished")})},N=function(a,b){a.on("mouseover",function(a){var c,d,e,f,g,h=pe(a.target,iL);h&&(c=b._api,f=(e=iC((d=h2(h)).componentMainType,d.componentIndex,d.componentHighDownName,c)).dispatchers,g=e.focusSelf,f?(g&&iB(d.componentMainType,d.componentIndex,c),aX(f,function(b){return iu(b,a)})):(iA(d.seriesIndex,d.focus,d.blurScope,c),"self"===d.focus&&iB(d.componentMainType,d.componentIndex,c),iu(h,a)),T(b))}).on("mouseout",function(a){var c,d,e,f=pe(a.target,iL);f&&(iz(c=b._api),(e=iC((d=h2(f)).componentMainType,d.componentIndex,d.componentHighDownName,c).dispatchers)?aX(e,function(b){return iv(b,a)}):iv(f,a),T(b))}).on("click",function(a){var c=pe(a.target,function(a){return null!=h2(a).dataIndex},!0);if(c){var d=c.selected?"unselect":"select",e=h2(c);b._api.dispatchAction({type:d,dataType:e.dataType,dataIndexInside:e.dataIndex,seriesIndex:e.seriesIndex,isFromClick:!0})}})},O=function(a,b,c,d,e){!function(a){var b=[],c=[],d=!1;if(a.eachComponent(function(a,e){var f=e.get("zlevel")||0,g=e.get("z")||0,h=e.getZLevelKey();d=d||!!h,("series"===a?c:b).push({zlevel:f,z:g,idx:e.componentIndex,type:a,key:h})}),d){var e,f,g=b.concat(c);c4(g,function(a,b){return a.zlevel===b.zlevel?a.z-b.z:a.zlevel-b.zlevel}),aX(g,function(b){var c=a.getComponent(b.type,b.idx),d=b.zlevel,g=b.key;null!=e&&(d=Math.max(e,d)),g?(d===e&&g!==f&&d++,f=g):f&&(d===e&&d++,f=""),e=d,c.setZLevel(d)})}}(b),P(a,b,c,d,e),aX(a._chartsViews,function(a){a.__alive=!1}),Q(a,b,c,d,e),aX(a._chartsViews,function(a){a.__alive||a.remove(b,c)})},P=function(a,b,f,g,h,i){aX(i||a._componentsViews,function(a){var h=a.__model;d(h,a),a.render(h,b,f,g),c(h,a),e(h,a)})},Q=function(a,b,f,g,h,i){var j,k,l,m,n=a._scheduler;h=aQ(h||{},{updatedSeries:b.getSeries()}),pT.trigger("series:beforeupdate",b,f,h);var o=!1;b.eachSeries(function(b){var c,e,f,h=a._chartsMap[b.__viewId];h.__alive=!0;var j=h.renderTask;n.updatePayload(j,g),d(b,h),i&&i.get(b.uid)&&j.dirty(),j.perform(n.getPerformArgs(j))&&(o=!0),h.group.silent=!!b.get("silent"),c=b,e=h,f=c.get("blendMode")||null,e.eachRendered(function(a){a.isGroup||(a.style.blend=f)}),iD(b)}),n.unfinished=o||n.unfinished,pT.trigger("series:layoutlabels",b,f,h),pT.trigger("series:transition",b,f,h),b.eachSeries(function(b){var d=a._chartsMap[b.__viewId];c(b,d),e(b,d)}),j=a,k=b,l=j._zr.storage,m=0,l.traverse(function(a){!a.isGroup&&m++}),!(m>k.get("hoverLayerThreshold"))||at.node||at.worker||k.eachSeries(function(a){if(!a.preventUsingHoverLayer){var b=j._chartsMap[a.__viewId];b.__alive&&b.eachRendered(function(a){a.states.emphasis&&(a.states.emphasis.hoverLayer=!0)})}}),pT.trigger("series:afterupdate",b,f,h)},T=function(a){a[p0]=!0,a.getZr().wakeUp()},V=function(a){a[p$]=(a[p$]+1)%1e3},U=function(a){a[p0]&&(a.getZr().storage.traverse(function(a){iT(a)||b(a)}),a[p0]=!1)},R=function(a){return new(function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return aq(c,b),c.prototype.getCoordinateSystems=function(){return a._coordSysMgr.getCoordinateSystems()},c.prototype.getComponentByElement=function(b){for(;b;){var c=b.__ecComponentInfo;if(null!=c)return a._model.getComponent(c.mainType,c.index);b=b.parent}},c.prototype.enterEmphasis=function(b,c){iw(b,c),T(a)},c.prototype.leaveEmphasis=function(b,c){ix(b,c),T(a)},c.prototype.enterBlur=function(b){iq(b,il),T(a)},c.prototype.leaveBlur=function(b){iq(b,im),T(a)},c.prototype.enterSelect=function(b){iq(b,io),T(a)},c.prototype.leaveSelect=function(b){iq(b,ip),T(a)},c.prototype.getModel=function(){return a.getModel()},c.prototype.getViewOfComponentModel=function(b){return a.getViewOfComponentModel(b)},c.prototype.getViewOfSeriesModel=function(b){return a.getViewOfSeriesModel(b)},c.prototype.getMainProcessVersion=function(){return a[p$]},c}(k2))(a)},S=function(a){function b(a,b){for(var c=0;c<a.length;c++)a[c][p2]=b}aX(qc,function(c,d){a._messageCenter.on(d,function(c){if(qk[a.group]&&0!==a[p2]&&(!c||!c.escapeConnect)){var d=a.makeActionFromEvent(c),e=[];aX(qj,function(b){b!==a&&b.group===a.group&&e.push(b)}),b(e,0),aX(e,function(a){1!==a[p2]&&a.dispatchAction(d)}),b(e,2)}})})}}(),b}(b2),p9=p8.prototype;p9.on=p3("on"),p9.off=p3("off"),p9.one=function(a,b,c){var d=this;this.on.call(this,a,function c(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];b&&b.apply&&b.apply(this,e),d.off(a,c)},c)};var qa=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],qb={},qc={},qd={},qe=[],qf=[],qg=[],qh={},qi={},qj={},qk={},ql=new Date-0,qm=new Date-0,qn="_echarts_instance_";function qo(a,b,c){var d=!(c&&c.ssr);if(d){var e=qt(a);if(e)return e}var f=new p8(a,b,c);return f.id="ec_"+ql++,qj[f.id]=f,d&&f7(a,qn,f.id),S(f),pT.trigger("afterinit",f),f}function qp(a){if(a3(a)){var b=a;a=null,aX(b,function(b){null!=b.group&&(a=b.group)}),a=a||"g_"+qm++,aX(b,function(b){b.group=a})}return qk[a]=!0,a}function qq(a){qk[a]=!1}var qr=qq;function qs(a){a5(a)?a=qj[a]:a instanceof p8||(a=qt(a)),a instanceof p8&&!a.isDisposed()&&a.dispose()}function qt(a){return qj[a.getAttribute?a.getAttribute(qn):a[qn]]}function qu(a){return qj[a]}function qv(a,b){qh[a]=b}function qw(a){0>aT(qf,a)&&qf.push(a)}function qx(a,b){qI(qe,a,b,2e3)}function qy(a){qA("afterinit",a)}function qz(a){qA("afterupdate",a)}function qA(a,b){pT.on(a,b)}function qB(a,b,c){function d(a){return a.toLowerCase()}a4(b)&&(c=b,b=""),a8(a)?(e=a.type,i=a.event,g=a.update,h=a.publishNonRefinedEvent,c||(c=a.action),f=a.refineEvent):(e=a,i=b);var e,f,g,h,i=d(i||e),j=f?d(e):i;qb[e]||(bl(p1.test(e)&&p1.test(i)),f&&bl(i!==e),qb[e]={actionType:e,refinedEventType:i,nonRefinedEventType:j,update:g,action:c,refineEvent:f},qd[i]=1,f&&h&&(qd[j]=1),qc[j]=e)}function qC(a,b){j6.register(a,b)}function qD(a){var b=j6.get(a);if(b)return b.getDimensionsInfo?b.getDimensionsInfo():b.dimensions.slice()}function qE(a,b){pV[a]=b}function qF(a,b){qI(qg,a,b,1e3,"layout")}function qG(a,b){qI(qg,a,b,3e3,"visual")}var qH=[];function qI(a,b,c,d,e){if((a4(b)||a8(b))&&(c=b,b=d),!(aT(qH,c)>=0)){qH.push(c);var f=oQ.wrapStageHandler(c,e);f.__prio=b,f.__raw=c,a.push(f)}}function qJ(a,b){qi[a]=b}function qK(a){ay({createCanvas:a})}function qL(a,b,c){var d=pU.registerMap;d&&d(a,b,c)}function qM(a){var b=pU.getMap;return b&&b(a)}var qN=function(a){var b=(a=aN(a)).type;b||ly("");var c=b.split(":");2!==c.length&&ly("");var d=!1;"echarts"===c[0]&&(b=c[1],d=!0),a.__isBuiltIn=d,l$.set(b,a)};function qO(a,b,c,d){var e;return{eventContent:{selected:(e=[],c.eachSeries(function(a){aX(a.getAllData(),function(b){b.data;var c=b.type,d=a.getSelectedDataIndices();if(d.length>0){var f={dataIndex:d,seriesIndex:a.seriesIndex};null!=c&&(f.dataType=c),e.push(f)}})}),e),isFromClick:b.isFromClick||!1}}}qG(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){var c=a.getData(),d=a.visualStyleAccessPath||"itemStyle",e=a.getModel(d),f=oM(a,d)(e),g=e.getShallow("decal");g&&(c.setVisual("decal",g),g.dirty=!0);var h=oN(a,d),i=f[h],j=a4(i)?i:null,k="auto"===f.fill||"auto"===f.stroke;if(!f[h]||j||k){var l=a.getColorFromPalette(a.name,null,b.getSeriesCount());f[h]||(f[h]=l,c.setVisual("colorFromPalette",!0)),f.fill="auto"===f.fill||a4(f.fill)?l:f.fill,f.stroke="auto"===f.stroke||a4(f.stroke)?l:f.stroke}if(c.setVisual("style",f),c.setVisual("drawType",h),!b.isSeriesFiltered(a)&&j)return c.setVisual("colorFromPalette",!1),{dataEach:function(b,c){var d=a.getDataParams(c),e=aQ({},f);e[h]=j(d),b.setItemVisual(c,"style",e)}}}}),qG(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){if(!(a.ignoreStyleOnData||b.isSeriesFiltered(a))){var c=a.getData(),d=a.visualStyleAccessPath||"itemStyle",e=oM(a,d),f=c.getVisual("drawType");return{dataEach:c.hasItemOption?function(a,b){var c=a.getRawDataItem(b);if(c&&c[d]){oO.option=c[d];var g=e(oO);aQ(a.ensureUniqueItemVisual(b,"style"),g),oO.option.decal&&(a.setItemVisual(b,"decal",oO.option.decal),oO.option.decal.dirty=!0),f in g&&a.setItemVisual(b,"colorFromPalette",!1)}}:null}}}}),qG(4500,{performRawSeries:!0,overallReset:function(a){var b=bt();a.eachSeries(function(a){var c=a.getColorBy();if(!a.isColorBySeries()){var d=a.type+"-"+c,e=b.get(d);e||(e={},b.set(d,e)),oJ(a).scope=e}}),a.eachSeries(function(b){if(!(b.isColorBySeries()||a.isSeriesFiltered(b))){var c=b.getRawData(),d={},e=b.getData(),f=oJ(b).scope,g=b.visualStyleAccessPath||"itemStyle",h=oN(b,g);e.each(function(a){d[e.getRawIndex(a)]=a}),c.each(function(a){var g=d[a];if(e.getItemVisual(g,"colorFromPalette")){var i=e.ensureUniqueItemVisual(g,"style"),j=c.getName(a)||a+"",k=c.count();i[h]=b.getColorFromPalette(j,f,k)}})}})}}),qG(2e3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){var c=a.getData();if(a.legendIcon&&c.setVisual("legendIcon",a.legendIcon),a.hasSymbolVisual){for(var d={},e={},f=!1,g=0;g<o7.length;g++){var h=o7[g],i=a.get(h);a4(i)?(f=!0,e[h]=i):d[h]=i}if(d.symbol=d.symbol||a.defaultSymbol,c.setVisual(aQ({legendIcon:a.legendIcon||d.symbol,symbolKeepAspect:a.get("symbolKeepAspect")},d)),!b.isSeriesFiltered(a)){var j=a0(e);return{dataEach:f?function(b,c){for(var d=a.getRawValue(c),f=a.getDataParams(c),g=0;g<j.length;g++){var h=j[g];b.setItemVisual(c,h,e[h](d,f))}}:null}}}}}),qG(4500,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){if(a.hasSymbolVisual&&!b.isSeriesFiltered(a))return{dataEach:a.getData().hasItemOption?function(a,b){for(var c=a.getItemModel(b),d=0;d<o8.length;d++){var e=o8[d],f=c.getShallow(e,!0);null!=f&&a.setItemVisual(b,e,f)}}:null}}}),qG(7e3,function(a,b){a.eachRawSeries(function(c){if(!a.isSeriesFiltered(c)){var d=c.getData();d.hasItemVisual()&&d.each(function(a){var c=d.getItemVisual(a,"decal");c&&(d.ensureUniqueItemVisual(a,"style").decal=pR(c,b))});var e=d.getVisual("decal");e&&(d.getVisual("style").decal=pR(e,b))}})}),qw(lm),qx(900,function(a){var b=bt();a.eachSeries(function(a){var c=a.get("stack");if(c){var d=b.get(c)||b.set(c,[]),e=a.getData(),f={stackResultDimension:e.getCalculationInfo("stackResultDimension"),stackedOverDimension:e.getCalculationInfo("stackedOverDimension"),stackedDimension:e.getCalculationInfo("stackedDimension"),stackedByDimension:e.getCalculationInfo("stackedByDimension"),isStackedByIndex:e.getCalculationInfo("isStackedByIndex"),data:e,seriesModel:a};if(!f.stackedDimension||!(f.isStackedByIndex||f.stackedByDimension))return;d.push(f)}}),b.each(function(a){var b;0!==a.length&&("seriesDesc"===(a[0].seriesModel.get("stackOrder")||"seriesAsc")&&a.reverse(),aX(a,function(b,c){b.data.setCalculationInfo("stackedOnSeries",c>0?a[c-1].seriesModel:null)}),aX(b=a,function(a,c){var d=[],e=[NaN,NaN],f=[a.stackResultDimension,a.stackedOverDimension],g=a.data,h=a.isStackedByIndex,i=a.seriesModel.get("stackStrategy")||"samesign";g.modify(f,function(f,j,k){var l,m,n=g.get(a.stackedDimension,k);if(isNaN(n))return e;h?m=g.getRawIndex(k):l=g.get(a.stackedByDimension,k);for(var o=NaN,p=c-1;p>=0;p--){var q=b[p];if(h||(m=q.data.rawIndexOf(q.stackedByDimension,l)),m>=0){var r=q.data.getByRawIndex(q.stackResultDimension,m);if("all"===i||"positive"===i&&r>0||"negative"===i&&r<0||"samesign"===i&&n>=0&&r>0||"samesign"===i&&n<=0&&r<0){n=function(a,b){var c=Math.max(fw(a),fw(b)),d=a+b;return c>20?d:fu(d,c)}(n,r),o=r;break}}}return d[0]=n,d[1]=o,d})}))})}),qi.default=function(a,b){aR(b=b||{},{text:"loading",textColor:kv.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:kv.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var c,d=new fc,e=new hM({style:{fill:b.maskColor},zlevel:b.zlevel,z:1e4});d.add(e);var f=new h1({style:{text:b.text,fill:b.textColor,fontSize:b.fontSize,fontWeight:b.fontWeight,fontStyle:b.fontStyle,fontFamily:b.fontFamily},zlevel:b.zlevel,z:10001}),g=new hM({style:{fill:"none"},textContent:f,textConfig:{position:"right",distance:10},zlevel:b.zlevel,z:10001});return d.add(g),b.showSpinner&&((c=new nE({shape:{startAngle:-oP/2,endAngle:-oP/2+.1,r:b.spinnerRadius},style:{stroke:b.color,lineCap:"round",lineWidth:b.lineWidth},zlevel:b.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*oP/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:3*oP/2}).delay(300).start("circularInOut"),d.add(c)),d.resize=function(){var d=f.getBoundingRect().width,h=b.showSpinner?b.spinnerRadius:0,i=(a.getWidth()-2*h-(b.showSpinner&&d?10:0)-d)/2-(b.showSpinner&&d?0:5+d/2)+(b.showSpinner?0:d/2)+(d?0:h),j=a.getHeight()/2;b.showSpinner&&c.setShape({cx:i,cy:j}),g.setShape({x:i-h,y:j-h,width:2*h,height:2*h}),e.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},d.resize(),d},qB({type:ia,event:ia,update:ia},by),qB({type:ib,event:ib,update:ib},by),qB({type:ic,event:ig,update:ic,action:by,refineEvent:qO,publishNonRefinedEvent:!0}),qB({type:id,event:ig,update:id,action:by,refineEvent:qO,publishNonRefinedEvent:!0}),qB({type:ie,event:ig,update:ie,action:by,refineEvent:qO,publishNonRefinedEvent:!0}),qh.default={},qh.dark=o5;var qP={},qQ=[],qR={registerPreprocessor:qw,registerProcessor:qx,registerPostInit:qy,registerPostUpdate:qz,registerUpdateLifecycle:qA,registerAction:qB,registerCoordinateSystem:qC,registerLayout:qF,registerVisual:qG,registerTransform:qN,registerLoading:qJ,registerMap:qL,registerImpl:function(a,b){pU[a]=b},PRIORITY:pY,ComponentModel:ku,ComponentView:mG,SeriesModel:mE,ChartView:oC,registerComponentModel:function(a){ku.registerClass(a)},registerComponentView:function(a){mG.registerClass(a)},registerSeriesModel:function(a){mE.registerClass(a)},registerChartView:function(a){oC.registerClass(a)},registerCustomSeries:function(a,b){pV[a]=b},registerSubTypeDefaulter:function(a,b){ku.registerSubTypeDefaulter(a,b)},registerPainter:function(a,b){fd[a]=b}};function qS(a){a3(a)?aX(a,function(a){qS(a)}):aT(qQ,a)>=0||(qQ.push(a),a4(a)&&(a={install:a}),a.install(qR))}function qT(a){return null==a?0:a.length||1}function qU(a){return a}var qV=function(){function a(a,b,c,d,e,f){this._old=a,this._new=b,this._oldKeyGetter=c||qU,this._newKeyGetter=d||qU,this.context=e,this._diffModeMultiple="multiple"===f}return a.prototype.add=function(a){return this._add=a,this},a.prototype.update=function(a){return this._update=a,this},a.prototype.updateManyToOne=function(a){return this._updateManyToOne=a,this},a.prototype.updateOneToMany=function(a){return this._updateOneToMany=a,this},a.prototype.updateManyToMany=function(a){return this._updateManyToMany=a,this},a.prototype.remove=function(a){return this._remove=a,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var a=this._old,b=this._new,c={},d=Array(a.length),e=Array(b.length);this._initIndexMap(a,null,d,"_oldKeyGetter"),this._initIndexMap(b,c,e,"_newKeyGetter");for(var f=0;f<a.length;f++){var g=d[f],h=c[g],i=qT(h);if(i>1){var j=h.shift();1===h.length&&(c[g]=h[0]),this._update&&this._update(j,f)}else 1===i?(c[g]=null,this._update&&this._update(h,f)):this._remove&&this._remove(f)}this._performRestAdd(e,c)},a.prototype._executeMultiple=function(){var a=this._old,b=this._new,c={},d={},e=[],f=[];this._initIndexMap(a,c,e,"_oldKeyGetter"),this._initIndexMap(b,d,f,"_newKeyGetter");for(var g=0;g<e.length;g++){var h=e[g],i=c[h],j=d[h],k=qT(i),l=qT(j);if(k>1&&1===l)this._updateManyToOne&&this._updateManyToOne(j,i),d[h]=null;else if(1===k&&l>1)this._updateOneToMany&&this._updateOneToMany(j,i),d[h]=null;else if(1===k&&1===l)this._update&&this._update(j,i),d[h]=null;else if(k>1&&l>1)this._updateManyToMany&&this._updateManyToMany(j,i),d[h]=null;else if(k>1)for(var m=0;m<k;m++)this._remove&&this._remove(i[m]);else this._remove&&this._remove(i)}this._performRestAdd(f,d)},a.prototype._performRestAdd=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b[d],f=qT(e);if(f>1)for(var g=0;g<f;g++)this._add&&this._add(e[g]);else 1===f&&this._add&&this._add(e);b[d]=null}},a.prototype._initIndexMap=function(a,b,c,d){for(var e=this._diffModeMultiple,f=0;f<a.length;f++){var g="_ec_"+this[d](a[f],f);if(e||(c[f]=g),b){var h=b[g],i=qT(h);0===i?(b[g]=f,e&&c.push(g)):1===i?b[g]=[h,f]:h.push(f)}}},a}(),qW=function(){function a(a,b){this._encode=a,this._schema=b}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a}();function qX(a,b){return a.hasOwnProperty(b)||(a[b]=[]),a[b]}function qY(a){return"category"===a?"ordinal":"time"===a?"time":"float"}let qZ=function(a){this.otherDims={},null!=a&&aQ(this,a)};var q$=f0(),q_={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},q0=function(){function a(a){this.dimensions=a.dimensions,this._dimOmitted=a.dimensionOmitted,this.source=a.source,this._fullDimCount=a.fullDimensionCount,this._updateDimOmitted(a.dimensionOmitted)}return a.prototype.isDimensionOmitted=function(){return this._dimOmitted},a.prototype._updateDimOmitted=function(a){this._dimOmitted=a,a&&(this._dimNameMap||(this._dimNameMap=q3(this.source)))},a.prototype.getSourceDimensionIndex=function(a){return bh(this._dimNameMap.get(a),-1)},a.prototype.getSourceDimension=function(a){var b=this.source.dimensionsDefine;if(b)return b[a]},a.prototype.makeStoreSchema=function(){for(var a=this._fullDimCount,b=lu(this.source),c=!(a>30),d="",e=[],f=0,g=0;f<a;f++){var h=void 0,i=void 0,j=void 0,k=this.dimensions[g];if(k&&k.storeDimIndex===f)h=b?k.name:null,i=k.type,j=k.ordinalMeta,g++;else{var l=this.getSourceDimension(f);l&&(h=b?l.name:null,i=l.type)}e.push({property:h,type:i,ordinalMeta:j}),!b||null==h||k&&k.isCalculationCoord||(d+=c?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),d+="$",d+=q_[i]||"f",j&&(d+=j.uid),d+="$"}var m=this.source;return{dimensions:e,hash:[m.seriesLayoutBy,m.startIndex,d].join("$$")}},a.prototype.makeOutputDimensionNames=function(){for(var a=[],b=0,c=0;b<this._fullDimCount;b++){var d=void 0,e=this.dimensions[c];if(e&&e.storeDimIndex===b)e.isCalculationCoord||(d=e.name),c++;else{var f=this.getSourceDimension(b);f&&(d=f.name)}a.push(d)}return a},a.prototype.appendCalculationDimension=function(a){this.dimensions.push(a),a.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},a}();function q1(a){return a instanceof q0}function q2(a){for(var b=bt(),c=0;c<(a||[]).length;c++){var d=a[c],e=a8(d)?d.name:d;null!=e&&null==b.get(e)&&b.set(e,c)}return b}function q3(a){var b=q$(a);return b.dimNameMap||(b.dimNameMap=q2(a.dimensionsDefine))}var q4=a8,q5=aY,q6="undefined"==typeof Int32Array?Array:Int32Array,q7=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],q8=["_approximateExtent"];let q9=function(){function a(a,b){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var c,d=!1;q1(a)?(c=a.dimensions,this._dimOmitted=a.isDimensionOmitted(),this._schema=a):(d=!0,c=a),c=c||["x","y"];for(var e={},f=[],g={},h=!1,i={},j=0;j<c.length;j++){var k=c[j],l=a5(k)?new qZ({name:k}):k instanceof qZ?k:new qZ(k),m=l.name;l.type=l.type||"float",l.coordDim||(l.coordDim=m,l.coordDimIndex=0);var n=l.otherDims=l.otherDims||{};f.push(m),e[m]=l,null!=i[m]&&(h=!0),l.createInvertedIndices&&(g[m]=[]);var o=j;a7(l.storeDimIndex)&&(o=l.storeDimIndex),0===n.itemName&&(this._nameDimIdx=o),0===n.itemId&&(this._idDimIdx=o),d&&(l.storeDimIndex=j)}if(this.dimensions=f,this._dimInfos=e,this._initGetDimensionInfo(h),this.hostModel=b,this._invertedIndicesMap=g,this._dimOmitted){var p=this._dimIdxToName=bt();aX(f,function(a){p.set(e[a].storeDimIndex,a)})}}return a.prototype.getDimension=function(a){var b=this._recognizeDimIndex(a);if(null==b)return a;if(b=a,!this._dimOmitted)return this.dimensions[b];var c=this._dimIdxToName.get(b);if(null!=c)return c;var d=this._schema.getSourceDimension(b);if(d)return d.name},a.prototype.getDimensionIndex=function(a){var b=this._recognizeDimIndex(a);if(null!=b)return b;if(null==a)return -1;var c=this._getDimInfo(a);return c?c.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(a):-1},a.prototype._recognizeDimIndex=function(a){if(a7(a)||null!=a&&!isNaN(a)&&!this._getDimInfo(a)&&(!this._dimOmitted||0>this._schema.getSourceDimensionIndex(a)))return+a},a.prototype._getStoreDimIndex=function(a){return this.getDimensionIndex(a)},a.prototype.getDimensionInfo=function(a){return this._getDimInfo(this.getDimension(a))},a.prototype._initGetDimensionInfo=function(a){var b=this._dimInfos;this._getDimInfo=a?function(a){return b.hasOwnProperty(a)?b[a]:void 0}:function(a){return b[a]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(a,b){var c=this._dimSummary;if(null==b)return c.encodeFirstDimNotExtra[a];var d=c.encode[a];return d?d[b]:null},a.prototype.mapDimensionsAll=function(a){return(this._dimSummary.encode[a]||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=this;if(a instanceof l9&&(p=a),!p){var r=this.dimensions,s=lo(a)||aW(a)?new lz(a,r.length):a;p=new l9;var t=q5(r,function(a){return{type:q._dimInfos[a].type,property:a}});p.initData(s,t,c)}this._store=p,this._nameList=(b||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,p.count()),this._dimSummary=(d=this,e=this._schema,g=(f={}).encode={},h=bt(),i=[],j=[],k={},aX(d.dimensions,function(a){var b=d.getDimensionInfo(a),c=b.coordDim;if(c){var e,f=b.coordDimIndex;qX(g,c)[f]=a,b.isExtraCoord||(h.set(c,1),"ordinal"!==(e=b.type)&&"time"!==e&&(i[0]=a),qX(k,c)[f]=d.getDimensionIndex(b.name)),b.defaultTooltip&&j.push(a)}kE.each(function(a,c){var d=qX(g,c),e=b.otherDims[c];null!=e&&!1!==e&&(d[e]=b.name)})}),l=[],m={},h.each(function(a,b){var c=g[b];m[b]=c[0],l=l.concat(c)}),f.dataDimsOnCoord=l,f.dataDimIndicesOnCoord=aY(l,function(a){return d.getDimensionInfo(a).storeDimIndex}),f.encodeFirstDimNotExtra=m,(n=g.label)&&n.length&&(i=n.slice()),(o=g.tooltip)&&o.length?j=o.slice():j.length||(j=i.slice()),g.defaultedLabel=i,g.defaultedTooltip=j,f.userOutput=new qW(k,e),f),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(a){var b=this._store.appendData(a);this._doInit(b[0],b[1])},a.prototype.appendValues=function(a,b){var c=this._store.appendValues(a,b&&b.length),d=c.start,e=c.end,f=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),b)for(var g=d;g<e;g++){var h=g-d;this._nameList[g]=b[h],f&&aa(this,g)}},a.prototype._updateOrdinalMeta=function(){for(var a=this._store,b=this.dimensions,c=0;c<b.length;c++){var d=this._dimInfos[b[c]];d.ordinalMeta&&a.collectOrdinalMeta(d.storeDimIndex,d.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var a=this._store.getProvider();return null==this._idDimIdx&&a.getSource().sourceFormat!==kJ&&!a.fillStorage},a.prototype._doInit=function(a,b){if(!(a>=b)){var c=this._store.getProvider();this._updateOrdinalMeta();var d=this._nameList,e=this._idList;if(c.getSource().sourceFormat===kF&&!c.pure)for(var f=[],g=a;g<b;g++){var h,i=c.getItem(g,f);if(!(!this.hasItemOption&&a8(h=i))||h instanceof Array||(this.hasItemOption=!0),i){var j=i.name;null==d[g]&&null!=j&&(d[g]=fY(j,null));var k=i.id;null==e[g]&&null!=k&&(e[g]=fY(k,null))}}if(this._shouldMakeIdFromName())for(var g=a;g<b;g++)aa(this,g);W(this)}},a.prototype.getApproximateExtent=function(a){return this._approximateExtent[a]||this._store.getDataExtent(this._getStoreDimIndex(a))},a.prototype.setApproximateExtent=function(a,b){b=this.getDimension(b),this._approximateExtent[b]=a.slice()},a.prototype.getCalculationInfo=function(a){return this._calculationInfo[a]},a.prototype.setCalculationInfo=function(a,b){q4(a)?aQ(this._calculationInfo,a):this._calculationInfo[a]=b},a.prototype.getName=function(a){var b=this.getRawIndex(a),c=this._nameList[b];return null==c&&null!=this._nameDimIdx&&(c=Y(this,this._nameDimIdx,b)),null==c&&(c=""),c},a.prototype._getCategory=function(a,b){var c=this._store.get(a,b),d=this._store.getOrdinalMeta(a);return d?d.categories[c]:c},a.prototype.getId=function(a){return X(this,this.getRawIndex(a))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(a,b){var c=this._store,d=this._dimInfos[a];if(d)return c.get(d.storeDimIndex,b)},a.prototype.getByRawIndex=function(a,b){var c=this._store,d=this._dimInfos[a];if(d)return c.getByRawIndex(d.storeDimIndex,b)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(a){return this._store.getDataExtent(this._getStoreDimIndex(a))},a.prototype.getSum=function(a){return this._store.getSum(this._getStoreDimIndex(a))},a.prototype.getMedian=function(a){return this._store.getMedian(this._getStoreDimIndex(a))},a.prototype.getValues=function(a,b){var c=this,d=this._store;return a3(a)?d.getValues(q5(a,function(a){return c._getStoreDimIndex(a)}),b):d.getValues(a)},a.prototype.hasValue=function(a){for(var b=this._dimSummary.dataDimIndicesOnCoord,c=0,d=b.length;c<d;c++)if(isNaN(this._store.get(b[c],a)))return!1;return!0},a.prototype.indexOfName=function(a){for(var b=0,c=this._store.count();b<c;b++)if(this.getName(b)===a)return b;return -1},a.prototype.getRawIndex=function(a){return this._store.getRawIndex(a)},a.prototype.indexOfRawIndex=function(a){return this._store.indexOfRawIndex(a)},a.prototype.rawIndexOf=function(a,b){var c=a&&this._invertedIndicesMap[a],d=c&&c[b];return null==d||isNaN(d)?-1:d},a.prototype.each=function(a,b,c){a4(a)&&(c=b,b=a,a=[]);var d=c||this,e=q5(Z(a),this._getStoreDimIndex,this);this._store.each(e,d?a1(b,d):b)},a.prototype.filterSelf=function(a,b,c){a4(a)&&(c=b,b=a,a=[]);var d=c||this,e=q5(Z(a),this._getStoreDimIndex,this);return this._store=this._store.filter(e,d?a1(b,d):b),this},a.prototype.selectRange=function(a){var b=this,c={},d=a0(a),e=[];return aX(d,function(d){var f=b._getStoreDimIndex(d);c[f]=a[d],e.push(f)}),this._store=this._store.selectRange(c),this},a.prototype.mapArray=function(a,b,c){a4(a)&&(c=b,b=a,a=[]),c=c||this;var d=[];return this.each(a,function(){d.push(b&&b.apply(this,arguments))},c),d},a.prototype.map=function(a,b,c,d){var e=c||d||this,f=q5(Z(a),this._getStoreDimIndex,this),g=_(this);return g._store=this._store.map(f,e?a1(b,e):b),g},a.prototype.modify=function(a,b,c,d){var e=c||d||this,f=q5(Z(a),this._getStoreDimIndex,this);this._store.modify(f,e?a1(b,e):b)},a.prototype.downSample=function(a,b,c,d){var e=_(this);return e._store=this._store.downSample(this._getStoreDimIndex(a),b,c,d),e},a.prototype.minmaxDownSample=function(a,b){var c=_(this);return c._store=this._store.minmaxDownSample(this._getStoreDimIndex(a),b),c},a.prototype.lttbDownSample=function(a,b){var c=_(this);return c._store=this._store.lttbDownSample(this._getStoreDimIndex(a),b),c},a.prototype.getRawDataItem=function(a){return this._store.getRawDataItem(a)},a.prototype.getItemModel=function(a){var b=this.hostModel;return new jn(this.getRawDataItem(a),b,b&&b.ecModel)},a.prototype.diff=function(a){var b=this;return new qV(a?a.getStore().getIndices():[],this.getStore().getIndices(),function(b){return X(a,b)},function(a){return X(b,a)})},a.prototype.getVisual=function(a){var b=this._visual;return b&&b[a]},a.prototype.setVisual=function(a,b){this._visual=this._visual||{},q4(a)?aQ(this._visual,a):this._visual[a]=b},a.prototype.getItemVisual=function(a,b){var c=this._itemVisuals[a],d=c&&c[b];return null==d?this.getVisual(b):d},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(a,b){var c=this._itemVisuals,d=c[a];d||(d=c[a]={});var e=d[b];return null==e&&(a3(e=this.getVisual(b))?e=e.slice():q4(e)&&(e=aQ({},e)),d[b]=e),e},a.prototype.setItemVisual=function(a,b,c){var d=this._itemVisuals[a]||{};this._itemVisuals[a]=d,q4(b)?aQ(d,b):d[b]=c},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(a,b){q4(a)?aQ(this._layout,a):this._layout[a]=b},a.prototype.getLayout=function(a){return this._layout[a]},a.prototype.getItemLayout=function(a){return this._itemLayouts[a]},a.prototype.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?aQ(this._itemLayouts[a]||{},b):b},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(a,b){h3(this.hostModel&&this.hostModel.seriesIndex,this.dataType,a,b),this._graphicEls[a]=b},a.prototype.getItemGraphicEl=function(a){return this._graphicEls[a]},a.prototype.eachItemGraphicEl=function(a,b){aX(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})},a.prototype.cloneShallow=function(b){return b||(b=new a(this._schema?this._schema:q5(this.dimensions,this._getDimInfo,this),this.hostModel)),$(b,this),b._store=this._store,b},a.prototype.wrapMethod=function(a,b){var c=this[a];a4(c)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var a=c.apply(this,arguments);return b.apply(this,[a].concat(bj(arguments)))})},a.internalField=void(W=function(a){var b=a._invertedIndicesMap;aX(b,function(c,d){var e=a._dimInfos[d],f=e.ordinalMeta,g=a._store;if(f){c=b[d]=new q6(f.categories.length);for(var h=0;h<c.length;h++)c[h]=-1;for(var h=0;h<g.count();h++)c[g.get(e.storeDimIndex,h)]=h}})},Y=function(a,b,c){return fY(a._getCategory(b,c),null)},X=function(a,b){var c=a._idList[b];return null==c&&null!=a._idDimIdx&&(c=Y(a,a._idDimIdx,b)),null==c&&(c="e\0\0"+b),c},Z=function(a){return a3(a)||(a=null!=a?[a]:[]),a},_=function(b){var c=new a(b._schema?b._schema:q5(b.dimensions,b._getDimInfo,b),b.hostModel);return $(c,b),c},$=function(a,b){aX(q7.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a.__wrappedMethods=b.__wrappedMethods,aX(q8,function(c){a[c]=aN(b[c])}),a._calculationInfo=aQ({},b._calculationInfo)},aa=function(a,b){var c=a._nameList,d=a._idList,e=a._nameDimIdx,f=a._idDimIdx,g=c[b],h=d[b];if(null==g&&null!=e&&(c[b]=g=Y(a,e,b)),null==h&&null!=f&&(d[b]=h=Y(a,f,b)),null==h&&null!=g){var i=a._nameRepeatCount,j=i[g]=(i[g]||0)+1;h=g,j>1&&(h+="__ec__"+j),d[b]=h}}),a}();function ra(a,b){return rb(a,b).dimensions}function rb(a,b){lo(a)||(a=lq(a));var c,d,e,f,g,h=(b=b||{}).coordDimensions||[],i=b.dimensionsDefine||a.dimensionsDefine||[],j=bt(),k=[],l=(c=a,d=h,e=i,f=b.dimensionsCount,g=Math.max(c.dimensionsDetectedCount||1,d.length,e.length,f||0),aX(d,function(a){var b;a8(a)&&(b=a.dimsDef)&&(g=Math.max(g,b.length))}),g),m=b.canOmitUnusedDimensions&&l>30,n=i===a.dimensionsDefine,o=n?q3(a):q2(i),p=b.encodeDefine;!p&&b.encodeDefaulter&&(p=b.encodeDefaulter(a,l));for(var q=bt(p),r=new l3(l),s=0;s<r.length;s++)r[s]=-1;function t(a){var b=r[a];if(b<0){var c=i[a],d=a8(c)?c:{name:c},e=new qZ,f=d.name;null!=f&&null!=o.get(f)&&(e.name=e.displayName=f),null!=d.type&&(e.type=d.type),null!=d.displayName&&(e.displayName=d.displayName);var g=k.length;return r[a]=g,e.storeDimIndex=a,k.push(e),e}return k[b]}if(!m)for(var s=0;s<l;s++)t(s);q.each(function(a,b){var c=fR(a).slice();if(1===c.length&&!a5(c[0])&&c[0]<0)return void q.set(b,!1);var d=q.set(b,[]);aX(c,function(a,c){var e=a5(a)?o.get(a):a;null!=e&&e<l&&(d[c]=e,v(t(e),b,c))})});var u=0;function v(a,b,c){null!=kE.get(b)?a.otherDims[b]=c:(a.coordDim=b,a.coordDimIndex=c,j.set(b,!0))}aX(h,function(a){if(a5(a))e=a,d={};else{var b,c,d,e=(d=a).name,f=d.ordinalMeta;d.ordinalMeta=null,(d=aQ({},d)).ordinalMeta=f,b=d.dimsDef,c=d.otherDims,d.name=d.coordDim=d.coordDimIndex=d.dimsDef=d.otherDims=null}var g=q.get(e);if(!1!==g){if(!(g=fR(g)).length)for(var h=0;h<(b&&b.length||1);h++){for(;u<l&&null!=t(u).coordDim;)u++;u<l&&g.push(u++)}aX(g,function(a,f){var g=t(a);if(n&&null!=d.type&&(g.type=d.type),v(aR(g,d),e,f),null==g.name&&b){var h=b[f];a8(h)||(h={name:h}),g.name=g.displayName=h.name,g.defaultTooltip=h.defaultTooltip}c&&aR(g.otherDims,c)})}});var w=b.generateCoord,x=b.generateCoordCount,y=null!=x;x=w?x||1:0;var z=w||"value";function A(a){null==a.name&&(a.name=a.coordDim)}if(m)aX(k,function(a){A(a)}),k.sort(function(a,b){return a.storeDimIndex-b.storeDimIndex});else for(var B=0;B<l;B++){var C=t(B);null==C.coordDim&&(C.coordDim=function(a,b,c){if(c||b.hasKey(a)){for(var d=0;b.hasKey(a+d);)d++;a+=d}return b.set(a,!0),a}(z,j,y),C.coordDimIndex=0,(!w||x<=0)&&(C.isExtraCoord=!0),x--),A(C),null==C.type&&(1===kQ(a,B)||C.isExtraCoord&&(null!=C.otherDims.itemName||null!=C.otherDims.seriesName))&&(C.type="ordinal")}return function(a){for(var b=bt(),c=0;c<a.length;c++){var d=a[c],e=d.name,f=b.get(e)||0;f>0&&(d.name=e+(f-1)),f++,b.set(e,f)}}(k),new q0({source:a,dimensions:k,fullDimensionCount:l,dimensionOmitted:m})}var rc=function(a){this.coordSysDims=[],this.axisMap=bt(),this.categoryAxisMap=bt(),this.coordSysName=a},rd={cartesian2d:function(a,b,c,d){var e=a.getReferringComponents("xAxis",f4).models[0],f=a.getReferringComponents("yAxis",f4).models[0];b.coordSysDims=["x","y"],c.set("x",e),c.set("y",f),re(e)&&(d.set("x",e),b.firstCategoryDimIndex=0),re(f)&&(d.set("y",f),null==b.firstCategoryDimIndex&&(b.firstCategoryDimIndex=1))},singleAxis:function(a,b,c,d){var e=a.getReferringComponents("singleAxis",f4).models[0];b.coordSysDims=["single"],c.set("single",e),re(e)&&(d.set("single",e),b.firstCategoryDimIndex=0)},polar:function(a,b,c,d){var e=a.getReferringComponents("polar",f4).models[0],f=e.findAxisModel("radiusAxis"),g=e.findAxisModel("angleAxis");b.coordSysDims=["radius","angle"],c.set("radius",f),c.set("angle",g),re(f)&&(d.set("radius",f),b.firstCategoryDimIndex=0),re(g)&&(d.set("angle",g),null==b.firstCategoryDimIndex&&(b.firstCategoryDimIndex=1))},geo:function(a,b,c,d){b.coordSysDims=["lng","lat"]},parallel:function(a,b,c,d){var e=a.ecModel,f=e.getComponent("parallel",a.get("parallelIndex")),g=b.coordSysDims=f.dimensions.slice();aX(f.parallelAxisIndex,function(a,f){var h=e.getComponent("parallelAxis",a),i=g[f];c.set(i,h),re(h)&&(d.set(i,h),null==b.firstCategoryDimIndex&&(b.firstCategoryDimIndex=f))})},matrix:function(a,b,c,d){var e=a.getReferringComponents("matrix",f4).models[0];b.coordSysDims=["x","y"];var f=e.getDimensionModel("x"),g=e.getDimensionModel("y");c.set("x",f),c.set("y",g),d.set("x",f),d.set("y",g)}};function re(a){return"category"===a.get("type")}function rf(a,b,c){var d,e,f,g,h,i,j,k=(c=c||{}).byIndex,l=c.stackedCoordDimension;q1(b.schema)?(d=(e=b.schema).dimensions,f=b.store):d=b;var m=!!(a&&a.get("stack"));if(aX(d,function(a,b){a5(a)&&(d[b]=a={name:a}),m&&!a.isExtraCoord&&(k||g||!a.ordinalMeta||(g=a),h||"ordinal"===a.type||"time"===a.type||l&&l!==a.coordDim||(h=a))}),!h||k||g||(k=!0),h){i="__\0ecstackresult_"+a.id,j="__\0ecstackedover_"+a.id,g&&(g.createInvertedIndices=!0);var n=h.coordDim,o=h.type,p=0;aX(d,function(a){a.coordDim===n&&p++});var q={name:i,coordDim:n,coordDimIndex:p,type:o,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:d.length},r={name:j,coordDim:j,coordDimIndex:p+1,type:o,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:d.length+1};e?(f&&(q.storeDimIndex=f.ensureCalculationDimension(j,o),r.storeDimIndex=f.ensureCalculationDimension(i,o)),e.appendCalculationDimension(q),e.appendCalculationDimension(r)):(d.push(q),d.push(r))}return{stackedDimension:h&&h.name,stackedByDimension:g&&g.name,isStackedByIndex:k,stackedOverDimension:j,stackResultDimension:i}}function rg(a,b){return!!b&&b===a.getCalculationInfo("stackedDimension")}function rh(a,b){return rg(a,b)?a.getCalculationInfo("stackResultDimension"):b}let ri=function(a,b,c){c=c||{};var d,e,f,g,h,i,j,k,l=b.getSourceManager(),m=!1;a?(m=!0,k=lq(a)):m=(k=l.getSource()).sourceFormat===kF;var n=function(a){var b=a.get("coordinateSystem"),c=new rc(b),d=rd[b];if(d)return d(a,c,c.axisMap,c.categoryAxisMap),c}(b),o=(e=b.get("coordinateSystem"),f=j6.get(e),n&&n.coordSysDims&&(d=aY(n.coordSysDims,function(a){var b={name:a},c=n.axisMap.get(a);return c&&(b.type=qY(c.get("type"))),b})),d||(d=f&&(f.getDimensionsInfo?f.getDimensionsInfo():f.dimensions.slice())||["x","y"]),d),p=c.useEncodeDefaulter,q=a4(p)?p:p?a2(kN,o,b):null,r=rb(k,{coordDimensions:o,generateCoord:c.generateCoord,encodeDefine:b.getEncode(),encodeDefaulter:q,canOmitUnusedDimensions:!m}),s=(g=r.dimensions,h=c.createInvertedIndices,n&&aX(g,function(a,b){var c=a.coordDim,d=n.categoryAxisMap.get(c);d&&(null==i&&(i=b),a.ordinalMeta=d.getOrdinalMeta(),h&&(a.createInvertedIndices=!0)),null!=a.otherDims.itemName&&(j=!0)}),j||null==i||(g[i].otherDims.itemName=0),i),t=m?null:l.getSharedDataStore(r),u=rf(b,{schema:r,store:t}),v=new q9(r,b);v.setCalculationInfo(u);var w=null!=s&&function(a){if(a.sourceFormat===kF)return!a3(fU(function(a){for(var b=0;b<a.length&&null==a[b];)b++;return a[b]}(a.data||[])))}(k)?function(a,b,c,d){return d===s?c:this.defaultDimValueGetter(a,b,c,d)}:null;return v.hasItemOption=!1,v.initData(m?k:t,null,w),v};function rj(a){return"interval"===a.type||"log"===a.type}function rk(a){var b=Math.pow(10,fH(a)),c=a/b;return c?2===c?c=3:3===c?c=5:c*=2:c=1,fu(c*b)}function rl(a){return fw(a)+2}function rm(a,b,c){a[b]=Math.max(Math.min(a[b],c[1]),c[0])}function rn(a,b){return a>=b[0]&&a<=b[1]}var ro=function(){function a(){this.normalize=rp,this.scale=rq}return a.prototype.updateMethods=function(a){a.hasBreaks()?(this.normalize=a1(a.normalize,a),this.scale=a1(a.scale,a)):(this.normalize=rp,this.scale=rq)},a}();function rp(a,b){return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])}function rq(a,b){return a*(b[1]-b[0])+b[0]}function rr(a,b,c){var d=Math.log(a);return[Math.log(c?b[0]:Math.max(0,b[0]))/d,Math.log(c?b[1]:Math.max(0,b[1]))/d]}var rs=function(){function a(a){this._calculator=new ro,this._setting=a||{},this._extent=[1/0,-1/0];var b=jv;b&&(this._brkCtx=b.createScaleBreakContext(),this._brkCtx.update(this._extent))}return a.prototype.getSetting=function(a){return this._setting[a]},a.prototype._innerUnionExtent=function(a){var b=this._extent;this._innerSetExtent(a[0]<b[0]?a[0]:b[0],a[1]>b[1]?a[1]:b[1])},a.prototype.unionExtentFromData=function(a,b){this._innerUnionExtent(a.getApproximateExtent(b))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.setExtent=function(a,b){this._innerSetExtent(a,b)},a.prototype._innerSetExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b),this._brkCtx&&this._brkCtx.update(c)},a.prototype.setBreaksFromOption=function(a){var b=jv;b&&this._innerSetBreak(b.parseAxisBreakOption(a,a1(this.parse,this)))},a.prototype._innerSetBreak=function(a){this._brkCtx&&(this._brkCtx.setBreaks(a),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},a.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},a.prototype.hasBreaks=function(){return!!this._brkCtx&&this._brkCtx.hasBreaks()},a.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},a.prototype.isInExtentRange=function(a){return this._extent[0]<=a&&this._extent[1]>=a},a.prototype.isBlank=function(){return this._isBlank},a.prototype.setBlank=function(a){this._isBlank=a},a}();gk(rs);var rt=0,ru=function(){function a(a){this.categories=a.categories||[],this._needCollect=a.needCollect,this._deduplication=a.deduplication,this.uid=++rt,this._onCollect=a.onCollect}return a.createByAxisModel=function(b){var c=b.option,d=c.data,e=d&&aY(d,rv);return new a({categories:e,needCollect:!e,deduplication:!1!==c.dedplication})},a.prototype.getOrdinal=function(a){return this._getOrCreateMap().get(a)},a.prototype.parseAndCollect=function(a){var b,c=this._needCollect;if(!a5(a)&&!c)return a;if(c&&!this._deduplication)return b=this.categories.length,this.categories[b]=a,this._onCollect&&this._onCollect(a,b),b;var d=this._getOrCreateMap();return null==(b=d.get(a))&&(c?(b=this.categories.length,this.categories[b]=a,d.set(a,b),this._onCollect&&this._onCollect(a,b)):b=NaN),b},a.prototype._getOrCreateMap=function(){return this._map||(this._map=bt(this.categories))},a}();function rv(a){return a8(a)&&null!=a.value?a.value:a+""}var rw=function(a){function b(b){var c=a.call(this,b)||this;c.type="ordinal";var d=c.getSetting("ordinalMeta");return d||(d=new ru({})),a3(d)&&(d=new ru({categories:aY(d,function(a){return a8(a)?a.value:a})})),c._ordinalMeta=d,c._extent=c.getSetting("extent")||[0,d.categories.length-1],c}return aq(b,a),b.prototype.parse=function(a){return null==a?NaN:a5(a)?this._ordinalMeta.getOrdinal(a):Math.round(a)},b.prototype.contain=function(a){return rn(a,this._extent)&&a>=0&&a<this._ordinalMeta.categories.length},b.prototype.normalize=function(a){return a=this._getTickNumber(a),this._calculator.normalize(a,this._extent)},b.prototype.scale=function(a){return a=Math.round(this._calculator.scale(a,this._extent)),this.getRawOrdinalNumber(a)},b.prototype.getTicks=function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push({value:c}),c++;return a},b.prototype.getMinorTicks=function(a){},b.prototype.setSortInfo=function(a){if(null==a){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var b=a.ordinalNumbers,c=this._ordinalNumbersByTick=[],d=this._ticksByOrdinalNumber=[],e=0,f=this._ordinalMeta.categories.length,g=Math.min(f,b.length);e<g;++e){var h=b[e];c[e]=h,d[h]=e}for(var i=0;e<f;++e){for(;null!=d[i];)i++;c.push(i),d[i]=e}},b.prototype._getTickNumber=function(a){var b=this._ticksByOrdinalNumber;return b&&a>=0&&a<b.length?b[a]:a},b.prototype.getRawOrdinalNumber=function(a){var b=this._ordinalNumbersByTick;return b&&a>=0&&a<b.length?b[a]:a},b.prototype.getLabel=function(a){if(!this.isBlank()){var b=this.getRawOrdinalNumber(a.value),c=this._ordinalMeta.categories[b];return null==c?"":c+""}},b.prototype.count=function(){return this._extent[1]-this._extent[0]+1},b.prototype.isInExtentRange=function(a){return a=this._getTickNumber(a),this._extent[0]<=a&&this._extent[1]>=a},b.prototype.getOrdinalMeta=function(){return this._ordinalMeta},b.prototype.calcNiceTicks=function(){},b.prototype.calcNiceExtent=function(){},b.type="ordinal",b}(rs);rs.registerClass(rw);var rx=fu,ry=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="interval",b._interval=0,b._intervalPrecision=2,b}return aq(b,a),b.prototype.parse=function(a){return null==a||""===a?NaN:Number(a)},b.prototype.contain=function(a){return rn(a,this._extent)},b.prototype.normalize=function(a){return this._calculator.normalize(a,this._extent)},b.prototype.scale=function(a){return this._calculator.scale(a,this._extent)},b.prototype.getInterval=function(){return this._interval},b.prototype.setInterval=function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=rl(a)},b.prototype.getTicks=function(a){a=a||{};var b=this._interval,c=this._extent,d=this._niceExtent,e=this._intervalPrecision,f=jv,g=[];if(!b)return g;if("only_break"===a.breakTicks&&f)return f.addBreaksToTicks(g,this._brkCtx.breaks,this._extent),g;c[0]<d[0]&&(a.expandToNicedExtent?g.push({value:rx(d[0]-b,e)}):g.push({value:c[0]}));for(var h=function(a,c){return Math.round((c-a)/b)},i=d[0];i<=d[1];){if(g.push({value:i}),i=rx(i+b,e),this._brkCtx){var j=this._brkCtx.calcNiceTickMultiple(i,h);j>=0&&(i=rx(i+j*b,e))}if(g.length>0&&i===g[g.length-1].value)break;if(g.length>1e4)return[]}var k=g.length?g[g.length-1].value:d[1];return c[1]>k&&(a.expandToNicedExtent?g.push({value:rx(k+b,e)}):g.push({value:c[1]})),f&&f.pruneTicksByBreak(a.pruneByBreak,g,this._brkCtx.breaks,function(a){return a.value},this._interval,this._extent),"none"!==a.breakTicks&&f&&f.addBreaksToTicks(g,this._brkCtx.breaks,this._extent),g},b.prototype.getMinorTicks=function(a){for(var b=this.getTicks({expandToNicedExtent:!0}),c=[],d=this.getExtent(),e=1;e<b.length;e++){var f=b[e],g=b[e-1];if(!g.break&&!f.break){for(var h=0,i=[],j=(f.value-g.value)/a,k=rl(j);h<a-1;){var l=rx(g.value+(h+1)*j,k);l>d[0]&&l<d[1]&&i.push(l),h++}var m=jv;m&&m.pruneTicksByBreak("auto",i,this._getNonTransBreaks(),function(a){return a},this._interval,d),c.push(i)}}return c},b.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},b.prototype.getLabel=function(a,b){if(null==a)return"";var c=b&&b.precision;return null==c?c=fw(a.value)||0:"auto"===c&&(c=this._intervalPrecision),jU(rx(a.value,c,!0))},b.prototype.calcNiceTicks=function(a,b,c){a=a||5;var d=this._extent.slice(),e=this._getExtentSpanWithBreaks();if(isFinite(e)){e<0&&(e=-e,d.reverse(),this._innerSetExtent(d[0],d[1]),d=this._extent.slice());var f,g,h,i,j,k,l,m,n=(h=d,i=e,j=a,l=(k={}).interval=fI(i/j,!0),null!=b&&l<b&&(l=k.interval=b),null!=c&&l>c&&(l=k.interval=c),m=k.intervalPrecision=rl(l),f=k.niceTickExtent=[fu(Math.ceil(h[0]/l)*l,m),fu(Math.floor(h[1]/l)*l,m)],g=h,isFinite(f[0])||(f[0]=g[0]),isFinite(f[1])||(f[1]=g[1]),rm(f,0,g),rm(f,1,g),f[0]>f[1]&&(f[0]=f[1]),k);this._intervalPrecision=n.intervalPrecision,this._interval=n.interval,this._niceExtent=n.niceTickExtent}},b.prototype.calcNiceExtent=function(a){var b=this._extent.slice();if(b[0]===b[1])if(0!==b[0]){var c=Math.abs(b[0]);a.fixMax||(b[1]+=c/2),b[0]-=c/2}else b[1]=1;isFinite(b[1]-b[0])||(b[0]=0,b[1]=1),this._innerSetExtent(b[0],b[1]),b=this._extent.slice(),this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval);var d=this._interval,e=this._intervalPrecision;a.fixMin||(b[0]=rx(Math.floor(b[0]/d)*d,e)),a.fixMax||(b[1]=rx(Math.ceil(b[1]/d)*d,e)),this._innerSetExtent(b[0],b[1])},b.prototype.setNiceExtent=function(a,b){this._niceExtent=[a,b]},b.type="interval",b}(rs);rs.registerClass(ry);var rz="undefined"!=typeof Float32Array,rA=rz?Float32Array:Array;function rB(a){return a3(a)?rz?new Float32Array(a):a:new rA(a)}var rC="__ec_stack_";function rD(a){return a.get("stack")||rC+a.seriesIndex}function rE(a){return a.dim+a.index}function rF(a,b){var c=[];return b.eachSeriesByType(a,function(a){rK(a)&&c.push(a)}),c}function rG(a){var b=function(a){var b={};aX(a,function(a){var c=a.coordinateSystem.getBaseAxis();if("time"===c.type||"value"===c.type)for(var d=a.getData(),e=c.dim+"_"+c.index,f=d.getDimensionIndex(d.mapDimension(c.dim)),g=d.getStore(),h=0,i=g.count();h<i;++h){var j=g.get(f,h);b[e]?b[e].push(j):b[e]=[j]}});var c={};for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(e){e.sort(function(a,b){return a-b});for(var f=null,g=1;g<e.length;++g){var h=e[g]-e[g-1];h>0&&(f=null===f?h:Math.min(f,h))}c[d]=f}}return c}(a),c=[];return aX(a,function(a){var d,e=a.coordinateSystem.getBaseAxis(),f=e.getExtent();if("category"===e.type)d=e.getBandWidth();else if("value"===e.type||"time"===e.type){var g=b[e.dim+"_"+e.index],h=Math.abs(f[1]-f[0]),i=e.scale.getExtent(),j=Math.abs(i[1]-i[0]);d=g?h/j*g:h}else{var k=a.getData();d=Math.abs(f[1]-f[0])/k.count()}var l=fs(a.get("barWidth"),d),m=fs(a.get("barMaxWidth"),d),n=fs(a.get("barMinWidth")||(rL(a)?.5:1),d),o=a.get("barGap"),p=a.get("barCategoryGap"),q=a.get("defaultBarGap");c.push({bandWidth:d,barWidth:l,barMaxWidth:m,barMinWidth:n,barGap:o,barCategoryGap:p,defaultBarGap:q,axisKey:rE(e),stackId:rD(a)})}),rH(c)}function rH(a){var b={};aX(a,function(a,c){var d=a.axisKey,e=a.bandWidth,f=b[d]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:null,gap:a.defaultBarGap||0,stacks:{}},g=f.stacks;b[d]=f;var h=a.stackId;!g[h]&&f.autoWidthCount++,g[h]=g[h]||{width:0,maxWidth:0};var i=a.barWidth;i&&!g[h].width&&(g[h].width=i,i=Math.min(f.remainedWidth,i),f.remainedWidth-=i);var j=a.barMaxWidth;j&&(g[h].maxWidth=j);var k=a.barMinWidth;k&&(g[h].minWidth=k);var l=a.barGap;null!=l&&(f.gap=l);var m=a.barCategoryGap;null!=m&&(f.categoryGap=m)});var c={};return aX(b,function(a,b){c[b]={};var d,e=a.stacks,f=a.bandWidth,g=a.categoryGap;null==g&&(g=Math.max(35-4*a0(e).length,15)+"%");var h=fs(g,f),i=fs(a.gap,1),j=a.remainedWidth,k=a.autoWidthCount,l=(j-h)/(k+(k-1)*i);l=Math.max(l,0),aX(e,function(a){var b=a.maxWidth,c=a.minWidth;if(a.width){var d=a.width;b&&(d=Math.min(d,b)),c&&(d=Math.max(d,c)),a.width=d,j-=d+i*d,k--}else{var d=l;b&&b<d&&(d=Math.min(b,j)),c&&c>d&&(d=c),d!==l&&(a.width=d,j-=d+i*d,k--)}}),l=Math.max(l=(j-h)/(k+(k-1)*i),0);var m=0;aX(e,function(a,b){a.width||(a.width=l),d=a,m+=a.width*(1+i)}),d&&(m-=d.width*i);var n=-m/2;aX(e,function(a,d){c[b][d]=c[b][d]||{bandWidth:f,offset:n,width:a.width},n+=a.width*(1+i)})}),c}function rI(a,b){var c=rF(a,b),d=rG(c);aX(c,function(a){var b=a.getData(),c=a.coordinateSystem.getBaseAxis(),e=rD(a),f=d[rE(c)][e],g=f.offset,h=f.width;b.setLayout({bandWidth:f.bandWidth,offset:g,size:h})})}function rJ(a){return{seriesType:a,plan:mH(),reset:function(a){if(rK(a)){var b,c,d=a.getData(),e=a.coordinateSystem,f=e.getBaseAxis(),g=e.getOtherAxis(f),h=d.getDimensionIndex(d.mapDimension(g.dim)),i=d.getDimensionIndex(d.mapDimension(f.dim)),j=a.get("showBackground",!0),k=d.mapDimension(g.dim),l=d.getCalculationInfo("stackResultDimension"),m=rg(d,k)&&!!d.getCalculationInfo("stackedOnSeries"),n=g.isHorizontal(),o=((c=(b=g).model.get("startValue"))||(c=0),b.toGlobalCoord(b.dataToCoord("log"===b.type?c>0?c:1:c))),p=rL(a),q=a.get("barMinHeight")||0,r=l&&d.getDimensionIndex(l),s=d.getLayout("size"),t=d.getLayout("offset");return{progress:function(a,b){for(var c,d=a.count,f=p&&rB(3*d),g=p&&j&&rB(3*d),k=p&&rB(d),l=e.master.getRect(),u=n?l.width:l.height,v=b.getStore(),w=0;null!=(c=a.next());){var x=v.get(m?r:h,c),y=v.get(i,c),z=o,A=void 0;m&&(A=x-v.get(h,c));var B=void 0,C=void 0,D=void 0,E=void 0;if(n){var F=e.dataToPoint([x,y]);if(m){var G=e.dataToPoint([A,y]);z=G[0]}B=z,C=F[1]+t,D=F[0]-z,E=s,Math.abs(D)<q&&(D=(D<0?-1:1)*q)}else{var F=e.dataToPoint([y,x]);if(m){var G=e.dataToPoint([y,A]);z=G[1]}B=F[0]+t,C=z,D=s,Math.abs(E=F[1]-z)<q&&(E=(E<=0?-1:1)*q)}p?(f[w]=B,f[w+1]=C,f[w+2]=n?D:E,g&&(g[w]=n?l.x:B,g[w+1]=n?C:l.y,g[w+2]=u),k[c]=c):b.setItemLayout(c,{x:B,y:C,width:D,height:E}),w+=3}p&&b.setLayout({largePoints:f,largeDataIndices:k,largeBackgroundPoints:g,valueAxisHorizontal:n})}}}}}}function rK(a){return a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type}function rL(a){return a.pipelineContext&&a.pipelineContext.large}var rM=function(a,b,c,d){for(;c<d;){var e=c+d>>>1;a[e][1]<b?c=e+1:d=e}return c},rN=function(a){function b(b){var c=a.call(this,b)||this;return c.type="time",c}return aq(b,a),b.prototype.getLabel=function(a){var b=this.getSetting("useUTC");return jE(a.value,jz[function(a){switch(a){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(jD(this._minLevelUnit))]||jz.second,b,this.getSetting("locale"))},b.prototype.getFormattedLabel=function(a,b,c){var d=this.getSetting("useUTC");return function(a,b,c,d,e){var f=null;if(a5(c))f=c;else if(a4(c)){var g={time:a.time,level:a.time.level},h=jv;h&&h.makeAxisLabelFormatterParamBreak(g,a.break),f=c(a.value,b,g)}else{var i=a.time;if(i){var j=c[i.lowerTimeUnit][i.upperTimeUnit];f=j[Math.min(i.level,j.length-1)]||""}else{var k=jF(a.value,e);f=c[k][k][0]}}return jE(new Date(a.value),f,e,d)}(a,b,c,this.getSetting("locale"),d)},b.prototype.getTicks=function(a){a=a||{};var b=this._interval,c=this._extent,d=jv,e=[];if(!b)return e;var f=this.getSetting("useUTC");if(d&&"only_break"===a.breakTicks)return jv.addBreaksToTicks(e,this._brkCtx.breaks,this._extent),e;var g=jF(c[1],f);e.push({value:c[0],time:{level:0,upperTimeUnit:g,lowerTimeUnit:g}});var h=function(a,b,c,d,e,f){for(var g=0,h=[],i=[],j=0,k=0,l=0;l<jB.length;++l){var m,n=jD(jB[l]);if((m=jB[l])===jD(m)&&(!function(a,e,h){var i=[],j=!e.length;if(!rP(jD(a),d[0],d[1],c)){j&&(e=[{value:(n=d[0],o=Math.max(0,aT(jA,a)-1),jG(new Date(n),jA[o],c).getTime())},{value:d[1]}]);for(var k=0;k<e.length-1;k++){var l=e[k].value,m=e[k+1].value;if(l!==m){var n,o,p,q,r,s=void 0,t=void 0,u=void 0;switch(a){case"year":s=Math.max(1,Math.round(b/864e5/365)),t=jH(c),u=c?"setUTCFullYear":"setFullYear";break;case"half-year":case"quarter":case"month":s=(p=b/2592e6)>6?6:p>3?3:p>2?2:1,t=jI(c),u=jO(c);break;case"week":case"half-week":case"day":s=(q=b/864e5)>16?16:q>7.5?7:q>3.5?4:q>1.5?2:1,t=jJ(c),u=jP(c);break;case"half-day":case"quarter-day":case"hour":s=(r=b/36e5)>12?12:r>6?6:r>3.5?4:r>2?2:1,t=jK(c),u=jQ(c);break;case"minute":s=rQ(b,!0),t=jL(c),u=jR(c);break;case"second":s=rQ(b,!1),t=jM(c),u=jS(c);break;case"millisecond":s=fI(b,!0),t=jN(c),u=jT(c)}m>=d[0]&&l<=d[1]&&function(a,b,c,e,h,i,j){for(var k,l,m,n=((k=new Date(0))[h](1),l=k.getTime(),k[h](1+a),m=k.getTime()-l,function(a,b){return Math.max(0,Math.round((b-a)/m))}),o=b,p=new Date(o);o<c&&o<=d[1]&&(j.push({value:o}),!(g++>1e4));)if(p[h](p[e]()+a),o=p.getTime(),f){var q=f.calcNiceTickMultiple(o,n);q>0&&(p[h](p[e]()+q*a),o=p.getTime())}j.push({value:o,notAdd:!0})}(s,l,m,t,u,0,i),"year"===a&&h.length>1&&0===k&&h.unshift({value:h[0].value-s})}}for(var k=0;k<i.length;k++)h.push(i[k])}}(jB[l],h[h.length-1]||[],i),n!==(jB[l+1]?jD(jB[l+1]):null))){if(i.length){k=j,i.sort(function(a,b){return a.value-b.value});for(var o=[],p=0;p<i.length;++p){var q=i[p].value;(0===p||i[p-1].value!==q)&&(o.push(i[p]),q>=d[0]&&q<=d[1]&&j++)}var r=e/b;if(j>1.5*r&&k>r/1.5||(h.push(o),j>r||a===jB[l]))break}i=[]}}for(var s=a$(aY(h,function(a){return a$(a,function(a){return a.value>=d[0]&&a.value<=d[1]&&!a.notAdd})}),function(a){return a.length>0}),t=[],u=s.length-1,l=0;l<s.length;++l)for(var v=s[l],w=0;w<v.length;++w){var x=jF(v[w].value,c);t.push({value:v[w].value,time:{level:u-l,upperTimeUnit:x,lowerTimeUnit:x}})}t.sort(function(a,b){return a.value-b.value});for(var y=[],l=0;l<t.length;++l)(0===l||t[l].value!==t[l-1].value)&&y.push(t[l]);return y}(this._minLevelUnit,this._approxInterval,f,c,this._getExtentSpanWithBreaks(),this._brkCtx);e=e.concat(h);var i=jF(c[1],f);e.push({value:c[1],time:{level:0,upperTimeUnit:i,lowerTimeUnit:i}});var j=this.getSetting("useUTC"),k=jA.length-1,l=0;return aX(e,function(a){k=Math.min(k,aT(jA,a.time.upperTimeUnit)),l=Math.max(l,a.time.level)}),d&&jv.pruneTicksByBreak(a.pruneByBreak,e,this._brkCtx.breaks,function(a){return a.value},this._approxInterval,this._extent),d&&"none"!==a.breakTicks&&jv.addBreaksToTicks(e,this._brkCtx.breaks,this._extent,function(a){for(var b=Math.max(aT(jA,jF(a.vmin,j)),aT(jA,jF(a.vmax,j))),c=0,d=0;d<jA.length;d++)if(!rP(jA[d],a.vmin,a.vmax,j)){c=d;break}var e=Math.min(c,k);return{level:l,lowerTimeUnit:jA[Math.max(e,b)],upperTimeUnit:jA[e]}}),e},b.prototype.calcNiceExtent=function(a){var b=this.getExtent();if(b[0]===b[1]&&(b[0]-=864e5,b[1]+=864e5),b[1]===-1/0&&b[0]===1/0){var c=new Date;b[1]=+new Date(c.getFullYear(),c.getMonth(),c.getDate()),b[0]=b[1]-864e5}this._innerSetExtent(b[0],b[1]),this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval)},b.prototype.calcNiceTicks=function(a,b,c){a=a||10;var d=this._getExtentSpanWithBreaks();this._approxInterval=d/a,null!=b&&this._approxInterval<b&&(this._approxInterval=b),null!=c&&this._approxInterval>c&&(this._approxInterval=c);var e=rO.length,f=Math.min(rM(rO,this._approxInterval,0,e),e-1);this._interval=rO[f][1],this._intervalPrecision=rl(this._interval),this._minLevelUnit=rO[Math.max(f-1,0)][0]},b.prototype.parse=function(a){return a7(a)?a:+fF(a)},b.prototype.contain=function(a){return rn(a,this._extent)},b.prototype.normalize=function(a){return this._calculator.normalize(a,this._extent)},b.prototype.scale=function(a){return this._calculator.scale(a,this._extent)},b.type="time",b}(ry),rO=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",15768e6],["year",31536e6]];function rP(a,b,c,d){return jG(new Date(b),a,d).getTime()===jG(new Date(c),a,d).getTime()}function rQ(a,b){return(a/=b?6e4:1e3)>30?30:a>20?20:a>15?15:a>10?10:a>5?5:a>2?2:1}rs.registerClass(rN);var rR=fu,rS=Math.floor,rT=Math.ceil,rU=Math.pow,rV=Math.log,rW=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="log",b.base=10,b._originalScale=new ry,b}return aq(b,a),b.prototype.getTicks=function(b){b=b||{};var c=this._extent.slice(),d=this._originalScale.getExtent(),e=a.prototype.getTicks.call(this,b),f=this.base,g=this._originalScale._innerGetBreaks(),h=jv;return aY(e,function(a){var b,e=a.value,i=null,j=rU(f,e);if(e===c[0]&&this._fixMin?i=d[0]:e===c[1]&&this._fixMax&&(i=d[1]),h){var k=h.getTicksLogTransformBreak(a,f,g,rX);b=k.vBreak,null==i&&(i=k.brkRoundingCriterion)}return null!=i&&(j=rX(j,i)),{value:j,break:b}},this)},b.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},b.prototype.setExtent=function(b,c){this._originalScale.setExtent(b,c);var d=rr(this.base,[b,c]);a.prototype.setExtent.call(this,d[0],d[1])},b.prototype.getExtent=function(){var b=this.base,c=a.prototype.getExtent.call(this);c[0]=rU(b,c[0]),c[1]=rU(b,c[1]);var d=this._originalScale.getExtent();return this._fixMin&&(c[0]=rX(c[0],d[0])),this._fixMax&&(c[1]=rX(c[1],d[1])),c},b.prototype.unionExtentFromData=function(a,b){this._originalScale.unionExtentFromData(a,b);var c=rr(this.base,a.getApproximateExtent(b),!0);this._innerUnionExtent(c)},b.prototype.calcNiceTicks=function(a){a=a||10;var b=this._extent.slice(),c=this._getExtentSpanWithBreaks();if(isFinite(c)&&!(c<=0)){var d=fG(c);for(a/c*d<=.5&&(d*=10);!isNaN(d)&&1>Math.abs(d)&&Math.abs(d)>0;)d*=10;var e=[rR(rT(b[0]/d)*d),rR(rS(b[1]/d)*d)];this._interval=d,this._intervalPrecision=rl(d),this._niceExtent=e}},b.prototype.calcNiceExtent=function(b){a.prototype.calcNiceExtent.call(this,b),this._fixMin=b.fixMin,this._fixMax=b.fixMax},b.prototype.contain=function(b){return b=rV(b)/rV(this.base),a.prototype.contain.call(this,b)},b.prototype.normalize=function(b){return b=rV(b)/rV(this.base),a.prototype.normalize.call(this,b)},b.prototype.scale=function(b){return b=a.prototype.scale.call(this,b),rU(this.base,b)},b.prototype.setBreaksFromOption=function(a){var b=jv;if(b){var c=b.logarithmicParseBreaksFromOption(a,this.base,a1(this.parse,this)),d=c.parsedOriginal,e=c.parsedLogged;this._originalScale._innerSetBreak(d),this._innerSetBreak(e)}},b.type="log",b}(ry);function rX(a,b){return rR(a,fw(b))}rs.registerClass(rW);var rY=function(){function a(a,b,c){this._prepareParams(a,b,c)}return a.prototype._prepareParams=function(a,b,c){c[1]<c[0]&&(c=[NaN,NaN]),this._dataMin=c[0],this._dataMax=c[1];var d=this._isOrdinal="ordinal"===a.type;this._needCrossZero="interval"===a.type&&b.getNeedCrossZero&&b.getNeedCrossZero();var e=b.get("min",!0);null==e&&(e=b.get("startValue",!0));var f=this._modelMinRaw=e;a4(f)?this._modelMinNum=r0(a,f({min:c[0],max:c[1]})):"dataMin"!==f&&(this._modelMinNum=r0(a,f));var g=this._modelMaxRaw=b.get("max",!0);if(a4(g)?this._modelMaxNum=r0(a,g({min:c[0],max:c[1]})):"dataMax"!==g&&(this._modelMaxNum=r0(a,g)),d)this._axisDataLen=b.getCategories().length;else{var h=b.get("boundaryGap"),i=a3(h)?h:[h||0,h||0];"boolean"==typeof i[0]||"boolean"==typeof i[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[e0(i[0],1),e0(i[1],1)]}},a.prototype.calculate=function(){var a,b,c=this._isOrdinal,d=this._dataMin,e=this._dataMax,f=this._axisDataLen,g=this._boundaryGapInner,h=c?null:e-d||Math.abs(d),i="dataMin"===this._modelMinRaw?d:this._modelMinNum,j="dataMax"===this._modelMaxRaw?e:this._modelMaxNum,k=null!=i,l=null!=j;null==i&&(i=c?f?0:NaN:d-g[0]*h),null==j&&(j=c?f?f-1:NaN:e+g[1]*h),null!=i&&isFinite(i)||(i=NaN),null!=j&&isFinite(j)||(j=NaN);var m=(a=i)!=a||(b=j)!=b||c&&!f;this._needCrossZero&&(i>0&&j>0&&!k&&(i=0),i<0&&j<0&&!l&&(j=0));var n=this._determinedMin,o=this._determinedMax;return null!=n&&(i=n,k=!0),null!=o&&(j=o,l=!0),{min:i,max:j,minFixed:k,maxFixed:l,isBlank:m}},a.prototype.modifyDataMinMax=function(a,b){this[r$[a]]=b},a.prototype.setDeterminedMinMax=function(a,b){this[rZ[a]]=b},a.prototype.freeze=function(){this.frozen=!0},a}(),rZ={min:"_determinedMin",max:"_determinedMax"},r$={min:"_dataMin",max:"_dataMax"};function r_(a,b,c){var d=a.rawExtentInfo;return d||(d=new rY(a,b,c),a.rawExtentInfo=d),d}function r0(a,b){return null==b?null:b!=b?NaN:a.parse(b)}function r1(a,b){var c=a.type,d=r_(a,b,a.getExtent()).calculate();a.setBlank(d.isBlank);var e=d.min,f=d.max,g=b.ecModel;if(g&&"time"===c){var h=rF("bar",g),i=!1;if(aX(h,function(a){i=i||a.getBaseAxis()===b.axis}),i){var j=function(a,b,c,d){var e=c.axis.getExtent(),f=Math.abs(e[1]-e[0]),g=function(a,b,c){if(a&&b)return a[rE(b)]}(d,c.axis);if(void 0===g)return{min:a,max:b};var h=1/0;aX(g,function(a){h=Math.min(a.offset,h)});var i=-1/0;aX(g,function(a){i=Math.max(a.offset+a.width,i)});var j=(h=Math.abs(h))+(i=Math.abs(i)),k=b-a,l=k/(1-(h+i)/f)-k;return b+=i/j*l,{min:a-=h/j*l,max:b}}(e,f,b,rG(h));e=j.min,f=j.max}}return{extent:[e,f],fixMin:d.minFixed,fixMax:d.maxFixed}}function r2(a,b){var c=r1(a,b),d=c.extent,e=b.get("splitNumber");a instanceof rW&&(a.base=b.get("logBase"));var f=a.type,g=b.get("interval"),h="interval"===f||"time"===f;a.setBreaksFromOption(sb(b)),a.setExtent(d[0],d[1]),a.calcNiceExtent({splitNumber:e,fixMin:c.fixMin,fixMax:c.fixMax,minInterval:h?b.get("minInterval"):null,maxInterval:h?b.get("maxInterval"):null}),null!=g&&a.setInterval&&a.setInterval(g)}function r3(a,b){if(b=b||a.get("type"))switch(b){case"category":return new rw({ordinalMeta:a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),extent:[1/0,-1/0]});case"time":return new rN({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new(rs.getClass(b)||ry)}}function r4(a){var b=a.getLabelModel().get("formatter");if("time"===a.type){var c,d,e,f=a5(b)||a4(b)?b:(c=(c=b)||{},d={},e=!0,aX(jA,function(a){e&&(e=null==c[a])}),aX(jA,function(a,b){var f=c[a];d[a]={};for(var g=null,h=b;h>=0;h--){var i=jA[h],j=a8(f)&&!a3(f)?f[i]:f,k=void 0;a3(j)?g=(k=j.slice())[0]||"":a5(j)?k=[g=j]:(null==g?g=jx[a]:jw[i].test(g)||(g=d[i][i][0]+" "+g),k=[g],e&&(k[1]="{primary|"+g+"}")),d[a][i]=k}}),d);return function(b,c){return a.scale.getFormattedLabel(b,c,f)}}if(a5(b))return function(c){var d=a.scale.getLabel(c);return b.replace("{value}",null!=d?d:"")};if(!a4(b))return function(b){return a.scale.getLabel(b)};if("category"===a.type)return function(c,d){return b(r5(a,c),c.value-a.scale.getExtent()[0],null)};var g=jv;return function(c,d){var e=null;return g&&(e=g.makeAxisLabelFormatterParamBreak(e,c.break)),b(r5(a,c),d,e)}}function r5(a,b){return"category"===a.type?a.scale.getLabel(b):b.value}function r6(a){var b=a.get("interval");return null==b?"auto":b}function r7(a){return"category"===a.type&&0===r6(a.getLabelModel())}function r8(a,b){var c={};return aX(a.mapDimensionsAll(b),function(b){c[rh(a,b)]=!0}),a0(c)}function r9(a){return"middle"===a||"center"===a}function sa(a){return a.getShallow("show")}function sb(a){var b,c=a.get("breaks",!0);if(null!=c){return jv&&("x"===(b=a.axis).dim||"y"===b.dim||"z"===b.dim||"single"===b.dim)&&"category"!==b.type?c:void 0}}var sc=function(){function a(){}return a.prototype.getNeedCrossZero=function(){return!this.option.scale},a.prototype.getCoordSysModel=function(){},a}();function sd(a){return ri(null,a)}var se={isDimensionStacked:rg,enableDataStack:rf,getStackedDimension:rh};function sf(a,b){var c=b;b instanceof jn||(c=new jn(b));var d=r3(c);return d.setExtent(a[0],a[1]),r2(d,c),d}function sg(a){aV(a,sc)}function sh(a,b){return i1(a,null,null,"normal"!==(b=b||{}).state)}function si(a,b){return 1e-8>Math.abs(a-b)}function sj(a,b,c){var d=0,e=a[0];if(!e)return!1;for(var f=1;f<a.length;f++){var g=a[f];d+=hp(e[0],e[1],g[0],g[1],b,c),e=g}var h=a[0];return si(e[0],h[0])&&si(e[1],h[1])||(d+=hp(e[0],e[1],h[0],h[1],b,c)),0!==d}var sk=[];function sl(a,b){for(var c=0;c<a.length;c++)bZ(a[c],a[c],b)}function sm(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e];d&&(f=d.project(f)),f&&isFinite(f[0])&&isFinite(f[1])&&(b$(b,b,f),b_(c,c,f))}}var sn=function(){function a(a){this.name=a}return a.prototype.setCenter=function(a){this._center=a},a.prototype.getCenter=function(){var a=this._center;return a||(a=this._center=this.calcCenter()),a},a}(),so=function(a,b){this.type="polygon",this.exterior=a,this.interiors=b},sp=function(a){this.type="linestring",this.points=a},sq=function(a){function b(b,c,d){var e=a.call(this,b)||this;return e.type="geoJSON",e.geometries=c,e._center=d&&[d[0],d[1]],e}return aq(b,a),b.prototype.calcCenter=function(){for(var a,b=this.geometries,c=0,d=0;d<b.length;d++){var e=b[d],f=e.exterior,g=f&&f.length;g>c&&(a=e,c=g)}if(a)return function(a){for(var b=0,c=0,d=0,e=a.length,f=a[e-1][0],g=a[e-1][1],h=0;h<e;h++){var i=a[h][0],j=a[h][1],k=f*j-i*g;b+=k,c+=(f+i)*k,d+=(g+j)*k,f=i,g=j}return b?[c/b/3,d/b/3,b]:[a[0][0]||0,a[0][1]||0]}(a.exterior);var h=this.getBoundingRect();return[h.x+h.width/2,h.y+h.height/2]},b.prototype.getBoundingRect=function(a){var b=this._rect;if(b&&!a)return b;var c=[1/0,1/0],d=[-1/0,-1/0];return aX(this.geometries,function(b){"polygon"===b.type?sm(b.exterior,c,d,a):aX(b.points,function(b){sm(b,c,d,a)})}),isFinite(c[0])&&isFinite(c[1])&&isFinite(d[0])&&isFinite(d[1])||(c[0]=c[1]=d[0]=d[1]=0),b=new cS(c[0],c[1],d[0]-c[0],d[1]-c[1]),a||(this._rect=b),b},b.prototype.contain=function(a){var b=this.getBoundingRect(),c=this.geometries;if(!b.contain(a[0],a[1]))return!1;c:for(var d=0,e=c.length;d<e;d++){var f=c[d];if("polygon"===f.type){var g=f.exterior,h=f.interiors;if(sj(g,a[0],a[1])){for(var i=0;i<(h?h.length:0);i++)if(sj(h[i],a[0],a[1]))continue c;return!0}}}return!1},b.prototype.transformTo=function(a,b,c,d){var e=this.getBoundingRect(),f=e.width/e.height;c?d||(d=c/f):c=f*d;for(var g=new cS(a,b,c,d),h=e.calculateTransform(g),i=this.geometries,j=0;j<i.length;j++){var k=i[j];"polygon"===k.type?(sl(k.exterior,h),aX(k.interiors,function(a){sl(a,h)})):aX(k.points,function(a){sl(a,h)})}(e=this._rect).copy(g),this._center=[e.x+e.width/2,e.y+e.height/2]},b.prototype.cloneShallow=function(a){null==a&&(a=this.name);var c=new b(a,this.geometries,this._center);return c._rect=this._rect,c.transformTo=null,c},b}(sn),sr=function(a){function b(b,c){var d=a.call(this,b)||this;return d.type="geoSVG",d._elOnlyForCalculate=c,d}return aq(b,a),b.prototype.calcCenter=function(){for(var a=this._elOnlyForCalculate,b=a.getBoundingRect(),c=[b.x+b.width/2,b.y+b.height/2],d=cr(sk),e=a;e&&!e.isGeoSVGGraphicRoot;)ct(d,e.getLocalTransform(),d),e=e.parent;return cx(d,d),bZ(c,c,d),c},b}(sn);function ss(a,b,c){for(var d=0;d<a.length;d++)a[d]=st(a[d],b[d],c)}function st(a,b,c){for(var d=[],e=b[0],f=b[1],g=0;g<a.length;g+=2){var h=a.charCodeAt(g)-64,i=a.charCodeAt(g+1)-64;i=i>>1^-(1&i),h=(h>>1^-(1&h))+e,i+=f,e=h,f=i,d.push([h/c,i/c])}return d}function su(a,b){return aY(a$((a=function(a){if(!a.UTF8Encoding)return a;var b=a.UTF8Scale;return null==b&&(b=1024),aX(a.features,function(a){var c=a.geometry,d=c.encodeOffsets,e=c.coordinates;if(d)switch(c.type){case"LineString":c.coordinates=st(e,d,b);break;case"Polygon":case"MultiLineString":ss(e,d,b);break;case"MultiPolygon":aX(e,function(a,c){return ss(a,d[c],b)})}}),a.UTF8Encoding=!1,a}(a)).features,function(a){return a.geometry&&a.properties&&a.geometry.coordinates.length>0}),function(a){var c=a.properties,d=a.geometry,e=[];switch(d.type){case"Polygon":var f=d.coordinates;e.push(new so(f[0],f.slice(1)));break;case"MultiPolygon":aX(d.coordinates,function(a){a[0]&&e.push(new so(a[0],a.slice(1)))});break;case"LineString":e.push(new sp([d.coordinates]));break;case"MultiLineString":e.push(new sp(d.coordinates))}var g=new sq(c[b||"name"],e,c.cp);return g.properties=c,g})}function sv(a,b,c,d,e,f,g,h){return new h1({style:{text:a,font:b,align:c,verticalAlign:d,padding:e,rich:f,overflow:g?"truncate":null,lineHeight:h}}).getBoundingRect()}var sw=f0(),sx=f0();function sy(a){return{out:{noPxChangeTryDetermine:[]},kind:a}}function sz(a,b){var c=aY(b,function(b){return a.scale.parse(b)});return"time"===a.type&&c.length>0&&(c.sort(),c.unshift(c[0]),c.push(c[c.length-1])),c}function sA(a,b,c){var d,e,f=sC(a),g=r6(b),h=1===c.kind;if(!h){var i=sE(f,g);if(i)return i}a4(g)?d=sJ(a,g):(e="auto"===g?function(a,b){if(1===b.kind){var c=a.calculateCategoryInterval(b);return b.out.noPxChangeTryDetermine.push(function(){return sx(a).autoInterval=c,!0}),c}var d=sx(a).autoInterval;return null!=d?d:sx(a).autoInterval=a.calculateCategoryInterval(b)}(a,c):g,d=sI(a,e));var j={labels:d,labelCategoryInterval:e};return h?c.out.noPxChangeTryDetermine.push(function(){return sF(f,g,j),!0}):sF(f,g,j),j}var sB=sD("axisTick"),sC=sD("axisLabel");function sD(a){return function(b){return sx(b)[a]||(sx(b)[a]={list:[]})}}function sE(a,b){for(var c=0;c<a.list.length;c++)if(a.list[c].key===b)return a.list[c].value}function sF(a,b,c){return a.list.push({key:b,value:c}),c}function sG(a,b,c){return null==sH(a,b,c)}function sH(a,b,c){var d=sw(a.model),e=a.getExtent(),f=d.lastAutoInterval,g=d.lastTickCount;if(null!=f&&null!=g&&1>=Math.abs(f-b)&&1>=Math.abs(g-c)&&f>b&&d.axisExtent0===e[0]&&d.axisExtent1===e[1])return f;d.lastTickCount=c,d.lastAutoInterval=b,d.axisExtent0=e[0],d.axisExtent1=e[1]}function sI(a,b,c){var d=r4(a),e=a.scale,f=e.getExtent(),g=a.getLabelModel(),h=[],i=Math.max((b||0)+1,1),j=f[0],k=e.count();0!==j&&i>1&&k/i>2&&(j=Math.round(Math.ceil(j/i)*i));var l=r7(a),m=g.get("showMinLabel")||l,n=g.get("showMaxLabel")||l;m&&j!==f[0]&&p(f[0]);for(var o=j;o<=f[1];o+=i)p(o);function p(a){var b={value:a};h.push(c?a:{formattedLabel:d(b),rawLabel:e.getLabel(b),tickValue:a,time:void 0,break:void 0})}return n&&o-i!==f[1]&&p(f[1]),h}function sJ(a,b,c){var d=a.scale,e=r4(a),f=[];return aX(d.getTicks(),function(a){var g=d.getLabel(a),h=a.value;b(a.value,g)&&f.push(c?h:{formattedLabel:e(a),rawLabel:g,tickValue:h,time:void 0,break:void 0})}),f}var sK=[0,1];function sL(a,b){var c=(a[1]-a[0])/b/2;a[0]+=c,a[1]-=c}let sM=function(){function a(a,b,c){this.onBand=!1,this.inverse=!1,this.dim=a,this.scale=b,this._extent=c||[0,0]}return a.prototype.contain=function(a){var b=this._extent,c=Math.min(b[0],b[1]),d=Math.max(b[0],b[1]);return a>=c&&a<=d},a.prototype.containData=function(a){return this.scale.contain(this.scale.parse(a))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(a){return fy(a||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(a,b){var c=this._extent;c[0]=a,c[1]=b},a.prototype.dataToCoord=function(a,b){var c=this._extent,d=this.scale;return a=d.normalize(d.parse(a)),this.onBand&&"ordinal"===d.type&&sL(c=c.slice(),d.count()),fr(a,sK,c,b)},a.prototype.coordToData=function(a,b){var c=this._extent,d=this.scale;this.onBand&&"ordinal"===d.type&&sL(c=c.slice(),d.count());var e=fr(a,c,sK,b);return this.scale.scale(e)},a.prototype.pointToData=function(a,b){},a.prototype.getTicksCoords=function(a){var b=(a=a||{}).tickModel||this.getTickModel(),c=function(a,b,c){var d=a.getTickModel().get("customValues");if(d){var e=a.scale.getExtent();return{ticks:a$(sz(a,d),function(a){return a>=e[0]&&a<=e[1]})}}return"category"===a.type?function(a,b){var c,d,e=sB(a),f=r6(b),g=sE(e,f);if(g)return g;if((!b.get("show")||a.scale.isBlank())&&(c=[]),a4(f))c=sJ(a,f,!0);else if("auto"===f){var h=sA(a,a.getLabelModel(),sy(2));d=h.labelCategoryInterval,c=aY(h.labels,function(a){return a.tickValue})}else c=sI(a,d=f,!0);return sF(e,f,{ticks:c,tickCategoryInterval:d})}(a,b):{ticks:aY(a.scale.getTicks(c),function(a){return a.value})}}(this,b,{breakTicks:a.breakTicks,pruneByBreak:a.pruneByBreak}).ticks,d=aY(c,function(a){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(a):a),tickValue:a}},this);return function(a,b,c,d){var e,f,g=b.length;if(a.onBand&&!c&&g){var h=a.getExtent();if(1===g)b[0].coord=h[0],b[0].onBand=!0,e=b[1]={coord:h[1],tickValue:b[0].tickValue,onBand:!0};else{var i=b[g-1].tickValue-b[0].tickValue,j=(b[g-1].coord-b[0].coord)/i;aX(b,function(a){a.coord-=j/2,a.onBand=!0});var k=a.scale.getExtent();f=1+k[1]-b[g-1].tickValue,e={coord:b[g-1].coord+j*f,tickValue:k[1]+1,onBand:!0},b.push(e)}var l=h[0]>h[1];m(b[0].coord,h[0])&&(d?b[0].coord=h[0]:b.shift()),d&&m(h[0],b[0].coord)&&b.unshift({coord:h[0],onBand:!0}),m(h[1],e.coord)&&(d?e.coord=h[1]:b.pop()),d&&m(e.coord,h[1])&&b.push({coord:h[1],onBand:!0})}function m(a,b){return a=fu(a),b=fu(b),l?a>b:a<b}}(this,d,b.get("alignWithLabel"),a.clamp),d},a.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var a=this.model.getModel("minorTick").get("splitNumber");return a>0&&a<100||(a=5),aY(this.scale.getMinorTicks(a),function(a){return aY(a,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this)},a.prototype.getViewLabels=function(a){return function(a,b){var c,d,e,f,g,h,i,j=a.getLabelModel().get("customValues");if(j){var k=r4(a),l=a.scale.getExtent();return{labels:aY(a$(sz(a,j),function(a){return a>=l[0]&&a<=l[1]}),function(b){var c={value:b};return{formattedLabel:k(c),rawLabel:a.scale.getLabel(c),tickValue:b,time:void 0,break:void 0}})}}return"category"===a.type?(c=a,d=b,e=c.getLabelModel(),f=sA(c,e,d),!e.get("show")||c.scale.isBlank()?{labels:[]}:f):(h=(g=a).scale.getTicks(),i=r4(g),{labels:aY(h,function(a,b){return{formattedLabel:i(a,b),rawLabel:g.scale.getLabel(a),tickValue:a.value,time:a.time,break:a.break}})})}(this,a=a||sy(2)).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var a=this._extent,b=this.scale.getExtent(),c=b[1]-b[0]+ +!!this.onBand;return 0===c&&(c=1),Math.abs(Math.abs(a[1]-a[0]))/c},a.prototype.calculateCategoryInterval=function(a){return function(a,b){var c,d,e=b.kind,f=(d=(c=a).getLabelModel(),{axisRotate:c.getRotate?c.getRotate():c.isHorizontal&&!c.isHorizontal()?90:0,labelRotate:d.get("rotate")||0,font:d.getFont()}),g=r4(a),h=(f.axisRotate-f.labelRotate)/180*Math.PI,i=a.scale,j=i.getExtent(),k=i.count();if(j[1]-j[0]<1)return 0;var l=1;k>40&&(l=Math.max(1,Math.floor(k/40)));for(var m=j[0],n=a.dataToCoord(m+1)-a.dataToCoord(m),o=Math.abs(n*Math.cos(h)),p=Math.abs(n*Math.sin(h)),q=0,r=0;m<=j[1];m+=l){var s=0,t=0,u=eY(g({value:m}),f.font,"center","top");s=1.3*u.width,t=1.3*u.height,q=Math.max(q,s,7),r=Math.max(r,t,7)}var v=q/o,w=r/p;isNaN(v)&&(v=1/0),isNaN(w)&&(w=1/0);var x=Math.max(0,Math.floor(Math.min(v,w)));if(1===e)return b.out.noPxChangeTryDetermine.push(a1(sG,null,a,x,k)),x;var y=sH(a,x,k);return null!=y?y:x}(this,a=a||sy(2))},a}();function sN(a){var b=ku.extend(a);return ku.registerClass(b),b}function sO(a){var b=mG.extend(a);return mG.registerClass(b),b}function sP(a){var b=mE.extend(a);return mE.registerClass(b),b}function sQ(a){var b=oC.extend(a);return oC.registerClass(b),b}var sR=2*Math.PI,sS=hj.CMD,sT=["top","right","bottom","left"];function sU(a,b,c,d,e,f,g,h){var i=c-a,j=d-b,k=Math.sqrt(i*i+j*j),l=((e-a)*(i/=k)+(f-b)*(j/=k))/k;h&&(l=Math.min(Math.max(l,0),1)),l*=k;var m=g[0]=a+l*i,n=g[1]=b+l*j;return Math.sqrt((m-e)*(m-e)+(n-f)*(n-f))}function sV(a,b,c,d,e,f,g){c<0&&(a+=c,c=-c),d<0&&(b+=d,d=-d);var h=a+c,i=b+d,j=g[0]=Math.min(Math.max(e,a),h),k=g[1]=Math.min(Math.max(f,b),i);return Math.sqrt((j-e)*(j-e)+(k-f)*(k-f))}var sW=[],sX=new cz,sY=new cz,sZ=new cz,s$=new cz,s_=new cz;function s0(a,b){if(a){var c=a.getTextGuideLine(),d=a.getTextContent();if(d&&c){var e=a.textGuideLineConfig||{},f=[[0,0],[0,0],[0,0]],g=e.candidates||sT,h=d.getBoundingRect().clone();h.applyTransform(d.getComputedTransform());var i=1/0,j=e.anchor,k=a.getComputedTransform(),l=k&&cx([],k),m=b.get("length2")||0;j&&sZ.copy(j);for(var n=0;n<g.length;n++){!function(a,b,c,d,e){var f=c.width,g=c.height;switch(a){case"top":d.set(c.x+f/2,c.y-0),e.set(0,-1);break;case"bottom":d.set(c.x+f/2,c.y+g+0),e.set(0,1);break;case"left":d.set(c.x-0,c.y+g/2),e.set(-1,0);break;case"right":d.set(c.x+f+0,c.y+g/2),e.set(1,0)}}(g[n],0,h,sX,s$),cz.scaleAndAdd(sY,sX,s$,m),sY.transform(l);var o=a.getBoundingRect(),p=j?j.distance(sY):a instanceof hy?function(a,b,c){for(var d,e,f=0,g=0,h=0,i=0,j=1/0,k=b.data,l=a.x,m=a.y,n=0;n<k.length;){var o=k[n++];1===n&&(f=k[n],g=k[n+1],h=f,i=g);var p=j;switch(o){case sS.M:h=k[n++],i=k[n++],f=h,g=i;break;case sS.L:p=sU(f,g,k[n],k[n+1],l,m,sW,!0),f=k[n++],g=k[n++];break;case sS.C:p=dp(f,g,k[n++],k[n++],k[n++],k[n++],k[n],k[n+1],l,m,sW),f=k[n++],g=k[n++];break;case sS.Q:p=du(f,g,k[n++],k[n++],k[n],k[n+1],l,m,sW),f=k[n++],g=k[n++];break;case sS.A:var q=k[n++],r=k[n++],s=k[n++],t=k[n++],u=k[n++],v=k[n++];n+=1;var w=!!(1-k[n++]);d=Math.cos(u)*s+q,e=Math.sin(u)*t+r,n<=1&&(h=d,i=e);var x=(l-q)*t/s+q;p=function(a,b,c,d,e,f,g,h,i){var j=Math.sqrt((g-=a)*g+(h-=b)*h),k=(g/=j)*c+a,l=(h/=j)*c+b;if(Math.abs(d-e)%sR<1e-4)return i[0]=k,i[1]=l,j-c;if(f){var m=d;d=hn(e),e=hn(m)}else d=hn(d),e=hn(e);d>e&&(e+=sR);var n=Math.atan2(h,g);if(n<0&&(n+=sR),n>=d&&n<=e||n+sR>=d&&n+sR<=e)return i[0]=k,i[1]=l,j-c;var o=c*Math.cos(d)+a,p=c*Math.sin(d)+b,q=c*Math.cos(e)+a,r=c*Math.sin(e)+b,s=(o-g)*(o-g)+(p-h)*(p-h),t=(q-g)*(q-g)+(r-h)*(r-h);return s<t?(i[0]=o,i[1]=p,Math.sqrt(s)):(i[0]=q,i[1]=r,Math.sqrt(t))}(q,r,t,u,u+v,w,x,m,sW),f=Math.cos(u+v)*s+q,g=Math.sin(u+v)*t+r;break;case sS.R:p=sV(h=f=k[n++],i=g=k[n++],k[n++],k[n++],l,m,sW);break;case sS.Z:p=sU(f,g,h,i,l,m,sW,!0),f=h,g=i}p<j&&(j=p,c.set(sW[0],sW[1]))}return j}(sY,a.path,sZ):function(a,b,c){var d=sV(b.x,b.y,b.width,b.height,a.x,a.y,sW);return c.set(sW[0],sW[1]),d}(sY,o,sZ);p<i&&(i=p,sY.transform(k),sZ.transform(k),sZ.toArray(f[0]),sY.toArray(f[1]),sX.toArray(f[2]))}s3(f,b.get("minTurnAngle")),c.setShape({points:f})}}}var s1=[],s2=new cz;function s3(a,b){if(b<=180&&b>0){b=b/180*Math.PI,sX.fromArray(a[0]),sY.fromArray(a[1]),sZ.fromArray(a[2]),cz.sub(s$,sX,sY),cz.sub(s_,sZ,sY);var c=s$.len(),d=s_.len();if(!(c<.001)&&!(d<.001)&&(s$.scale(1/c),s_.scale(1/d),Math.cos(b)<s$.dot(s_))){var e=sU(sY.x,sY.y,sZ.x,sZ.y,sX.x,sX.y,s1,!1);s2.fromArray(s1),s2.scaleAndAdd(s_,e/Math.tan(Math.PI-b));var f=sZ.x!==sY.x?(s2.x-sY.x)/(sZ.x-sY.x):(s2.y-sY.y)/(sZ.y-sY.y);if(isNaN(f))return;f<0?cz.copy(s2,sY):f>1&&cz.copy(s2,sZ),s2.toArray(a[1])}}}function s4(a,b,c,d){var e="normal"===c,f=e?a:a.ensureState(c);f.ignore=b;var g=d.get("smooth");g&&!0===g&&(g=.3),f.shape=f.shape||{},g>0&&(f.shape.smooth=g);var h=d.getModel("lineStyle").getLineStyle();e?a.useStyle(h):f.style=h}function s5(a,b){var c=b.smooth,d=b.points;if(d)if(a.moveTo(d[0][0],d[0][1]),c>0&&d.length>=3){var e=bU(d[0],d[1]),f=bU(d[1],d[2]);if(!e||!f){a.lineTo(d[1][0],d[1][1]),a.lineTo(d[2][0],d[2][1]);return}var g=Math.min(e,f)*c,h=bY([],d[1],d[0],g/e),i=bY([],d[1],d[2],g/f),j=bY([],h,i,.5);a.bezierCurveTo(h[0],h[1],h[0],h[1],j[0],j[1]),a.bezierCurveTo(i[0],i[1],i[0],i[1],d[2][0],d[2][1])}else for(var k=1;k<d.length;k++)a.lineTo(d[k][0],d[k][1])}function s6(a,b,c){var d=a.getTextGuideLine(),e=a.getTextContent();if(!e){d&&a.removeTextGuideLine();return}for(var f=b.normal,g=f.get("show"),h=e.ignore,i=0;i<h9.length;i++){var j=h9[i],k=b[j],l="normal"===j;if(k){var m=k.get("show");if((l?h:bh(e.states[j]&&e.states[j].ignore,h))||!bh(m,g)){var n=l?d:d&&d.states[j];n&&(n.ignore=!0),d&&s4(d,!0,j,k);continue}!d&&(d=new ns,a.setTextGuideLine(d),l||!h&&g||s4(d,!0,"normal",b.normal),a.stateProxy&&(d.stateProxy=a.stateProxy)),s4(d,!1,j,k)}}if(d){aR(d.style,c),d.style.fill=null;var o=f.get("showAbove");(a.textGuideLineConfig=a.textGuideLineConfig||{}).showAbove=o||!1,d.buildPath=s5}}function s7(a,b){b=b||"labelLine";for(var c={normal:a.getModel(b)},d=0;d<h8.length;d++){var e=h8[d];c[e]=a.getModel([e,b])}return c}var s8=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"];function s9(a,b,c){c=c||3,b?a.dirty|=c:a.dirty&=~c}function ta(a,b){return b=b||3,null==a.dirty||!!(a.dirty&b)}function tb(a){if(a)return ta(a)&&tc(a,a.label,a),a}function tc(a,b,c){var d=b.getComputedTransform();a.transform=oq(a.transform,d);var e=a.localRect=op(a.localRect,b.getBoundingRect()),f=b.style,g=f.margin,h=c&&c.marginForce,i=c&&c.minMarginForce,j=c&&c.marginDefault,k=f.__marginType;null==k&&j&&(g=j,k=jb.textMargin);for(var l=0;l<4;l++)td[l]=k===jb.minMargin&&i&&null!=i[l]?i[l]:h&&null!=h[l]?h[l]:g?g[l]:0;k===jb.textMargin&&oh(e,td,!1,!1);var m=a.rect=op(a.rect,e);return d&&m.applyTransform(d),k===jb.minMargin&&oh(m,td,!1,!1),a.axisAligned=on(d),(a.label=a.label||{}).ignore=b.ignore,s9(a,!1),s9(a,!0,2),a}var td=[0,0,0,0];function te(a,b){if(a){a.label.x+=b.x,a.label.y+=b.y,a.label.markRedraw();var c=a.transform;c&&(c[4]+=b.x,c[5]+=b.y);var d=a.rect;d&&(d.x+=b.x,d.y+=b.y);var e=a.obb;e&&e.fromBoundingRect(a.localRect,c)}}function tf(a,b){for(var c=0;c<s8.length;c++){var d=s8[c];null==a[d]&&(a[d]=b[d])}return tb(a)}function tg(a){var b=a.obb;return(!b||ta(a,2))&&(a.obb=b=b||new nR,b.fromBoundingRect(a.localRect,a.transform),s9(a,!1,2)),b}function th(a,b,c,d,e){var f,g,h,i=a.length,j=nV[b],k=nW[b];if(i<2)return!1;a.sort(function(a,b){return a.rect[j]-b.rect[j]});for(var l=0,m=!1,n=0,o=0;o<i;o++){var p=a[o],q=p.rect;(f=q[j]-l)<0&&(q[j]-=f,p.label[j]-=f,m=!0),n+=Math.max(-f,0),l=q[j]+q[k]}n>0&&e&&v(-n/i,0,i);var r=a[0],s=a[i-1];function t(){g=r.rect[j]-c,h=d-s.rect[j]-s.rect[k]}function u(a,b,c){if(a<0){var d=Math.min(b,-a);if(d>0){v(d*c,0,i);var e=d+a;e<0&&w(-e*c,1)}else w(-a*c,1)}}function v(b,c,d){0!==b&&(m=!0);for(var e=c;e<d;e++){var f=a[e],g=f.rect;g[j]+=b,f.label[j]+=b}}function w(b,c){for(var d=[],e=0,f=1;f<i;f++){var g=a[f-1].rect,h=Math.max(a[f].rect[j]-g[j]-g[k],0);d.push(h),e+=h}if(e){var l=Math.min(Math.abs(b)/e,c);if(b>0)for(var f=0;f<i-1;f++){var m=d[f]*l;v(m,0,f+1)}else for(var f=i-1;f>0;f--){var m=d[f-1]*l;v(-m,f,i)}}}function x(a){for(var b=a<0?-1:1,c=Math.ceil((a=Math.abs(a))/(i-1)),d=0;d<i-1;d++)if(b>0?v(c,0,d+1):v(-c,i-d-1,i),(a-=c)<=0)return}return t(),g<0&&w(-g,.8),h<0&&w(h,.8),t(),u(g,h,1),u(h,g,-1),t(),g<0&&x(-g),h<0&&x(h),m}function ti(a){var b=[];function c(a){if(!a.ignore){var b=a.ensureState("emphasis");null==b.ignore&&(b.ignore=!1)}a.ignore=!0}a.sort(function(a,b){return!!b.suggestIgnore-!!a.suggestIgnore||b.priority-a.priority});for(var d=0;d<a.length;d++){var e=tb(a[d]);if(!e.label.ignore){for(var f=e.label,g=e.labelLine,h=!1,i=0;i<b.length;i++)if(tj(e,b[i],null,{touchThreshold:.05})){h=!0;break}h?(c(f),g&&c(g)):b.push(e)}}}function tj(a,b,c,d){return!!a&&!!b&&(!a.label||!a.label.ignore)&&(!b.label||!b.label.ignore)&&!!a.rect.intersect(b.rect,c,d)&&(!!a.axisAligned&&!!b.axisAligned||tg(a).intersect(tg(b),c,d))}var tk=["align","verticalAlign","width","height","fontSize"],tl=new eQ,tm=f0(),tn=f0();function to(a,b,c){for(var d=0;d<c.length;d++){var e=c[d];null!=b[e]&&(a[e]=b[e])}}var tp=["x","y","rotation"],tq=function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(a,b,c,d,e){var f,g=d.style,h=d.__hostTarget.textConfig||{},i=d.getComputedTransform(),j=d.getBoundingRect().plain();cS.applyTransform(j,j,i),i?tl.setLocalTransform(i):(tl.x=tl.y=tl.rotation=tl.originX=tl.originY=0,tl.scaleX=tl.scaleY=1),tl.rotation=hn(tl.rotation);var k=d.__hostTarget;if(k){f=k.getBoundingRect().plain();var l=k.getComputedTransform();cS.applyTransform(f,f,l)}var m=f&&k.getTextGuideLine();this._labelList.push({label:d,labelLine:m,seriesModel:c,dataIndex:a,dataType:b,layoutOptionOrCb:e,layoutOption:null,rect:j,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:d.ignore,labelGuideIgnore:m&&m.ignore,x:tl.x,y:tl.y,scaleX:tl.scaleX,scaleY:tl.scaleY,rotation:tl.rotation,style:{x:g.x,y:g.y,align:g.align,verticalAlign:g.verticalAlign,width:g.width,height:g.height,fontSize:g.fontSize},cursor:d.cursor,attachedPos:h.position,attachedRot:h.rotation}})},a.prototype.addLabelsOfSeries=function(a){var b=this;this._chartViewList.push(a);var c=a.__model,d=c.get("labelLayout");(a4(d)||a0(d).length)&&a.group.traverse(function(a){if(a.ignore)return!0;var e=a.getTextContent(),f=h2(a);e&&!e.disableLabelLayout&&b._addLabel(f.dataIndex,f.dataType,c,e,d)})},a.prototype.updateLayoutConfig=function(a){for(var b=a.getWidth(),c=a.getHeight(),d=0;d<this._labelList.length;d++){var e=this._labelList[d],f=e.label,g=f.__hostTarget,h=e.defaultAttr,i=void 0;i=(i=a4(e.layoutOptionOrCb)?e.layoutOptionOrCb(function(a,b){var c=a.label,d=b&&b.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:c.style.align,verticalAlign:c.style.verticalAlign,labelLinePoints:function(a){if(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].slice());return b}}(d&&d.shape.points)}}(e,g)):e.layoutOptionOrCb)||{},e.layoutOption=i;var j=Math.PI/180;g&&g.setTextConfig({local:!1,position:null!=i.x||null!=i.y?null:h.attachedPos,rotation:null!=i.rotate?i.rotate*j:h.attachedRot,offset:[i.dx||0,i.dy||0]});var k=!1;if(null!=i.x?(f.x=fs(i.x,b),f.setStyle("x",0),k=!0):(f.x=h.x,f.setStyle("x",h.style.x)),null!=i.y?(f.y=fs(i.y,c),f.setStyle("y",0),k=!0):(f.y=h.y,f.setStyle("y",h.style.y)),i.labelLinePoints){var l=g.getTextGuideLine();l&&(l.setShape({points:i.labelLinePoints}),k=!1)}tm(f).needsUpdateLabelLine=k,f.rotation=null!=i.rotate?i.rotate*j:h.rotation,f.scaleX=h.scaleX,f.scaleY=h.scaleY;for(var m=0;m<tk.length;m++){var n=tk[m];f.setStyle(n,null!=i[n]?i[n]:h.style[n])}if(i.draggable){if(f.draggable=!0,f.cursor="move",g){var o=e.seriesModel;null!=e.dataIndex&&(o=e.seriesModel.getData(e.dataType).getItemModel(e.dataIndex)),f.on("drag",function(a,b){return function(){s0(a,b)}}(g,o.getModel("labelLine")))}}else f.off("drag"),f.cursor=h.cursor}},a.prototype.layout=function(a){var b=a.getWidth(),c=a.getHeight(),d=[];aX(this._labelList,function(a){a.defaultAttr.ignore||d.push(tf({},a))});var e=a$(d,function(a){return"shiftX"===a.layoutOption.moveOverlap}),f=a$(d,function(a){return"shiftY"===a.layoutOption.moveOverlap});th(e,0,0,b),th(f,1,0,c);for(var g=a$(d,function(a){return a.layoutOption.hideOverlap}),h=0;h<g.length;h++){var i=g[h],j=i.defaultAttr,k=i.labelLine;i.label.attr("ignore",j.ignore),k&&k.attr("ignore",j.labelGuideIgnore)}ti(g)},a.prototype.processLabelsOverall=function(){var a=this;aX(this._chartViewList,function(b){var c=b.__model,d=b.ignoreLabelLineUpdate,e=c.isAnimationEnabled();b.group.traverse(function(b){if(b.ignore&&!b.forceLabelAnimation)return!0;var f=!d,g=b.getTextContent();!f&&g&&(f=tm(g).needsUpdateLabelLine),f&&a._updateLabelLine(b,c),e&&a._animateLabels(b,c)})})},a.prototype._updateLabelLine=function(a,b){var c=a.getTextContent(),d=h2(a),e=d.dataIndex;if(c&&null!=e){var f=b.getData(d.dataType),g=f.getItemModel(e),h={},i=f.getItemVisual(e,"style");i&&(h.stroke=i[f.getVisual("drawType")]);var j=g.getModel("labelLine");s6(a,s7(g),h),s0(a,j)}},a.prototype._animateLabels=function(a,b){var c=a.getTextContent(),d=a.getTextGuideLine();if(c&&(a.forceLabelAnimation||!c.ignore&&!c.invisible&&!a.disableLabelAnimation&&!iT(a))){var e=tm(c),f=e.oldLayout,g=h2(a),h=g.dataIndex,i={x:c.x,y:c.y,rotation:c.rotation},j=b.getData(g.dataType);if(f){c.attr(f);var k=a.prevStates;k&&(aT(k,"select")>=0&&c.attr(e.oldLayoutSelect),aT(k,"emphasis")>=0&&c.attr(e.oldLayoutEmphasis)),iR(c,i,b,h)}else if(c.attr(i),!i8(c).valueAnimation){var l=bh(c.style.opacity,1);c.style.opacity=0,iS(c,{style:{opacity:l}},b,h)}if(e.oldLayout=i,c.states.select){var m=e.oldLayoutSelect={};to(m,i,tp),to(m,c.states.select,tp)}if(c.states.emphasis){var n=e.oldLayoutEmphasis={};to(n,i,tp),to(n,c.states.emphasis,tp)}ja(c,h,j,b,b)}if(d&&!d.ignore&&!d.invisible){var e=tn(d),f=e.oldLayout,o={points:d.shape.points};f?(d.attr({shape:f}),iR(d,{shape:o},b)):(d.setShape(o),d.style.strokePercent=0,iS(d,{style:{strokePercent:1}},b)),e.oldLayout=o}},a}(),tr=f0();function ts(a){a.registerUpdateLifecycle("series:beforeupdate",function(a,b,c){var d=tr(b).labelManager;d||(d=tr(b).labelManager=new tq),d.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(a,b,c){var d=tr(b).labelManager;c.updatedSeries.forEach(function(a){d.addLabelsOfSeries(b.getViewOfSeriesModel(a))}),d.updateLayoutConfig(b),d.layout(b),d.processLabelsOverall()})}function tt(a,b,c){var d=ax.createCanvas(),e=b.getWidth(),f=b.getHeight(),g=d.style;return g&&(g.position="absolute",g.left="0",g.top="0",g.width=e+"px",g.height=f+"px",d.setAttribute("data-zr-dom-id",a)),d.width=e*c,d.height=f*c,d}qS(ts);var tu=function(a){function b(b,c,d){var e,f=a.call(this)||this;f.motionBlur=!1,f.lastFrameAlpha=.7,f.dpr=1,f.virtual=!1,f.config={},f.incremental=!1,f.zlevel=0,f.maxRepaintRectCount=5,f.__dirty=!0,f.__firstTimePaint=!0,f.__used=!1,f.__drawIndex=0,f.__startIndex=0,f.__endIndex=0,f.__prevStartIndex=null,f.__prevEndIndex=null,d=d||eH,"string"==typeof b?e=tt(b,c,d):a8(b)&&(b=(e=b).id),f.id=b,f.dom=e;var g=e.style;return g&&(bw(e),e.onselectstart=function(){return!1},g.padding="0",g.margin="0",g.borderWidth="0"),f.painter=c,f.dpr=d,f}return bC(b,a),b.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},b.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},b.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},b.prototype.setUnpainted=function(){this.__firstTimePaint=!0},b.prototype.createBackBuffer=function(){var a=this.dpr;this.domBack=tt("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!==a&&this.ctxBack.scale(a,a)},b.prototype.createRepaintRects=function(a,b,c,d){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var e,f=[],g=this.maxRepaintRectCount,h=!1,i=new cS(0,0,0,0);function j(a){if(!(!a.isFinite()||a.isZero()))if(0===f.length){var b=new cS(0,0,0,0);b.copy(a),f.push(b)}else{for(var c=!1,d=1/0,e=0,j=0;j<f.length;++j){var k=f[j];if(k.intersect(a)){var l=new cS(0,0,0,0);l.copy(k),l.union(a),f[j]=l,c=!0;break}if(h){i.copy(a),i.union(k);var m=a.width*a.height,n=k.width*k.height,o=i.width*i.height-m-n;o<d&&(d=o,e=j)}}if(h&&(f[e].union(a),c=!0),!c){var b=new cS(0,0,0,0);b.copy(a),f.push(b)}h||(h=f.length>=g)}}for(var k=this.__startIndex;k<this.__endIndex;++k){var l=a[k];if(l){var m=l.shouldBePainted(c,d,!0,!0),n=l.__isRendered&&(1&l.__dirty||!m)?l.getPrevPaintRect():null;n&&j(n);var o=m&&(1&l.__dirty||!l.__isRendered)?l.getPaintRect():null;o&&j(o)}}for(var k=this.__prevStartIndex;k<this.__prevEndIndex;++k){var l=b[k],m=l&&l.shouldBePainted(c,d,!0,!0);if(l&&(!m||!l.__zr)&&l.__isRendered){var n=l.getPrevPaintRect();n&&j(n)}}do{e=!1;for(var k=0;k<f.length;){if(f[k].isZero()){f.splice(k,1);continue}for(var p=k+1;p<f.length;)f[k].intersect(f[p])?(e=!0,f[k].union(f[p]),f.splice(p,1)):p++;k++}}while(e);return this._paintRects=f,f},b.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},b.prototype.resize=function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e&&(e.width=a+"px",e.height=b+"px"),d.width=a*c,d.height=b*c,f&&(f.width=a*c,f.height=b*c,1!==c&&this.ctxBack.scale(c,c))},b.prototype.clear=function(a,b,c){var d=this.dom,e=this.ctx,f=d.width,g=d.height;b=b||this.clearColor;var h=this.motionBlur&&!a,i=this.lastFrameAlpha,j=this.dpr,k=this;h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(d,0,0,f/j,g/j));var l=this.domBack;function m(a,c,d,f){if(e.clearRect(a,c,d,f),b&&"transparent"!==b){var g=void 0;bc(b)?(g=(b.global||b.__width===d&&b.__height===f)&&b.__canvasGradient||pu(e,b,{x:0,y:0,width:d,height:f}),b.__canvasGradient=g,b.__width=d,b.__height=f):bd(b)&&(b.scaleX=b.scaleX||j,b.scaleY=b.scaleY||j,g=pE(e,b,{dirty:function(){k.setUnpainted(),k.painter.refresh()}})),e.save(),e.fillStyle=g||b,e.fillRect(a,c,d,f),e.restore()}h&&(e.save(),e.globalAlpha=i,e.drawImage(l,a,c,d,f),e.restore())}!c||h?m(0,0,f,g):c.length&&aX(c,function(a){m(a.x*j,a.y*j,a.width*j,a.height*j)})},b}(b2),tv=function(){function a(a,b,c,d){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var e=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=c=aQ({},c||{}),this.dpr=c.devicePixelRatio||eH,this._singleCanvas=e,this.root=a,a.style&&(bw(a),a.innerHTML=""),this.storage=b;var f=this._zlevelList;this._prevDisplayList=[];var g=this._layers;if(e){var h=a.width,i=a.height;null!=c.width&&(h=c.width),null!=c.height&&(i=c.height),this.dpr=c.devicePixelRatio||1,a.width=h*this.dpr,a.height=i*this.dpr,this._width=h,this._height=i;var j=new tu(a,this,this.dpr);j.__builtin__=!0,j.initContext(),g[314159]=j,j.zlevel=314159,f.push(314159),this._domRoot=a}else{this._width=pw(a,0,c),this._height=pw(a,1,c);var k,l,m,n=this._domRoot=(k=this._width,l=this._height,(m=document.createElement("div")).style.cssText=["position:relative","width:"+k+"px","height:"+l+"px","padding:0;margin:0;border-width:0"].join(";")+";",m);a.appendChild(n)}}return a.prototype.getType=function(){return"canvas"},a.prototype.isSingleCanvas=function(){return this._singleCanvas},a.prototype.getViewportRoot=function(){return this._domRoot},a.prototype.getViewportRootOffset=function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},a.prototype.refresh=function(a){var b=this.storage.getDisplayList(!0),c=this._prevDisplayList,d=this._zlevelList;this._redrawId=Math.random(),this._paintList(b,c,a,this._redrawId);for(var e=0;e<d.length;e++){var f=d[e],g=this._layers[f];if(!g.__builtin__&&g.refresh){var h=0===e?this._backgroundColor:null;g.refresh(h)}}return this._opts.useDirtyRect&&(this._prevDisplayList=b.slice()),this},a.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},a.prototype._paintHoverList=function(a){var b,c=a.length,d=this._hoverlayer;if(d&&d.clear(),c){for(var e={inHover:!0,viewWidth:this._width,viewHeight:this._height},f=0;f<c;f++){var g=a[f];g.__inHover&&(d||(d=this._hoverlayer=this.getLayer(1e5)),b||(b=d.ctx).save(),pN(b,g,e,f===c-1))}b&&b.restore()}},a.prototype.getHoverLayer=function(){return this.getLayer(1e5)},a.prototype.paintOne=function(a,b){pM(a,b)},a.prototype._paintList=function(a,b,c,d){if(this._redrawId===d){c=c||!1,this._updateLayerStatus(a);var e=this._doPaintList(a,b,c),f=e.finished,g=e.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),g&&this._paintHoverList(a),f)this.eachLayer(function(a){a.afterBrush&&a.afterBrush()});else{var h=this;p(function(){h._paintList(a,b,c,d)})}}},a.prototype._compositeManually=function(){var a=this.getLayer(314159).ctx,b=this._domRoot.width,c=this._domRoot.height;a.clearRect(0,0,b,c),this.eachBuiltinLayer(function(d){d.virtual&&a.drawImage(d.dom,0,0,b,c)})},a.prototype._doPaintList=function(a,b,c){for(var d=this,e=[],f=this._opts.useDirtyRect,g=0;g<this._zlevelList.length;g++){var h=this._zlevelList[g],i=this._layers[h];i.__builtin__&&i!==this._hoverlayer&&(i.__dirty||c)&&e.push(i)}for(var j=!0,k=!1,l=this,m=0;m<e.length;m++)!function(g){var h,i=e[g],m=i.ctx,n=f&&i.createRepaintRects(a,b,l._width,l._height),o=c?i.__startIndex:i.__drawIndex,p=!c&&i.incremental&&Date.now,q=p&&Date.now(),r=i.zlevel===l._zlevelList[0]?l._backgroundColor:null;if(i.__startIndex===i.__endIndex)i.clear(!1,r,n);else if(o===i.__startIndex){var s=a[o];s.incremental&&s.notClear&&!c||i.clear(!1,r,n)}-1===o&&(console.error("For some unknown reason. drawIndex is -1"),o=i.__startIndex);var t=function(b){var c={inHover:!1,allClipped:!1,prevEl:null,viewWidth:d._width,viewHeight:d._height};for(h=o;h<i.__endIndex;h++){var e=a[h];if(e.__inHover&&(k=!0),d._doPaintEl(e,i,f,b,c,h===i.__endIndex-1),p&&Date.now()-q>15)break}c.prevElClipPaths&&m.restore()};if(n)if(0===n.length)h=i.__endIndex;else for(var u=l.dpr,v=0;v<n.length;++v){var w=n[v];m.save(),m.beginPath(),m.rect(w.x*u,w.y*u,w.width*u,w.height*u),m.clip(),t(w),m.restore()}else m.save(),t(),m.restore();i.__drawIndex=h,i.__drawIndex<i.__endIndex&&(j=!1)}(m);return at.wxa&&aX(this._layers,function(a){a&&a.ctx&&a.ctx.draw&&a.ctx.draw()}),{finished:j,needsRefreshHover:k}},a.prototype._doPaintEl=function(a,b,c,d,e,f){var g=b.ctx;if(c){var h=a.getPaintRect();(!d||h&&h.intersect(d))&&(pN(g,a,e,f),a.setPrevPaintRect(h))}else pN(g,a,e,f)},a.prototype.getLayer=function(a,b){this._singleCanvas&&!this._needsManuallyCompositing&&(a=314159);var c=this._layers[a];return c||((c=new tu("zr_"+a,this,this.dpr)).zlevel=a,c.__builtin__=!0,this._layerConfig[a]?aO(c,this._layerConfig[a],!0):this._layerConfig[a-.01]&&aO(c,this._layerConfig[a-.01],!0),b&&(c.virtual=b),this.insertLayer(a,c),c.initContext()),c},a.prototype.insertLayer=function(a,b){var c=this._layers,d=this._zlevelList,e=d.length,f=this._domRoot,g=null,h=-1;if(!c[a]){if(b&&(b.__builtin__||"function"==typeof b.resize&&"function"==typeof b.refresh&&1)){if(e>0&&a>d[0]){for(h=0;h<e-1&&(!(d[h]<a)||!(d[h+1]>a));h++);g=c[d[h]]}if(d.splice(h+1,0,a),c[a]=b,!b.virtual)if(g){var i=g.dom;i.nextSibling?f.insertBefore(b.dom,i.nextSibling):f.appendChild(b.dom)}else f.firstChild?f.insertBefore(b.dom,f.firstChild):f.appendChild(b.dom);b.painter||(b.painter=this)}}},a.prototype.eachLayer=function(a,b){for(var c=this._zlevelList,d=0;d<c.length;d++){var e=c[d];a.call(b,this._layers[e],e)}},a.prototype.eachBuiltinLayer=function(a,b){for(var c=this._zlevelList,d=0;d<c.length;d++){var e=c[d],f=this._layers[e];f.__builtin__&&a.call(b,f,e)}},a.prototype.eachOtherLayer=function(a,b){for(var c=this._zlevelList,d=0;d<c.length;d++){var e=c[d],f=this._layers[e];f.__builtin__||a.call(b,f,e)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(a){function b(a){g&&(g.__endIndex!==a&&(g.__dirty=!0),g.__endIndex=a)}if(this.eachBuiltinLayer(function(a,b){a.__dirty=a.__used=!1}),this._singleCanvas)for(var c,d,e=1;e<a.length;e++){var f=a[e];if(f.zlevel!==a[e-1].zlevel||f.incremental){this._needsManuallyCompositing=!0;break}}var g=null,h=0;for(d=0;d<a.length;d++){var f=a[d],i=f.zlevel,j=void 0;c!==i&&(c=i,h=0),f.incremental?((j=this.getLayer(i+.001,this._needsManuallyCompositing)).incremental=!0,h=1):j=this.getLayer(i+.01*(h>0),this._needsManuallyCompositing),j.__builtin__||aM("ZLevel "+i+" has been used by unkown layer "+j.id),j!==g&&(j.__used=!0,j.__startIndex!==d&&(j.__dirty=!0),j.__startIndex=d,j.incremental?j.__drawIndex=-1:j.__drawIndex=d,b(d),g=j),1&f.__dirty&&!f.__inHover&&(j.__dirty=!0,j.incremental&&j.__drawIndex<0&&(j.__drawIndex=d))}b(d),this.eachBuiltinLayer(function(a,b){!a.__used&&a.getElementCount()>0&&(a.__dirty=!0,a.__startIndex=a.__endIndex=a.__drawIndex=0),a.__dirty&&a.__drawIndex<0&&(a.__drawIndex=a.__startIndex)})},a.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},a.prototype._clearLayer=function(a){a.clear()},a.prototype.setBackgroundColor=function(a){this._backgroundColor=a,aX(this._layers,function(a){a.setUnpainted()})},a.prototype.configLayer=function(a,b){if(b){var c=this._layerConfig;c[a]?aO(c[a],b,!0):c[a]=b;for(var d=0;d<this._zlevelList.length;d++){var e=this._zlevelList[d];(e===a||e===a+.01)&&aO(this._layers[e],c[a],!0)}}},a.prototype.delLayer=function(a){var b=this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(aT(c,a),1))},a.prototype.resize=function(a,b){if(this._domRoot.style){var c=this._domRoot;c.style.display="none";var d=this._opts,e=this.root;if(null!=a&&(d.width=a),null!=b&&(d.height=b),a=pw(e,0,d),b=pw(e,1,d),c.style.display="",this._width!==a||b!==this._height){for(var f in c.style.width=a+"px",c.style.height=b+"px",this._layers)this._layers.hasOwnProperty(f)&&this._layers[f].resize(a,b);this.refresh(!0)}this._width=a,this._height=b}else{if(null==a||null==b)return;this._width=a,this._height=b,this.getLayer(314159).resize(a,b)}return this},a.prototype.clearLayer=function(a){var b=this._layers[a];b&&b.clear()},a.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getRenderedCanvas=function(a){if(a=a||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var b=new tu("image",this,a.pixelRatio||this.dpr);b.initContext(),b.clear(!1,a.backgroundColor||this._backgroundColor);var c=b.ctx;if(a.pixelRatio<=this.dpr){this.refresh();var d=b.dom.width,e=b.dom.height;this.eachLayer(function(a){a.__builtin__?c.drawImage(a.dom,0,0,d,e):a.renderToCanvas&&(c.save(),a.renderToCanvas(c),c.restore())})}else for(var f={inHover:!1,viewWidth:this._width,viewHeight:this._height},g=this.storage.getDisplayList(!0),h=0,i=g.length;h<i;h++)pN(c,g[h],f,h===i-1);return b.dom},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a}(),tw=Math.sin,tx=Math.cos,ty=Math.PI,tz=2*Math.PI,tA=180/ty,tB=function(){function a(){}return a.prototype.reset=function(a){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,a||4)},a.prototype.moveTo=function(a,b){this._add("M",a,b)},a.prototype.lineTo=function(a,b){this._add("L",a,b)},a.prototype.bezierCurveTo=function(a,b,c,d,e,f){this._add("C",a,b,c,d,e,f)},a.prototype.quadraticCurveTo=function(a,b,c,d){this._add("Q",a,b,c,d)},a.prototype.arc=function(a,b,c,d,e,f){this.ellipse(a,b,c,c,0,d,e,f)},a.prototype.ellipse=function(a,b,c,d,e,f,g,h){var i=g-f,j=!h,k=Math.abs(i),l=d1(k-tz)||(j?i>=tz:-i>=tz),m=i>0?i%tz:i%tz+tz,n=!1;n=!!l||!d1(k)&&m>=ty==!!j;var o=a+c*tx(f),p=b+d*tw(f);this._start&&this._add("M",o,p);var q=Math.round(e*tA);if(l){var r=1/this._p,s=(j?1:-1)*(tz-r);this._add("A",c,d,q,1,+j,a+c*tx(f+s),b+d*tw(f+s)),r>.01&&this._add("A",c,d,q,0,+j,o,p)}else{var t=a+c*tx(g),u=b+d*tw(g);this._add("A",c,d,q,+n,+j,t,u)}},a.prototype.rect=function(a,b,c,d){this._add("M",a,b),this._add("l",c,0),this._add("l",0,d),this._add("l",-c,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(a,b,c,d,e,f,g,h,i){for(var j=[],k=this._p,l=1;l<arguments.length;l++){var m=arguments[l];if(isNaN(m)){this._invalid=!0;return}j.push(Math.round(m*k)/k)}this._d.push(a+j.join(" ")),this._start="Z"===a},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a}(),tC="none",tD=Math.round,tE=["lineCap","miterLimit","lineJoin"],tF=aY(tE,function(a){return"stroke-"+a.toLowerCase()}),tG="http://www.w3.org/2000/svg",tH="http://www.w3.org/1999/xlink",tI="ecmeta_";function tJ(a){return document.createElementNS(tG,a)}function tK(a,b,c,d,e){return{tag:a,attrs:c||{},children:d,text:e,key:b}}function tL(a,b){var c=(b=b||{}).newline?"\n":"";return function a(b){var d=b.children,e=b.tag,f=b.attrs,g=b.text;return function(a,b){var c=[];if(b)for(var d in b){var e=b[d],f=d;!1!==e&&(!0!==e&&null!=e&&(f+='="'+e+'"'),c.push(f))}return"<"+a+" "+c.join(" ")+">"}(e,f)+("style"!==e?cc(g):g||"")+(d?""+c+aY(d,function(b){return a(b)}).join(c)+c:"")+"</"+e+">"}(a)}function tM(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function tN(a,b,c,d){return tK("svg","root",{width:a,height:b,xmlns:tG,"xmlns:xlink":tH,version:"1.1",baseProfile:"full",viewBox:!!d&&"0 0 "+a+" "+b},c)}var tO=0,tP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},tQ="transform-origin",tR={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function tS(a,b){var c=b.zrId+"-ani-"+b.cssAnimIdx++;return b.cssAnims[c]=a,c}function tT(a){return a5(a)?tP[a]?"cubic-bezier("+tP[a]+")":dw(a)?a:"":""}function tU(a,b,c,d){var e=a.animators,f=e.length,g=[];if(a instanceof nF){var h=function(a,b,c){var d,e,f=a.shape.paths,g={};if(aX(f,function(a){var b=tM(c.zrId);b.animation=!0,tU(a,{},b,!0);var f=b.cssAnims,h=b.cssNodes,i=a0(f),j=i.length;if(j){var k=f[e=i[j-1]];for(var l in k){var m=k[l];g[l]=g[l]||{d:""},g[l].d+=m.d||""}for(var n in h){var o=h[n].animation;o.indexOf(e)>=0&&(d=o)}}}),d){b.d=!1;var h=tS(g,c);return d.replace(e,h)}}(a,b,c);if(h)g.push(h);else if(!f)return}else if(!f)return;for(var i={},j=0;j<f;j++){var k=e[j],l=[k.getMaxTime()/1e3+"s"],m=tT(k.getClip().easing),n=k.getDelay();m?l.push(m):l.push("linear"),n&&l.push(n/1e3+"s"),k.getLoop()&&l.push("infinite");var o=l.join(" ");i[o]=i[o]||[o,[]],i[o][1].push(k)}for(var p in i){var h=function(e){var f,g,h=e[1],i=h.length,j={},k={},l={},m="animation-timing-function";function n(a,b,c){for(var d=a.getTracks(),e=a.getMaxTime(),f=0;f<d.length;f++){var g=d[f];if(g.needsAnimate()){var h=g.keyframes,i=g.propName;if(c&&(i=c(i)),i)for(var j=0;j<h.length;j++){var k=h[j],l=Math.round(k.time/e*100)+"%",n=tT(k.easing),o=k.rawValue;(a5(o)||a7(o))&&(b[l]=b[l]||{},b[l][i]=k.rawValue,n&&(b[l][m]=n))}}}}for(var o=0;o<i;o++){var p=h[o],q=p.targetName;q?"shape"===q&&n(p,k):d||n(p,j)}for(var r in j){var s={};eS(s,a),aQ(s,j[r]);var t=ec(s),u=j[r][m];l[r]=t?{transform:t}:{},function(a,b){var c=b.originX,d=b.originY;(c||d)&&(a[tQ]=c+"px "+d+"px")}(l[r],s),u&&(l[r][m]=u)}var v=!0;for(var r in k){l[r]=l[r]||{};var w=!f,u=k[r][m];w&&(f=new hj);var x=f.len();f.reset(),l[r].d=function(a,b,c){var d=aQ({},a.shape);aQ(d,b),a.buildPath(c,d);var e=new tB;return e.reset(eb(a)),c.rebuildPath(e,1),e.generateStr(),e.getStr()}(a,k[r],f);var y=f.len();if(!w&&x!==y){v=!1;break}u&&(l[r][m]=u)}if(!v)for(var r in l)delete l[r].d;if(!d)for(var o=0;o<i;o++){var p=h[o],q=p.targetName;"style"===q&&n(p,l,function(a){return tR[a]})}for(var z=a0(l),A=!0,o=1;o<z.length;o++){var B=z[o-1],C=z[o];if(l[B][tQ]!==l[C][tQ]){A=!1;break}g=l[B][tQ]}if(A&&g){for(var r in l)l[r][tQ]&&delete l[r][tQ];b[tQ]=g}if(a$(z,function(a){return a0(l[a]).length>0}).length)return tS(l,c)+" "+e[0]+" both"}(i[p]);h&&g.push(h)}if(g.length){var q=c.zrId+"-cls-"+tO++;c.cssNodes["."+q]={animation:g.join(",")},b.class=q}}function tV(a,b,c,d){var e=JSON.stringify(a),f=c.cssStyleCache[e];f||(f=c.zrId+"-cls-"+tO++,c.cssStyleCache[e]=f,c.cssNodes["."+f+(d?":hover":"")]=a),b.class=b.class?b.class+" "+f:f}var tW=Math.round;function tX(a){return a&&a4(a.toDataURL)}function tY(a,b,c,d){!function(a,b,c,d){var e,f,g=null==b.opacity?1:b.opacity;if(c instanceof hE)return a("opacity",g);if(null!=(e=b.fill)&&e!==tC){var h=d0(b.fill);a("fill",h.color);var i=null!=b.fillOpacity?b.fillOpacity*h.opacity*g:h.opacity*g;(d||i<1)&&a("fill-opacity",i)}else a("fill",tC);if(null!=(f=b.stroke)&&f!==tC){var j=d0(b.stroke);a("stroke",j.color);var k=b.strokeNoScale?c.getLineScale():1,l=k?(b.lineWidth||0)/k:0,m=null!=b.strokeOpacity?b.strokeOpacity*j.opacity*g:j.opacity*g,n=b.strokeFirst;if((d||1!==l)&&a("stroke-width",l),(d||n)&&a("paint-order",n?"stroke":"fill"),(d||m<1)&&a("stroke-opacity",m),b.lineDash){var o=px(c),p=o[0],q=o[1];p&&(q=tD(q||0),a("stroke-dasharray",p.join(",")),(q||d)&&a("stroke-dashoffset",q))}else d&&a("stroke-dasharray",tC);for(var r=0;r<tE.length;r++){var s=tE[r];if(d||b[s]!==hv[s]){var t=b[s]||hv[s];t&&a(tF[r],t)}}}else d&&a("stroke",tC)}(function(e,f){var g="fill"===e||"stroke"===e;g&&d9(f)?t5(b,a,e,d):g&&d6(f)?t6(c,a,e,d):a[e]=f,g&&d.ssr&&"none"===f&&(a["pointer-events"]="visible")},b,c,!1),function(a,b,c){var d=a.style;if(d&&(d.shadowBlur||d.shadowOffsetX||d.shadowOffsetY)){var e,f,g=(e=a.style,f=a.getGlobalScale(),[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),f[0],f[1]].join(",")),h=c.shadowCache,i=h[g];if(!i){var j=a.getGlobalScale(),k=j[0],l=j[1];if(!k||!l)return;var m=d.shadowOffsetX||0,n=d.shadowOffsetY||0,o=d.shadowBlur,p=d0(d.shadowColor),q=p.opacity,r=p.color;i=c.zrId+"-s"+c.shadowIdx++,c.defs[i]=tK("filter",i,{id:i,x:"-100%",y:"-100%",width:"300%",height:"300%"},[tK("feDropShadow","",{dx:m/k,dy:n/l,stdDeviation:o/2/k+" "+o/2/l,"flood-color":r,"flood-opacity":q})]),h[g]=i}b.filter=ea(i)}}(c,a,d)}function tZ(a,b){var c=fl(b);c&&(c.each(function(b,c){null!=b&&(a[(tI+c).toLowerCase()]=b+"")}),b.isSilent()&&(a[tI+"silent"]="true"))}function t$(a){return d1(a[0]-1)&&d1(a[1])&&d1(a[2])&&d1(a[3]-1)}function t_(a,b,c){if(b&&!(d1(b[4])&&d1(b[5])&&t$(b))){var d=c?10:1e4;a.transform=t$(b)?"translate("+tW(b[4]*d)/d+" "+tW(b[5]*d)/d+")":"matrix("+d2(b[0])+","+d2(b[1])+","+d2(b[2])+","+d2(b[3])+","+d3(b[4])+","+d3(b[5])+")"}}function t0(a,b,c){for(var d=a.points,e=[],f=0;f<d.length;f++)e.push(tW(d[f][0]*c)/c),e.push(tW(d[f][1]*c)/c);b.points=e.join(" ")}function t1(a){return!a.smooth}var t2={circle:[(l=aY(["cx","cy","r"],function(a){return"string"==typeof a?[a,a]:a}),function(a,b,c){for(var d=0;d<l.length;d++){var e=l[d],f=a[e[0]];null!=f&&(b[e[1]]=tW(f*c)/c)}})],polyline:[t0,t1],polygon:[t0,t1]};function t3(a,b){var c=a.style,d=a.shape,e=t2[a.type],f={},g=b.animation,h="path",i=a.style.strokePercent,j=b.compress&&eb(a)||4;if(!e||b.willUpdate||e[1]&&!e[1](d)||g&&function(a){for(var b=a.animators,c=0;c<b.length;c++)if("shape"===b[c].targetName)return!0;return!1}(a)||i<1){var k=!a.path||a.shapeChanged();a.path||a.createPathProxy();var l=a.path;k&&(l.beginPath(),a.buildPath(l,a.shape),a.pathUpdated());var m=l.getVersion(),n=a.__svgPathBuilder;a.__svgPathVersion===m&&n&&i===a.__svgPathStrokePercent||(n||(n=a.__svgPathBuilder=new tB),n.reset(j),l.rebuildPath(n,i),n.generateStr(),a.__svgPathVersion=m,a.__svgPathStrokePercent=i),f.d=n.getStr()}else{h=a.type;var o=Math.pow(10,j);e[0](d,f,o)}return t_(f,a.transform),tY(f,c,a,b),tZ(f,a),b.animation&&tU(a,f,b),b.emphasis&&function(a,b,c){if(!a.ignore)if(a.isSilent()){var d={"pointer-events":"none"};tV(d,b,c,!0)}else{var e=a.states.emphasis&&a.states.emphasis.style?a.states.emphasis.style:{},f=e.fill;if(!f){var g=a.style&&a.style.fill,h=a.states.select&&a.states.select.style&&a.states.select.style.fill,i=a.currentStates.indexOf("select")>=0&&h||g;i&&(f=d$(i))}var j=e.lineWidth;j&&(j/=!e.strokeNoScale&&a.transform?a.transform[0]:1);var d={cursor:"pointer"};f&&(d.fill=f),e.stroke&&(d.stroke=e.stroke),j&&(d["stroke-width"]=j),tV(d,b,c,!0)}}(a,f,b),tK(h,a.id+"",f)}function t4(a,b){return a instanceof hy?t3(a,b):a instanceof hE?function(a,b){var c,d=a.style,e=d.image;if(e&&!a5(e)&&((c=e)&&a5(c.src)?e=e.src:tX(e)&&(e=e.toDataURL())),e){var f=d.x||0,g=d.y||0,h={href:e,width:d.width,height:d.height};return f&&(h.x=f),g&&(h.y=g),t_(h,a.transform),tY(h,d,a,b),tZ(h,a),b.animation&&tU(a,h,b),tK("image",a.id+"",h)}}(a,b):a instanceof hA?function(a,b){var c=a.style,d=c.text;if(null!=d&&(d+=""),!(!d||isNaN(c.x)||isNaN(c.y))){var e,f,g,h=c.font||av,i=c.x||0,j=(e=c.y||0,f=e_(h),"top"===(g=c.textBaseline)?e+=f/2:"bottom"===g&&(e-=f/2),e),k={"dominant-baseline":"central","text-anchor":d4[c.textAlign]||c.textAlign};if(hW(c)){var l="",m=c.fontStyle,n=hU(c.fontSize);if(!parseFloat(n))return;var o=c.fontFamily||au,p=c.fontWeight;l+="font-size:"+n+";font-family:"+o+";",m&&"normal"!==m&&(l+="font-style:"+m+";"),p&&"normal"!==p&&(l+="font-weight:"+p+";"),k.style=l}else k.style="font: "+h;return d.match(/\s/)&&(k["xml:space"]="preserve"),i&&(k.x=i),j&&(k.y=j),t_(k,a.transform),tY(k,c,a,b),tZ(k,a),b.animation&&tU(a,k,b),tK("text",a.id+"",k,void 0,d)}}(a,b):void 0}function t5(a,b,c,d){var e,f=a[c],g={gradientUnits:f.global?"userSpaceOnUse":"objectBoundingBox"};if(d7(f))e="linearGradient",g.x1=f.x,g.y1=f.y,g.x2=f.x2,g.y2=f.y2;else{if(!d8(f))return;e="radialGradient",g.cx=bh(f.x,.5),g.cy=bh(f.y,.5),g.r=bh(f.r,.5)}for(var h=f.colorStops,i=[],j=0,k=h.length;j<k;++j){var l=100*d3(h[j].offset)+"%",m=d0(h[j].color),n=m.color,o=m.opacity,p={offset:l};p["stop-color"]=n,o<1&&(p["stop-opacity"]=o),i.push(tK("stop",j+"",p))}var q=tL(tK(e,"",g,i)),r=d.gradientCache,s=r[q];s||(s=d.zrId+"-g"+d.gradientIdx++,r[q]=s,g.id=s,d.defs[s]=tK(e,s,g,i)),b[c]=ea(s)}function t6(a,b,c,d){var e,f,g,h=a.style[c],i=a.getBoundingRect(),j={},k=h.repeat,l="no-repeat"===k,m="repeat-x"===k,n="repeat-y"===k;if(d5(h)){var o=h.imageWidth,p=h.imageHeight,q=void 0,r=h.image;if(a5(r)?q=r:r&&a5(r.src)?q=r.src:tX(r)&&(q=r.toDataURL()),"undefined"==typeof Image){var s="Image width/height must been given explictly in svg-ssr renderer.";bl(o,s),bl(p,s)}else if(null==o||null==p){var t=function(a,b){if(a){var c=a.elm,d=o||b.width,e=p||b.height;"pattern"===a.tag&&(m?(e=1,d/=i.width):n&&(d=1,e/=i.height)),a.attrs.width=d,a.attrs.height=e,c&&(c.setAttribute("width",d),c.setAttribute("height",e))}},u=gp(q,null,a,function(a){l||t(w,a),t(e,a)});u&&u.width&&u.height&&(o=o||u.width,p=p||u.height)}e=tK("image","img",{href:q,width:o,height:p}),j.width=o,j.height=p}else h.svgElement&&(e=aN(h.svgElement),j.width=h.svgWidth,j.height=h.svgHeight);if(e){l?f=g=1:m?(g=1,f=j.width/i.width):n?(f=1,g=j.height/i.height):j.patternUnits="userSpaceOnUse",null==f||isNaN(f)||(j.width=f),null==g||isNaN(g)||(j.height=g);var v=ec(h);v&&(j.patternTransform=v);var w=tK("pattern","",j,[e]),x=tL(w),y=d.patternCache,z=y[x];z||(z=d.zrId+"-p"+d.patternIdx++,y[x]=z,j.id=z,w=d.defs[z]=tK("pattern",z,j,[e])),b[c]=ea(z)}}function t7(a){return document.createTextNode(a)}function t8(a,b,c){a.insertBefore(b,c)}function t9(a,b){a.removeChild(b)}function ua(a,b){a.appendChild(b)}function ub(a){return a.parentNode}function uc(a){return a.nextSibling}function ud(a,b){a.textContent=b}var ue=tK("","");function uf(a){return void 0===a}function ug(a){return void 0!==a}function uh(a,b){var c=a.key===b.key;return a.tag===b.tag&&c}function ui(a){var b,c=a.children,d=a.tag;if(ug(d)){var e=a.elm=tJ(d);if(ul(ue,a),a3(c))for(b=0;b<c.length;++b){var f=c[b];null!=f&&ua(e,ui(f))}else ug(a.text)&&!a8(a.text)&&ua(e,t7(a.text))}else a.elm=t7(a.text);return a.elm}function uj(a,b,c,d,e){for(;d<=e;++d){var f=c[d];null!=f&&t8(a,ui(f),b)}}function uk(a,b,c,d){for(;c<=d;++c){var e=b[c];null!=e&&(ug(e.tag)?t9(ub(e.elm),e.elm):t9(a,e.elm))}}function ul(a,b){var c,d=b.elm,e=a&&a.attrs||{},f=b.attrs||{};if(e!==f){for(c in f){var g=f[c];e[c]!==g&&(!0===g?d.setAttribute(c,""):!1===g?d.removeAttribute(c):"style"===c?d.style.cssText=g:120!==c.charCodeAt(0)?d.setAttribute(c,g):"xmlns:xlink"===c||"xmlns"===c?d.setAttributeNS("http://www.w3.org/2000/xmlns/",c,g):58===c.charCodeAt(3)?d.setAttributeNS("http://www.w3.org/XML/1998/namespace",c,g):58===c.charCodeAt(5)?d.setAttributeNS(tH,c,g):d.setAttribute(c,g))}for(c in e)c in f||d.removeAttribute(c)}}var um=0,un=function(){function a(a,b,c){if(this.type="svg",this.refreshHover=uo("refreshHover"),this.configLayer=uo("configLayer"),this.storage=b,this._opts=c=aQ({},c),this.root=a,this._id="zr"+um++,this._oldVNode=tN(c.width,c.height),a&&!c.ssr){var d=this._viewport=document.createElement("div");d.style.cssText="position:relative;overflow:hidden";var e=this._svgDom=this._oldVNode.elm=tJ("svg");ul(null,this._oldVNode),d.appendChild(e),a.appendChild(d)}this.resize(c.width,c.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var a=this.renderToVNode({willUpdate:!0});a.attrs.style="position:absolute;left:0;top:0;user-select:none",function(a,b){if(uh(a,b))!function a(b,c){var d=c.elm=b.elm,e=b.children,f=c.children;b!==c&&(ul(b,c),uf(c.text)?ug(e)&&ug(f)?e!==f&&function(b,c,d){for(var e,f,g,h=0,i=0,j=c.length-1,k=c[0],l=c[j],m=d.length-1,n=d[0],o=d[m];h<=j&&i<=m;)null==k?k=c[++h]:null==l?l=c[--j]:null==n?n=d[++i]:null==o?o=d[--m]:uh(k,n)?(a(k,n),k=c[++h],n=d[++i]):uh(l,o)?(a(l,o),l=c[--j],o=d[--m]):uh(k,o)?(a(k,o),t8(b,k.elm,uc(l.elm)),k=c[++h],o=d[--m]):(uh(l,n)?(a(l,n),t8(b,l.elm,k.elm),l=c[--j]):(uf(e)&&(e=function(a,b,c){for(var d={},e=b;e<=c;++e){var f=a[e].key;void 0!==f&&(d[f]=e)}return d}(c,h,j)),uf(f=e[n.key])||(g=c[f]).tag!==n.tag?t8(b,ui(n),k.elm):(a(g,n),c[f]=void 0,t8(b,g.elm,k.elm))),n=d[++i]);(h<=j||i<=m)&&(h>j?uj(b,null==d[m+1]?null:d[m+1].elm,d,i,m):uk(b,c,h,j))}(d,e,f):ug(f)?(ug(b.text)&&ud(d,""),uj(d,null,f,0,f.length-1)):ug(e)?uk(d,e,0,e.length-1):ug(b.text)&&ud(d,""):b.text!==c.text&&(ug(e)&&uk(d,e,0,e.length-1),ud(d,c.text)))}(a,b);else{var c=a.elm,d=ub(c);ui(b),null!==d&&(t8(d,b.elm,uc(c)),uk(d,[a],0,0))}}(this._oldVNode,a),this._oldVNode=a}},a.prototype.renderOneToVNode=function(a){return t4(a,tM(this._id))},a.prototype.renderToVNode=function(a){a=a||{};var b=this.storage.getDisplayList(!0),c=this._width,d=this._height,e=tM(this._id);e.animation=a.animation,e.willUpdate=a.willUpdate,e.compress=a.compress,e.emphasis=a.emphasis,e.ssr=this._opts.ssr;var f=[],g=this._bgVNode=function(a,b,c,d){var e;if(c&&"none"!==c)if(e=tK("rect","bg",{width:a,height:b,x:"0",y:"0"}),d9(c))t5({fill:c},e.attrs,"fill",d);else if(d6(c))t6({style:{fill:c},dirty:by,getBoundingRect:function(){return{width:a,height:b}}},e.attrs,"fill",d);else{var f=d0(c),g=f.color,h=f.opacity;e.attrs.fill=g,h<1&&(e.attrs["fill-opacity"]=h)}return e}(c,d,this._backgroundColor,e);g&&f.push(g);var h=a.compress?null:this._mainVNode=tK("g","main",{},[]);this._paintList(b,e,h?h.children:f),h&&f.push(h);var i=aY(a0(e.defs),function(a){return e.defs[a]});if(i.length&&f.push(tK("defs","defs",{},i)),a.animation){var j,k,l,m,n,o,p,q,r=(j=e.cssNodes,k=e.cssAnims,n=" {"+(m=(l={newline:!0}).newline?"\n":""),o=m+"}",p=aY(a0(j),function(a){return a+n+aY(a0(j[a]),function(b){return b+":"+j[a][b]+";"}).join(m)+o}).join(m),q=aY(a0(k),function(a){return"@keyframes "+a+n+aY(a0(k[a]),function(b){return b+n+aY(a0(k[a][b]),function(c){var d=k[a][b][c];return"d"===c&&(d='path("'+d+'")'),c+":"+d+";"}).join(m)+o}).join(m)+o}).join(m),p||q?["<![CDATA[",p,q,"]]>"].join(m):"");if(r){var s=tK("style","stl",{},[],r);f.push(s)}}return tN(c,d,f,a.useViewBox)},a.prototype.renderToString=function(a){return a=a||{},tL(this.renderToVNode({animation:bh(a.cssAnimation,!0),emphasis:bh(a.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:bh(a.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(a){this._backgroundColor=a},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(a,b,c){for(var d,e,f=a.length,g=[],h=0,i=0,j=0;j<f;j++){var k=a[j];if(!k.invisible){var l=k.__clipPaths,m=l&&l.length||0,n=e&&e.length||0,o=void 0;for(o=Math.max(m-1,n-1);o>=0&&(!l||!e||l[o]!==e[o]);o--);for(var p=n-1;p>o;p--)d=g[--h-1];for(var q=o+1;q<m;q++){var r={};!function(a,b,c){var d=c.clipPathCache,e=c.defs,f=d[a.id];if(!f){var g={id:f=c.zrId+"-c"+c.clipPathIdx++};d[a.id]=f,e[f]=tK("clipPath",f,g,[t3(a,c)])}b["clip-path"]=ea(f)}(l[q],r,b);var s=tK("g","clip-g-"+i++,r,[]);(d?d.children:c).push(s),g[h++]=s,d=s}e=l;var t=t4(k,b);t&&(d?d.children:c).push(t)}}},a.prototype.resize=function(a,b){var c=this._opts,d=this.root,e=this._viewport;if(null!=a&&(c.width=a),null!=b&&(c.height=b),d&&e&&(e.style.display="none",a=pw(d,0,c),b=pw(d,1,c),e.style.display=""),this._width!==a||this._height!==b){if(this._width=a,this._height=b,e){var f=e.style;f.width=a+"px",f.height=b+"px"}if(d6(this._backgroundColor))this.refresh();else{var g=this._svgDom;g&&(g.setAttribute("width",a),g.setAttribute("height",b));var h=this._bgVNode&&this._bgVNode.elm;h&&(h.setAttribute("width",a),h.setAttribute("height",b))}}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(a){var b=this.renderToString(),c="data:image/svg+xml;";return a?(b=ed(b))&&c+"base64,"+b:c+"charset=UTF-8,"+encodeURIComponent(b)},a}();function uo(a){return function(){}}var up=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c}return aq(b,a),b.prototype.getInitialData=function(a){return ri(null,this,{useEncodeDefaulter:!0})},b.prototype.getLegendIcon=function(a){var b=new fc,c=pq("line",0,a.itemHeight/2,a.itemWidth,0,a.lineStyle.stroke,!1);b.add(c),c.setStyle(a.lineStyle);var d=this.getData().getVisual("symbol"),e=this.getData().getVisual("symbolRotate"),f="none"===d?"circle":d,g=.8*a.itemHeight,h=pq(f,(a.itemWidth-g)/2,(a.itemHeight-g)/2,g,g,a.itemStyle.fill);return b.add(h),h.setStyle(a.itemStyle),h.rotation=("inherit"===a.iconRotate?e:a.iconRotate||0)*Math.PI/180,h.setOrigin([a.itemWidth/2,a.itemHeight/2]),f.indexOf("empty")>-1&&(h.style.stroke=h.style.fill,h.style.fill=kv.color.neutral00,h.style.lineWidth=2),b},b.type="series.line",b.dependencies=["grid","polar"],b.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},b}(mE);function uq(a,b){var c=a.mapDimensionsAll("defaultedLabel"),d=c.length;if(1===d){var e=lI(a,b,c[0]);return null!=e?e+"":null}if(d){for(var f=[],g=0;g<c.length;g++)f.push(lI(a,b,c[g]));return f.join(" ")}}function ur(a,b){var c=a.mapDimensionsAll("defaultedLabel");if(!a3(b))return b+"";for(var d=[],e=0;e<c.length;e++){var f=a.getDimensionIndex(c[e]);f>=0&&d.push(b[f])}return d.join(" ")}var us=function(a){function b(b,c,d,e){var f=a.call(this)||this;return f.updateData(b,c,d,e),f}return aq(b,a),b.prototype._createSymbol=function(a,b,c,d,e,f){this.removeAll();var g=pq(a,-1,-1,2,2,null,f);g.attr({z2:bh(e,100),culling:!0,scaleX:d[0]/2,scaleY:d[1]/2}),g.drift=ut,this._symbolType=a,this.add(g)},b.prototype.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(null,a)},b.prototype.getSymbolType=function(){return this._symbolType},b.prototype.getSymbolPath=function(){return this.childAt(0)},b.prototype.highlight=function(){iw(this.childAt(0))},b.prototype.downplay=function(){ix(this.childAt(0))},b.prototype.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a,c.z=b},b.prototype.setDraggable=function(a,b){var c=this.childAt(0);c.draggable=a,c.cursor=!b&&a?"move":c.cursor},b.prototype.updateData=function(a,c,d,e){this.silent=!1;var f=a.getItemVisual(c,"symbol")||"circle",g=a.hostModel,h=b.getSymbolSize(a,c),i=b.getSymbolZ2(a,c),j=f!==this._symbolType,k=e&&e.disableAnimation;if(j){var l=a.getItemVisual(c,"symbolKeepAspect");this._createSymbol(f,a,c,h,i,l)}else{var m=this.childAt(0);m.silent=!1;var n={scaleX:h[0]/2,scaleY:h[1]/2};k?m.attr(n):iR(m,n,g,c),iX(m)}if(this._updateCommon(a,c,h,d,e),j){var m=this.childAt(0);if(!k){var n={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:m.style.opacity}};m.scaleX=m.scaleY=0,m.style.opacity=0,iS(m,n,g,c)}}k&&this.childAt(0).stopAnimation("leave")},b.prototype._updateCommon=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o=this.childAt(0),p=a.hostModel;if(d&&(f=d.emphasisItemStyle,g=d.blurItemStyle,h=d.selectItemStyle,i=d.focus,j=d.blurScope,l=d.labelStatesModels,m=d.hoverScale,n=d.cursorStyle,k=d.emphasisDisabled),!d||a.hasItemOption){var q=d&&d.itemModel?d.itemModel:a.getItemModel(b),r=q.getModel("emphasis");f=r.getModel("itemStyle").getItemStyle(),h=q.getModel(["select","itemStyle"]).getItemStyle(),g=q.getModel(["blur","itemStyle"]).getItemStyle(),i=r.get("focus"),j=r.get("blurScope"),k=r.get("disabled"),l=i0(q),m=r.getShallow("scale"),n=q.getShallow("cursor")}var s=a.getItemVisual(b,"symbolRotate");o.attr("rotation",(s||0)*Math.PI/180||0);var t=ps(a.getItemVisual(b,"symbolOffset"),c);t&&(o.x=t[0],o.y=t[1]),n&&o.attr("cursor",n);var u=a.getItemVisual(b,"style"),v=u.fill;if(o instanceof hE){var w=o.style;o.useStyle(aQ({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},u))}else o.__isEmptyBrush?o.useStyle(aQ({},u)):o.useStyle(u),o.style.decal=null,o.setColor(v,e&&e.symbolInnerColor),o.style.strokeNoScale=!0;var x=a.getItemVisual(b,"liftZ"),y=this._z2;null!=x?null==y&&(this._z2=o.z2,o.z2+=x):null!=y&&(o.z2=y,this._z2=null);var z=e&&e.useNameLabel;i_(o,l,{labelFetcher:p,labelDataIndex:b,defaultText:function(b){return z?a.getName(b):uq(a,b)},inheritColor:v,defaultOpacity:u.opacity}),this._sizeX=c[0]/2,this._sizeY=c[1]/2;var A=o.ensureState("emphasis");A.style=f,o.ensureState("select").style=h,o.ensureState("blur").style=g;var B=null==m||!0===m?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;A.scaleX=this._sizeX*B,A.scaleY=this._sizeY*B,this.setSymbolScale(1),iF(this,i,j,k)},b.prototype.setSymbolScale=function(a){this.scaleX=this.scaleY=a},b.prototype.fadeOut=function(a,b,c){var d=this.childAt(0),e=h2(this).dataIndex,f=c&&c.animation;if(this.silent=d.silent=!0,c&&c.fadeLabel){var g=d.getTextContent();g&&iU(g,{style:{opacity:0}},b,{dataIndex:e,removeOpt:f,cb:function(){d.removeTextContent()}})}else d.removeTextContent();iU(d,{style:{opacity:0},scaleX:0,scaleY:0},b,{dataIndex:e,cb:a,removeOpt:f})},b.getSymbolSize=function(a,b){return pr(a.getItemVisual(b,"symbolSize"))},b.getSymbolZ2=function(a,b){return a.getItemVisual(b,"z2")},b}(fc);function ut(a,b){this.parent.drift(a,b)}function uu(a,b,c,d){return b&&!isNaN(b[0])&&!isNaN(b[1])&&!(d.isIgnore&&d.isIgnore(c))&&!(d.clipShape&&!d.clipShape.contain(b[0],b[1]))&&"none"!==a.getItemVisual(c,"symbol")}function uv(a){return null==a||a8(a)||(a={isIgnore:a}),a||{}}function uw(a){var b=a.hostModel,c=b.getModel("emphasis");return{emphasisItemStyle:c.getModel("itemStyle").getItemStyle(),blurItemStyle:b.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:b.getModel(["select","itemStyle"]).getItemStyle(),focus:c.get("focus"),blurScope:c.get("blurScope"),emphasisDisabled:c.get("disabled"),hoverScale:c.get("scale"),labelStatesModels:i0(b),cursorStyle:b.get("cursor")}}var ux=function(){function a(a){this.group=new fc,this._SymbolCtor=a||us}return a.prototype.updateData=function(a,b){this._progressiveEls=null,b=uv(b);var c=this.group,d=a.hostModel,e=this._data,f=this._SymbolCtor,g=b.disableAnimation,h=uw(a),i={disableAnimation:g},j=b.getSymbolPoint||function(b){return a.getItemLayout(b)};e||c.removeAll(),a.diff(e).add(function(d){var e=j(d);if(uu(a,e,d,b)){var g=new f(a,d,h,i);g.setPosition(e),a.setItemGraphicEl(d,g),c.add(g)}}).update(function(k,l){var m=e.getItemGraphicEl(l),n=j(k);if(!uu(a,n,k,b))return void c.remove(m);var o=a.getItemVisual(k,"symbol")||"circle",p=m&&m.getSymbolType&&m.getSymbolType();if(!m||p&&p!==o)c.remove(m),(m=new f(a,k,h,i)).setPosition(n);else{m.updateData(a,k,h,i);var q={x:n[0],y:n[1]};g?m.attr(q):iR(m,q,d)}c.add(m),a.setItemGraphicEl(k,m)}).remove(function(a){var b=e.getItemGraphicEl(a);b&&b.fadeOut(function(){c.remove(b)},d)}).execute(),this._getSymbolPoint=j,this._data=a},a.prototype.updateLayout=function(){var a=this,b=this._data;b&&b.eachItemGraphicEl(function(b,c){var d=a._getSymbolPoint(c);b.setPosition(d),b.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(a){this._seriesScope=uw(a),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(a,b,c){function d(a){a.isGroup||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],c=uv(c);for(var e=a.start;e<a.end;e++){var f=b.getItemLayout(e);if(uu(b,f,e,c)){var g=new this._SymbolCtor(b,e,this._seriesScope);g.traverse(d),g.setPosition(f),this.group.add(g),b.setItemGraphicEl(e,g),this._progressiveEls.push(g)}}},a.prototype.eachRendered=function(a){om(this._progressiveEls||this.group,a)},a.prototype.remove=function(a){var b=this.group,c=this._data;c&&a?c.eachItemGraphicEl(function(a){a.fadeOut(function(){b.remove(a)},c.hostModel)}):b.removeAll()},a}();function uy(a,b,c){var d,e,f,g,h=a.getBaseAxis(),i=a.getOtherAxis(h),j=(d=i,e=c,f=0,g=d.scale.getExtent(),"start"===e?f=g[0]:"end"===e?f=g[1]:a7(e)&&!isNaN(e)?f=e:g[0]>0?f=g[0]:g[1]<0&&(f=g[1]),f),k=h.dim,l=i.dim,m=b.mapDimension(l),n=b.mapDimension(k),o=+("x"===l||"radius"===l),p=aY(a.dimensions,function(a){return b.mapDimension(a)}),q=!1,r=b.getCalculationInfo("stackResultDimension");return rg(b,p[0])&&(q=!0,p[0]=r),rg(b,p[1])&&(q=!0,p[1]=r),{dataDimsForPoint:p,valueStart:j,valueAxisDim:l,baseAxisDim:k,stacked:!!q,valueDim:m,baseDim:n,baseDataOffset:o,stackedOverDimension:b.getCalculationInfo("stackedOverDimension")}}function uz(a,b,c,d){var e=NaN;a.stacked&&(e=c.get(c.getCalculationInfo("stackedOverDimension"),d)),isNaN(e)&&(e=a.valueStart);var f=a.baseDataOffset,g=[];return g[f]=c.get(a.baseDim,d),g[1-f]=e,b.dataToPoint(g)}var uA=Math.min,uB=Math.max;function uC(a,b){return isNaN(a)||isNaN(b)}function uD(a,b,c,d,e,f,g,h,i){for(var j,k,l,m,n,o,p=c,q=0;q<d;q++){var r=b[2*p],s=b[2*p+1];if(p>=e||p<0)break;if(uC(r,s)){if(i){p+=f;continue}break}if(p===c)a[f>0?"moveTo":"lineTo"](r,s),l=r,m=s;else{var t=r-j,u=s-k;if(t*t+u*u<.5){p+=f;continue}if(g>0){for(var v=p+f,w=b[2*v],x=b[2*v+1];w===r&&x===s&&q<d;)q++,v+=f,p+=f,w=b[2*v],x=b[2*v+1],r=b[2*p],s=b[2*p+1],t=r-j,u=s-k;var y=q+1;if(i)for(;uC(w,x)&&y<d;)y++,v+=f,w=b[2*v],x=b[2*v+1];var z=.5,A=0,B=0,C=void 0,D=void 0;if(y>=d||uC(w,x))n=r,o=s;else{A=w-j,B=x-k;var E=r-j,F=w-r,G=s-k,H=x-s,I=void 0,J=void 0;if("x"===h){I=Math.abs(E),J=Math.abs(F);var K=A>0?1:-1;n=r-K*I*g,o=s,C=r+K*J*g,D=s}else if("y"===h){I=Math.abs(G),J=Math.abs(H);var L=B>0?1:-1;n=r,o=s-L*I*g,C=r,D=s+L*J*g}else I=Math.sqrt(E*E+G*G),n=r-A*g*(1-(z=(J=Math.sqrt(F*F+H*H))/(J+I))),o=s-B*g*(1-z),C=r+A*g*z,D=s+B*g*z,C=uA(C,uB(w,r)),D=uA(D,uB(x,s)),C=uB(C,uA(w,r)),D=uB(D,uA(x,s)),A=C-r,B=D-s,n=r-A*I/J,o=s-B*I/J,n=uA(n,uB(j,r)),o=uA(o,uB(k,s)),n=uB(n,uA(j,r)),o=uB(o,uA(k,s)),A=r-n,B=s-o,C=r+A*J/I,D=s+B*J/I}a.bezierCurveTo(l,m,n,o,r,s),l=C,m=D}else a.lineTo(r,s)}j=r,k=s,p+=f}return q}var uE=function(){this.smooth=0,this.smoothConstraint=!0},uF=function(a){function b(b){var c=a.call(this,b)||this;return c.type="ec-polyline",c}return aq(b,a),b.prototype.getDefaultStyle=function(){return{stroke:kv.color.neutral99,fill:null}},b.prototype.getDefaultShape=function(){return new uE},b.prototype.buildPath=function(a,b){var c=b.points,d=0,e=c.length/2;if(b.connectNulls){for(;e>0&&uC(c[2*e-2],c[2*e-1]);e--);for(;d<e&&uC(c[2*d],c[2*d+1]);d++);}for(;d<e;)d+=uD(a,c,d,e,e,1,b.smooth,b.smoothMonotone,b.connectNulls)+1},b.prototype.getPointOn=function(a,b){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var c,d,e=this.path.data,f=hj.CMD,g="x"===b,h=[],i=0;i<e.length;){var j=e[i++],k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0;switch(j){case f.M:c=e[i++],d=e[i++];break;case f.L:if(k=e[i++],l=e[i++],(q=g?(a-c)/(k-c):(a-d)/(l-d))<=1&&q>=0){var r=g?(l-d)*q+d:(k-c)*q+c;return g?[a,r]:[r,a]}c=k,d=l;break;case f.C:k=e[i++],l=e[i++],m=e[i++],n=e[i++],o=e[i++],p=e[i++];var s=g?dl(c,k,m,o,a,h):dl(d,l,n,p,a,h);if(s>0)for(var t=0;t<s;t++){var u=h[t];if(u<=1&&u>=0){var r=g?dj(d,l,n,p,u):dj(c,k,m,o,u);return g?[a,r]:[r,a]}}c=o,d=p}}},b}(hy),uG=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b}(uE),uH=function(a){function b(b){var c=a.call(this,b)||this;return c.type="ec-polygon",c}return aq(b,a),b.prototype.getDefaultShape=function(){return new uG},b.prototype.buildPath=function(a,b){var c=b.points,d=b.stackedOnPoints,e=0,f=c.length/2,g=b.smoothMonotone;if(b.connectNulls){for(;f>0&&uC(c[2*f-2],c[2*f-1]);f--);for(;e<f&&uC(c[2*e],c[2*e+1]);e++);}for(;e<f;){var h=uD(a,c,e,f,f,1,b.smooth,g,b.connectNulls);uD(a,d,e+h-1,h,f,-1,b.stackedOnSmooth,g,b.connectNulls),e+=h+1,a.closePath()}},b}(hy);function uI(a,b,c,d,e){var f=a.getArea(),g=f.x,h=f.y,i=f.width,j=f.height,k=c.get(["lineStyle","width"])||0;g-=k/2,h-=k/2,i+=k,j+=k,i=Math.ceil(i),g!==Math.floor(g)&&(g=Math.floor(g),i++);var l=new hM({shape:{x:g,y:h,width:i,height:j}});if(b){var m=a.getBaseAxis(),n=m.isHorizontal(),o=m.inverse;n?(o&&(l.shape.x+=i),l.shape.width=0):(o||(l.shape.y+=j),l.shape.height=0);var p=a4(e)?function(a){e(a,l)}:null;iS(l,{shape:{width:i,height:j,x:g,y:h}},c,null,d,p)}return l}function uJ(a,b,c){var d=a.getArea(),e=fu(d.r0,1),f=fu(d.r,1),g=new ni({shape:{cx:fu(a.cx,1),cy:fu(a.cy,1),r0:e,r:f,startAngle:d.startAngle,endAngle:d.endAngle,clockwise:d.clockwise}});return b&&("angle"===a.getBaseAxis().dim?g.shape.endAngle=d.startAngle:g.shape.r=e,iS(g,{shape:{endAngle:d.endAngle,r:f}},c)),g}function uK(a,b,c,d,e){if(a){if("polar"===a.type)return uJ(a,b,c);else if("cartesian2d"===a.type)return uI(a,b,c,d,e)}return null}function uL(a,b){return a.type===b}function uM(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return;return!0}}function uN(a){for(var b=1/0,c=1/0,d=-1/0,e=-1/0,f=0;f<a.length;){var g=a[f++],h=a[f++];isNaN(g)||(b=Math.min(g,b),d=Math.max(g,d)),isNaN(h)||(c=Math.min(h,c),e=Math.max(h,e))}return[[b,c],[d,e]]}function uO(a,b){var c=uN(a),d=c[0],e=c[1],f=uN(b),g=f[0],h=f[1];return Math.max(Math.abs(d[0]-g[0]),Math.abs(d[1]-g[1]),Math.abs(e[0]-h[0]),Math.abs(e[1]-h[1]))}function uP(a){return a7(a)?a:.5*!!a}function uQ(a,b,c,d,e){var f=c.getBaseAxis(),g=+("x"!==f.dim&&"radius"!==f.dim),h=[],i=0,j=[],k=[],l=[],m=[];if(e){for(i=0;i<a.length;i+=2){var n=b||a;isNaN(n[i])||isNaN(n[i+1])||m.push(a[i],a[i+1])}a=m}for(i=0;i<a.length-2;i+=2)switch(l[0]=a[i+2],l[1]=a[i+3],k[0]=a[i],k[1]=a[i+1],h.push(k[0],k[1]),d){case"end":j[g]=l[g],j[1-g]=k[1-g],h.push(j[0],j[1]);break;case"middle":var o=(k[g]+l[g])/2,p=[];j[g]=p[g]=o,j[1-g]=k[1-g],p[1-g]=l[1-g],h.push(j[0],j[1]),h.push(p[0],p[1]);break;default:j[g]=k[g],j[1-g]=l[1-g],h.push(j[0],j[1])}return h.push(a[i++],a[i++]),h}function uR(a,b){return[a[2*b],a[2*b+1]]}function uS(a){if(a.get(["endLabel","show"]))return!0;for(var b=0;b<h8.length;b++)if(a.get([h8[b],"endLabel","show"]))return!0;return!1}function uT(a,b,c,d){if(!uL(b,"cartesian2d"))return uJ(b,c,d);var e=d.getModel("endLabel"),f=e.get("valueAnimation"),g=d.getData(),h={lastFrameIndex:0},i=uS(d)?function(c,d){a._endLabelOnDuring(c,d,g,h,f,e,b)}:null,j=b.getBaseAxis().isHorizontal(),k=uI(b,c,d,function(){var b=a._endLabel;b&&c&&null!=h.originalX&&b.attr({x:h.originalX,y:h.originalY})},i);if(!d.get("clip",!0)){var l=k.shape,m=Math.max(l.width,l.height);j?(l.y-=m,l.height+=2*m):(l.x-=m,l.width+=2*m)}return i&&i(1,k),k}var uU=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.init=function(){var a=new fc,b=new ux;this.group.add(b.group),this._symbolDraw=b,this._lineGroup=a,this._changePolyState=a1(this._changePolyState,this)},b.prototype.render=function(a,b,c){var d,e=a.coordinateSystem,f=this.group,g=a.getData(),h=a.getModel("lineStyle"),i=a.getModel("areaStyle"),j=g.getLayout("points")||[],k="polar"===e.type,l=this._coordSys,m=this._symbolDraw,n=this._polyline,o=this._polygon,p=this._lineGroup,q=!b.ssr&&a.get("animation"),r=!i.isEmpty(),s=i.get("origin"),t=uy(e,g,s),u=r&&function(a,b,c){if(!c.valueDim)return[];for(var d=b.count(),e=rB(2*d),f=0;f<d;f++){var g=uz(c,a,b,f);e[2*f]=g[0],e[2*f+1]=g[1]}return e}(e,g,t),v=a.get("showSymbol"),w=a.get("connectNulls"),x=v&&!k&&function(a,b,c){var d=a.get("showAllSymbol"),e="auto"===d;if(!d||e){var f=c.getAxesByScale("ordinal")[0];if(f&&!(e&&function(a,b){var c=a.getExtent(),d=Math.abs(c[1]-c[0])/a.scale.count();isNaN(d)&&(d=0);for(var e=b.count(),f=Math.max(1,Math.round(e/5)),g=0;g<e;g+=f)if(1.5*us.getSymbolSize(b,g)[+!!a.isHorizontal()]>d)return!1;return!0}(f,b))){var g=b.mapDimension(f.dim),h={};return aX(f.getViewLabels(),function(a){h[f.scale.getRawOrdinalNumber(a.tickValue)]=1}),function(a){return!h.hasOwnProperty(b.get(g,a))}}}}(a,g,e),y=this._data;y&&y.eachItemGraphicEl(function(a,b){a.__temp&&(f.remove(a),y.setItemGraphicEl(b,null))}),v||m.remove(),f.add(p);var z=!k&&a.get("step");e&&e.getArea&&a.get("clip",!0)&&(null!=(d=e.getArea()).width?(d.x-=.1,d.y-=.1,d.width+=.2,d.height+=.2):d.r0&&(d.r0-=.5,d.r+=.5)),this._clipShapeForSymbol=d;var A=function(a,b,c){var d,e,f=a.getVisual("visualMeta");if(f&&f.length&&a.count()){if("cartesian2d"!==b.type)return;for(var g=f.length-1;g>=0;g--){var h=a.getDimensionInfo(f[g].dimension);if("x"===(d=h&&h.coordDim)||"y"===d){e=f[g];break}}if(!e)return;var i=b.getAxis(d),j=aY(e.stops,function(a){return{coord:i.toGlobalCoord(i.dataToCoord(a.value)),color:a.color}}),k=j.length,l=e.outerColors.slice();k&&j[0].coord>j[k-1].coord&&(j.reverse(),l.reverse());var m=function(a,b){var c,d,e=[],f=a.length;function g(a,b,c){var d=a.coord,e=dS((c-d)/(b.coord-d),[a.color,b.color]);return{coord:c,color:e}}for(var h=0;h<f;h++){var i=a[h],j=i.coord;if(j<0)c=i;else if(j>b){d?e.push(g(d,i,b)):c&&e.push(g(c,i,0),g(c,i,b));break}else c&&(e.push(g(c,i,0)),c=null),e.push(i),d=i}return e}(j,"x"===d?c.getWidth():c.getHeight()),n=m.length;if(!n&&k)return j[0].coord<0?l[1]?l[1]:j[k-1].color:l[0]?l[0]:j[0].color;var o=m[0].coord-10,p=m[n-1].coord+10,q=p-o;if(q<.001)return"transparent";aX(m,function(a){a.offset=(a.coord-o)/q}),m.push({offset:n?m[n-1].offset:.5,color:l[1]||"transparent"}),m.unshift({offset:n?m[0].offset:.5,color:l[0]||"transparent"});var r=new nH(0,0,0,0,m,!0);return r[d]=o,r[d+"2"]=p,r}}(g,e,c)||g.getVisual("style")[g.getVisual("drawType")];if(n&&l.type===e.type&&z===this._step){r&&!o?o=this._newPolygon(j,u):o&&!r&&(p.remove(o),o=this._polygon=null),k||this._initOrUpdateEndLabel(a,e,j2(A));var B=p.getClipPath();B?iS(B,{shape:uT(this,e,!1,a).shape},a):p.setClipPath(uT(this,e,!0,a)),v&&m.updateData(g,{isIgnore:x,clipShape:d,disableAnimation:!0,getSymbolPoint:function(a){return[j[2*a],j[2*a+1]]}}),uM(this._stackedOnPoints,u)&&uM(this._points,j)||(q?this._doUpdateAnimation(g,u,e,c,z,s,w):(z&&(u&&(u=uQ(u,j,e,z,w)),j=uQ(j,null,e,z,w)),n.setShape({points:j}),o&&o.setShape({points:j,stackedOnPoints:u})))}else v&&m.updateData(g,{isIgnore:x,clipShape:d,disableAnimation:!0,getSymbolPoint:function(a){return[j[2*a],j[2*a+1]]}}),q&&this._initSymbolLabelAnimation(g,e,d),z&&(u&&(u=uQ(u,j,e,z,w)),j=uQ(j,null,e,z,w)),n=this._newPolyline(j),r?o=this._newPolygon(j,u):o&&(p.remove(o),o=this._polygon=null),k||this._initOrUpdateEndLabel(a,e,j2(A)),p.setClipPath(uT(this,e,!0,a));var C=a.getModel("emphasis"),D=C.get("focus"),E=C.get("blurScope"),F=C.get("disabled");n.useStyle(aR(h.getLineStyle(),{fill:"none",stroke:A,lineJoin:"bevel"})),iJ(n,a,"lineStyle"),n.style.lineWidth>0&&"bolder"===a.get(["emphasis","lineStyle","width"])&&(n.getState("emphasis").style.lineWidth=+n.style.lineWidth+1),h2(n).seriesIndex=a.seriesIndex,iF(n,D,E,F);var G=uP(a.get("smooth")),H=a.get("smoothMonotone");if(n.setShape({smooth:G,smoothMonotone:H,connectNulls:w}),o){var I=g.getCalculationInfo("stackedOnSeries"),J=0;o.useStyle(aR(i.getAreaStyle(),{fill:A,opacity:.7,lineJoin:"bevel",decal:g.getVisual("style").decal})),I&&(J=uP(I.get("smooth"))),o.setShape({smooth:G,stackedOnSmooth:J,smoothMonotone:H,connectNulls:w}),iJ(o,a,"areaStyle"),h2(o).seriesIndex=a.seriesIndex,iF(o,D,E,F)}var K=this._changePolyState;g.eachItemGraphicEl(function(a){a&&(a.onHoverStateChange=K)}),this._polyline.onHoverStateChange=K,this._data=g,this._coordSys=e,this._stackedOnPoints=u,this._points=j,this._step=z,this._valueOrigin=s,a.get("triggerLineEvent")&&(this.packEventData(a,n),o&&this.packEventData(a,o))},b.prototype.packEventData=function(a,b){h2(b).eventData={componentType:"series",componentSubType:"line",componentIndex:a.componentIndex,seriesIndex:a.seriesIndex,seriesName:a.name,seriesType:"line"}},b.prototype.highlight=function(a,b,c,d){var e=a.getData(),f=f_(e,d);if(this._changePolyState("emphasis"),f instanceof Array||null==f||!(f>=0))oC.prototype.highlight.call(this,a,b,c,d);else{var g=e.getLayout("points"),h=e.getItemGraphicEl(f);if(!h){var i=g[2*f],j=g[2*f+1];if(isNaN(i)||isNaN(j)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(i,j))return;var k=a.get("zlevel")||0,l=a.get("z")||0;(h=new us(e,f)).x=i,h.y=j,h.setZ(k,l);var m=h.getSymbolPath().getTextContent();m&&(m.zlevel=k,m.z=l,m.z2=this._polyline.z2+1),h.__temp=!0,e.setItemGraphicEl(f,h),h.stopSymbolAnimation(!0),this.group.add(h)}h.highlight()}},b.prototype.downplay=function(a,b,c,d){var e=a.getData(),f=f_(e,d);if(this._changePolyState("normal"),null!=f&&f>=0){var g=e.getItemGraphicEl(f);g&&(g.__temp?(e.setItemGraphicEl(f,null),this.group.remove(g)):g.downplay())}else oC.prototype.downplay.call(this,a,b,c,d)},b.prototype._changePolyState=function(a){var b=this._polygon;ir(this._polyline,a),b&&ir(b,a)},b.prototype._newPolyline=function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new uF({shape:{points:a},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(b),this._polyline=b,b},b.prototype._newPolygon=function(a,b){var c=this._polygon;return c&&this._lineGroup.remove(c),c=new uH({shape:{points:a,stackedOnPoints:b},segmentIgnoreThreshold:2}),this._lineGroup.add(c),this._polygon=c,c},b.prototype._initSymbolLabelAnimation=function(a,b,c){var d,e,f=b.getBaseAxis(),g=f.inverse;"cartesian2d"===b.type?(d=f.isHorizontal(),e=!1):"polar"===b.type&&(d="angle"===f.dim,e=!0);var h=a.hostModel,i=h.get("animationDuration");a4(i)&&(i=i(null));var j=h.get("animationDelay")||0,k=a4(j)?j(null):j;a.eachItemGraphicEl(function(a,f){if(a){var h=[a.x,a.y],l=void 0,m=void 0,n=void 0;if(c)if(e){var o=b.pointToCoord(h);d?(l=c.startAngle,m=c.endAngle,n=-o[1]/180*Math.PI):(l=c.r0,m=c.r,n=o[0])}else d?(l=c.x,m=c.x+c.width,n=a.x):(l=c.y+c.height,m=c.y,n=a.y);var p=m===l?0:(n-l)/(m-l);g&&(p=1-p);var q=a4(j)?j(f):i*p+k,r=a.getSymbolPath(),s=r.getTextContent();a.attr({scaleX:0,scaleY:0}),a.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:q}),s&&s.animateFrom({style:{opacity:0}},{duration:300,delay:q}),r.disableLabelAnimation=!0}})},b.prototype._initOrUpdateEndLabel=function(a,b,c){var d=a.getModel("endLabel");if(uS(a)){var e,f,g,h=a.getData(),i=this._polyline,j=h.getLayout("points");if(!j){i.removeTextContent(),this._endLabel=null;return}var k=this._endLabel;k||((k=this._endLabel=new h1({z2:200})).ignoreClip=!0,i.setTextContent(this._endLabel),i.disableLabelAnimation=!0);var l=function(a){for(var b,c,d=a.length/2;d>0&&(b=a[2*d-2],c=a[2*d-1],isNaN(b)||isNaN(c));d--);return d-1}(j);l>=0&&(i_(i,i0(a,"endLabel"),{inheritColor:c,labelFetcher:a,labelDataIndex:l,defaultText:function(a,b,c){return null!=c?ur(h,c):uq(h,a)},enableTextSetter:!0},(f=(e=b.getBaseAxis()).isHorizontal(),g=e.inverse,{normal:{align:d.get("align")||(f?g?"right":"left":"center"),verticalAlign:d.get("verticalAlign")||(f?"middle":g?"top":"bottom")}})),i.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},b.prototype._endLabelOnDuring=function(a,b,c,d,e,f,g){var h=this._endLabel,i=this._polyline;if(h){a<1&&null==d.originalX&&(d.originalX=h.x,d.originalY=h.y);var j=c.getLayout("points"),k=c.hostModel,l=k.get("connectNulls"),m=f.get("precision"),n=f.get("distance")||0,o=g.getBaseAxis(),p=o.isHorizontal(),q=o.inverse,r=b.shape,s=q?p?r.x:r.y+r.height:p?r.x+r.width:r.y,t=(p?n:0)*(q?-1:1),u=(p?0:-n)*(q?-1:1),v=p?"x":"y",w=function(a,b,c){for(var d,e,f=a.length/2,g=+("x"!==c),h=0,i=-1,j=0;j<f;j++)if(!(isNaN(e=a[2*j+g])||isNaN(a[2*j+1-g]))){if(0===j){d=e;continue}if(d<=b&&e>=b||d>=b&&e<=b){i=j;break}h=j,d=e}return{range:[h,i],t:(b-d)/(e-d)}}(j,s,v),x=w.range,y=x[1]-x[0],z=void 0;if(y>=1){if(y>1&&!l){var A=uR(j,x[0]);h.attr({x:A[0]+t,y:A[1]+u}),e&&(z=k.getRawValue(x[0]))}else{var A=i.getPointOn(s,v);A&&h.attr({x:A[0]+t,y:A[1]+u});var B=k.getRawValue(x[0]),C=k.getRawValue(x[1]);e&&(z=f9(c,m,B,C,w.t))}d.lastFrameIndex=x[0]}else{var D=1===a||d.lastFrameIndex>0?x[0]:0,A=uR(j,D);e&&(z=k.getRawValue(D)),h.attr({x:A[0]+t,y:A[1]+u})}if(e){var E=i8(h);"function"==typeof E.setLabelText&&E.setLabelText(z)}}},b.prototype._doUpdateAnimation=function(a,b,c,d,e,f,g){var h=this._polyline,i=this._polygon,j=a.hostModel,k=function(a,b,c,d,e,f,g,h){for(var i,j=(i=[],b.diff(a).add(function(a){i.push({cmd:"+",idx:a})}).update(function(a,b){i.push({cmd:"=",idx:b,idx1:a})}).remove(function(a){i.push({cmd:"-",idx:a})}).execute(),i),k=[],l=[],m=[],n=[],o=[],p=[],q=[],r=uy(e,b,g),s=a.getLayout("points")||[],t=b.getLayout("points")||[],u=0;u<j.length;u++){var v=j[u],w=!0,x=void 0,y=void 0;switch(v.cmd){case"=":x=2*v.idx,y=2*v.idx1;var z=s[x],A=s[x+1],B=t[y],C=t[y+1];(isNaN(z)||isNaN(A))&&(z=B,A=C),k.push(z,A),l.push(B,C),m.push(c[x],c[x+1]),n.push(d[y],d[y+1]),q.push(b.getRawIndex(v.idx1));break;case"+":var D=v.idx,E=r.dataDimsForPoint,F=e.dataToPoint([b.get(E[0],D),b.get(E[1],D)]);y=2*D,k.push(F[0],F[1]),l.push(t[y],t[y+1]);var G=uz(r,e,b,D);m.push(G[0],G[1]),n.push(d[y],d[y+1]),q.push(b.getRawIndex(D));break;case"-":w=!1}w&&(o.push(v),p.push(p.length))}p.sort(function(a,b){return q[a]-q[b]});for(var H=k.length,I=rB(H),J=rB(H),K=rB(H),L=rB(H),M=[],u=0;u<p.length;u++){var N=p[u],O=2*u,P=2*N;I[O]=k[P],I[O+1]=k[P+1],J[O]=l[P],J[O+1]=l[P+1],K[O]=m[P],K[O+1]=m[P+1],L[O]=n[P],L[O+1]=n[P+1],M[u]=o[N]}return{current:I,next:J,stackedOnCurrent:K,stackedOnNext:L,status:M}}(this._data,a,this._stackedOnPoints,b,this._coordSys,0,this._valueOrigin,0),l=k.current,m=k.stackedOnCurrent,n=k.next,o=k.stackedOnNext;if(e&&(m=uQ(k.stackedOnCurrent,k.current,c,e,g),l=uQ(k.current,null,c,e,g),o=uQ(k.stackedOnNext,k.next,c,e,g),n=uQ(k.next,null,c,e,g)),uO(l,n)>3e3||i&&uO(m,o)>3e3){h.stopAnimation(),h.setShape({points:n}),i&&(i.stopAnimation(),i.setShape({points:n,stackedOnPoints:o}));return}h.shape.__points=k.current,h.shape.points=l;var p={shape:{points:n}};k.current!==l&&(p.shape.__points=k.next),h.stopAnimation(),iR(h,p,j),i&&(i.setShape({points:l,stackedOnPoints:m}),i.stopAnimation(),iR(i,{shape:{stackedOnPoints:o}},j),h.shape.points!==i.shape.points&&(i.shape.points=h.shape.points));for(var q=[],r=k.status,s=0;s<r.length;s++)if("="===r[s].cmd){var t=a.getItemGraphicEl(r[s].idx1);t&&q.push({el:t,ptIdx:s})}h.animators&&h.animators.length&&h.animators[0].during(function(){i&&i.dirtyShape();for(var a=h.shape.__points,b=0;b<q.length;b++){var c=q[b].el,d=2*q[b].ptIdx;c.x=a[d],c.y=a[d+1],c.markRedraw()}})},b.prototype.remove=function(a){var b=this.group,c=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),c&&c.eachItemGraphicEl(function(a,d){a.__temp&&(b.remove(a),c.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},b.type="line",b}(oC);function uV(a,b){return{seriesType:a,plan:mH(),reset:function(a){var c=a.getData(),d=a.coordinateSystem,e=a.pipelineContext,f=b||e.large;if(d){var g=aY(d.dimensions,function(a){return c.mapDimension(a)}).slice(0,2),h=g.length,i=c.getCalculationInfo("stackResultDimension");rg(c,g[0])&&(g[0]=i),rg(c,g[1])&&(g[1]=i);var j=c.getStore(),k=c.getDimensionIndex(g[0]),l=c.getDimensionIndex(g[1]);return h&&{progress:function(a,b){for(var c=a.end-a.start,e=f&&rB(c*h),g=[],i=[],m=a.start,n=0;m<a.end;m++){var o=void 0;if(1===h){var p=j.get(k,m);o=d.dataToPoint(p,null,i)}else g[0]=j.get(k,m),g[1]=j.get(l,m),o=d.dataToPoint(g,null,i);f?(e[n++]=o[0],e[n++]=o[1]):b.setItemLayout(m,o.slice())}f&&b.setLayout("points",e)}}}}}}var uW={average:function(a){for(var b=0,c=0,d=0;d<a.length;d++)!isNaN(a[d])&&(b+=a[d],c++);return 0===c?NaN:b/c},sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){for(var b=-1/0,c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return isFinite(b)?b:NaN},min:function(a){for(var b=1/0,c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return isFinite(b)?b:NaN},nearest:function(a){return a[0]}},uX=function(a){return Math.round(a.length/2)};function uY(a){return{seriesType:a,reset:function(a,b,c){var d=a.getData(),e=a.get("sampling"),f=a.coordinateSystem,g=d.count();if(g>10&&"cartesian2d"===f.type&&e){var h=f.getBaseAxis(),i=f.getOtherAxis(h),j=h.getExtent(),k=c.getDevicePixelRatio(),l=Math.round(g/(Math.abs(j[1]-j[0])*(k||1)));if(isFinite(l)&&l>1){"lttb"===e?a.setData(d.lttbDownSample(d.mapDimension(i.dim),1/l)):"minmax"===e&&a.setData(d.minmaxDownSample(d.mapDimension(i.dim),1/l));var m=void 0;a5(e)?m=uW[e]:a4(e)&&(m=e),m&&a.setData(d.downSample(d.mapDimension(i.dim),1/l,m,uX))}}}}}var uZ=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.getInitialData=function(a,b){return ri(null,this,{useEncodeDefaulter:!0})},b.prototype.getMarkerPosition=function(a,b,c){var d=this.coordinateSystem;if(d&&d.clampData){var e=d.clampData(a),f=d.dataToPoint(e);if(c)aX(d.getAxes(),function(a,c){if("category"===a.type&&null!=b){var d=a.getTicksCoords(),g=a.getTickModel().get("alignWithLabel"),h=e[c],i="x1"===b[c]||"y1"===b[c];if(i&&!g&&(h+=1),!(d.length<2)){if(2===d.length){f[c]=a.toGlobalCoord(a.getExtent()[+!!i]);return}for(var j=void 0,k=void 0,l=1,m=0;m<d.length;m++){var n=d[m].coord,o=m===d.length-1?d[m-1].tickValue+l:d[m].tickValue;if(o===h){k=n;break}if(o<h)j=n;else if(null!=j&&o>h){k=(n+j)/2;break}1===m&&(l=o-d[0].tickValue)}null==k&&(j?j&&(k=d[d.length-1].coord):k=d[0].coord),f[c]=a.toGlobalCoord(k)}}});else{var g=this.getData(),h=g.getLayout("offset"),i=g.getLayout("size"),j=+!d.getBaseAxis().isHorizontal();f[j]+=h+i/2}return f}return[NaN,NaN]},b.type="series.__base_bar__",b.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},b}(mE);mE.registerClass(uZ);var u$=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.getInitialData=function(){return ri(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},b.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},b.prototype.getProgressiveThreshold=function(){var a=this.get("progressiveThreshold"),b=this.get("largeThreshold");return b>a&&(a=b),a},b.prototype.brushSelector=function(a,b,c){return c.rect(b.getItemLayout(a))},b.type="series.bar",b.dependencies=["grid","polar"],b.defaultOption=jq(uZ.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:kv.color.primary,borderWidth:2}},realtimeSort:!1}),b}(uZ),u_=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},u0=function(a){function b(b){var c=a.call(this,b)||this;return c.type="sausage",c}return aq(b,a),b.prototype.getDefaultShape=function(){return new u_},b.prototype.buildPath=function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=(f-e)*.5,h=e+g,i=b.startAngle,j=b.endAngle,k=b.clockwise,l=2*Math.PI,m=k?j-i<l:i-j<l;m||(i=j-(k?l:-l));var n=Math.cos(i),o=Math.sin(i),p=Math.cos(j),q=Math.sin(j);m?(a.moveTo(n*e+c,o*e+d),a.arc(n*h+c,o*h+d,g,-Math.PI+i,i,!k)):a.moveTo(n*f+c,o*f+d),a.arc(c,d,f,i,j,!k),a.arc(p*h+c,q*h+d,g,j-2*Math.PI,j-Math.PI,!k),0!==e&&a.arc(c,d,e,j,i,k)},b}(hy);function u1(a,b,c){return b*Math.sin(a)*(c?-1:1)}function u2(a,b,c){return b*Math.cos(a)*(c?1:-1)}function u3(a,b,c){var d=a.get("borderRadius");if(null==d)return c?{cornerRadius:0}:null;a3(d)||(d=[d,d,d,d]);var e=Math.abs(b.r||0-b.r0||0);return{cornerRadius:aY(d,function(a){return e0(a,e)})}}var u4=Math.max,u5=Math.min,u6=function(a){function b(){var c=a.call(this)||this;return c.type=b.type,c._isFirstFrame=!0,c}return aq(b,a),b.prototype.render=function(a,b,c,d){this._model=a,this._removeOnRenderedListener(c),this._updateDrawMode(a);var e=a.get("coordinateSystem");("cartesian2d"===e||"polar"===e)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(a,b,c):this._renderNormal(a,b,c,d))},b.prototype.incrementalPrepareRender=function(a){this._clear(),this._updateDrawMode(a),this._updateLargeClip(a)},b.prototype.incrementalRender=function(a,b){this._progressiveEls=[],this._incrementalRenderLarge(a,b)},b.prototype.eachRendered=function(a){om(this._progressiveEls||this.group,a)},b.prototype._updateDrawMode=function(a){var b=a.pipelineContext.large;(null==this._isLargeDraw||b!==this._isLargeDraw)&&(this._isLargeDraw=b,this._clear())},b.prototype._renderNormal=function(a,b,c,d){var e,f=this.group,g=a.getData(),h=this._data,i=a.coordinateSystem,j=i.getBaseAxis();"cartesian2d"===i.type?e=j.isHorizontal():"polar"===i.type&&(e="angle"===j.dim);var k=a.isAnimationEnabled()?a:null,l=function(a,b){var c=a.get("realtimeSort",!0),d=b.getBaseAxis();if(c&&"category"===d.type&&"cartesian2d"===b.type)return{baseAxis:d,otherAxis:b.getOtherAxis(d)}}(a,i);l&&this._enableRealtimeSort(l,g,c);var m=a.get("clip",!0)||l,n=function(a,b){var c=a.getArea&&a.getArea();if(uL(a,"cartesian2d")){var d=a.getBaseAxis();if("category"!==d.type||!d.onBand){var e=b.getLayout("bandWidth");d.isHorizontal()?(c.x-=e,c.width+=2*e):(c.y-=e,c.height+=2*e)}}return c}(i,g);f.removeClipPath();var o=a.get("roundCap",!0),p=a.get("showBackground",!0),q=a.getModel("backgroundStyle"),r=q.get("borderRadius")||0,s=[],t=this._backgroundEls,u=d&&d.isInitSort,v=d&&"changeAxisOrder"===d.type;function w(a){var b,c,d,f=ve[i.type](g,a);if(!f)return null;var h=(b=i,c=e,d=f,new("polar"===b.type?ni:hM)({shape:vl(c,d,b),silent:!0,z2:0}));return h.useStyle(q.getItemStyle()),"cartesian2d"===i.type?h.setShape("r",r):h.setShape("cornerRadius",r),s[a]=h,h}g.diff(h).add(function(b){var c=g.getItemModel(b),d=ve[i.type](g,b,c);if(d&&(p&&w(b),g.hasValue(b)&&vd[i.type](d))){var h=!1;m&&(h=u7[i.type](n,d));var q=u8[i.type](a,g,b,d,e,k,j.model,!1,o);l&&(q.forceLabelAnimation=!0),vg(q,g,b,c,d,a,e,"polar"===i.type),u?q.attr({shape:d}):l?u9(l,k,q,d,b,e,!1,!1):iS(q,{shape:d},a,b),g.setItemGraphicEl(b,q),f.add(q),q.ignore=h}}).update(function(b,c){var d=g.getItemModel(b),x=ve[i.type](g,b,d);if(x){if(p){var y=void 0;0===t.length?y=w(c):((y=t[c]).useStyle(q.getItemStyle()),"cartesian2d"===i.type?y.setShape("r",r):y.setShape("cornerRadius",r),s[b]=y);var z=ve[i.type](g,b);iR(y,{shape:vl(e,z,i)},k,b)}var A=h.getItemGraphicEl(c);if(!g.hasValue(b)||!vd[i.type](x))return void f.remove(A);var B=!1;if(m&&(B=u7[i.type](n,x))&&f.remove(A),A&&("sector"===A.type&&o||"sausage"===A.type&&!o)&&(A&&iW(A,a,c),A=null),A?iX(A):A=u8[i.type](a,g,b,x,e,k,j.model,!0,o),l&&(A.forceLabelAnimation=!0),v){var C=A.getTextContent();if(C){var D=i8(C);null!=D.prevValue&&(D.prevValue=D.value)}}else vg(A,g,b,d,x,a,e,"polar"===i.type);u?A.attr({shape:x}):l?u9(l,k,A,x,b,e,!0,v):iR(A,{shape:x},a,b,null),g.setItemGraphicEl(b,A),A.ignore=B,f.add(A)}}).remove(function(b){var c=h.getItemGraphicEl(b);c&&iW(c,a,b)}).execute();var x=this._backgroundGroup||(this._backgroundGroup=new fc);x.removeAll();for(var y=0;y<s.length;++y)x.add(s[y]);f.add(x),this._backgroundEls=s,this._data=g},b.prototype._renderLarge=function(a,b,c){this._clear(),vj(a,this.group),this._updateLargeClip(a)},b.prototype._incrementalRenderLarge=function(a,b){this._removeBackground(),vj(b,this.group,this._progressiveEls,!0)},b.prototype._updateLargeClip=function(a){var b=a.get("clip",!0)&&uK(a.coordinateSystem,!1,a),c=this.group;b?c.setClipPath(b):c.removeClipPath()},b.prototype._enableRealtimeSort=function(a,b,c){var d=this;if(b.count()){var e=a.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(b,a,c),this._isFirstFrame=!1;else{var f=function(a){var c=b.getItemGraphicEl(a),d=c&&c.shape;return d&&Math.abs(e.isHorizontal()?d.height:d.width)||0};this._onRendered=function(){d._updateSortWithinSameData(b,f,e,c)},c.getZr().on("rendered",this._onRendered)}}},b.prototype._dataSort=function(a,b,c){var d=[];return a.each(a.mapDimension(b.dim),function(a,b){var e=c(b);e=null==e?NaN:e,d.push({dataIndex:b,mappedValue:e,ordinalNumber:a})}),d.sort(function(a,b){return b.mappedValue-a.mappedValue}),{ordinalNumbers:aY(d,function(a){return a.ordinalNumber})}},b.prototype._isOrderChangedWithinSameData=function(a,b,c){for(var d=c.scale,e=a.mapDimension(c.dim),f=Number.MAX_VALUE,g=0,h=d.getOrdinalMeta().categories.length;g<h;++g){var i=a.rawIndexOf(e,d.getRawOrdinalNumber(g)),j=i<0?5e-324:b(a.indexOfRawIndex(i));if(j>f)return!0;f=j}return!1},b.prototype._isOrderDifferentInView=function(a,b){for(var c=b.scale,d=c.getExtent(),e=Math.max(0,d[0]),f=Math.min(d[1],c.getOrdinalMeta().categories.length-1);e<=f;++e)if(a.ordinalNumbers[e]!==c.getRawOrdinalNumber(e))return!0},b.prototype._updateSortWithinSameData=function(a,b,c,d){if(this._isOrderChangedWithinSameData(a,b,c)){var e=this._dataSort(a,c,b);this._isOrderDifferentInView(e,c)&&(this._removeOnRenderedListener(d),d.dispatchAction({type:"changeAxisOrder",componentType:c.dim+"Axis",axisId:c.index,sortInfo:e}))}},b.prototype._dispatchInitSort=function(a,b,c){var d=b.baseAxis,e=this._dataSort(a,d,function(c){return a.get(a.mapDimension(b.otherAxis.dim),c)});c.dispatchAction({type:"changeAxisOrder",componentType:d.dim+"Axis",isInitSort:!0,axisId:d.index,sortInfo:e})},b.prototype.remove=function(a,b){this._clear(this._model),this._removeOnRenderedListener(b)},b.prototype.dispose=function(a,b){this._removeOnRenderedListener(b)},b.prototype._removeOnRenderedListener=function(a){this._onRendered&&(a.getZr().off("rendered",this._onRendered),this._onRendered=null)},b.prototype._clear=function(a){var b=this.group,c=this._data;a&&a.isAnimationEnabled()&&c&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],c.eachItemGraphicEl(function(b){iW(b,a,h2(b).dataIndex)})):b.removeAll(),this._data=null,this._isFirstFrame=!0},b.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},b.type="bar",b}(oC),u7={cartesian2d:function(a,b){var c=b.width<0?-1:1,d=b.height<0?-1:1;c<0&&(b.x+=b.width,b.width=-b.width),d<0&&(b.y+=b.height,b.height=-b.height);var e=a.x+a.width,f=a.y+a.height,g=u4(b.x,a.x),h=u5(b.x+b.width,e),i=u4(b.y,a.y),j=u5(b.y+b.height,f),k=h<g,l=j<i;return b.x=k&&g>e?h:g,b.y=l&&i>f?j:i,b.width=k?0:h-g,b.height=l?0:j-i,c<0&&(b.x+=b.width,b.width=-b.width),d<0&&(b.y+=b.height,b.height=-b.height),k||l},polar:function(a,b){var c=b.r0<=b.r?1:-1;if(c<0){var d=b.r;b.r=b.r0,b.r0=d}var e=u5(b.r,a.r),f=u4(b.r0,a.r0);b.r=e,b.r0=f;var g=e-f<0;if(c<0){var d=b.r;b.r=b.r0,b.r0=d}return g}},u8={cartesian2d:function(a,b,c,d,e,f,g,h,i){var j=new hM({shape:aQ({},d),z2:1});return j.__dataIndex=c,j.name="item",f&&(j.shape[e?"height":"width"]=0),j},polar:function(a,b,c,d,e,f,g,h,i){var j,k,l=!e&&i?u0:ni,m=new l({shape:d,z2:1});if(m.name="item",j=vf(e),k=l===u0,m.calculateTextPosition=function(a,b,c){var d=b.position;if(!d||d instanceof Array)return e1(a,b,c);var e=j(d),f=null!=b.distance?b.distance:5,g=this.shape,h=g.cx,i=g.cy,l=g.r,m=g.r0,n=(l+m)/2,o=g.startAngle,p=g.endAngle,q=(o+p)/2,r=k?Math.abs(l-m)/2:0,s=Math.cos,t=Math.sin,u=h+l*s(o),v=i+l*t(o),w="left",x="top";switch(e){case"startArc":u=h+(m-f)*s(q),v=i+(m-f)*t(q),w="center",x="top";break;case"insideStartArc":u=h+(m+f)*s(q),v=i+(m+f)*t(q),w="center",x="bottom";break;case"startAngle":u=h+n*s(o)+u1(o,f+r,!1),v=i+n*t(o)+u2(o,f+r,!1),w="right",x="middle";break;case"insideStartAngle":u=h+n*s(o)+u1(o,-f+r,!1),v=i+n*t(o)+u2(o,-f+r,!1),w="left",x="middle";break;case"middle":u=h+n*s(q),v=i+n*t(q),w="center",x="middle";break;case"endArc":u=h+(l+f)*s(q),v=i+(l+f)*t(q),w="center",x="bottom";break;case"insideEndArc":u=h+(l-f)*s(q),v=i+(l-f)*t(q),w="center",x="top";break;case"endAngle":u=h+n*s(p)+u1(p,f+r,!0),v=i+n*t(p)+u2(p,f+r,!0),w="left",x="middle";break;case"insideEndAngle":u=h+n*s(p)+u1(p,-f+r,!0),v=i+n*t(p)+u2(p,-f+r,!0),w="right",x="middle";break;default:return e1(a,b,c)}return(a=a||{}).x=u,a.y=v,a.align=w,a.verticalAlign=x,a},f){var n=m.shape,o=e?"r":"endAngle",p={};n[o]=e?d.r0:d.startAngle,p[o]=d[o],(h?iR:iS)(m,{shape:p},f)}return m}};function u9(a,b,c,d,e,f,g,h){var i,j;f?(j={x:d.x,width:d.width},i={y:d.y,height:d.height}):(j={y:d.y,height:d.height},i={x:d.x,width:d.width}),h||(g?iR:iS)(c,{shape:i},b,e,null),(g?iR:iS)(c,{shape:j},b?a.baseAxis.model:null,e)}function va(a,b){for(var c=0;c<b.length;c++)if(!isFinite(a[b[c]]))return!0;return!1}var vb=["x","y","width","height"],vc=["cx","cy","r","startAngle","endAngle"],vd={cartesian2d:function(a){return!va(a,vb)},polar:function(a){return!va(a,vc)}},ve={cartesian2d:function(a,b,c){var d,e,f,g=a.getItemLayout(b);if(!g)return null;var h=c?(d=c,e=g,(f=d.get(["itemStyle","borderColor"]))&&"none"!==f?Math.min(d.get(["itemStyle","borderWidth"])||0,isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height)):0):0,i=g.width>0?1:-1,j=g.height>0?1:-1;return{x:g.x+i*h/2,y:g.y+j*h/2,width:g.width-i*h,height:g.height-j*h}},polar:function(a,b,c){var d=a.getItemLayout(b);return{cx:d.cx,cy:d.cy,r0:d.r0,r:d.r,startAngle:d.startAngle,endAngle:d.endAngle,clockwise:d.clockwise}}};function vf(a){var b;return b=a?"Arc":"Angle",function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+b;default:return a}}}function vg(a,b,c,d,e,f,g,h){var i=b.getItemVisual(c,"style");if(h){if(!f.get("roundCap")){var j=a.shape,k=u3(d.getModel("itemStyle"),j,!0);aQ(j,k),a.setShape(j)}}else{var l=d.get(["itemStyle","borderRadius"])||0;a.setShape("r",l)}a.useStyle(i);var m=d.getShallow("cursor");m&&a.attr("cursor",m);var n=h?g?e.r>=e.r0?"endArc":"startArc":e.endAngle>=e.startAngle?"endAngle":"startAngle":g?e.height>=0?"bottom":"top":e.width>=0?"right":"left",o=i0(d);i_(a,o,{labelFetcher:f,labelDataIndex:c,defaultText:uq(f.getData(),c),inheritColor:i.fill,defaultOpacity:i.opacity,defaultOutsidePosition:n});var p=a.getTextContent();if(h&&p){var q=d.get(["label","position"]);a.textConfig.inside="middle"===q||null,function(a,b,c,d){if(a7(d))return a.setTextConfig({rotation:d});if(a3(b))return a.setTextConfig({rotation:0});var e,f=a.shape,g=f.clockwise?f.startAngle:f.endAngle,h=f.clockwise?f.endAngle:f.startAngle,i=c(b);switch(i){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":e=(g+h)/2;break;case"startAngle":case"insideStartAngle":e=g;break;case"endAngle":case"insideEndAngle":e=h;break;default:a.setTextConfig({rotation:0});return}var j=1.5*Math.PI-e;"middle"===i&&j>Math.PI/2&&j<1.5*Math.PI&&(j-=Math.PI),a.setTextConfig({rotation:j})}(a,"outside"===q?n:q,vf(g),d.get(["label","rotate"]))}i9(p,o,f.getRawValue(c),function(a){return ur(b,a)});var r=d.getModel(["emphasis"]);iF(a,r.get("focus"),r.get("blurScope"),r.get("disabled")),iJ(a,d),null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle&&(a.style.fill="none",a.style.stroke="none",aX(a.states,function(a){a.style&&(a.style.fill=a.style.stroke="none")}))}var vh=function(){},vi=function(a){function b(b){var c=a.call(this,b)||this;return c.type="largeBar",c}return aq(b,a),b.prototype.getDefaultShape=function(){return new vh},b.prototype.buildPath=function(a,b){for(var c=b.points,d=this.baseDimIdx,e=1-this.baseDimIdx,f=[],g=[],h=this.barWidth,i=0;i<c.length;i+=3)g[d]=h,g[e]=c[i+2],f[d]=c[i+d],f[e]=c[i+e],a.rect(f[0],f[1],g[0],g[1])},b}(hy);function vj(a,b,c,d){var e=a.getData(),f=+!!e.getLayout("valueAxisHorizontal"),g=e.getLayout("largeDataIndices"),h=e.getLayout("size"),i=a.getModel("backgroundStyle"),j=e.getLayout("largeBackgroundPoints");if(j){var k=new vi({shape:{points:j},incremental:!!d,silent:!0,z2:0});k.baseDimIdx=f,k.largeDataIndices=g,k.barWidth=h,k.useStyle(i.getItemStyle()),b.add(k),c&&c.push(k)}var l=new vi({shape:{points:e.getLayout("largePoints")},incremental:!!d,ignoreCoarsePointer:!0,z2:1});l.baseDimIdx=f,l.largeDataIndices=g,l.barWidth=h,b.add(l),l.useStyle(e.getVisual("style")),l.style.stroke=null,h2(l).seriesIndex=a.seriesIndex,a.get("silent")||(l.on("mousedown",vk),l.on("mousemove",vk)),c&&c.push(l)}var vk=oG(function(a){var b=function(a,b,c){for(var d=a.baseDimIdx,e=1-d,f=a.shape.points,g=a.largeDataIndices,h=[],i=[],j=a.barWidth,k=0,l=f.length/3;k<l;k++){var m=3*k;if(i[d]=j,i[e]=f[m+2],h[d]=f[m+d],h[e]=f[m+e],i[e]<0&&(h[e]+=i[e],i[e]=-i[e]),b>=h[0]&&b<=h[0]+i[0]&&c>=h[1]&&c<=h[1]+i[1])return g[k]}return -1}(this,a.offsetX,a.offsetY);h2(this).dataIndex=b>=0?b:null},30,!1);function vl(a,b,c){if(uL(c,"cartesian2d")){var d=c.getArea();return{x:a?b.x:d.x,y:a?d.y:b.y,width:a?b.width:d.width,height:a?d.height:b.height}}var d=c.getArea();return{cx:d.cx,cy:d.cy,r0:a?d.r0:b.r0,r:a?d.r:b.r,startAngle:a?b.startAngle:0,endAngle:a?b.endAngle:2*Math.PI}}var vm=2*Math.PI,vn=Math.PI/180;function vo(a,b,c){b.eachSeriesByType(a,function(a){var b=a.getData(),d=b.mapDimension("value"),e=kg(a,c),f=e.cx,g=e.cy,h=e.r,i=e.r0,j=e.viewRect,k=-a.get("startAngle")*vn,l=a.get("endAngle"),m=a.get("padAngle")*vn;l="auto"===l?k-vm:-l*vn;var n=a.get("minAngle")*vn+m,o=0;b.each(d,function(a){!isNaN(a)&&o++});var p=b.getSum(d),q=Math.PI/(p||o)*2,r=a.get("clockwise"),s=a.get("roseType"),t=a.get("stillShowZeroSum"),u=b.getDataExtent(d);u[0]=0;var v=r?1:-1,w=[k,l],x=v*m/2;hi(w,!r),k=w[0],l=w[1];var y=vp(a);y.startAngle=k,y.endAngle=l,y.clockwise=r,y.cx=f,y.cy=g,y.r=h,y.r0=i;var z=Math.abs(l-k),A=z,B=0,C=k;if(b.setLayout({viewRect:j,r:h}),b.each(d,function(a,c){if(isNaN(a))return void b.setItemLayout(c,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:r,cx:f,cy:g,r0:i,r:s?NaN:h});(d="area"!==s?0===p&&t?q:a*q:z/o)<n?(d=n,A-=n):B+=a;var d,e=C+v*d,j=0,k=0;m>d?k=j=C+v*d/2:(j=C+x,k=e-x),b.setItemLayout(c,{angle:d,startAngle:j,endAngle:k,clockwise:r,cx:f,cy:g,r0:i,r:s?fr(a,u,[i,h]):h}),C=e}),A<vm&&o)if(A<=.001){var D=z/o;b.each(d,function(a,c){if(!isNaN(a)){var d=b.getItemLayout(c);d.angle=D;var e=0,f=0;D<m?f=e=k+v*(c+.5)*D:(e=k+v*c*D+x,f=k+v*(c+1)*D-x),d.startAngle=e,d.endAngle=f}})}else q=A/B,C=k,b.each(d,function(a,c){if(!isNaN(a)){var d=b.getItemLayout(c),e=d.angle===n?n:a*q,f=0,g=0;e<m?g=f=C+v*e/2:(f=C+x,g=C+v*e-x),d.startAngle=f,d.endAngle=g,C+=v*e}})})}var vp=f0();function vq(a){return{seriesType:a,reset:function(a,b){var c=b.findComponents({mainType:"legend"});if(c&&c.length){var d=a.getData();d.filterSelf(function(a){for(var b=d.getName(a),e=0;e<c.length;e++)if(!c[e].isSelected(b))return!1;return!0})}}}}var vr=Math.PI/180;function vs(a,b,c,d,e,f,g,h,i,j){if(!(a.length<2)){for(var k=a.length,l=0;l<k;l++)if("outer"===a[l].position&&"labelLine"===a[l].labelAlignTo){var m=a[l].label.x-j;a[l].linePoints[1][0]+=m,a[l].label.x=j}th(a,1,i,i+g)&&function(a){for(var f={list:[],maxY:0},g={list:[],maxY:0},h=0;h<a.length;h++)if("none"===a[h].labelAlignTo){var i=a[h],j=i.label.y>c?g:f,k=Math.abs(i.label.y-c);if(k>=j.maxY){var l=i.label.x-b-i.len2*e,m=d+i.len;j.rB=Math.abs(l)<m?Math.sqrt(k*k/(1-l*l/m/m)):m,j.maxY=k}j.list.push(i)}n(f),n(g)}(a)}function n(a){for(var f=a.rB,g=f*f,h=0;h<a.list.length;h++){var i=a.list[h],j=Math.abs(i.label.y-c),k=d+i.len,l=b+(Math.sqrt(Math.abs(k*k*(1-j*j/g)))+i.len2)*e,m=l-i.label.x,n=i.targetTextWidth-m*e;vt(i,n,!0),i.label.x=l}}}function vt(a,b,c){if(null==a.labelStyleWidth){var d=a.label,e=d.style,f=a.rect,g=e.backgroundColor,h=e.padding,i=h?h[1]+h[3]:0,j=e.overflow,k=f.width+(g?0:i);if(b<k||c){if(j&&j.match("break")){d.setStyle("backgroundColor",null),d.setStyle("width",b-i);var l=d.getBoundingRect();d.setStyle("width",Math.ceil(l.width)),d.setStyle("backgroundColor",g)}else{var m=b-i,n=b<k?m:c?m>a.unconstrainedWidth?null:m:null;d.setStyle("width",n)}vu(f,d)}}}function vu(a,b){vw.rect=a,tc(vw,b,vv)}var vv={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},vw={};function vx(a){return"center"===a.position}var vy=function(a){function b(b,c,d){var e=a.call(this)||this;e.z2=2;var f=new h1;return e.setTextContent(f),e.updateData(b,c,d,!0),e}return aq(b,a),b.prototype.updateData=function(a,b,c,d){var e=a.hostModel,f=a.getItemModel(b),g=f.getModel("emphasis"),h=a.getItemLayout(b),i=aQ(u3(f.getModel("itemStyle"),h,!0),h);if(isNaN(i.startAngle))return void this.setShape(i);if(d){this.setShape(i);var j=e.getShallow("animationType");e.ecModel.ssr?(iS(this,{scaleX:0,scaleY:0},e,{dataIndex:b,isFrom:!0}),this.originX=i.cx,this.originY=i.cy):"scale"===j?(this.shape.r=h.r0,iS(this,{shape:{r:h.r}},e,b)):null!=c?(this.setShape({startAngle:c,endAngle:c}),iS(this,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},e,b)):(this.shape.endAngle=h.startAngle,iR(this,{shape:{endAngle:h.endAngle}},e,b))}else iX(this),iR(this,{shape:i},e,b);this.useStyle(a.getItemVisual(b,"style")),iJ(this,f);var k=(h.startAngle+h.endAngle)/2,l=e.get("selectedOffset"),m=Math.cos(k)*l,n=Math.sin(k)*l,o=f.getShallow("cursor");o&&this.attr("cursor",o),this._updateLabel(e,a,b),this.ensureState("emphasis").shape=aQ({r:h.r+(g.get("scale")&&g.get("scaleSize")||0)},u3(g.getModel("itemStyle"),h)),aQ(this.ensureState("select"),{x:m,y:n,shape:u3(f.getModel(["select","itemStyle"]),h)}),aQ(this.ensureState("blur"),{shape:u3(f.getModel(["blur","itemStyle"]),h)});var p=this.getTextGuideLine(),q=this.getTextContent();p&&aQ(p.ensureState("select"),{x:m,y:n}),aQ(q.ensureState("select"),{x:m,y:n}),iF(this,g.get("focus"),g.get("blurScope"),g.get("disabled"))},b.prototype._updateLabel=function(a,b,c){var d=b.getItemModel(c),e=d.getModel("labelLine"),f=b.getItemVisual(c,"style"),g=f&&f.fill,h=f&&f.opacity;i_(this,i0(d),{labelFetcher:b.hostModel,labelDataIndex:c,inheritColor:g,defaultOpacity:h,defaultText:a.getFormattedLabel(c,"normal")||b.getName(c)});var i=this.getTextContent();this.setTextConfig({position:null,rotation:null}),i.attr({z2:10});var j=d.get(["label","position"]);if("outside"!==j&&"outer"!==j)this.removeTextGuideLine();else{var k=this.getTextGuideLine();k||(k=new ns,this.setTextGuideLine(k)),s6(this,s7(d),{stroke:g,opacity:bi(e.get(["lineStyle","opacity"]),h,1)})}},b}(ni),vz=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.ignoreLabelLineUpdate=!0,b}return aq(b,a),b.prototype.render=function(a,b,c,d){var e,f=a.getData(),g=this._data,h=this.group;if(!g&&f.count()>0){for(var i=f.getItemLayout(0),j=1;isNaN(i&&i.startAngle)&&j<f.count();++j)i=f.getItemLayout(j);i&&(e=i.startAngle)}if(this._emptyCircleSector&&h.remove(this._emptyCircleSector),0===f.count()&&a.get("showEmptyCircle")){var k=new ni({shape:aN(vp(a))});k.useStyle(a.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=k,h.add(k)}f.diff(g).add(function(a){var b=new vy(f,a,e);f.setItemGraphicEl(a,b),h.add(b)}).update(function(a,b){var c=g.getItemGraphicEl(b);c.updateData(f,a,e),c.off("click"),h.add(c),f.setItemGraphicEl(a,c)}).remove(function(b){iW(g.getItemGraphicEl(b),a,b)}).execute(),function(a){var b,c,d=a.getData(),e=[],f=!1,g=(a.get("minShowLabelAngle")||0)*vr,h=d.getLayout("viewRect"),i=d.getLayout("r"),j=h.width,k=h.x,l=h.y,m=h.height;function n(a){a.ignore=!0}d.each(function(a){var h,l,o,p,q=d.getItemGraphicEl(a),r=q.shape,s=q.getTextContent(),t=q.getTextGuideLine(),u=d.getItemModel(a),v=u.getModel("label"),w=v.get("position")||u.get(["emphasis","label","position"]),x=v.get("distanceToLabelLine"),y=v.get("alignTo"),z=fs(v.get("edgeDistance"),j),A=v.get("bleedMargin");null==A&&(A=Math.min(j,m)>200?10:2);var B=u.getModel("labelLine"),C=B.get("length");C=fs(C,j);var D=B.get("length2");if(D=fs(D,j),Math.abs(r.endAngle-r.startAngle)<g){aX(s.states,n),s.ignore=!0,t&&(aX(t.states,n),t.ignore=!0);return}if(function(a){if(!a.ignore)return!0;for(var b in a.states)if(!1===a.states[b].ignore)return!0;return!1}(s)){var E=(r.startAngle+r.endAngle)/2,F=Math.cos(E),G=Math.sin(E);b=r.cx,c=r.cy;var H="inside"===w||"inner"===w;if("center"===w)h=r.cx,l=r.cy,p="center";else{var I=(H?(r.r+r.r0)/2*F:r.r*F)+b,J=(H?(r.r+r.r0)/2*G:r.r*G)+c;if(h=I+3*F,l=J+3*G,!H){var K=I+F*(C+i-r.r),L=J+G*(C+i-r.r),M=K+(F<0?-1:1)*D;h="edge"===y?F<0?k+z:k+j-z:M+(F<0?-x:x),l=L,o=[[I,J],[K,L],[M,L]]}p=H?"center":"edge"===y?F>0?"right":"left":F>0?"left":"right"}var N=Math.PI,O=0,P=v.get("rotate");if(a7(P))O=N/180*P;else if("center"===w)O=0;else if("radial"===P||!0===P)O=F<0?-E+N:-E;else if("tangential"===P&&"outside"!==w&&"outer"!==w){var Q=Math.atan2(F,G);Q<0&&(Q=2*N+Q),G>0&&(Q=N+Q),O=Q-N}if(f=!!O,s.x=h,s.y=l,s.rotation=O,s.setStyle({verticalAlign:"middle"}),H){s.setStyle({align:p});var R=s.states.select;R&&(R.x+=s.x,R.y+=s.y)}else{var S=new cS(0,0,0,0);vu(S,s),e.push({label:s,labelLine:t,position:w,len:C,len2:D,minTurnAngle:B.get("minTurnAngle"),maxSurfaceAngle:B.get("maxSurfaceAngle"),surfaceNormal:new cz(F,G),linePoints:o,textAlign:p,labelDistance:x,labelAlignTo:y,edgeDistance:z,bleedMargin:A,rect:S,unconstrainedWidth:S.width,labelStyleWidth:s.style.width})}q.setTextConfig({inside:H})}}),!f&&a.get("avoidLabelOverlap")&&function(a,b,c,d,e,f,g,h){for(var i=[],j=[],k=Number.MAX_VALUE,l=-Number.MAX_VALUE,m=0;m<a.length;m++){var n=a[m].label;vx(a[m])||(n.x<b?(k=Math.min(k,n.x),i.push(a[m])):(l=Math.max(l,n.x),j.push(a[m])))}for(var m=0;m<a.length;m++){var o=a[m];if(!vx(o)&&o.linePoints){if(null!=o.labelStyleWidth)continue;var n=o.label,p=o.linePoints,q=void 0;q="edge"===o.labelAlignTo?n.x<b?p[2][0]-o.labelDistance-g-o.edgeDistance:g+e-o.edgeDistance-p[2][0]-o.labelDistance:"labelLine"===o.labelAlignTo?n.x<b?k-g-o.bleedMargin:g+e-l-o.bleedMargin:n.x<b?n.x-g-o.bleedMargin:g+e-n.x-o.bleedMargin,o.targetTextWidth=q,vt(o,q,!1)}}vs(j,b,c,d,1,e,f,g,h,l),vs(i,b,c,d,-1,e,f,g,h,k);for(var m=0;m<a.length;m++){var o=a[m];if(!vx(o)&&o.linePoints){var n=o.label,p=o.linePoints,r="edge"===o.labelAlignTo,s=n.style.padding,t=s?s[1]+s[3]:0,u=n.style.backgroundColor?0:t,v=o.rect.width+u,w=p[1][0]-p[2][0];r?n.x<b?p[2][0]=g+o.edgeDistance+v+o.labelDistance:p[2][0]=g+e-o.edgeDistance-v-o.labelDistance:(n.x<b?p[2][0]=n.x+o.labelDistance:p[2][0]=n.x-o.labelDistance,p[1][0]=p[2][0]+w),p[1][1]=p[2][1]=n.y}}}(e,b,c,i,j,m,k,l);for(var o=0;o<e.length;o++){var p=e[o],q=p.label,r=p.labelLine,s=isNaN(q.x)||isNaN(q.y);if(q){q.setStyle({align:p.textAlign}),s&&(aX(q.states,n),q.ignore=!0);var t=q.states.select;t&&(t.x+=q.x,t.y+=q.y)}if(r){var u=p.linePoints;s||!u?(aX(r.states,n),r.ignore=!0):(s3(u,p.minTurnAngle),function(a,b,c){if(c<=180&&c>0){c=c/180*Math.PI,sX.fromArray(a[0]),sY.fromArray(a[1]),sZ.fromArray(a[2]),cz.sub(s$,sY,sX),cz.sub(s_,sZ,sY);var d=s$.len(),e=s_.len();if(!(d<.001)&&!(e<.001)&&(s$.scale(1/d),s_.scale(1/e),s$.dot(b)<Math.cos(c))){var f=sU(sY.x,sY.y,sZ.x,sZ.y,sX.x,sX.y,s1,!1);s2.fromArray(s1);var g=Math.PI/2,h=g+Math.acos(s_.dot(b))-c;if(h>=g)cz.copy(s2,sZ);else{s2.scaleAndAdd(s_,f/Math.tan(Math.PI/2-h));var i=sZ.x!==sY.x?(s2.x-sY.x)/(sZ.x-sY.x):(s2.y-sY.y)/(sZ.y-sY.y);if(isNaN(i))return;i<0?cz.copy(s2,sY):i>1&&cz.copy(s2,sZ)}s2.toArray(a[1])}}}(u,p.surfaceNormal,p.maxSurfaceAngle),r.setShape({points:u}),q.__hostTarget.textGuideLineConfig={anchor:new cz(u[0][0],u[0][1])})}}}(a),"expansion"!==a.get("animationTypeUpdate")&&(this._data=f)},b.prototype.dispose=function(){},b.prototype.containPoint=function(a,b){var c=b.getData().getItemLayout(0);if(c){var d=a[0]-c.cx,e=a[1]-c.cy,f=Math.sqrt(d*d+e*e);return f<=c.r&&f>=c.r0}},b.type="pie",b}(oC);function vA(a,b,c){b=a3(b)&&{coordDimensions:b}||aQ({encodeDefine:a.getEncode()},b);var d=a.getSource(),e=new q9(rb(d,b).dimensions,a);return e.initData(d,c),e}var vB=function(){function a(a,b){this._getDataWithEncodedVisual=a,this._getRawData=b}return a.prototype.getAllNames=function(){var a=this._getRawData();return a.mapArray(a.getName)},a.prototype.containName=function(a){return this._getRawData().indexOfName(a)>=0},a.prototype.indexOfName=function(a){return this._getDataWithEncodedVisual().indexOfName(a)},a.prototype.getItemVisual=function(a,b){return this._getDataWithEncodedVisual().getItemVisual(a,b)},a}(),vC=f0(),vD=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new vB(a1(this.getData,this),a1(this.getRawData,this)),this._defaultLabelLine(b)},b.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},b.prototype.getInitialData=function(){return vA(this,{coordDimensions:["value"],encodeDefaulter:a2(kO,this)})},b.prototype.getDataParams=function(b){var c=this.getData(),d=vC(c),e=d.seats;if(!e){var f=[];c.each(c.mapDimension("value"),function(a){f.push(a)}),e=d.seats=fA(f,c.hostModel.get("percentPrecision"))}var g=a.prototype.getDataParams.call(this,b);return g.percent=e[b]||0,g.$vars.push("percent"),g},b.prototype._defaultLabelLine=function(a){fS(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},b.type="series.pie",b.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},b}(mE);m={fullType:vD.type,getCoord2:function(a){return a.getShallow("center")}},j7.set(m.fullType,{getCoord2:void 0}).getCoord2=m.getCoord2;var vE=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c}return aq(b,a),b.prototype.getInitialData=function(a,b){return ri(null,this,{useEncodeDefaulter:!0})},b.prototype.getProgressive=function(){var a=this.option.progressive;return null==a?this.option.large?5e3:this.get("progressive"):a},b.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?1e4:this.get("progressiveThreshold"):a},b.prototype.brushSelector=function(a,b,c){return c.point(b.getItemLayout(a))},b.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},b.type="series.scatter",b.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],b.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:kv.color.primary}},universalTransition:{divideShape:"clone"}},b}(mE),vF=function(){},vG=function(a){function b(b){var c=a.call(this,b)||this;return c._off=0,c.hoverDataIdx=-1,c}return aq(b,a),b.prototype.getDefaultShape=function(){return new vF},b.prototype.reset=function(){this.notClear=!1,this._off=0},b.prototype.buildPath=function(a,b){var c,d=b.points,e=b.size,f=this.symbolProxy,g=f.shape,h=a.getContext?a.getContext():a,i=h&&e[0]<4,j=this.softClipShape;if(i){this._ctx=h;return}for(this._ctx=null,c=this._off;c<d.length;){var k=d[c++],l=d[c++];!(isNaN(k)||isNaN(l))&&(!j||j.contain(k,l))&&(g.x=k-e[0]/2,g.y=l-e[1]/2,g.width=e[0],g.height=e[1],f.buildPath(a,g,!0))}this.incremental&&(this._off=c,this.notClear=!0)},b.prototype.afterBrush=function(){var a,b=this.shape,c=b.points,d=b.size,e=this._ctx,f=this.softClipShape;if(e){for(a=this._off;a<c.length;){var g=c[a++],h=c[a++];!(isNaN(g)||isNaN(h))&&(!f||f.contain(g,h))&&e.fillRect(g-d[0]/2,h-d[1]/2,d[0],d[1])}this.incremental&&(this._off=a,this.notClear=!0)}},b.prototype.findDataIndex=function(a,b){for(var c=this.shape,d=c.points,e=c.size,f=Math.max(e[0],4),g=Math.max(e[1],4),h=d.length/2-1;h>=0;h--){var i=2*h,j=d[i]-f/2,k=d[i+1]-g/2;if(a>=j&&b>=k&&a<=j+f&&b<=k+g)return h}return -1},b.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect();return(a=c[0],b=c[1],d.contain(a,b))?(this.hoverDataIdx=this.findDataIndex(a,b))>=0:(this.hoverDataIdx=-1,!1)},b.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var b=this.shape,c=b.points,d=b.size,e=d[0],f=d[1],g=1/0,h=1/0,i=-1/0,j=-1/0,k=0;k<c.length;){var l=c[k++],m=c[k++];g=Math.min(l,g),i=Math.max(l,i),h=Math.min(m,h),j=Math.max(m,j)}a=this._rect=new cS(g-e/2,h-f/2,i-g+e,j-h+f)}return a},b}(hy),vH=function(){function a(){this.group=new fc}return a.prototype.updateData=function(a,b){this._clear();var c=this._create();c.setShape({points:a.getLayout("points")}),this._setCommon(c,a,b)},a.prototype.updateLayout=function(a){var b=a.getLayout("points");this.group.eachChild(function(a){if(null!=a.startIndex){var c=(a.endIndex-a.startIndex)*2,d=4*a.startIndex*2;b=new Float32Array(b.buffer,d,c)}a.setShape("points",b),a.reset()})},a.prototype.incrementalPrepareUpdate=function(a){this._clear()},a.prototype.incrementalUpdate=function(a,b,c){var d=this._newAdded[0],e=b.getLayout("points"),f=d&&d.shape.points;if(f&&f.length<2e4){var g=f.length,h=new Float32Array(g+e.length);h.set(f),h.set(e,g),d.endIndex=a.end,d.setShape({points:h})}else{this._newAdded=[];var i=this._create();i.startIndex=a.start,i.endIndex=a.end,i.incremental=!0,i.setShape({points:e}),this._setCommon(i,b,c)}},a.prototype.eachRendered=function(a){this._newAdded[0]&&a(this._newAdded[0])},a.prototype._create=function(){var a=new vG({cursor:"default"});return a.ignoreCoarsePointer=!0,this.group.add(a),this._newAdded.push(a),a},a.prototype._setCommon=function(a,b,c){var d=b.hostModel;c=c||{};var e=b.getVisual("symbolSize");a.setShape("size",e instanceof Array?e:[e,e]),a.softClipShape=c.clipShape||null,a.symbolProxy=pq(b.getVisual("symbol"),0,0,0,0),a.setColor=a.symbolProxy.setColor;var f=a.shape.size[0]<4;a.useStyle(d.getModel("itemStyle").getItemStyle(f?["color","shadowBlur","shadowColor"]:["color"]));var g=b.getVisual("style"),h=g&&g.fill;h&&a.setColor(h);var i=h2(a);i.seriesIndex=d.seriesIndex,a.on("mousemove",function(b){i.dataIndex=null;var c=a.hoverDataIdx;c>=0&&(i.dataIndex=c+(a.startIndex||0))})},a.prototype.remove=function(){this._clear()},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}(),vI=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){var d=a.getData();this._updateSymbolDraw(d,a).updateData(d,{clipShape:this._getClipShape(a)}),this._finished=!0},b.prototype.incrementalPrepareRender=function(a,b,c){var d=a.getData();this._updateSymbolDraw(d,a).incrementalPrepareUpdate(d),this._finished=!1},b.prototype.incrementalRender=function(a,b,c){this._symbolDraw.incrementalUpdate(a,b.getData(),{clipShape:this._getClipShape(b)}),this._finished=a.end===b.getData().count()},b.prototype.updateTransform=function(a,b,c){var d=a.getData();if(this.group.dirty(),!this._finished||d.count()>1e4)return{update:!0};var e=uV("").reset(a,b,c);e.progress&&e.progress({start:0,end:d.count(),count:d.count()},d),this._symbolDraw.updateLayout(d)},b.prototype.eachRendered=function(a){this._symbolDraw&&this._symbolDraw.eachRendered(a)},b.prototype._getClipShape=function(a){if(a.get("clip",!0)){var b=a.coordinateSystem;return b&&b.getArea&&b.getArea(.1)}},b.prototype._updateSymbolDraw=function(a,b){var c=this._symbolDraw,d=b.pipelineContext.large;return c&&d===this._isLargeDraw||(c&&c.remove(),c=this._symbolDraw=d?new vH:new ux,this._isLargeDraw=d,this.group.removeAll()),this.group.add(c.group),c},b.prototype.remove=function(a,b){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},b.prototype.dispose=function(){},b.type="scatter",b}(oC),vJ={left:0,right:0,top:0,bottom:0},vK=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.mergeDefaultAndTheme=function(b,c){var d=ko(b.outerBounds);a.prototype.mergeDefaultAndTheme.apply(this,arguments),d&&b.outerBounds&&kn(b.outerBounds,d)},b.prototype.mergeOption=function(b,c){a.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&b.outerBounds&&kn(this.option.outerBounds,b.outerBounds)},b.type="grid",b.dependencies=["xAxis","yAxis"],b.layoutMode="box",b.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:vJ,outerBoundsContain:"all",outerBoundsClampWidth:"25%",outerBoundsClampHeight:"25%",backgroundColor:kv.color.transparent,borderWidth:1,borderColor:kv.color.neutral30},b}(ku),vL=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",f4).models[0]},b.type="cartesian2dAxis",b}(ku);aV(vL,sc);var vM={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:kv.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:kv.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:kv.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[kv.color.backgroundTint,kv.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:kv.color.neutral00,borderColor:kv.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},vN=aO({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},vM),vO=aO({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:kv.color.axisMinorSplitLine,width:1}}},vM),vP=aO({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},vO),vQ=aR({logBase:10},vO);let vR={category:vN,value:vO,time:vP,log:vQ};var vS={value:1,category:1,time:1,log:1},vT=null;function vU(a,b,c,d){aX(vS,function(e,f){var g=aO(aO({},vR[f],!0),d,!0),h=function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b+"Axis."+f,c}return aq(c,a),c.prototype.mergeDefaultAndTheme=function(a,b){var c=km(this),d=c?ko(a):{};aO(a,b.getTheme().get(f+"Axis")),aO(a,this.getDefaultOption()),a.type=vV(a),c&&kn(a,d,c)},c.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=ru.createByAxisModel(this))},c.prototype.getCategories=function(a){var b=this.option;if("category"===b.type)return a?b.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.prototype.updateAxisBreaks=function(a){var b=vT;return b?b.updateModelAxisBreak(this,a):{breaks:[]}},c.type=b+"Axis."+f,c.defaultOption=g,c}(c);a.registerComponentModel(h)}),a.registerSubTypeDefaulter(b+"Axis",vV)}function vV(a){return a.type||(a.data?"category":"value")}var vW=function(){function a(a){this.type="cartesian",this._dimList=[],this._axes={},this.name=a||""}return a.prototype.getAxis=function(a){return this._axes[a]},a.prototype.getAxes=function(){return aY(this._dimList,function(a){return this._axes[a]},this)},a.prototype.getAxesByScale=function(a){return a=a.toLowerCase(),a$(this.getAxes(),function(b){return b.scale.type===a})},a.prototype.addAxis=function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},a}(),vX=["x","y"];function vY(a){return("interval"===a.type||"time"===a.type)&&!a.hasBreaks()}var vZ=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="cartesian2d",b.dimensions=vX,b}return aq(b,a),b.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var a=this.getAxis("x").scale,b=this.getAxis("y").scale;if(vY(a)&&vY(b)){var c=a.getExtent(),d=b.getExtent(),e=this.dataToPoint([c[0],d[0]]),f=this.dataToPoint([c[1],d[1]]),g=c[1]-c[0],h=d[1]-d[0];if(g&&h){var i=(f[0]-e[0])/g,j=(f[1]-e[1])/h,k=e[0]-c[0]*i,l=e[1]-d[0]*j,m=this._transform=[i,0,0,j,k,l];this._invTransform=cx([],m)}}},b.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},b.prototype.containPoint=function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},b.prototype.containData=function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},b.prototype.containZone=function(a,b){var c=this.dataToPoint(a),d=this.dataToPoint(b),e=this.getArea(),f=new cS(c[0],c[1],d[0]-c[0],d[1]-c[1]);return e.intersect(f)},b.prototype.dataToPoint=function(a,b,c){c=c||[];var d=a[0],e=a[1];if(this._transform&&null!=d&&isFinite(d)&&null!=e&&isFinite(e))return bZ(c,a,this._transform);var f=this.getAxis("x"),g=this.getAxis("y");return c[0]=f.toGlobalCoord(f.dataToCoord(d,b)),c[1]=g.toGlobalCoord(g.dataToCoord(e,b)),c},b.prototype.clampData=function(a,b){var c=this.getAxis("x").scale,d=this.getAxis("y").scale,e=c.getExtent(),f=d.getExtent(),g=c.parse(a[0]),h=d.parse(a[1]);return(b=b||[])[0]=Math.min(Math.max(Math.min(e[0],e[1]),g),Math.max(e[0],e[1])),b[1]=Math.min(Math.max(Math.min(f[0],f[1]),h),Math.max(f[0],f[1])),b},b.prototype.pointToData=function(a,b,c){if(c=c||[],this._invTransform)return bZ(c,a,this._invTransform);var d=this.getAxis("x"),e=this.getAxis("y");return c[0]=d.coordToData(d.toLocalCoord(a[0]),b),c[1]=e.coordToData(e.toLocalCoord(a[1]),b),c},b.prototype.getOtherAxis=function(a){return this.getAxis("x"===a.dim?"y":"x")},b.prototype.getArea=function(a){a=a||0;var b=this.getAxis("x").getGlobalExtent(),c=this.getAxis("y").getGlobalExtent(),d=Math.min(b[0],b[1])-a,e=Math.min(c[0],c[1])-a,f=Math.max(b[0],b[1])-d+a,g=Math.max(c[0],c[1])-e+a;return new cS(d,e,f,g)},b}(vW),v$=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c,d)||this;return g.index=0,g.type=e||"value",g.position=f||"bottom",g}return aq(b,a),b.prototype.isHorizontal=function(){var a=this.position;return"top"===a||"bottom"===a},b.prototype.getGlobalExtent=function(a){var b=this.getExtent();return b[0]=this.toGlobalCoord(b[0]),b[1]=this.toGlobalCoord(b[1]),a&&b[0]>b[1]&&b.reverse(),b},b.prototype.pointToData=function(a,b){return this.coordToData(this.toLocalCoord(a[+("x"!==this.dim)]),b)},b.prototype.setCategorySortInfo=function(a){if("category"!==this.type)return!1;this.model.option.categorySortInfo=a,this.scale.setSortInfo(a)},b}(sM),v_="expandAxisBreak",v0="collapseAxisBreak",v1="toggleAxisBreak",v2="axisbreakchanged",v3={type:v_,event:v2,update:"update",refineEvent:v6},v4={type:v0,event:v2,update:"update",refineEvent:v6},v5={type:v1,event:v2,update:"update",refineEvent:v6};function v6(a,b,c,d){var e=[];return aX(a,function(a){e=e.concat(a.eventBreaks)}),{eventContent:{breaks:e}}}var v7=Math.PI,v8=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],v9=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],wa=f0(),wb=f0(),wc=function(){function a(a){this.recordMap={},this.resolveAxisNameOverlap=a}return a.prototype.ensureRecord=function(a){var b=a.axis.dim,c=a.componentIndex,d=this.recordMap,e=d[b]||(d[b]=[]);return e[c]||(e[c]={ready:{}})},a}(),wd=cq(),we=new cS(0,0,0,0),wf=function(a,b,c,d,e,f){if(r9(a.nameLocation)){var g,h,i=f.stOccupiedRect;i&&wg((g={},h=f.transGroup.transform,g.transform=oq(g.transform,h),g.localRect=op(g.localRect,i),g.rect=op(g.rect,i),h&&g.rect.applyTransform(h),g.axisAligned=on(h),g.obb=void 0,(g.label=g.label||{}).ignore=!1,g),d,e)}else wh(f.labelInfoList,f.dirVec,d,e)};function wg(a,b,c){var d=new cz;tj(a,b,d,{direction:Math.atan2(c.y,c.x),bidirectional:!1,touchThreshold:.05})&&te(b,d)}function wh(a,b,c,d){for(var e=cz.dot(d,b)>=0,f=0,g=a.length;f<g;f++){var h=a[e?f:g-1-f];h.label.ignore||wg(h,c,d)}}var wi=function(){function a(a,b,c,d){this.group=new fc,this._axisModel=a,this._api=b,this._local={},this._shared=d||new wc(wf),this._resetCfgDetermined(c)}return a.prototype.updateCfg=function(a){var b=this._cfg.raw;b.position=a.position,b.labelOffset=a.labelOffset,this._resetCfgDetermined(b)},a.prototype.__getRawCfg=function(){return this._cfg.raw},a.prototype._resetCfgDetermined=function(a){var b=this._axisModel,c=b.getDefaultOption?b.getDefaultOption():{},d=bh(a.axisName,b.get("name")),e=b.get("nameMoveOverlap");(null==e||"auto"===e)&&(e=bh(a.defaultNameMoveOverlap,!0));var f={raw:a,position:a.position,rotation:a.rotation,nameDirection:bh(a.nameDirection,1),tickDirection:bh(a.tickDirection,1),labelDirection:bh(a.labelDirection,1),labelOffset:bh(a.labelOffset,0),silent:bh(a.silent,!0),axisName:d,nameLocation:bi(b.get("nameLocation"),c.nameLocation,"end"),shouldNameMoveOverlap:!!d&&e,optionHideOverlap:b.get(["axisLabel","hideOverlap"]),showMinorTicks:b.get(["minorTick","show"])};this._cfg=f;var g=new fc({x:f.position[0],y:f.position[1],rotation:f.rotation});g.updateTransform(),this._transformGroup=g;var h=this._shared.ensureRecord(b);h.transGroup=this._transformGroup,h.dirVec=new cz(Math.cos(-f.rotation),Math.sin(-f.rotation))},a.prototype.build=function(a,b){var c=this;return a||(a={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),aX(wj,function(d){a[d]&&wk[d](c._cfg,c._local,c._shared,c._axisModel,c.group,c._transformGroup,c._api,b||{})}),this},a.innerTextLayout=function(a,b,c){var d,e,f=fC(b-a);return fD(f)?(e=c>0?"top":"bottom",d="center"):fD(f-v7)?(e=c>0?"bottom":"top",d="center"):(e="middle",d=f>0&&f<v7?c>0?"right":"left":c>0?"left":"right"),{rotation:f,textAlign:d,textVerticalAlign:e}},a.makeAxisEventDataBase=function(a){var b={componentType:a.mainType,componentIndex:a.componentIndex};return b[a.mainType+"Index"]=a.componentIndex,b},a.isLabelSilent=function(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)},a}(),wj=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],wk={axisLine:function(a,b,c,d,e,f,g){var h=d.get(["axisLine","show"]);if("auto"===h&&(h=!0,null!=a.raw.axisLineAutoShow&&(h=!!a.raw.axisLineAutoShow)),h){var i=d.axis.getExtent(),j=f.transform,k=[i[0],0],l=[i[1],0],m=k[0]>l[0];j&&(bZ(k,k,j),bZ(l,l,j));var n=aQ({lineCap:"round"},d.getModel(["axisLine","lineStyle"]).getLineStyle()),o={strokeContainThreshold:a.raw.strokeContainThreshold||5,silent:!0,z2:1,style:n};if(d.get(["axisLine","breakLine"])&&d.axis.scale.hasBreaks())vT.buildAxisBreakLine(d,e,f,o);else{var p=new nw(aQ({shape:{x1:k[0],y1:k[1],x2:l[0],y2:l[1]}},o));n5(p.shape,p.style.lineWidth),p.anid="line",e.add(p)}var q=d.get(["axisLine","symbol"]);if(null!=q){var r=d.get(["axisLine","symbolSize"]);a5(q)&&(q=[q,q]),(a5(r)||a7(r))&&(r=[r,r]);var s=ps(d.get(["axisLine","symbolOffset"])||0,r),t=r[0],u=r[1];aX([{rotate:a.rotation+Math.PI/2,offset:s[0],r:0},{rotate:a.rotation-Math.PI/2,offset:s[1],r:Math.sqrt((k[0]-l[0])*(k[0]-l[0])+(k[1]-l[1])*(k[1]-l[1]))}],function(b,c){if("none"!==q[c]&&null!=q[c]){var d=pq(q[c],-t/2,-u/2,t,u,n.stroke,!0),f=b.r+b.offset,g=m?l:k;d.attr({rotation:b.rotate,x:g[0]+f*Math.cos(a.rotation),y:g[1]-f*Math.sin(a.rotation),silent:!0,z2:11}),e.add(d)}})}}},axisTickLabelEstimate:function(a,b,c,d,e,f,g,h){wo(b,e,h)&&wl(a,b,c,d,e,f,g,1)},axisTickLabelDetermine:function(a,b,c,d,e,f,g,h){wo(b,e,h)&&wl(a,b,c,d,e,f,g,2);var i,j,k,l=function(a,b,c,d){var e=d.axis,f=d.getModel("axisTick"),g=f.get("show");if("auto"===g&&(g=!0,null!=a.raw.axisTickAutoShow&&(g=!!a.raw.axisTickAutoShow)),!g||e.scale.isBlank())return[];for(var h=f.getModel("lineStyle"),i=a.tickDirection*f.get("length"),j=wn(e.getTicksCoords(),c.transform,i,aR(h.getLineStyle(),{stroke:d.get(["axisLine","lineStyle","color"])}),"ticks"),k=0;k<j.length;k++)b.add(j[k]);return j}(a,e,f,d);i=a,j=b.labelLayoutList,k=l,i.showMinorTicks||aX(j,function(a){if(a&&a.label.ignore)for(var b=0;b<k.length;b++){var c=k[b],d=wb(c),e=wa(a.label);if(null!=d.tickValue&&!d.onBand&&d.tickValue===e.tickValue)return void wm(c)}}),function(a,b,c,d,e){var f=d.axis,g=d.getModel("minorTick");if(!(!a.showMinorTicks||f.scale.isBlank())){var h=f.getMinorTicksCoords();if(h.length)for(var i=g.getModel("lineStyle"),j=e*g.get("length"),k=aR(i.getLineStyle(),aR(d.getModel("axisTick").getLineStyle(),{stroke:d.get(["axisLine","lineStyle","color"])})),l=0;l<h.length;l++)for(var m=wn(h[l],c.transform,j,k,"minorticks_"+l),n=0;n<m.length;n++)b.add(m[n])}}(a,e,f,d,a.tickDirection)},axisName:function(a,b,c,d,e,f,g,h){var i,j,k=c.ensureRecord(d);b.nameEl&&(e.remove(b.nameEl),b.nameEl=k.nameLayout=k.nameLocation=null);var l=a.axisName;if(l){var m,n,o,p,q,r,s,t,u,v=a.nameLocation,w=a.nameDirection,x=d.getModel("nameTextStyle"),y=d.get("nameGap")||0,z=d.axis.getExtent(),A=d.axis.inverse?-1:1,B=new cz(0,0),C=new cz(0,0);"start"===v?(B.x=z[0]-A*y,C.x=-A):"end"===v?(B.x=z[1]+A*y,C.x=A):(B.x=(z[0]+z[1])/2,B.y=a.labelOffset+w*y,C.y=w);var D=cq();C.transform(cv(D,D,a.rotation));var E=d.get("nameRotate");null!=E&&(E=E*v7/180),r9(v)?i=wi.innerTextLayout(a.rotation,null!=E?E:a.rotation,w):(m=a.rotation,n=v,o=E||0,p=z,s=fC(o-m),t=p[0]>p[1],u="start"===n&&!t||"start"!==n&&t,fD(s-v7/2)?(r=u?"bottom":"top",q="center"):fD(s-1.5*v7)?(r=u?"top":"bottom",q="center"):(r="middle",q=s<1.5*v7&&s>v7/2?u?"left":"right":u?"right":"left"),i={rotation:s,textAlign:q,textVerticalAlign:r},null!=(j=a.raw.axisNameAvailableWidth)&&(isFinite(j=Math.abs(j/Math.sin(i.rotation)))||(j=null)));var F=x.getFont(),G=d.get("nameTruncate",!0)||{},H=G.ellipsis,I=bg(a.raw.nameTruncateMaxWidth,G.maxWidth,j),J=h.nameMarginLevel||0,K=new h1({x:B.x,y:B.y,rotation:i.rotation,silent:wi.isLabelSilent(d),style:i1(x,{text:l,font:F,overflow:"truncate",width:I,ellipsis:H,fill:x.getTextColor()||d.get(["axisLine","lineStyle","color"]),align:x.get("align")||i.textAlign,verticalAlign:x.get("verticalAlign")||i.textVerticalAlign}),z2:1});if(ok({el:K,componentModel:d,itemName:l}),K.__fullText=l,K.anid="name",d.get("triggerEvent")){var L=wi.makeAxisEventDataBase(d);L.targetType="axisName",L.name=l,h2(K).eventData=L}f.add(K),K.updateTransform(),b.nameEl=K;var M=k.nameLayout=tb({label:K,priority:K.z2,defaultAttr:{ignore:K.ignore},marginDefault:r9(v)?v8[J]:v9[J]});if(k.nameLocation=v,e.add(K),K.decomposeTransform(),a.shouldNameMoveOverlap&&M){var N=c.ensureRecord(d);c.resolveAxisNameOverlap(a,c,d,M,C,N)}}}};function wl(a,b,c,d,e,f,g,h){wp(b)||function(a,b,c,d,e,f){var g=e.axis,h=bg(a.raw.axisLabelShow,e.get(["axisLabel","show"])),i=new fc;c.add(i);var j=sy(d);if(!h||g.scale.isBlank())return wq(b,[],i,j);var k=e.getModel("axisLabel"),l=g.getViewLabels(j),m=(bg(a.raw.labelRotate,k.get("rotate"))||0)*v7/180,n=wi.innerTextLayout(a.rotation,m,a.labelDirection),o=e.getCategories&&e.getCategories(!0),p=[],q=e.get("triggerEvent"),r=1/0,s=-1/0;aX(l,function(a,b){var c,d="ordinal"===g.scale.type?g.scale.getRawOrdinalNumber(a.tickValue):a.tickValue,h=a.formattedLabel,j=a.rawLabel,m=k;if(o&&o[d]){var t=o[d];a8(t)&&t.textStyle&&(m=new jn(t.textStyle,k,e.ecModel))}var u=m.getTextColor()||e.get(["axisLine","lineStyle","color"]),v=m.getShallow("align",!0)||n.textAlign,w=bh(m.getShallow("alignMinLabel",!0),v),x=bh(m.getShallow("alignMaxLabel",!0),v),y=m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||n.textVerticalAlign,z=bh(m.getShallow("verticalAlignMinLabel",!0),y),A=bh(m.getShallow("verticalAlignMaxLabel",!0),y),B=10+((null==(c=a.time)?void 0:c.level)||0);r=Math.min(r,B),s=Math.max(s,B);var C=new h1({x:0,y:0,rotation:0,silent:wi.isLabelSilent(e),z2:B,style:i1(m,{text:h,align:0===b?w:b===l.length-1?x:v,verticalAlign:0===b?z:b===l.length-1?A:y,fill:a4(u)?u("category"===g.type?j:"value"===g.type?d+"":d,b):u})});C.anid="label_"+d;var D=wa(C);if(D.break=a.break,D.tickValue=d,D.layoutRotation=n.rotation,ok({el:C,componentModel:e,itemName:h,formatterParamsExtra:{isTruncated:function(){return C.isTruncated},value:j,tickIndex:b}}),q){var E,F,G,H,I=wi.makeAxisEventDataBase(e);I.targetType="axisLabel",I.value=j,I.tickIndex=b,a.break&&(I.break={start:a.break.parsedBreak.vmin,end:a.break.parsedBreak.vmax}),"category"===g.type&&(I.dataIndex=d),h2(C).eventData=I,a.break&&(E=e,F=f,G=C,H=a.break,G.on("click",function(a){var b={type:v_,breaks:[{start:H.parsedBreak.breakOption.start,end:H.parsedBreak.breakOption.end}]};b[E.axis.dim+"AxisIndex"]=E.componentIndex,F.dispatchAction(b)}))}p.push(C),i.add(C)}),wq(b,aY(p,function(a){return{label:a,priority:wa(a).break?a.z2+(s-r+1):a.z2,defaultAttr:{ignore:a.ignore}}}),i,j)}(a,b,e,h,d,g);var i,j,k,l,m,n=b.labelLayoutList;i=a,j=d,k=n,l=f,m=j.get(["axisLabel","margin"]),aX(k,function(a,b){var c=tb(a);if(c){var d=c.label,e=wa(d);c.suggestIgnore=d.ignore,d.ignore=!1,eS(wr,ws),wr.x=j.axis.dataToCoord(e.tickValue),wr.y=i.labelOffset+i.labelDirection*m,wr.rotation=e.layoutRotation,l.add(wr),wr.updateTransform(),l.remove(wr),wr.decomposeTransform(),eS(d,wr),d.markRedraw(),s9(c,!0),tb(c)}}),function(a,b,c){var d=jv;if(d){var e=d.retrieveAxisBreakPairs(c,function(a){return a&&wa(a.label).break},!0),f=a.get(["breakLabelLayout","moveOverlap"],!0);(!0===f||"auto"===f)&&aX(e,function(d){vT.adjustBreakLabelPair(a.axis.inverse,b,[tb(c[d[0]]),tb(c[d[1]])])})}}(d,a.rotation,n);var o=a.optionHideOverlap;(function(a,b,c){if(!r7(a.axis)){var d=a.get(["axisLabel","showMinLabel"]),e=a.get(["axisLabel","showMaxLabel"]),f=b.length;g(d,0,1),g(e,f-1,f-2)}function g(a,d,e){var f=tb(b[d]),g=tb(b[e]);if(f&&g){if(!1===a||f.suggestIgnore)return void wm(f.label);if(g.suggestIgnore)return void wm(g.label);if(!c){var h=[0,0,0,0];f=tf({marginForce:h},f),g=tf({marginForce:h},g)}tj(f,g,null,{touchThreshold:.1})&&(a?wm(g.label):wm(f.label))}}})(d,n,o),o&&ti(a$(n,function(a){return a&&!a.label.ignore})),function(a,b,c,d){var e,f=c.axis,g=b.ensureRecord(c),h=[],i=!!a.axisName&&r9(a.nameLocation);aX(d,function(a){var b=tb(a);if(b&&!b.label.ignore){h.push(b);var c=g.transGroup;i&&(c.transform?cx(wd,c.transform):cr(wd),b.transform&&ct(wd,wd,b.transform),cS.copy(we,b.localRect),we.applyTransform(wd),e?e.union(we):cS.copy(e=new cS(0,0,0,0),we))}});var j=Math.abs(g.dirVec.x)>.1?"x":"y",k=g.transGroup[j];if(h.sort(function(a,b){return Math.abs(a.label[j]-k)-Math.abs(b.label[j]-k)}),i&&e){var l=f.getExtent(),m=Math.min(l[0],l[1]),n=Math.max(l[0],l[1])-m;e.union(new cS(m,0,n,1))}g.stOccupiedRect=e,g.labelInfoList=h}(a,c,d,n)}function wm(a){a&&(a.ignore=!0)}function wn(a,b,c,d,e){for(var f=[],g=[],h=[],i=0;i<a.length;i++){var j=a[i].coord;g[0]=j,g[1]=0,h[0]=j,h[1]=c,b&&(bZ(g,g,b),bZ(h,h,b));var k=new nw({shape:{x1:g[0],y1:g[1],x2:h[0],y2:h[1]},style:d,z2:2,autoBatch:!0,silent:!0});n5(k.shape,k.style.lineWidth),k.anid=e+"_"+a[i].tickValue,f.push(k);var l=wb(k);l.onBand=!!a[i].onBand,l.tickValue=a[i].tickValue}return f}function wo(a,b,c){if(wp(a)){var d=a.axisLabelsCreationContext.out.noPxChangeTryDetermine;if(c.noPxChange){for(var e=!0,f=0;f<d.length;f++)e=e&&d[f]();if(e)return!1}d.length&&(b.remove(a.labelGroup),wq(a,null,null,null))}return!0}function wp(a){return!!a.labelLayoutList}function wq(a,b,c,d){a.labelLayoutList=b,a.labelGroup=c,a.axisLabelsCreationContext=d}var wr=new hM,ws=new hM;function wt(a,b,c){c=c||{};var d=b.axis,e={},f=d.getAxesOnZeroOf()[0],g=d.position,h=f?"onZero":g,i=d.dim,j=[a.x,a.x+a.width,a.y,a.y+a.height],k={left:0,right:1,top:0,bottom:1,onZero:2},l=b.get("offset")||0,m="x"===i?[j[2]-l,j[3]+l]:[j[0]-l,j[1]+l];if(f){var n=f.toGlobalCoord(f.dataToCoord(0));m[k.onZero]=Math.max(Math.min(n,m[1]),m[0])}e.position=["y"===i?m[k[h]]:j[0],"x"===i?m[k[h]]:j[3]],e.rotation=Math.PI/2*("x"!==i),e.labelDirection=e.tickDirection=e.nameDirection=({top:-1,bottom:1,left:-1,right:1})[g],e.labelOffset=f?m[k[g]]-m[k.onZero]:0,b.get(["axisTick","inside"])&&(e.tickDirection=-e.tickDirection),bg(c.labelInside,b.get(["axisLabel","inside"]))&&(e.labelDirection=-e.labelDirection);var o=b.get(["axisLabel","rotate"]);return e.labelRotate="top"===h?-o:o,e.z2=1,e}function wu(a){var b={xAxisModel:null,yAxisModel:null};return aX(b,function(c,d){var e=d.replace(/Model$/,""),f=a.getReferringComponents(e,f4).models[0];b[d]=f}),b}function wv(a,b,c){var d=ry.prototype,e=d.getTicks.call(c),f=d.getTicks.call(c,{expandToNicedExtent:!0}),g=e.length-1,h=d.getInterval.call(c),i=r1(a,b),j=i.extent,k=i.fixMin,l=i.fixMax;"log"===a.type&&(j=rr(a.base,j,!0)),a.setBreaksFromOption(sb(b)),a.setExtent(j[0],j[1]),a.calcNiceExtent({splitNumber:g,fixMin:k,fixMax:l});var m=d.getExtent.call(a);k&&(j[0]=m[0]),l&&(j[1]=m[1]);var n=d.getInterval.call(a),o=j[0],p=j[1];if(k&&l)n=(p-o)/g;else if(k)for(p=j[0]+n*g;p<j[1]&&isFinite(p)&&isFinite(j[1]);)n=rk(n),p=j[0]+n*g;else if(l)for(o=j[1]-n*g;o>j[0]&&isFinite(o)&&isFinite(j[0]);)n=rk(n),o=j[1]-n*g;else{a.getTicks().length-1>g&&(n=rk(n));var q=n*g;(o=fu((p=Math.ceil(j[1]/n)*n)-q))<0&&j[0]>=0?(o=0,p=fu(q)):p>0&&j[1]<=0&&(p=0,o=-fu(q))}var r=(e[0].value-f[0].value)/h,s=(e[g].value-f[g].value)/h;d.setExtent.call(a,o+n*r,p+n*s),d.setInterval.call(a,n),(r||s)&&d.setNiceExtent.call(a,o+n,p-n)}var ww=[[3,1],[0,2]],wy=function(){function a(a,b,c){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=vX,this._initCartesian(a,b,c),this.model=a}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(a,b){var c=this._axesMap;function d(a){var b,c=a0(a),d=c.length;if(d){for(var e=[],f=d-1;f>=0;f--){var g=a[+c[f]],h=g.model,i=g.scale;rj(i)&&h.get("alignTicks")&&null==h.get("interval")?e.push(g):(r2(i,h),rj(i)&&(b=g))}e.length&&(b||r2((b=e.pop()).scale,b.model),aX(e,function(a){wv(a.scale,a.model,b.scale)}))}}this._updateScale(a,this.model),d(c.x),d(c.y);var e={};aX(c.x,function(a){wA(c,"y",a,e)}),aX(c.y,function(a){wA(c,"x",a,e)}),this.resize(this.model,b)},a.prototype.resize=function(a,b,c){var d=kk(a,b),e=this._rect=kh(a.getBoxLayoutParams(),d.refContainer),f=this._axesMap,g=this._coordsList,h=a.get("containLabel");if(wC(f,e),!c){var i=(k=e,l=g,m=f,n=h,o=b,p=new wc(wG),aX(m,function(a){return aX(a,function(a){sa(a.model)&&(a.axisBuilder=function(a,b,c,d,e,f){for(var g=wt(a,c),h=!1,i=!1,j=0;j<b.length;j++)rj(b[j].getOtherAxis(c.axis).scale)&&(h=i=!0,"category"===c.axis.type&&c.axis.onBand&&(i=!1));return g.axisLineAutoShow=h,g.axisTickAutoShow=i,g.defaultNameMoveOverlap=f,new wi(c,d,g,e)}(k,l,a.model,o,p,!n))})}),p),j=void 0;if(h)ab?(ab(this._axesList,e),wC(f,e)):j=wE(e.clone(),"axisLabel",null,e,f,i,d);else{var k,l,m,n,o,p,q,r,s,t,u,v,w=(q=a,r=e,s=d,"same"===(u=q.get("outerBoundsMode",!0))?t=r.clone():(null==u||"auto"===u)&&(t=kh(q.get("outerBounds",!0)||vJ,s.refContainer)),{outerBoundsRect:t,parsedOuterBoundsContain:null==(v=q.get("outerBoundsContain",!0))||"auto"===v||0>aT(["all","axisLabel"],v)?"all":v,outerBoundsClamp:[ft(bh(q.get("outerBoundsClampWidth",!0),"25%"),r.width),ft(bh(q.get("outerBoundsClampHeight",!0),"25%"),r.height)]}),x=w.outerBoundsRect,y=w.parsedOuterBoundsContain,z=w.outerBoundsClamp;x&&(j=wE(x,y,z,e,f,i,d))}wF(e,f,2,null,j,d)}aX(this._coordsList,function(a){a.calcAffineTransform()})},a.prototype.getAxis=function(a,b){var c=this._axesMap[a];if(null!=c)return c[b||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(a,b){if(null!=a&&null!=b){var c="x"+a+"y"+b;return this._coordsMap[c]}a8(a)&&(b=a.yAxisIndex,a=a.xAxisIndex);for(var d=0,e=this._coordsList;d<e.length;d++)if(e[d].getAxis("x").index===a||e[d].getAxis("y").index===b)return e[d]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(a,b,c){var d=this._findConvertTarget(b);return d.cartesian?d.cartesian.dataToPoint(c):d.axis?d.axis.toGlobalCoord(d.axis.dataToCoord(c)):null},a.prototype.convertFromPixel=function(a,b,c){var d=this._findConvertTarget(b);return d.cartesian?d.cartesian.pointToData(c):d.axis?d.axis.coordToData(d.axis.toLocalCoord(c)):null},a.prototype._findConvertTarget=function(a){var b,c,d=a.seriesModel,e=a.xAxisModel||d&&d.getReferringComponents("xAxis",f4).models[0],f=a.yAxisModel||d&&d.getReferringComponents("yAxis",f4).models[0],g=a.gridModel,h=this._coordsList;return d?0>aT(h,b=d.coordinateSystem)&&(b=null):e&&f?b=this.getCartesian(e.componentIndex,f.componentIndex):e?c=this.getAxis("x",e.componentIndex):f?c=this.getAxis("y",f.componentIndex):g&&g.coordinateSystem===this&&(b=this._coordsList[0]),{cartesian:b,axis:c}},a.prototype.containPoint=function(a){var b=this._coordsList[0];if(b)return b.containPoint(a)},a.prototype._initCartesian=function(a,b,c){var d=this,e=this,f={left:!1,right:!1,top:!1,bottom:!1},g={x:{},y:{}},h={x:0,y:0};if(b.eachComponent("xAxis",i("x"),this),b.eachComponent("yAxis",i("y"),this),!h.x||!h.y){this._axesMap={},this._axesList=[];return}function i(b){return function(c,d){if(wz(c,a)){var i=c.get("position");"x"===b?"top"!==i&&"bottom"!==i&&(i=f.bottom?"top":"bottom"):"left"!==i&&"right"!==i&&(i=f.left?"right":"left"),f[i]=!0;var j=new v$(b,r3(c),[0,0],c.get("type"),i),k="category"===j.type;j.onBand=k&&c.get("boundaryGap"),j.inverse=c.get("inverse"),c.axis=j,j.model=c,j.grid=e,j.index=d,e._axesList.push(j),g[b][d]=j,h[b]++}}}this._axesMap=g,aX(g.x,function(b,c){aX(g.y,function(e,f){var g="x"+c+"y"+f,h=new vZ(g);h.master=d,h.model=a,d._coordsMap[g]=h,d._coordsList.push(h),h.addAxis(b),h.addAxis(e)})})},a.prototype._updateScale=function(a,b){function c(a,b){aX(r8(a,b.dim),function(c){b.scale.unionExtentFromData(a,c)})}aX(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),"category"===a.type){var b=a.model.get("categorySortInfo");a.scale.setSortInfo(b)}}),a.eachSeries(function(a){if(a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type){var d=wu(a),e=d.xAxisModel,f=d.yAxisModel;if(wz(e,b)&&wz(f,b)){var g=this.getCartesian(e.componentIndex,f.componentIndex),h=a.getData(),i=g.getAxis("x"),j=g.getAxis("y");c(h,i),c(h,j)}}},this)},a.prototype.getTooltipAxes=function(a){var b=[],c=[];return aX(this.getCartesians(),function(d){var e=null!=a&&"auto"!==a?d.getAxis(a):d.getBaseAxis(),f=d.getOtherAxis(e);0>aT(b,e)&&b.push(e),0>aT(c,f)&&c.push(f)}),{baseAxes:b,otherAxes:c}},a.create=function(b,c){var d=[];return b.eachComponent("grid",function(e,f){var g=new a(e,b,c);g.name="grid_"+f,g.resize(e,c,!0),e.coordinateSystem=g,d.push(g)}),b.eachSeries(function(a){j9({targetModel:a,coordSysType:"cartesian2d",coordSysProvider:function(){var b=wu(a),c=b.xAxisModel,d=b.yAxisModel;return c.getCoordSysModel().coordinateSystem.getCartesian(c.componentIndex,d.componentIndex)}})}),d},a.dimensions=vX,a}();function wz(a,b){return a.getCoordSysModel()===b}function wA(a,b,c,d){c.getAxesOnZeroOf=function(){return e?[e]:[]};var e,f=a[b],g=c.model,h=g.get(["axisLine","onZero"]),i=g.get(["axisLine","onZeroAxisIndex"]);if(h){if(null!=i)wB(f[i])&&(e=f[i]);else for(var j in f)if(f.hasOwnProperty(j)&&wB(f[j])&&!d[k(f[j])]){e=f[j];break}e&&(d[k(e)]=!0)}function k(a){return a.dim+"_"+a.index}}function wB(a){var b,c,d;return a&&"category"!==a.type&&"time"!==a.type&&(c=(b=a.scale.getExtent())[0],d=b[1],!(c>0&&d>0||c<0&&d<0))}function wC(a,b){aX(a.x,function(a){return wD(a,b.x,b.width)}),aX(a.y,function(a){return wD(a,b.y,b.height)})}function wD(a,b,c){var d,e,f=[0,c],g=+!!a.inverse;a.setExtent(f[g],f[1-g]),e=(d=a.getExtent())[0]+d[1],a.toGlobalCoord="x"===a.dim?function(a){return a+b}:function(a){return e-a+b},a.toLocalCoord="x"===a.dim?function(a){return a-b}:function(a){return e-a+b}}function wE(a,b,c,d,e,f,g){wF(d,e,1,b,!1,g);var h=[0,0,0,0];j(0),j(1),k(d,0,NaN),k(d,1,NaN);var i=null==a_(h,function(a){return a>0});return oh(d,h,!0,!0,c),wC(e,d),i;function j(a){aX(e[nV[a]],function(b){if(sa(b.model)){var c=f.ensureRecord(b.model),d=c.labelInfoList;if(d)for(var e=0;e<d.length;e++){var g=d[e],h=b.scale.normalize(wa(g.label).tickValue);h=1===a?1-h:h,k(g.rect,a,h),k(g.rect,1-a,NaN)}var i=c.nameLayout;if(i){var h=r9(c.nameLocation)?.5:NaN;k(i.rect,a,h),k(i.rect,1-a,NaN)}}})}function k(b,c,d){var e=a[nV[c]]-b[nV[c]],f=b[nW[c]]+b[nV[c]]-(a[nW[c]]+a[nV[c]]);e=l(e,1-d),f=l(f,d);var g=ww[c][0],i=ww[c][1];h[g]=fp(h[g],e),h[i]=fp(h[i],f)}function l(a,b){return a>0&&b==b&&b>1e-4&&(a/=b),a}}function wF(a,b,c,d,e,f){var g=2===c;aX(b,function(b){return aX(b,function(b){if(sa(b.model)){var c,d;c=b.axisBuilder,d=wt(a,b.model),c.updateCfg(d),b.axisBuilder.build(g?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:e})}})});var h={x:0,y:0};function i(b){h[nV[1-b]]=a[nW[b]]<=.5*f.refContainer[nW[b]]?0:1-b==1?2:1}i(0),i(1),aX(b,function(a,b){return aX(a,function(a){sa(a.model)&&(("all"===d||g)&&a.axisBuilder.build({axisName:!0},{nameMarginLevel:h[b]}),g&&a.axisBuilder.build({axisLine:!0}))})})}var wG=function(a,b,c,d,e,f){var g="x"===c.axis.dim?"y":"x";wf(a,b,c,d,e,f),r9(a.nameLocation)||aX(b.recordMap[g],function(a){a&&a.labelInfoList&&a.dirVec&&wh(a.labelInfoList,a.dirVec,d,e)})};function wH(a,b){return"all"===a||a3(a)&&aT(a,b)>=0||a===b}function wI(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[wK(a)]}function wJ(a){return!!a.get(["handle","show"])}function wK(a){return a.type+"||"+a.id}var wL={},wM=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(b,c,d,e){this.axisPointerClass&&function(a){var b=wI(a);if(b){var c=b.axisPointerModel,d=b.axis.scale,e=c.option,f=c.get("status"),g=c.get("value");null!=g&&(g=d.parse(g));var h=wJ(c);null==f&&(e.status=h?"show":"hide");var i=d.getExtent().slice();i[0]>i[1]&&i.reverse(),(null==g||g>i[1])&&(g=i[1]),g<i[0]&&(g=i[0]),e.value=g,h&&(e.status=b.axis.scale.isBlank()?"hide":"show")}}(b),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(b,d,!0)},b.prototype.updateAxisPointer=function(a,b,c,d){this._doUpdateAxisPointerClass(a,c,!1)},b.prototype.remove=function(a,b){var c=this._axisPointer;c&&c.remove(b)},b.prototype.dispose=function(b,c){this._disposeAxisPointer(c),a.prototype.dispose.apply(this,arguments)},b.prototype._doUpdateAxisPointerClass=function(a,c,d){var e=b.getAxisPointerClass(this.axisPointerClass);if(e){var f,g=(f=wI(a))&&f.axisPointerModel;g?(this._axisPointer||(this._axisPointer=new e)).render(a,g,c,d):this._disposeAxisPointer(c)}},b.prototype._disposeAxisPointer=function(a){this._axisPointer&&this._axisPointer.dispose(a),this._axisPointer=null},b.registerAxisPointerClass=function(a,b){wL[a]=b},b.getAxisPointerClass=function(a){return a&&wL[a]},b.type="axis",b}(mG),wN=f0();function wO(a,b,c,d){var e=c.axis;if(!e.scale.isBlank()){var f=c.getModel("splitArea"),g=f.getModel("areaStyle"),h=g.get("color"),i=d.coordinateSystem.getRect(),j=e.getTicksCoords({tickModel:f,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(j.length){var k=h.length,l=wN(a).splitAreaColors,m=bt(),n=0;if(l)for(var o=0;o<j.length;o++){var p=l.get(j[o].tickValue);if(null!=p){n=(p+(k-1)*o)%k;break}}var q=e.toGlobalCoord(j[0].coord),r=g.getAreaStyle();h=a3(h)?h:[h];for(var o=1;o<j.length;o++){var s=e.toGlobalCoord(j[o].coord),t=void 0,u=void 0,v=void 0,w=void 0;e.isHorizontal()?(t=q,u=i.y,v=s-t,w=i.height,q=t+v):(t=i.x,u=q,v=i.width,w=s-u,q=u+w);var x=j[o-1].tickValue;null!=x&&m.set(x,n),b.add(new hM({anid:null!=x?"area_"+x:null,shape:{x:t,y:u,width:v,height:w},style:aR({fill:h[n]},r),autoBatch:!0,silent:!0})),n=(n+1)%k}wN(a).splitAreaColors=m}}}function wP(a){wN(a).splitAreaColors=null}var wQ=["splitArea","splitLine","minorSplitLine","breakArea"],wR=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.axisPointerClass="CartesianAxisPointer",c}return aq(b,a),b.prototype.render=function(b,c,d,e){this.group.removeAll();var f=this._axisGroup;this._axisGroup=new fc,this.group.add(this._axisGroup),sa(b)&&(this._axisGroup.add(b.axis.axisBuilder.group),aX(wQ,function(a){b.get([a,"show"])&&wS[a](this,this._axisGroup,b,b.getCoordSysModel(),d)},this),e&&"changeAxisOrder"===e.type&&e.isInitSort||ob(f,this._axisGroup,b),a.prototype.render.call(this,b,c,d,e))},b.prototype.remove=function(){wP(this)},b.type="cartesianAxis",b}(wM),wS={splitLine:function(a,b,c,d,e){var f=c.axis;if(!f.scale.isBlank()){var g=c.getModel("splitLine"),h=g.getModel("lineStyle"),i=h.get("color"),j=!1!==g.get("showMinLine"),k=!1!==g.get("showMaxLine");i=a3(i)?i:[i];for(var l=d.coordinateSystem.getRect(),m=f.isHorizontal(),n=0,o=f.getTicksCoords({tickModel:g,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),p=[],q=[],r=h.getLineStyle(),s=0;s<o.length;s++){var t=f.toGlobalCoord(o[s].coord);if((0!==s||j)&&(s!==o.length-1||k)){var u=o[s].tickValue;m?(p[0]=t,p[1]=l.y,q[0]=t,q[1]=l.y+l.height):(p[0]=l.x,p[1]=t,q[0]=l.x+l.width,q[1]=t);var v=n++%i.length,w=new nw({anid:null!=u?"line_"+u:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:q[0],y2:q[1]},style:aR({stroke:i[v]},r),silent:!0});n5(w.shape,r.lineWidth),b.add(w)}}}},minorSplitLine:function(a,b,c,d,e){var f=c.axis,g=c.getModel("minorSplitLine").getModel("lineStyle"),h=d.coordinateSystem.getRect(),i=f.isHorizontal(),j=f.getMinorTicksCoords();if(j.length)for(var k=[],l=[],m=g.getLineStyle(),n=0;n<j.length;n++)for(var o=0;o<j[n].length;o++){var p=f.toGlobalCoord(j[n][o].coord);i?(k[0]=p,k[1]=h.y,l[0]=p,l[1]=h.y+h.height):(k[0]=h.x,k[1]=p,l[0]=h.x+h.width,l[1]=p);var q=new nw({anid:"minor_line_"+j[n][o].tickValue,autoBatch:!0,shape:{x1:k[0],y1:k[1],x2:l[0],y2:l[1]},style:m,silent:!0});n5(q.shape,m.lineWidth),b.add(q)}},splitArea:function(a,b,c,d,e){wO(a,b,c,d)},breakArea:function(a,b,c,d,e){var f=vT,g=c.axis.scale;f&&"ordinal"!==g.type&&f.rectCoordBuildBreakAxis(b,a,c,d.coordinateSystem.getRect(),e)}},wT=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="xAxis",b}(wR),wU=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type=wT.type,b}return aq(b,a),b.type="yAxis",b}(wR),wV=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="grid",b}return aq(b,a),b.prototype.render=function(a,b){this.group.removeAll(),a.get("show")&&this.group.add(new hM({shape:a.coordinateSystem.getRect(),style:aR({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))},b.type="grid",b}(mG),wW={offset:0};function wX(a){a.registerComponentView(wV),a.registerComponentModel(vK),a.registerCoordinateSystem("cartesian2d",wy),vU(a,"x",vL,wW),vU(a,"y",vL,wW),a.registerComponentView(wT),a.registerComponentView(wU),a.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})})}var wY=f0();function wZ(a,b,c,d){if(a instanceof v$){var e,f,g,h,i,j,k,l,m,n,o,p,q,r=a.scale.type;if("category"!==r&&"ordinal"!==r)return c}var s=a.model,t=s.get("jitter"),u=s.get("jitterOverlap"),v=s.get("jitterMargin")||0,w="ordinal"===a.scale.type?a.getBandWidth():null;if(t>0)if(u)return w$(c,t,w,d);else{return e=a,f=b,g=c,h=d,i=t,j=v,(k=wY(e)).items||(k.items=[]),m=w_(l=k.items,f,g,h,i,j,1),n=w_(l,f,g,h,i,j,-1),o=Math.abs(m-g)<Math.abs(n-g)?m:n,p="ordinal"===e.scale.type?e.getBandWidth():null,(q=Math.abs(o-g))>i/2||p&&q>p/2-h?w$(g,i,p,h):(l.push({fixedCoord:f,floatCoord:o,r:h}),o)}return c}function w$(a,b,c,d){return null===c?a+(Math.random()-.5)*b:a+(Math.random()-.5)*Math.min(Math.max(0,b),c-2*d)}function w_(a,b,c,d,e,f,g){for(var h=c,i=0;i<a.length;i++){var j=a[i],k=b-j.fixedCoord,l=h-j.floatCoord,m=k*k+l*l,n=d+j.r+f;if(m<n*n){var o=j.floatCoord+Math.sqrt(n*n-k*k)*g;if(Math.abs(o-c)>e/2)return Number.MAX_VALUE;if(1===g&&o>h||-1===g&&o<h){h=o,i=-1;continue}}}return h}function w0(a){a.eachSeriesByType("scatter",function(a){var b=a.coordinateSystem;if(b&&("cartesian2d"===b.type||"single"===b.type)){var c,d,e,f,g,h=b.getBaseAxis?b.getBaseAxis():null;if(h&&(d=(c=a.coordinateSystem)&&c.type,f=(e=c&&c.getBaseAxis&&c.getBaseAxis())&&e.scale&&e.scale.type,g=h.model.get("jitter")>0,("cartesian2d"===d&&"ordinal"===f||"single"===d)&&g)){var i=a.getData();i.each(function(a){var b=h.dim,c=h.orient,d="horizontal"===c&&"category"!==h.type||"vertical"===c&&"category"===h.type,e=i.getItemLayout(a),f=i.getItemVisual(a,"symbolSize"),g=f instanceof Array?(f[1]+f[0])/2:f;if("y"===b||"single"===b&&d){var j=wZ(h,e[0],e[1],g/2);i.setItemLayout(a,[e[0],j])}else if("x"===b||"single"===b&&!d){var j=wZ(h,e[1],e[0],g/2);i.setItemLayout(a,[j,e[1]])}})}}})}function w1(a){a.eachSeriesByType("radar",function(a){var b=a.getData(),c=[],d=a.coordinateSystem;if(d){var e=d.getIndicatorAxes();aX(e,function(a,f){b.each(b.mapDimension(e[f].dim),function(a,b){c[b]=c[b]||[];var e,g=d.dataToPoint(a,f);c[b][f]=w2(g)?g:[(e=d).cx,e.cy]})}),b.each(function(a){var e,f=a_(c[a],function(a){return w2(a)})||[(e=d).cx,e.cy];c[a].push(f.slice()),b.setItemLayout(a,c[a])})}})}function w2(a){return!isNaN(a[0])&&!isNaN(a[1])}function w3(a){var b=a.polar;if(b){a3(b)||(b=[b]);var c=[];aX(b,function(b,d){b.indicator?(b.type&&!b.shape&&(b.shape=b.type),a.radar=a.radar||[],a3(a.radar)||(a.radar=[a.radar]),a.radar.push(b)):c.push(b)}),a.polar=c}aX(a.series,function(a){a&&"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}var w4=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){var d=a.coordinateSystem,e=this.group,f=a.getData(),g=this._data;function h(b,c,d,e,f,g){d.removeAll();for(var h=0;h<c.length-1;h++){var i=function(a,b){var c=a.getItemVisual(b,"symbol")||"circle";if("none"!==c){var d=pr(a.getItemVisual(b,"symbolSize")),e=pq(c,-1,-1,2,2),f=a.getItemVisual(b,"symbolRotate")||0;return e.attr({style:{strokeNoScale:!0},z2:100,scaleX:d[0]/2,scaleY:d[1]/2,rotation:f*Math.PI/180||0}),e}}(e,f);i&&(i.__dimIdx=h,b[h]?(i.setPosition(b[h]),ai[g?"initProps":"updateProps"](i,{x:c[h][0],y:c[h][1]},a,f)):i.setPosition(c[h]),d.add(i))}}function i(a){return aY(a,function(a){return[d.cx,d.cy]})}f.diff(g).add(function(b){var c=f.getItemLayout(b);if(c){var d=new np,e=new ns,g={shape:{points:c}};d.shape.points=i(c),e.shape.points=i(c),iS(d,g,a,b),iS(e,g,a,b);var j=new fc,k=new fc;j.add(e),j.add(d),j.add(k),h(e.shape.points,c,k,f,b,!0),f.setItemGraphicEl(b,j)}}).update(function(b,c){var d=g.getItemGraphicEl(c),e=d.childAt(0),i=d.childAt(1),j=d.childAt(2),k={shape:{points:f.getItemLayout(b)}};k.shape.points&&(h(e.shape.points,k.shape.points,j,f,b,!1),iX(i),iX(e),iR(e,k,a),iR(i,k,a),f.setItemGraphicEl(b,d))}).remove(function(a){e.remove(g.getItemGraphicEl(a))}).execute(),f.eachItemGraphicEl(function(a,b){var c=f.getItemModel(b),d=a.childAt(0),g=a.childAt(1),h=a.childAt(2),i=f.getItemVisual(b,"style"),j=i.fill;e.add(a),d.useStyle(aR(c.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:j})),iJ(d,c,"lineStyle"),iJ(g,c,"areaStyle");var k=c.getModel("areaStyle"),l=k.isEmpty()&&k.parentModel.isEmpty();g.ignore=l,aX(["emphasis","select","blur"],function(a){var b=c.getModel([a,"areaStyle"]),e=b.isEmpty()&&b.parentModel.isEmpty();g.ensureState(a).ignore=e&&l;var f=c.getModel([a,"lineStyle"]).getLineStyle();d.ensureState(a).style=f;var i=b.getAreaStyle();g.ensureState(a).style=i;var j=c.getModel([a,"itemStyle"]).getItemStyle();h.eachChild(function(b){b.ensureState(a).style=aN(j)})}),g.useStyle(aR(c.getModel("areaStyle").getAreaStyle(),{fill:j,opacity:.7,decal:i.decal}));var m=c.getModel("emphasis");h.eachChild(function(a){if(a instanceof hE){var d=a.style;a.useStyle(aQ({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},i))}else a.useStyle(i),a.setColor(j),a.style.strokeNoScale=!0;var e=f.getStore().get(f.getDimensionIndex(a.__dimIdx),b);(null==e||isNaN(e))&&(e=""),i_(a,i0(c),{labelFetcher:f.hostModel,labelDataIndex:b,labelDimIndex:a.__dimIdx,defaultText:e,inheritColor:j,defaultOpacity:i.opacity})}),iF(a,m.get("focus"),m.get("blurScope"),m.get("disabled"))}),this._data=f},b.prototype.remove=function(){this.group.removeAll(),this._data=null},b.type="radar",b}(oC),w5=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c}return aq(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new vB(a1(this.getData,this),a1(this.getRawData,this))},b.prototype.getInitialData=function(a,b){return vA(this,{generateCoord:"indicator_",generateCoordCount:1/0})},b.prototype.formatTooltip=function(a,b,c){var d=this.getData(),e=this.coordinateSystem.getIndicatorAxes(),f=this.getData().getName(a),g=""===f?this.name:f,h=mp(this,a);return mi("section",{header:g,sortBlocks:!0,blocks:aY(e,function(b){var c=d.get(d.mapDimension(b.dim),a);return mi("nameValue",{markerType:"subItem",markerColor:h,name:b.name,value:c,sortParam:c})})})},b.prototype.getTooltipPosition=function(a){if(null!=a){for(var b=this.getData(),c=this.coordinateSystem,d=b.getValues(aY(c.dimensions,function(a){return b.mapDimension(a)}),a),e=0,f=d.length;e<f;e++)if(!isNaN(d[e])){var g=c.getIndicatorAxes();return c.coordToPoint(g[e].dataToCoord(d[e]),e)}}},b.type="series.radar",b.dependencies=["radar"],b.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},b}(mE),w6=vR.value;function w7(a,b){return aR({show:b},a)}var w8=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.optionUpdated=function(){var a=this.get("boundaryGap"),b=this.get("splitNumber"),c=this.get("scale"),d=this.get("axisLine"),e=this.get("axisTick"),f=this.get("axisLabel"),g=this.get("axisName"),h=this.get(["axisName","show"]),i=this.get(["axisName","formatter"]),j=this.get("axisNameGap"),k=this.get("triggerEvent"),l=aY(this.get("indicator")||[],function(l){null!=l.max&&l.max>0&&!l.min?l.min=0:null!=l.min&&l.min<0&&!l.max&&(l.max=0);var m=g;null!=l.color&&(m=aR({color:l.color},g));var n=aO(aN(l),{boundaryGap:a,splitNumber:b,scale:c,axisLine:d,axisTick:e,axisLabel:f,name:l.text,showName:h,nameLocation:"end",nameGap:j,nameTextStyle:m,triggerEvent:k},!1);if(a5(i)){var o=n.name;n.name=i.replace("{value}",null!=o?o:"")}else a4(i)&&(n.name=i(n.name,n));var p=new jn(n,null,this.ecModel);return aV(p,sc.prototype),p.mainType="radar",p.componentIndex=this.componentIndex,p},this);this._indicatorModels=l},b.prototype.getIndicatorModels=function(){return this._indicatorModels},b.type="radar",b.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:kv.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:aO({lineStyle:{color:kv.color.neutral20}},w6.axisLine),axisLabel:w7(w6.axisLabel,!1),axisTick:w7(w6.axisTick,!1),splitLine:w7(w6.splitLine,!0),splitArea:w7(w6.splitArea,!0),indicator:[]},b}(ku),w9=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){this.group.removeAll(),this._buildAxes(a,c),this._buildSplitLineAndArea(a)},b.prototype._buildAxes=function(a,b){var c=a.coordinateSystem;aX(aY(c.getIndicatorAxes(),function(a){var d=a.model.get("showName")?a.name:"";return new wi(a.model,b,{axisName:d,position:[c.cx,c.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(a){a.build(),this.group.add(a.group)},this)},b.prototype._buildSplitLineAndArea=function(a){var b=a.coordinateSystem,c=b.getIndicatorAxes();if(c.length){var d=a.get("shape"),e=a.getModel("splitLine"),f=a.getModel("splitArea"),g=e.getModel("lineStyle"),h=f.getModel("areaStyle"),i=e.get("show"),j=f.get("show"),k=g.get("color"),l=h.get("color"),m=a3(k)?k:[k],n=a3(l)?l:[l],o=[],p=[];if("circle"===d)for(var q=c[0].getTicksCoords(),r=b.cx,s=b.cy,t=0;t<q.length;t++){if(i){var u=C(o,m,t);o[u].push(new m1({shape:{cx:r,cy:s,r:q[t].coord}}))}if(j&&t<q.length-1){var u=C(p,n,t);p[u].push(new nl({shape:{cx:r,cy:s,r0:q[t].coord,r:q[t+1].coord}}))}}else for(var v,w=aY(c,function(a,c){var d=a.getTicksCoords();return v=null==v?d.length-1:Math.min(d.length-1,v),aY(d,function(a){return b.coordToPoint(a.coord,c)})}),x=[],t=0;t<=v;t++){for(var y=[],z=0;z<c.length;z++)y.push(w[z][t]);if(y[0]&&y.push(y[0].slice()),i){var u=C(o,m,t);o[u].push(new ns({shape:{points:y}}))}if(j&&x){var u=C(p,n,t-1);p[u].push(new np({shape:{points:y.concat(x)}}))}x=y.slice().reverse()}var A=g.getLineStyle(),B=h.getAreaStyle();aX(p,function(a,b){this.group.add(n3(a,{style:aR({stroke:"none",fill:n[b%n.length]},B),silent:!0}))},this),aX(o,function(a,b){this.group.add(n3(a,{style:aR({fill:"none",stroke:m[b%m.length]},A),silent:!0}))},this)}function C(a,b,c){var d=c%b.length;return a[d]=a[d]||[],d}},b.type="radar",b}(mG),xa=function(a){function b(b,c,d){var e=a.call(this,b,c,d)||this;return e.type="value",e.angle=0,e.name="",e}return aq(b,a),b}(sM),xb=function(){function a(a,b,c){this.dimensions=[],this._model=a,this._indicatorAxes=aY(a.getIndicatorModels(),function(a,b){var c="indicator_"+b,d=new xa(c,new ry);return d.name=a.get("name"),d.model=a,a.axis=d,this.dimensions.push(c),d},this),this.resize(a,c)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(a,b){var c=this._indicatorAxes[b];return this.coordToPoint(c.dataToCoord(a),b)},a.prototype.coordToPoint=function(a,b){var c=this._indicatorAxes[b].angle;return[this.cx+a*Math.cos(c),this.cy-a*Math.sin(c)]},a.prototype.pointToData=function(a){var b,c=a[0]-this.cx,d=a[1]-this.cy,e=Math.sqrt(c*c+d*d);c/=e;for(var f=Math.atan2(-(d/=e),c),g=1/0,h=-1,i=0;i<this._indicatorAxes.length;i++){var j=this._indicatorAxes[i],k=Math.abs(f-j.angle);k<g&&(b=j,h=i,g=k)}return[h,+(b&&b.coordToData(e))]},a.prototype.resize=function(a,b){var c=kk(a,b).refContainer,d=a.get("center"),e=Math.min(c.width,c.height)/2;this.cx=fs(d[0],c.width)+c.x,this.cy=fs(d[1],c.height)+c.y,this.startAngle=a.get("startAngle")*Math.PI/180;var f=a.get("radius");(a5(f)||a7(f))&&(f=[0,f]),this.r0=fs(f[0],e),this.r=fs(f[1],e),aX(this._indicatorAxes,function(a,b){a.setExtent(this.r0,this.r);var c=this.startAngle+b*Math.PI*2/this._indicatorAxes.length;a.angle=Math.atan2(Math.sin(c),Math.cos(c))},this)},a.prototype.update=function(a,b){var c=this._indicatorAxes,d=this._model;aX(c,function(a){a.scale.setExtent(1/0,-1/0)}),a.eachSeriesByType("radar",function(b,e){if("radar"===b.get("coordinateSystem")&&a.getComponent("radar",b.get("radarIndex"))===d){var f=b.getData();aX(c,function(a){a.scale.unionExtentFromData(f,f.mapDimension(a.dim))})}},this);var e=d.get("splitNumber"),f=new ry;f.setExtent(0,e),f.setInterval(1),aX(c,function(a,b){wv(a.scale,a.model,f)})},a.prototype.convertToPixel=function(a,b,c){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(a,b,c){return console.warn("Not implemented."),null},a.prototype.containPoint=function(a){return console.warn("Not implemented."),!1},a.create=function(b,c){var d=[];return b.eachComponent("radar",function(e){var f=new a(e,b,c);d.push(f),e.coordinateSystem=f}),b.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=d[a.get("radarIndex")||0])}),d},a.dimensions=[],a}();function xc(a){a.registerCoordinateSystem("radar",xb),a.registerComponentModel(w8),a.registerComponentView(w9),a.registerVisual({seriesType:"radar",reset:function(a){var b=a.getData();b.each(function(a){b.setItemVisual(a,"legendIcon","roundRect")}),b.setVisual("legendIcon","roundRect")}})}var xd=f0();qB({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},by);var xe={axisPointer:1,tooltip:1,brush:1};function xf(a,b,c){var d=b.getComponentByElement(a.topTarget);if(!d||d===c||xe.hasOwnProperty(d.mainType))return!1;var e=d.coordinateSystem;if(!e||e.model===c)return!1;var f=or(d),g=or(c);return!(0>=(f.zlevel-g.zlevel||f.z-g.z))}var xg=function(a){function b(b){var c=a.call(this)||this;c._zr=b;var d=a1(c._mousedownHandler,c),e=a1(c._mousemoveHandler,c),f=a1(c._mouseupHandler,c),g=a1(c._mousewheelHandler,c),h=a1(c._pinchHandler,c);return c.enable=function(a,c){var i=c.zInfo,j=or(i.component),k=j.z,l=j.zlevel,m={component:i.component,z:k,zlevel:l,z2:bh(i.z2,-1/0)},n=aQ({},c.triggerInfo);this._opt=aR(aQ({},c),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:m,triggerInfo:n}),null==a&&(a=!0),this._enabled&&this._controlType===a||(this._enabled=!0,this.disable(),(!0===a||"move"===a||"pan"===a)&&(xk(b,"mousedown",d,m),xk(b,"mousemove",e,m),xk(b,"mouseup",f,m)),(!0===a||"scale"===a||"zoom"===a)&&(xk(b,"mousewheel",g,m),xk(b,"pinch",h,m)))},c.disable=function(){this._enabled=!1,xl(b,"mousedown",d),xl(b,"mousemove",e),xl(b,"mouseup",f),xl(b,"mousewheel",g),xl(b,"pinch",h)},c}return aq(b,a),b.prototype.isDragging=function(){return this._dragging},b.prototype.isPinching=function(){return this._pinching},b.prototype._checkPointer=function(a,b,c){var d=this._opt,e=d.zInfoParsed;if(xf(a,d.api,e.component))return!1;var f=d.triggerInfo,g=f.roamTrigger,h=!1;return"global"===g&&(h=!0),h||(h=f.isInSelf(a,b,c)),h&&f.isInClip&&!f.isInClip(a,b,c)&&(h=!1),h},b.prototype._decideCursorStyle=function(a,b,c,d){var e=a.target;return!e&&this._checkPointer(a,b,c)?"grab":d?e&&e.cursor||"default":void 0},b.prototype.dispose=function(){this.disable()},b.prototype._mousedownHandler=function(a){if(!(cm(a)||xh(a))){for(var b=a.target;b;){if(b.draggable)return;b=b.__hostTarget||b.parent}var c=a.offsetX,d=a.offsetY;this._checkPointer(a,c,d)&&(this._x=c,this._y=d,this._dragging=!0)}},b.prototype._mousemoveHandler=function(a){var b=this._zr;if(!("pinch"===a.gestureEvent||xd(b).globalPan||xh(a))){var c=a.offsetX,d=a.offsetY;if(!this._dragging||!xn("moveOnMouseMove",a,this._opt)){var e=this._decideCursorStyle(a,c,d,!1);e&&b.setCursorStyle(e);return}b.setCursorStyle("grabbing");var f=this._x,g=this._y,h=c-f,i=d-g;this._x=c,this._y=d,this._opt.preventDefaultMouseMove&&cl(a.event),a.__ecRoamConsumed=!0,xm(this,"pan","moveOnMouseMove",a,{dx:h,dy:i,oldX:f,oldY:g,newX:c,newY:d,isAvailableBehavior:null})}},b.prototype._mouseupHandler=function(a){if(!xh(a)){var b=this._zr;if(!cm(a)){this._dragging=!1;var c=this._decideCursorStyle(a,a.offsetX,a.offsetY,!0);c&&b.setCursorStyle(c)}}},b.prototype._mousewheelHandler=function(a){if(!xh(a)){var b=xn("zoomOnMouseWheel",a,this._opt),c=xn("moveOnMouseWheel",a,this._opt),d=a.wheelDelta,e=Math.abs(d),f=a.offsetX,g=a.offsetY;if(0!==d&&(b||c)){if(b){var h=e>3?1.4:e>1?1.2:1.1;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",a,{scale:d>0?h:1/h,originX:f,originY:g,isAvailableBehavior:null})}if(c){var i=Math.abs(d);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",a,{scrollDelta:(d>0?1:-1)*(i>3?.4:i>1?.15:.05),originX:f,originY:g,isAvailableBehavior:null})}}}},b.prototype._pinchHandler=function(a){if(!(xd(this._zr).globalPan||xh(a))){var b=a.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,a,{scale:b,originX:a.pinchX,originY:a.pinchY,isAvailableBehavior:null})}},b.prototype._checkTriggerMoveZoom=function(a,b,c,d,e){a._checkPointer(d,e.originX,e.originY)&&(cl(d.event),d.__ecRoamConsumed=!0,xm(a,b,c,d,e))},b}(b2);function xh(a){return a.__ecRoamConsumed}var xi=f0();function xj(a){var b=xi(a);return b.roam=b.roam||{},b.uniform=b.uniform||{},b}function xk(a,b,c,d){for(var e,f,g,h=xj(a).roam,i=h[b]=h[b]||[],j=0;j<i.length;j++){var k=i[j].zInfoParsed;if(0>=(k.zlevel-d.zlevel||k.z-d.z||k.z2-d.z2))break}i.splice(j,0,{listener:c,zInfoParsed:d}),e=a,f=b,(g=xj(e)).uniform[f]||e.on(f,g.uniform[f]=function(a){var b=g.roam[f];if(b)for(var c=0;c<b.length;c++)b[c].listener(a)})}function xl(a,b,c){for(var d=xj(a).roam[b]||[],e=0;e<d.length;e++)if(d[e].listener===c){d.splice(e,1),d.length||function(a,b){var c=xj(a).uniform;c[b]&&(a.off(b,c[b]),c[b]=null)}(a,b);return}}function xm(a,b,c,d,e){e.isAvailableBehavior=a1(xn,null,c,d),a.trigger(b,e)}function xn(a,b,c){var d=c[a];return!a||d&&(!a5(d)||b.event[d+"Key"])}function xo(a,b,c){var d=a.target;d.x+=b,d.y+=c,d.dirty()}function xp(a,b,c,d){var e=a.target,f=a.zoomLimit,g=a.zoom=a.zoom||1;g*=b;var h=(g=xu(g,f))/a.zoom;a.zoom=g,xt(e,c,d,h),e.dirty()}function xq(a,b,c,d,e,f){var g=new cS(0,0,0,0);d.enable(a.get("roam"),{api:b,zInfo:{component:a},triggerInfo:{roamTrigger:a.get("roamTrigger"),isInSelf:function(a,b,d){return g.copy(c.getBoundingRect()),g.applyTransform(c.getComputedTransform()),g.contain(b,d)},isInClip:function(a,b,c){return!f||f.contain(b,c)}}}),e.zoomLimit=a.get("scaleLimit");var h=a.coordinateSystem;e.zoom=h?h.getZoom():1;var i=a.subType+"Roam";d.off("pan").off("zoom").on("pan",function(c){xo(e,c.dx,c.dy),b.dispatchAction({seriesId:a.id,type:i,dx:c.dx,dy:c.dy})}).on("zoom",function(c){xp(e,c.scale,c.originX,c.originY),b.dispatchAction({seriesId:a.id,type:i,zoom:c.scale,originX:c.originX,originY:c.originY}),b.updateLabelLayout()})}function xr(a,b){return a.pointToProjected?a.pointToProjected(b):a.pointToData(b)}function xs(a,b,c){var d=a.getZoom(),e=a.getCenter(),f=b.zoom,g=a.projectedToPoint?a.projectedToPoint(e):a.dataToPoint(e);return null!=b.dx&&null!=b.dy&&(g[0]-=b.dx,g[1]-=b.dy,a.setCenter(xr(a,g))),null!=f&&(f=xu(d*f,c)/d,xt(a,b.originX,b.originY,f),a.updateTransform(),a.setCenter(xr(a,g)),a.setZoom(f*d)),{center:a.getCenter(),zoom:a.getZoom()}}function xt(a,b,c,d){a.x-=(b-a.x)*(d-1),a.y-=(c-a.y)*(d-1),a.scaleX*=d,a.scaleY*=d}function xu(a,b){if(b){var c=b.min||0;a=Math.max(Math.min(b.max||1/0,a),c)}return a}function xv(a){a5(a)&&(a=new DOMParser().parseFromString(a,"text/xml"));var b=a;for(9===b.nodeType&&(b=b.firstChild);"svg"!==b.nodeName.toLowerCase()||1!==b.nodeType;)b=b.nextSibling;return b}var xw={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},xx=a0(xw),xy={"alignment-baseline":"textBaseline","stop-color":"stopColor"},xz=a0(xy),xA=function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(a,b){b=b||{};var c,d,e=xv(a);this._defsUsePending=[];var f=new fc;this._root=f;var g=[],h=e.getAttribute("viewBox")||"",i=parseFloat(e.getAttribute("width")||b.width),j=parseFloat(e.getAttribute("height")||b.height);isNaN(i)&&(i=null),isNaN(j)&&(j=null),xG(e,f,null,!0,!1);for(var k=e.firstChild;k;)this._parseNode(k,f,g,null,!1,!1),k=k.nextSibling;if(function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d[0].style[d[1]]=a[d[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],h){var l=xK(h);l.length>=4&&(c={x:parseFloat(l[0]||0),y:parseFloat(l[1]||0),width:parseFloat(l[2]),height:parseFloat(l[3])})}if(c&&null!=i&&null!=j&&(d=xP(c,{x:0,y:0,width:i,height:j}),!b.ignoreViewBox)){var m=f;(f=new fc).add(m),m.scaleX=m.scaleY=d.scale,m.x=d.x,m.y=d.y}return b.ignoreRootClip||null==i||null==j||f.setClipPath(new hM({shape:{x:0,y:0,width:i,height:j}})),{root:f,width:i,height:j,viewBoxRect:c,viewBoxTransform:d,named:g}},a.prototype._parseNode=function(a,b,c,d,e,f){var g,h=a.nodeName.toLowerCase(),i=d;if("defs"===h&&(e=!0),"text"===h&&(f=!0),"defs"===h||"switch"===h)g=b;else{if(!e){var j=ac[h];if(j&&bx(ac,h)){g=j.call(this,a,b);var k=a.getAttribute("name");if(k){var l={name:k,namedFrom:null,svgNodeTagLower:h,el:g};c.push(l),"g"===h&&(i=l)}else d&&c.push({name:d.name,namedFrom:d,svgNodeTagLower:h,el:g});b.add(g)}}var m=xB[h];if(m&&bx(xB,h)){var n=m.call(this,a),o=a.getAttribute("id");o&&(this._defs[o]=n)}}if(g&&g.isGroup)for(var p=a.firstChild;p;)1===p.nodeType?this._parseNode(p,g,c,i,e,f):3===p.nodeType&&f&&this._parseText(p,g),p=p.nextSibling},a.prototype._parseText=function(a,b){var c=new hA({style:{text:a.textContent},silent:!0,x:this._textX||0,y:this._textY||0});xE(b,c),xG(a,c,this._defsUsePending,!1,!1),function(a,b){var c=b.__selfStyle;if(c){var d=c.textBaseline,e=d;d&&"auto"!==d?"baseline"===d?e="alphabetic":"before-edge"===d||"text-before-edge"===d?e="top":"after-edge"===d||"text-after-edge"===d?e="bottom":("central"===d||"mathematical"===d)&&(e="middle"):e="alphabetic",a.style.textBaseline=e}var f=b.__inheritedStyle;if(f){var g=f.textAlign,h=g;g&&("middle"===g&&(h="center"),a.style.textAlign=h)}}(c,b);var d=c.style,e=d.fontSize;e&&e<9&&(d.fontSize=9,c.scaleX*=e/9,c.scaleY*=e/9);var f=(d.fontSize||d.fontFamily)&&[d.fontStyle,d.fontWeight,(d.fontSize||12)+"px",d.fontFamily||"sans-serif"].join(" ");d.font=f;var g=c.getBoundingRect();return this._textX+=g.width,b.add(c),c},a.internalField=void(ac={g:function(a,b){var c=new fc;return xE(b,c),xG(a,c,this._defsUsePending,!1,!1),c},rect:function(a,b){var c=new hM;return xE(b,c),xG(a,c,this._defsUsePending,!1,!1),c.setShape({x:parseFloat(a.getAttribute("x")||"0"),y:parseFloat(a.getAttribute("y")||"0"),width:parseFloat(a.getAttribute("width")||"0"),height:parseFloat(a.getAttribute("height")||"0")}),c.silent=!0,c},circle:function(a,b){var c=new m1;return xE(b,c),xG(a,c,this._defsUsePending,!1,!1),c.setShape({cx:parseFloat(a.getAttribute("cx")||"0"),cy:parseFloat(a.getAttribute("cy")||"0"),r:parseFloat(a.getAttribute("r")||"0")}),c.silent=!0,c},line:function(a,b){var c=new nw;return xE(b,c),xG(a,c,this._defsUsePending,!1,!1),c.setShape({x1:parseFloat(a.getAttribute("x1")||"0"),y1:parseFloat(a.getAttribute("y1")||"0"),x2:parseFloat(a.getAttribute("x2")||"0"),y2:parseFloat(a.getAttribute("y2")||"0")}),c.silent=!0,c},ellipse:function(a,b){var c=new m4;return xE(b,c),xG(a,c,this._defsUsePending,!1,!1),c.setShape({cx:parseFloat(a.getAttribute("cx")||"0"),cy:parseFloat(a.getAttribute("cy")||"0"),rx:parseFloat(a.getAttribute("rx")||"0"),ry:parseFloat(a.getAttribute("ry")||"0")}),c.silent=!0,c},polygon:function(a,b){var c,d=a.getAttribute("points");d&&(c=xF(d));var e=new np({shape:{points:c||[]},silent:!0});return xE(b,e),xG(a,e,this._defsUsePending,!1,!1),e},polyline:function(a,b){var c,d=a.getAttribute("points");d&&(c=xF(d));var e=new ns({shape:{points:c||[]},silent:!0});return xE(b,e),xG(a,e,this._defsUsePending,!1,!1),e},image:function(a,b){var c=new hE;return xE(b,c),xG(a,c,this._defsUsePending,!1,!1),c.setStyle({image:a.getAttribute("xlink:href")||a.getAttribute("href"),x:+a.getAttribute("x"),y:+a.getAttribute("y"),width:+a.getAttribute("width"),height:+a.getAttribute("height")}),c.silent=!0,c},text:function(a,b){var c=a.getAttribute("x")||"0",d=a.getAttribute("y")||"0",e=a.getAttribute("dx")||"0",f=a.getAttribute("dy")||"0";this._textX=parseFloat(c)+parseFloat(e),this._textY=parseFloat(d)+parseFloat(f);var g=new fc;return xE(b,g),xG(a,g,this._defsUsePending,!1,!0),g},tspan:function(a,b){var c=a.getAttribute("x"),d=a.getAttribute("y");null!=c&&(this._textX=parseFloat(c)),null!=d&&(this._textY=parseFloat(d));var e=a.getAttribute("dx")||"0",f=a.getAttribute("dy")||"0",g=new fc;return xE(b,g),xG(a,g,this._defsUsePending,!1,!0),this._textX+=parseFloat(e),this._textY+=parseFloat(f),g},path:function(a,b){var c=new mX(mZ(a.getAttribute("d")||"",void 0));return xE(b,c),xG(a,c,this._defsUsePending,!1,!1),c.silent=!0,c}}),a}(),xB={lineargradient:function(a){var b=new nH(parseInt(a.getAttribute("x1")||"0",10),parseInt(a.getAttribute("y1")||"0",10),parseInt(a.getAttribute("x2")||"10",10),parseInt(a.getAttribute("y2")||"0",10));return xC(a,b),xD(a,b),b},radialgradient:function(a){var b=new nI(parseInt(a.getAttribute("cx")||"0",10),parseInt(a.getAttribute("cy")||"0",10),parseInt(a.getAttribute("r")||"0",10));return xC(a,b),xD(a,b),b}};function xC(a,b){"userSpaceOnUse"===a.getAttribute("gradientUnits")&&(b.global=!0)}function xD(a,b){for(var c=a.firstChild;c;){if(1===c.nodeType&&"stop"===c.nodeName.toLocaleLowerCase()){var d=c.getAttribute("offset"),e=void 0;e=d&&d.indexOf("%")>0?parseInt(d,10)/100:d?parseFloat(d):0;var f={};xO(c,f,f);var g=f.stopColor||c.getAttribute("stop-color")||"#000000",h=f.stopOpacity||c.getAttribute("stop-opacity");if(h){var i=dM(g);i&&i[3]&&(i[3]*=dF(h),g=dW(i,"rgba"))}b.colorStops.push({offset:e,color:g})}c=c.nextSibling}}function xE(a,b){a&&a.__inheritedStyle&&(b.__inheritedStyle||(b.__inheritedStyle={}),aR(b.__inheritedStyle,a.__inheritedStyle))}function xF(a){for(var b=xK(a),c=[],d=0;d<b.length;d+=2){var e=parseFloat(b[d]),f=parseFloat(b[d+1]);c.push([e,f])}return c}function xG(a,b,c,d,e){var f=b.__inheritedStyle=b.__inheritedStyle||{},g={};1===a.nodeType&&(function(a,b){var c=a.getAttribute("transform");if(c){c=c.replace(/,/g," ");var d=[],e=null;c.replace(xL,function(a,b,c){return d.push(b,c),""});for(var f=d.length-1;f>0;f-=2){var g=d[f],h=d[f-1],i=xK(g);switch(e=e||cq(),h){case"translate":cu(e,e,[parseFloat(i[0]),parseFloat(i[1]||"0")]);break;case"scale":cw(e,e,[parseFloat(i[0]),parseFloat(i[1]||i[0])]);break;case"rotate":cv(e,e,-parseFloat(i[0])*xM,[parseFloat(i[1]||"0"),parseFloat(i[2]||"0")]);break;case"skewX":ct(e,[1,0,Math.tan(parseFloat(i[0])*xM),1,0,0],e);break;case"skewY":ct(e,[1,Math.tan(parseFloat(i[0])*xM),0,1,0,0],e);break;case"matrix":e[0]=parseFloat(i[0]),e[1]=parseFloat(i[1]),e[2]=parseFloat(i[2]),e[3]=parseFloat(i[3]),e[4]=parseFloat(i[4]),e[5]=parseFloat(i[5])}}b.setLocalTransform(e)}}(a,b),xO(a,f,g),d||function(a,b,c){for(var d=0;d<xx.length;d++){var e=xx[d],f=a.getAttribute(e);null!=f&&(b[xw[e]]=f)}for(var d=0;d<xz.length;d++){var e=xz[d],f=a.getAttribute(e);null!=f&&(c[xy[e]]=f)}}(a,f,g)),b.style=b.style||{},null!=f.fill&&(b.style.fill=xI(b,"fill",f.fill,c)),null!=f.stroke&&(b.style.stroke=xI(b,"stroke",f.stroke,c)),aX(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(a){null!=f[a]&&(b.style[a]=parseFloat(f[a]))}),aX(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(a){null!=f[a]&&(b.style[a]=f[a])}),e&&(b.__selfStyle=g),f.lineDash&&(b.style.lineDash=aY(xK(f.lineDash),function(a){return parseFloat(a)})),("hidden"===f.visibility||"collapse"===f.visibility)&&(b.invisible=!0),"none"===f.display&&(b.ignore=!0)}var xH=/^url\(\s*#(.*?)\)/;function xI(a,b,c,d){var e=c&&c.match(xH);if(e){var f=bm(e[1]);d.push([a,b,f]);return}return"none"===c&&(c=null),c}var xJ=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function xK(a){return a.match(xJ)||[]}var xL=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,xM=Math.PI/180,xN=/([^\s:;]+)\s*:\s*([^:;]+)/g;function xO(a,b,c){var d,e=a.getAttribute("style");if(e)for(xN.lastIndex=0;null!=(d=xN.exec(e));){var f=d[1],g=bx(xw,f)?xw[f]:null;g&&(b[g]=d[2]);var h=bx(xy,f)?xy[f]:null;h&&(c[h]=d[2])}}function xP(a,b){var c=Math.min(b.width/a.width,b.height/a.height);return{scale:c,x:-(a.x+a.width/2)*c+(b.x+b.width/2),y:-(a.y+a.height/2)*c+(b.y+b.height/2)}}for(var xQ=bt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),xR=function(){function a(a,b){this.type="geoSVG",this._usedGraphicMap=bt(),this._freedGraphics=[],this._mapName=a,this._parsedXML=xv(b)}return a.prototype.load=function(){var a=this._firstGraphic;if(!a){a=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(a),this._boundingRect=this._firstGraphic.boundingRect.clone();var b,c,d,e=(b=a.named,c=[],d=bt(),aX(b,function(a){if(null==a.namedFrom){var b=new sr(a.name,a.el);c.push(b),d.set(a.name,b)}}),{regions:c,regionsMap:d}),f=e.regions,g=e.regionsMap;this._regions=f,this._regionsMap=g}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(a){try{var b;d=(c=a&&(b={ignoreViewBox:!0,ignoreRootClip:!0},new xA().parse(a,b))||{}).root,bl(null!=d)}catch(a){throw Error("Invalid svg format\n"+a.message)}var c,d,e=new fc;e.add(d),e.isGeoSVGGraphicRoot=!0;var f=c.width,g=c.height,h=c.viewBoxRect,i=this._boundingRect;if(!i){var j=void 0,k=void 0,l=void 0,m=void 0;if(null!=f?(j=0,l=f):h&&(j=h.x,l=h.width),null!=g?(k=0,m=g):h&&(k=h.y,m=h.height),null==j||null==k){var n=d.getBoundingRect();null==j&&(j=n.x,l=n.width),null==k&&(k=n.y,m=n.height)}i=this._boundingRect=new cS(j,k,l,m)}if(h){var o=xP(h,i);d.scaleX=d.scaleY=o.scale,d.x=o.x,d.y=o.y}e.setClipPath(new hM({shape:i.plain()}));var p=[];return aX(c.named,function(a){var b;null!=xQ.get(a.svgNodeTagLower)&&(p.push(a),(b=a.el).silent=!1,b.isGroup&&b.traverse(function(a){a.silent=!1}))}),{root:e,boundingRect:i,named:p}},a.prototype.useGraphic=function(a){var b=this._usedGraphicMap,c=b.get(a);return c||(c=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),b.set(a,c)),c},a.prototype.freeGraphic=function(a){var b=this._usedGraphicMap,c=b.get(a);c&&(b.removeKey(a),this._freedGraphics.push(c))},a}(),xS=[126,25],xT="",xU=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],xV=0;xV<xU.length;xV++)for(var xW=0;xW<xU[xV].length;xW++)xU[xV][xW][0]/=10.5,xU[xV][xW][1]/=-14,xU[xV][xW][0]+=xS[0],xU[xV][xW][1]+=xS[1];var xX={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]},xY=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],xZ=function(){function a(a,b,c){var d;this.type="geoJSON",this._parsedMap=bt(),this._mapName=a,this._specialAreas=c,this._geoJSON=a5(d=b)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(d):Function("return ("+d+");")():d}return a.prototype.load=function(a,b){b=b||"name";var c=this._parsedMap.get(b);if(!c){var d=this._parseToRegions(b);c=this._parsedMap.set(b,{regions:d,boundingRect:function(a){for(var b,c=0;c<a.length;c++){var d=a[c].getBoundingRect();(b=b||d.clone()).union(d)}return b}(d)})}var e=bt(),f=[];return aX(c.regions,function(b){var c=b.name;a&&bx(a,c)&&(b=b.cloneShallow(c=a[c])),f.push(b),e.set(c,b)}),{regions:f,boundingRect:c.boundingRect||new cS(0,0,0,0),regionsMap:e}},a.prototype._parseToRegions=function(a){var b,c=this._mapName,d=this._geoJSON;try{b=d?su(d,a):[]}catch(a){throw Error("Invalid geoJson format\n"+a.message)}return!function(a,b){if("china"===a){for(var c=0;c<b.length;c++)if(b[c].name===xT)return;b.push(new sq(xT,aY(xU,function(a){return{type:"polygon",exterior:a}}),xS))}}(c,b),aX(b,function(a){var b=a.name;if("china"===c){var d=xX[a.name];if(d){var e=a.getCenter();e[0]+=d[0]/10.5,e[1]+=-d[1]/14,a.setCenter(e)}}"china"===c&&""===a.name&&a.geometries.push({type:"polygon",exterior:xY[0]});var f=this._specialAreas&&this._specialAreas[b];f&&a.transformTo(f.left,f.top,f.width,f.height)},this),b},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a}(),x$=bt();let x_=function(a,b,c){if(b.svg){var d=new xR(a,b.svg);x$.set(a,d)}else{var e=b.geoJson||b.geoJSON;e&&!b.features?c=b.specialAreas:e=b;var d=new xZ(a,e,c);x$.set(a,d)}},x0=function(a){return x$.get(a)},x1=function(a){var b=x$.get(a);return b&&"geoJSON"===b.type&&b.getMapForUser()},x2=function(a,b,c){var d=x$.get(a);return d?d.load(b,c):void 0};var x3=["rect","circle","line","ellipse","polygon","polyline","path"],x4=bt(x3),x5=bt(x3.concat(["g"])),x6=bt(x3.concat(["g"])),x7=f0();function x8(a){var b=a.getItemStyle(),c=a.get("areaColor");return null!=c&&(b.fill=c),b}function x9(a){var b=a.style;b&&(b.stroke=b.stroke||b.fill,b.fill=null)}var ya=function(){function a(a){var b=this.group=new fc,c=this._transformGroup=new fc;b.add(c),this.uid=jp("ec_map_draw"),this._controller=new xg(a.getZr()),this._controllerHost={target:c},c.add(this._regionsGroup=new fc),c.add(this._svgGroup=new fc)}return a.prototype.draw=function(a,b,c,d,e){var f,g="geo"===a.mainType,h=a.getData&&a.getData();g&&b.eachComponent({mainType:"series",subType:"map"},function(b){h||b.getHostGeoModel()!==a||(h=b.getData())});var i=a.coordinateSystem,j=this._regionsGroup,k=this._transformGroup,l=i.getTransformInfo(),m=l.raw,n=l.roam,o=!j.childAt(0)||e;a.getShallow("clip",!0)?(f=i.getViewRect().clone(),this.group.setClipPath(new hM({shape:f.clone()}))):this.group.removeClipPath(),o?(k.x=n.x,k.y=n.y,k.scaleX=n.scaleX,k.scaleY=n.scaleY,k.dirty()):iR(k,n,a);var p=h&&h.getVisual("visualMeta")&&h.getVisual("visualMeta").length>0,q={api:c,geo:i,mapOrGeoModel:a,data:h,isVisualEncodedByVisualMap:p,isGeo:g,transformInfoRaw:m};"geoJSON"===i.resourceType?this._buildGeoJSON(q):"geoSVG"===i.resourceType&&this._buildSVG(q),this._updateController(a,f,b,c),this._updateMapSelectHandler(a,j,c,d)},a.prototype._buildGeoJSON=function(a){var b=this._regionsGroupByName=bt(),c=bt(),d=this._regionsGroup,e=a.transformInfoRaw,f=a.mapOrGeoModel,g=a.data,h=a.geo.projection,i=h&&h.stream;function j(a,b){return b&&(a=b(a)),a&&[a[0]*e.scaleX+e.x,a[1]*e.scaleY+e.y]}function k(a){return{shape:{points:function(a){for(var b=[],c=!i&&h&&h.project,d=0;d<a.length;++d){var e=j(a[d],c);e&&b.push(e)}return b}(a)}}}d.removeAll(),aX(a.geo.regions,function(e){var l=e.name,m=b.get(l),n=c.get(l)||{},o=n.dataIdx,p=n.regionModel;if(!m){m=b.set(l,new fc),d.add(m),o=g?g.indexOfName(l):null;var q=(p=a.isGeo?f.getRegionModel(l):g?g.getItemModel(o):null).get("silent",!0);null!=q&&(m.silent=q),c.set(l,{dataIdx:o,regionModel:p})}var r=[],s=[];aX(e.geometries,function(a){if("polygon"===a.type){var b=[a.exterior].concat(a.interiors||[]);i&&(b=yg(b,i)),aX(b,function(a){r.push(new np(k(a)))})}else{var c=a.points;i&&(c=yg(c,i,!0)),aX(c,function(a){s.push(new ns(k(a)))})}});var t=j(e.getCenter(),h&&h.project);function u(b,c){if(b.length){var d=new nF({culling:!0,segmentIgnoreThreshold:1,shape:{paths:b}});m.add(d),yb(a,d,o,p),yc(a,d,l,p,f,o,t),c&&(x9(d),aX(d.states,x9))}}u(r),u(s,!0)}),b.each(function(b,d){var e=c.get(d),g=e.dataIdx,h=e.regionModel;yd(a,b,d,h,f,g),ye(a,b,d,h,f),yf(a,b,d,h,f)},this)},a.prototype._buildSVG=function(a){var b=a.geo.map,c=a.transformInfoRaw;this._svgGroup.x=c.x,this._svgGroup.y=c.y,this._svgGroup.scaleX=c.scaleX,this._svgGroup.scaleY=c.scaleY,this._svgResourceChanged(b)&&(this._freeSVG(),this._useSVG(b));var d=this._svgDispatcherMap=bt(),e=!1;aX(this._svgGraphicRecord.named,function(b){var c=b.name,f=a.mapOrGeoModel,g=a.data,h=b.svgNodeTagLower,i=b.el,j=g?g.indexOfName(c):null,k=f.getRegionModel(c);null!=x4.get(h)&&i instanceof gO&&yb(a,i,j,k),i instanceof gO&&(i.culling=!0);var l=k.get("silent",!0);null!=l&&(i.silent=l),i.z2EmphasisLift=0,b.namedFrom||(null!=x6.get(h)&&yc(a,i,c,k,f,j,null),yd(a,i,c,k,f,j),ye(a,i,c,k,f),null!=x5.get(h)&&("self"===yf(a,i,c,k,f)&&(e=!0),(d.get(c)||d.set(c,[])).push(i)))},this),this._enableBlurEntireSVG(e,a)},a.prototype._enableBlurEntireSVG=function(a,b){if(a&&b.isGeo){var c=b.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){it(a);var b=a.ensureState("blur").style||{};null==b.opacity&&null!=c&&(b.opacity=c),a.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(a,b){if(null==a)return[];var c=b.coordinateSystem;if("geoJSON"===c.resourceType){var d=this._regionsGroupByName;if(d){var e=d.get(a);return e?[e]:[]}}else if("geoSVG"===c.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(a)||[]},a.prototype._svgResourceChanged=function(a){return this._svgMapName!==a},a.prototype._useSVG=function(a){var b=x0(a);if(b&&"geoSVG"===b.type){var c=b.useGraphic(this.uid);this._svgGroup.add(c.root),this._svgGraphicRecord=c,this._svgMapName=a}},a.prototype._freeSVG=function(){var a=this._svgMapName;if(null!=a){var b=x0(a);b&&"geoSVG"===b.type&&b.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(a,b,c,d){var e=a.coordinateSystem,f=this._controller,g=this._controllerHost;g.zoomLimit=a.get("scaleLimit"),g.zoom=e.getZoom(),f.enable(a.get("roam")||!1,{api:d,zInfo:{component:a},triggerInfo:{roamTrigger:a.get("roamTrigger"),isInSelf:function(a,b,c){return e.containPoint([b,c])},isInClip:function(a,c,d){return!b||b.contain(c,d)}}});var h=a.mainType;function i(){var b={type:"geoRoam",componentType:h};return b[h+"Id"]=a.id,b}f.off("pan").on("pan",function(a){this._mouseDownFlag=!1,xo(g,a.dx,a.dy),d.dispatchAction(aQ(i(),{dx:a.dx,dy:a.dy,animation:{duration:0}}))},this),f.off("zoom").on("zoom",function(a){this._mouseDownFlag=!1,xp(g,a.scale,a.originX,a.originY),d.dispatchAction(aQ(i(),{totalZoom:g.zoom,zoom:a.scale,originX:a.originX,originY:a.originY,animation:{duration:0}}))},this)},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(a){var b=a.getTextContent();b&&(b.ignore=x7(b).ignore)})},a.prototype._updateMapSelectHandler=function(a,b,c,d){var e=this;b.off("mousedown"),b.off("click"),a.get("selectedMode")&&(b.on("mousedown",function(){e._mouseDownFlag=!0}),b.on("click",function(a){e._mouseDownFlag&&(e._mouseDownFlag=!1)}))},a}();function yb(a,b,c,d){var e=d.getModel("itemStyle"),f=d.getModel(["emphasis","itemStyle"]),g=d.getModel(["blur","itemStyle"]),h=d.getModel(["select","itemStyle"]),i=x8(e),j=x8(f),k=x8(h),l=x8(g),m=a.data;if(m){var n=m.getItemVisual(c,"style"),o=m.getItemVisual(c,"decal");a.isVisualEncodedByVisualMap&&n.fill&&(i.fill=n.fill),o&&(i.decal=pR(o,a.api))}b.setStyle(i),b.style.strokeNoScale=!0,b.ensureState("emphasis").style=j,b.ensureState("select").style=k,b.ensureState("blur").style=l,it(b)}function yc(a,b,c,d,e,f,g){var h=a.data,i=a.isGeo,j=h&&isNaN(h.get(h.mapDimension("value"),f)),k=h&&h.getItemLayout(f);if(i||j||k&&k.showLabel){var l=i?c:f,m=void 0;(!h||f>=0)&&(m=e);var n=g?{normal:{align:"center",verticalAlign:"middle"}}:null;i_(b,i0(d),{labelFetcher:m,labelDataIndex:l,defaultText:c},n);var o=b.getTextContent();if(o&&(x7(o).ignore=o.ignore,b.textConfig&&g)){var p=b.getBoundingRect().clone();b.textConfig.layoutRect=p,b.textConfig.position=[(g[0]-p.x)/p.width*100+"%",(g[1]-p.y)/p.height*100+"%"]}b.disableLabelAnimation=!0}else b.removeTextContent(),b.removeTextConfig(),b.disableLabelAnimation=null}function yd(a,b,c,d,e,f){a.data?a.data.setItemGraphicEl(f,b):h2(b).eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:c,region:d&&d.option||{}}}function ye(a,b,c,d,e){a.data||ok({el:b,componentModel:e,itemName:c,itemTooltipOption:d.get("tooltip")})}function yf(a,b,c,d,e){b.highDownSilentOnTouch=!!e.get("selectedMode");var f,g=d.getModel("emphasis"),h=g.get("focus");return iF(b,h,g.get("blurScope"),g.get("disabled")),a.isGeo&&((f=h2(b)).componentMainType=e.mainType,f.componentIndex=e.componentIndex,f.componentHighDownName=c),h}function yg(a,b,c){var d,e=[];function f(){d=[]}function g(){d.length&&(e.push(d),d=[])}var h=b({polygonStart:f,polygonEnd:g,lineStart:f,lineEnd:g,point:function(a,b){isFinite(a)&&isFinite(b)&&d.push([a,b])},sphere:function(){}});return c||h.polygonStart(),aX(a,function(a){h.lineStart();for(var b=0;b<a.length;b++)h.point(a[b][0],a[b][1]);h.lineEnd()}),c||h.polygonEnd(),e}var yh=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c,d){if(!d||"mapToggleSelect"!==d.type||d.from!==this.uid){var e=this.group;if(e.removeAll(),!a.getHostGeoModel()){if(this._mapDraw&&d&&"geoRoam"===d.type&&this._mapDraw.resetForLabelLayout(),d&&"geoRoam"===d.type&&"series"===d.componentType&&d.seriesId===a.id){var f=this._mapDraw;f&&e.add(f.group)}else if(a.needsDrawMap){var f=this._mapDraw||new ya(c);e.add(f.group),f.draw(a,b,c,this,d),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&b.getComponent("legend")&&this._renderSymbols(a,b,c)}}},b.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},b.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},b.prototype._renderSymbols=function(a,b,c){var d=a.originalData,e=this.group;d.each(d.mapDimension("value"),function(b,c){if(!isNaN(b)){var f=d.getItemLayout(c);if(f&&f.point){var g=f.point,h=f.offset,i=new m1({style:{fill:a.getData().getVisual("style").fill},shape:{cx:g[0]+9*h,cy:g[1],r:3},silent:!0,z2:8+11*!h});if(!h){var j=a.mainSeries.getData(),k=d.getName(c),l=j.indexOfName(k),m=d.getItemModel(c),n=m.getModel("label"),o=j.getItemGraphicEl(l);i_(i,i0(m),{labelFetcher:{getFormattedLabel:function(b,c){return a.getFormattedLabel(l,c)}},defaultText:k}),i.disableLabelAnimation=!0,n.get("position")||i.setTextConfig({position:"bottom"}),o.onHoverStateChange=function(a){ir(i,a)}}e.add(i)}}})},b.type="map",b}(oC),yi=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.needsDrawMap=!1,c.seriesGroup=[],c.getTooltipPosition=function(a){if(null!=a){var b=this.getData().getName(a),c=this.coordinateSystem,d=c.getRegion(b);return d&&c.dataToPoint(d.getCenter())}},c}return aq(b,a),b.prototype.getInitialData=function(a){for(var b=vA(this,{coordDimensions:["value"],encodeDefaulter:a2(kO,this)}),c=bt(),d=[],e=0,f=b.count();e<f;e++){var g=b.getName(e);c.set(g,e)}return aX(x2(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(a){var e,f=a.name,g=c.get(f),h=a.properties&&a.properties.echartsStyle;null==g?(e={name:f},d.push(e)):e=b.getRawDataItem(g),h&&aO(e,h)}),b.appendData(d),b},b.prototype.getHostGeoModel=function(){if(2!==j8(this).kind)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},b.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},b.prototype.getRawValue=function(a){var b=this.getData();return b.get(b.mapDimension("value"),a)},b.prototype.getRegionModel=function(a){var b=this.getData();return b.getItemModel(b.indexOfName(a))},b.prototype.formatTooltip=function(a,b,c){for(var d=this.getData(),e=this.getRawValue(a),f=d.getName(a),g=this.seriesGroup,h=[],i=0;i<g.length;i++){var j=g[i].originalData.indexOfName(f),k=d.mapDimension("value");isNaN(g[i].originalData.get(k,j))||h.push(g[i].name)}return mi("section",{header:h.join(", "),noHeader:!h.length,blocks:[mi("nameValue",{name:f,value:e})]})},b.prototype.setZoom=function(a){this.option.zoom=a},b.prototype.setCenter=function(a){this.option.center=a},b.prototype.getLegendIcon=function(a){var b=a.icon||"roundRect",c=pq(b,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill);return c.setStyle(a.itemStyle),c.style.stroke="none",b.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill=kv.color.neutral00,c.style.lineWidth=2),c},b.type="series.map",b.dependencies=["geo"],b.layoutMode="box",b.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:kv.color.tertiary},itemStyle:{borderWidth:.5,borderColor:kv.color.border,areaColor:kv.color.background},emphasis:{label:{show:!0,color:kv.color.primary},itemStyle:{areaColor:kv.color.highlight}},select:{label:{show:!0,color:kv.color.primary},itemStyle:{color:kv.color.highlight}},nameProperty:"name"},b}(mE);function yj(a){var b={};a.eachSeriesByType("map",function(a){var c=a.getHostGeoModel(),d=c?"o"+c.id:"i"+a.getMapType();(b[d]=b[d]||[]).push(a)}),aX(b,function(a,b){for(var c,d,e,f=(c=aY(a,function(a){return a.getData()}),d=a[0].get("mapValueCalculation"),e={},aX(c,function(a){a.each(a.mapDimension("value"),function(b,c){var d="ec-"+a.getName(c);e[d]=e[d]||[],isNaN(b)||e[d].push(b)})}),c[0].map(c[0].mapDimension("value"),function(a,b){for(var f,g="ec-"+c[0].getName(b),h=0,i=1/0,j=-1/0,k=e[g].length,l=0;l<k;l++)i=Math.min(i,e[g][l]),j=Math.max(j,e[g][l]),h+=e[g][l];return f="min"===d?i:"max"===d?j:"average"===d?h/k:h,0===k?NaN:f})),g=0;g<a.length;g++)a[g].originalData=a[g].getData();for(var g=0;g<a.length;g++)a[g].seriesGroup=a,a[g].needsDrawMap=0===g&&!a[g].getHostGeoModel(),a[g].setData(f.cloneShallow()),a[g].mainSeries=a[0]})}function yk(a){var b={};a.eachSeriesByType("map",function(c){var d=c.getMapType();if(!c.getHostGeoModel()&&!b[d]){var e={};aX(c.seriesGroup,function(b){var c=b.coordinateSystem,d=b.originalData;b.get("showLegendSymbol")&&a.getComponent("legend")&&d.each(d.mapDimension("value"),function(a,b){var f=d.getName(b),g=c.getRegion(f);if(!(!g||isNaN(a))){var h=e[f]||0,i=c.dataToPoint(g.getCenter());e[f]=h+1,d.setItemLayout(b,{point:i,offset:h})}})});var f=c.getData();f.each(function(a){var b=f.getName(a),c=f.getItemLayout(a)||{};c.showLabel=!e[b],f.setItemLayout(a,c)}),b[d]=!0}})}var yl=bZ,ym=function(a){function b(b,c){var d=a.call(this)||this;return d.type="view",d.dimensions=["x","y"],d._roamTransformable=new eQ,d._rawTransformable=new eQ,d.name=b,d._opt=c,d}return aq(b,a),b.prototype.setBoundingRect=function(a,b,c,d){return this._rect=new cS(a,b,c,d),this._updateCenterAndZoom(),this._rect},b.prototype.getBoundingRect=function(){return this._rect},b.prototype.setViewRect=function(a,b,c,d){this._transformTo(a,b,c,d),this._viewRect=new cS(a,b,c,d)},b.prototype._transformTo=function(a,b,c,d){var e=this.getBoundingRect(),f=this._rawTransformable;f.transform=e.calculateTransform(new cS(a,b,c,d));var g=f.parent;f.parent=null,f.decomposeTransform(),f.parent=g,this._updateTransform()},b.prototype.setCenter=function(a){var b=this._opt;b&&b.api&&b.ecModel&&b.ecModel.getShallow("legacyViewCoordSysCenterBase")&&a&&(a=[fs(a[0],b.api.getWidth()),fs(a[1],b.api.getWidth())]),this._centerOption=aN(a),this._updateCenterAndZoom()},b.prototype.setZoom=function(a){this._zoom=xu(a||1,this.zoomLimit),this._updateCenterAndZoom()},b.prototype.getDefaultCenter=function(){var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},b.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},b.prototype.getZoom=function(){return this._zoom||1},b.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},b.prototype._updateCenterAndZoom=function(){var a=this._centerOption,b=this._rect;a&&b&&(this._center=[fs(a[0],b.width,b.x),fs(a[1],b.height,b.y)]);var c=this._rawTransformable.getLocalTransform(),d=this._roamTransformable,e=this.getDefaultCenter(),f=this.getCenter(),g=this.getZoom();f=bZ([],f,c),e=bZ([],e,c),d.originX=f[0],d.originY=f[1],d.x=e[0]-f[0],d.y=e[1]-f[1],d.scaleX=d.scaleY=g,this._updateTransform()},b.prototype._updateTransform=function(){var a=this._roamTransformable,b=this._rawTransformable;b.parent=a,a.updateTransform(),b.updateTransform(),cs(this.transform||(this.transform=[]),b.transform||cq()),this._rawTransform=b.getLocalTransform(),this.invTransform=this.invTransform||[],cx(this.invTransform,this.transform),this.decomposeTransform()},b.prototype.getTransformInfo=function(){var a=this._rawTransformable,b=this._roamTransformable,c=new eQ;return c.transform=b.transform,c.decomposeTransform(),{roam:{x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY},raw:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY}}},b.prototype.getViewRect=function(){return this._viewRect},b.prototype.getViewRectAfterRoam=function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},b.prototype.dataToPoint=function(a,b,c){var d=b?this._rawTransform:this.transform;return c=c||[],d?yl(c,a,d):bE(c,a)},b.prototype.pointToData=function(a,b,c){c=c||[];var d=this.invTransform;return d?yl(c,a,d):(c[0]=a[0],c[1]=a[1],c)},b.prototype.convertToPixel=function(a,b,c){var d=yn(b);return d===this?d.dataToPoint(c):null},b.prototype.convertFromPixel=function(a,b,c){var d=yn(b);return d===this?d.pointToData(c):null},b.prototype.containPoint=function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])},b.dimensions=["x","y"],b}(eQ);function yn(a){var b=a.seriesModel;return b?b.coordinateSystem:null}var yo={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},yp=["lng","lat"],yq=function(a){function b(b,c,d){var e,f=a.call(this,b,{api:d.api,ecModel:d.ecModel})||this;f.dimensions=yp,f.type="geo",f._nameCoordMap=bt(),f.map=c;var g=d.projection,h=x2(c,d.nameMap,d.nameProperty),i=x0(c);f.resourceType=i?i.type:null;var j=f.regions=h.regions,k=yo[i.type];if(f._regionsMap=h.regionsMap,f.regions=h.regions,f.projection=g,g)for(var l=0;l<j.length;l++){var m=j[l].getBoundingRect(g);(e=e||m.clone()).union(m)}else e=h.boundingRect;return f.setBoundingRect(e.x,e.y,e.width,e.height),f.aspectScale=g?1:bh(d.aspectScale,k.aspectScale),f._invertLongitute=!g&&k.invertLongitute,f}return aq(b,a),b.prototype._transformTo=function(a,b,c,d){var e=this.getBoundingRect(),f=this._invertLongitute;e=e.clone(),f&&(e.y=-e.y-e.height);var g=this._rawTransformable;g.transform=e.calculateTransform(new cS(a,b,c,d));var h=g.parent;g.parent=null,g.decomposeTransform(),g.parent=h,f&&(g.scaleY=-g.scaleY),this._updateTransform()},b.prototype.getRegion=function(a){return this._regionsMap.get(a)},b.prototype.getRegionByCoord=function(a){for(var b=this.regions,c=0;c<b.length;c++){var d=b[c];if("geoJSON"===d.type&&d.contain(a))return b[c]}},b.prototype.addGeoCoord=function(a,b){this._nameCoordMap.set(a,b)},b.prototype.getGeoCoord=function(a){var b=this._regionsMap.get(a);return this._nameCoordMap.get(a)||b&&b.getCenter()},b.prototype.dataToPoint=function(a,b,c){if(a5(a)&&(a=this.getGeoCoord(a)),a){var d=this.projection;return d&&(a=d.project(a)),a&&this.projectedToPoint(a,b,c)}},b.prototype.pointToData=function(a,b,c){var d=this.projection;return d&&(a=d.unproject(a)),a&&this.pointToProjected(a,c)},b.prototype.pointToProjected=function(b,c){return a.prototype.pointToData.call(this,b,0,c)},b.prototype.projectedToPoint=function(b,c,d){return a.prototype.dataToPoint.call(this,b,c,d)},b.prototype.convertToPixel=function(a,b,c){var d=yr(b);return d===this?d.dataToPoint(c):null},b.prototype.convertFromPixel=function(a,b,c){var d=yr(b);return d===this?d.pointToData(c):null},b}(ym);function yr(a){var b=a.geoModel,c=a.seriesModel;return b?b.coordinateSystem:c?c.coordinateSystem||(c.getReferringComponents("geo",f4).models[0]||{}).coordinateSystem:null}function ys(a,b){var c,d,e,f=a.get("boundingCoords");if(null!=f){var g=f[0],h=f[1];if(isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])){var i=this.projection;if(i){var j=g[0],k=g[1],l=h[0],m=h[1];g=[1/0,1/0],h=[-1/0,-1/0];var n=function(a,b,c,d){for(var e=c-a,f=d-b,j=0;j<=100;j++){var k=j/100,l=i.project([a+e*k,b+f*k]);b$(g,g,l),b_(h,h,l)}};n(j,k,l,k),n(l,k,l,m),n(l,m,j,m),n(j,m,l,k)}this.setBoundingRect(g[0],g[1],h[0]-g[0],h[1]-g[1])}}var o=this.getBoundingRect(),p=a.get("layoutCenter"),q=a.get("layoutSize"),r=kk(a,b).refContainer,s=o.width/o.height*this.aspectScale,t=!1;if(p&&q&&(c=[fs(p[0],r.width)+r.x,fs(p[1],r.height)+r.y],d=fs(q,Math.min(r.width,r.height)),isNaN(c[0])||isNaN(c[1])||isNaN(d)||(t=!0)),t)e={},s>1?(e.width=d,e.height=d/s):(e.height=d,e.width=d*s),e.y=c[1]-e.height/2,e.x=c[0]-e.width/2;else{var u=a.getBoxLayoutParams();u.aspect=s,e=ki(a,e=kh(u,r),s)}this.setViewRect(e.x,e.y,e.width,e.height),this.setCenter(a.get("center")),this.setZoom(a.get("zoom"))}aV(yq,ym);var yt=new(function(){function a(){this.dimensions=yp}return a.prototype.create=function(a,b){var c=[];function d(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}a.eachComponent("geo",function(e,f){var g=e.get("map"),h=new yq(g+f,g,aQ({nameMap:e.get("nameMap"),api:b,ecModel:a},d(e)));h.zoomLimit=e.get("scaleLimit"),c.push(h),e.coordinateSystem=h,h.model=e,h.resize=ys,h.resize(e,b)}),a.eachSeries(function(a){j9({targetModel:a,coordSysType:"geo",coordSysProvider:function(){var b="map"===a.subType?a.getHostGeoModel():a.getReferringComponents("geo",f4).models[0];return b&&b.coordinateSystem},allowNotFound:!0})});var e={};return a.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var b=a.getMapType();e[b]=e[b]||[],e[b].push(a)}}),aX(e,function(e,f){var g=new yq(f,f,aQ({nameMap:aP(aY(e,function(a){return a.get("nameMap")})),api:b,ecModel:a},d(e[0])));g.zoomLimit=bg.apply(null,aY(e,function(a){return a.get("scaleLimit")})),c.push(g),g.resize=ys,g.resize(e[0],b),aX(e,function(a){a.coordinateSystem=g,aX(a.get("geoCoord"),function(a,b){g.addGeoCoord(b,a)})})}),c},a.prototype.getFilledRegions=function(a,b,c,d){for(var e=(a||[]).slice(),f=bt(),g=0;g<e.length;g++)f.set(e[g].name,e[g]);return aX(x2(b,c,d).regions,function(a){var b=a.name,c=f.get(b),d=a.properties&&a.properties.echartsStyle;c||(c={name:b},e.push(c)),d&&aO(c,d)}),e},a}()),yu=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c);var d=x0(a.map);if(d&&"geoJSON"===d.type){var e=a.itemStyle=a.itemStyle||{};"color"in e||(e.color=a.defaultItemStyleColor||kv.color.backgroundTint)}fS(a,"label",["show"])},b.prototype.optionUpdated=function(){var a=this,b=this.option;b.regions=yt.getFilledRegions(b.regions,b.map,b.nameMap,b.nameProperty);var c={};this._optionModelMap=aZ(b.regions||[],function(b,d){var e=d.name;return e&&(b.set(e,new jn(d,a,a.ecModel)),d.selected&&(c[e]=!0)),b},bt()),b.selectedMap||(b.selectedMap=c)},b.prototype.getRegionModel=function(a){return this._optionModelMap.get(a)||new jn(null,this,this.ecModel)},b.prototype.getFormattedLabel=function(a,b){var c=this.getRegionModel(a),d="normal"===b?c.get(["label","formatter"]):c.get(["emphasis","label","formatter"]),e={name:a};return a4(d)?(e.status=b,d(e)):a5(d)?d.replace("{a}",null!=a?a:""):void 0},b.prototype.setZoom=function(a){this.option.zoom=a},b.prototype.setCenter=function(a){this.option.center=a},b.prototype.select=function(a){var b=this.option,c=b.selectedMode;c&&("multiple"!==c&&(b.selectedMap=null),(b.selectedMap||(b.selectedMap={}))[a]=!0)},b.prototype.unSelect=function(a){var b=this.option.selectedMap;b&&(b[a]=!1)},b.prototype.toggleSelected=function(a){this[this.isSelected(a)?"unSelect":"select"](a)},b.prototype.isSelected=function(a){var b=this.option.selectedMap;return!!(b&&b[a])},b.type="geo",b.layoutMode="box",b.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:kv.color.tertiary},itemStyle:{borderWidth:.5,borderColor:kv.color.border},emphasis:{label:{show:!0,color:kv.color.primary},itemStyle:{color:kv.color.highlight}},select:{label:{show:!0,color:kv.color.primary},itemStyle:{color:kv.color.highlight}},regions:[]},b}(ku),yv=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.focusBlurEnabled=!0,c}return aq(b,a),b.prototype.init=function(a,b){this._api=b},b.prototype.render=function(a,b,c,d){if(this._model=a,!a.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new ya(c));var e=this._mapDraw;e.draw(a,b,c,this,d),e.group.on("click",this._handleRegionClick,this),e.group.silent=a.get("silent"),this.group.add(e.group),this.updateSelectStatus(a,b,c)},b.prototype._handleRegionClick=function(a){var b;pe(a.target,function(a){return null!=(b=h2(a).eventData)},!0),b&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:b.name})},b.prototype.updateSelectStatus=function(a,b,c){var d=this;this._mapDraw.group.traverse(function(a){var b=h2(a).eventData;if(b)return d._model.isSelected(b.name)?c.enterSelect(a):c.leaveSelect(a),!0})},b.prototype.findHighDownDispatchers=function(a){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(a,this._model)},b.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},b.type="geo",b}(mG);function yw(a,b,c){x_(a,b,c)}function yx(a){function b(b,c){c.update="geo:updateSelectStatus",a.registerAction(c,function(a,c){var d={},e=[];return c.eachComponent({mainType:"geo",query:a},function(c){c[b](a.name),aX(c.coordinateSystem.regions,function(a){d[a.name]=c.isSelected(a.name)||!1});var f=[];aX(d,function(a,b){d[b]&&f.push(b)}),e.push({geoIndex:c.componentIndex,name:f})}),{selected:d,allSelected:e,name:a.name}})}a.registerCoordinateSystem("geo",yt),a.registerComponentModel(yu),a.registerComponentView(yv),a.registerImpl("registerMap",yw),a.registerImpl("getMap",function(a){return x1(a)}),b("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),b("select",{type:"geoSelect",event:"geoselected"}),b("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(a,b,c){var d=a.componentType;d||(null!=a.geoId?d="geo":null!=a.seriesId&&(d="series")),d||(d="series"),b.eachComponent({mainType:d,query:a},function(b){var c=b.coordinateSystem;if("geo"===c.type){var e=xs(c,a,b.get("scaleLimit"));b.setCenter&&b.setCenter(e.center),b.setZoom&&b.setZoom(e.zoom),"series"===d&&aX(b.seriesGroup,function(a){a.setCenter(e.center),a.setZoom(e.zoom)})}})})}function yy(a,b){var c=a.isExpand?a.children:[],d=a.parentNode.children,e=a.hierNode.i?d[a.hierNode.i-1]:null;if(c.length){!function(a){for(var b=a.children,c=b.length,d=0,e=0;--c>=0;){var f=b[c];f.hierNode.prelim+=d,f.hierNode.modifier+=d,e+=f.hierNode.change,d+=f.hierNode.shift+e}}(a);var f=(c[0].hierNode.prelim+c[c.length-1].hierNode.prelim)/2;e?(a.hierNode.prelim=e.hierNode.prelim+b(a,e),a.hierNode.modifier=a.hierNode.prelim-f):a.hierNode.prelim=f}else e&&(a.hierNode.prelim=e.hierNode.prelim+b(a,e));a.parentNode.hierNode.defaultAncestor=function(a,b,c,d){if(b){for(var e=a,f=a,g=f.parentNode.children[0],h=b,i=e.hierNode.modifier,j=f.hierNode.modifier,k=g.hierNode.modifier,l=h.hierNode.modifier;h=yC(h),f=yD(f),h&&f;){e=yC(e),g=yD(g),e.hierNode.ancestor=a;var m,n,o,p=h.hierNode.prelim+l-f.hierNode.prelim-j+d(h,f);p>0&&(function(a,b,c){var d=c/(b.hierNode.i-a.hierNode.i);b.hierNode.change-=d,b.hierNode.shift+=c,b.hierNode.modifier+=c,b.hierNode.prelim+=c,a.hierNode.change+=d}((m=h,n=a,o=c,m.hierNode.ancestor.parentNode===n.parentNode?m.hierNode.ancestor:o),a,p),j+=p,i+=p),l+=h.hierNode.modifier,j+=f.hierNode.modifier,i+=e.hierNode.modifier,k+=g.hierNode.modifier}h&&!yC(e)&&(e.hierNode.thread=h,e.hierNode.modifier+=l-i),f&&!yD(g)&&(g.hierNode.thread=f,g.hierNode.modifier+=j-k,c=a)}return c}(a,e,a.parentNode.hierNode.defaultAncestor||d[0],b)}function yz(a){var b=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:b},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function yA(a){return arguments.length?a:yE}function yB(a,b){return{x:b*Math.cos(a-=Math.PI/2),y:b*Math.sin(a)}}function yC(a){var b=a.children;return b.length&&a.isExpand?b[b.length-1]:a.hierNode.thread}function yD(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function yE(a,b){return a.parentNode===b.parentNode?1:2}var yF=function(){this.parentPoint=[],this.childPoints=[]},yG=function(a){function b(b){return a.call(this,b)||this}return aq(b,a),b.prototype.getDefaultStyle=function(){return{stroke:kv.color.neutral99,fill:null}},b.prototype.getDefaultShape=function(){return new yF},b.prototype.buildPath=function(a,b){var c=b.childPoints,d=c.length,e=b.parentPoint,f=c[0],g=c[d-1];if(1===d){a.moveTo(e[0],e[1]),a.lineTo(f[0],f[1]);return}var h=b.orient,i=+("TB"!==h&&"BT"!==h),j=1-i,k=fs(b.forkPosition,1),l=[];l[i]=e[i],l[j]=e[j]+(g[j]-e[j])*k,a.moveTo(e[0],e[1]),a.lineTo(l[0],l[1]),a.moveTo(f[0],f[1]),l[i]=f[i],a.lineTo(l[0],l[1]),l[i]=g[i],a.lineTo(l[0],l[1]),a.lineTo(g[0],g[1]);for(var m=1;m<d-1;m++){var n=c[m];a.moveTo(n[0],n[1]),l[i]=n[i],a.lineTo(l[0],l[1])}},b}(hy),yH=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._mainGroup=new fc,c}return aq(b,a),b.prototype.init=function(a,b){this._controller=new xg(b.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},b.prototype.render=function(a,b,c){var d=a.getData(),e=a.layoutInfo,f=this._mainGroup;"radial"===a.get("layout")?(f.x=e.x+e.width/2,f.y=e.y+e.height/2):(f.x=e.x,f.y=e.y),this._updateViewCoordSys(a,c),this._updateController(a,null,b,c);var g=this._data;d.diff(g).add(function(b){yI(d,b)&&yJ(d,b,null,f,a)}).update(function(b,c){var e=g.getItemGraphicEl(c);if(!yI(d,b)){e&&yM(g,c,e,f,a);return}yJ(d,b,e,f,a)}).remove(function(b){var c=g.getItemGraphicEl(b);c&&yM(g,b,c,f,a)}).execute(),this._nodeScaleRatio=a.get("nodeScaleRatio"),this._updateNodeAndLinkScale(a),!0===a.get("expandAndCollapse")&&d.eachItemGraphicEl(function(b,d){b.off("click").on("click",function(){c.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:d})})}),this._data=d},b.prototype._updateViewCoordSys=function(a,b){var c=a.getData(),d=[];c.each(function(a){var b=c.getItemLayout(a);!b||isNaN(b.x)||isNaN(b.y)||d.push([+b.x,+b.y])});var e=[],f=[];gZ(d,e,f);var g=this._min,h=this._max;f[0]-e[0]==0&&(e[0]=g?g[0]:e[0]-1,f[0]=h?h[0]:f[0]+1),f[1]-e[1]==0&&(e[1]=g?g[1]:e[1]-1,f[1]=h?h[1]:f[1]+1);var i=a.coordinateSystem=new ym(null,{api:b,ecModel:a.ecModel});i.zoomLimit=a.get("scaleLimit"),i.setBoundingRect(e[0],e[1],f[0]-e[0],f[1]-e[1]),i.setCenter(a.get("center")),i.setZoom(a.get("zoom")),this.group.attr({x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY}),this._min=e,this._max=f},b.prototype._updateController=function(a,b,c,d){var e=this;xq(a,d,this.group,this._controller,this._controllerHost,b),this._controller.on("zoom",function(b){e._updateNodeAndLinkScale(a)})},b.prototype._updateNodeAndLinkScale=function(a){var b=a.getData(),c=this._getNodeGlobalScale(a);b.eachItemGraphicEl(function(a,b){a.setSymbolScale(c)})},b.prototype._getNodeGlobalScale=function(a){var b=a.coordinateSystem;if("view"!==b.type)return 1;var c=this._nodeScaleRatio,d=b.scaleX||1;return((b.getZoom()-1)*c+1)/d},b.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},b.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},b.type="tree",b}(oC);function yI(a,b){var c=a.getItemLayout(b);return c&&!isNaN(c.x)&&!isNaN(c.y)}function yJ(a,b,c,d,e){var f=!c,g=a.tree.getNodeByDataIndex(b),h=g.getModel(),i=g.getVisual("style").fill,j=!1===g.isExpand&&0!==g.children.length?i:kv.color.neutral00,k=a.tree.root,l=g.parentNode===k?g:g.parentNode||g,m=a.getItemGraphicEl(l.dataIndex),n=l.getLayout(),o=m?{x:m.__oldX,y:m.__oldY,rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:n,p=g.getLayout();f?((c=new us(a,b,null,{symbolInnerColor:j,useNameLabel:!0})).x=o.x,c.y=o.y):c.updateData(a,b,null,{symbolInnerColor:j,useNameLabel:!0}),c.__radialOldRawX=c.__radialRawX,c.__radialOldRawY=c.__radialRawY,c.__radialRawX=p.rawX,c.__radialRawY=p.rawY,d.add(c),a.setItemGraphicEl(b,c),c.__oldX=c.x,c.__oldY=c.y,iR(c,{x:p.x,y:p.y},e);var q=c.getSymbolPath();if("radial"===e.get("layout")){var r=k.children[0],s=r.getLayout(),t=r.children.length,u=void 0,v=void 0;if(p.x===s.x&&!0===g.isExpand&&r.children.length){var w={x:(r.children[0].getLayout().x+r.children[t-1].getLayout().x)/2,y:(r.children[0].getLayout().y+r.children[t-1].getLayout().y)/2};(u=Math.atan2(w.y-s.y,w.x-s.x))<0&&(u=2*Math.PI+u),(v=w.x<s.x)&&(u-=Math.PI)}else(u=Math.atan2(p.y-s.y,p.x-s.x))<0&&(u=2*Math.PI+u),0===g.children.length||0!==g.children.length&&!1===g.isExpand?(v=p.x<s.x)&&(u-=Math.PI):(v=p.x>s.x)||(u-=Math.PI);var x=v?"left":"right",y=h.getModel("label"),z=y.get("rotate"),A=Math.PI/180*z,B=q.getTextContent();B&&(q.setTextConfig({position:y.get("position")||x,rotation:null==z?-u:A,origin:"center"}),B.setStyle("verticalAlign","middle"))}var C=h.get(["emphasis","focus"]),D="relative"===C?bu(g.getAncestorsIndices(),g.getDescendantIndices()):"ancestor"===C?g.getAncestorsIndices():"descendant"===C?g.getDescendantIndices():null;D&&(h2(c).focus=D),function(a,b,c,d,e,f,g,h){var i=b.getModel(),j=a.get("edgeShape"),k=a.get("layout"),l=a.getOrient(),m=a.get(["lineStyle","curveness"]),n=a.get("edgeForkPosition"),o=i.getModel("lineStyle").getLineStyle(),p=d.__edge;if("curve"===j)b.parentNode&&b.parentNode!==c&&(p||(p=d.__edge=new nB({shape:yN(k,l,m,e,e)})),iR(p,{shape:yN(k,l,m,f,g)},a));else if("polyline"===j&&"orthogonal"===k&&b!==c&&b.children&&0!==b.children.length&&!0===b.isExpand){for(var q=b.children,r=[],s=0;s<q.length;s++){var t=q[s].getLayout();r.push([t.x,t.y])}p||(p=d.__edge=new yG({shape:{parentPoint:[g.x,g.y],childPoints:[[g.x,g.y]],orient:l,forkPosition:n}})),iR(p,{shape:{parentPoint:[g.x,g.y],childPoints:r}},a)}p&&!("polyline"===j&&!b.isExpand)&&(p.useStyle(aR({strokeNoScale:!0,fill:null},o)),iJ(p,i,"lineStyle"),it(p),h.add(p))}(e,g,k,c,o,n,p,d),c.__edge&&(c.onHoverStateChange=function(b){if("blur"!==b){var d=g.parentNode&&a.getItemGraphicEl(g.parentNode.dataIndex);d&&1===d.hoverState||ir(c.__edge,b)}})}function yK(a,b,c,d,e){var f=yL(b.tree.root,a),g=f.source,h=f.sourceLayout,i=b.getItemGraphicEl(a.dataIndex);if(i){var j=b.getItemGraphicEl(g.dataIndex).__edge,k=i.__edge||(!1===g.isExpand||1===g.children.length?j:void 0),l=d.get("edgeShape"),m=d.get("layout"),n=d.get("orient"),o=d.get(["lineStyle","curveness"]);k&&("curve"===l?iU(k,{shape:yN(m,n,o,h,h),style:{opacity:0}},d,{cb:function(){c.remove(k)},removeOpt:e}):"polyline"===l&&"orthogonal"===d.get("layout")&&iU(k,{shape:{parentPoint:[h.x,h.y],childPoints:[[h.x,h.y]]},style:{opacity:0}},d,{cb:function(){c.remove(k)},removeOpt:e}))}}function yL(a,b){for(var c,d=b.parentNode===a?b:b.parentNode||b;null==(c=d.getLayout());)d=d.parentNode===a?d:d.parentNode||d;return{source:d,sourceLayout:c}}function yM(a,b,c,d,e){var f=a.tree.getNodeByDataIndex(b),g=yL(a.tree.root,f).sourceLayout,h={duration:e.get("animationDurationUpdate"),easing:e.get("animationEasingUpdate")};iU(c,{x:g.x+1,y:g.y+1},e,{cb:function(){d.remove(c),a.setItemGraphicEl(b,null)},removeOpt:h}),c.fadeOut(null,a.hostModel,{fadeLabel:!0,animation:h}),f.children.forEach(function(b){yK(b,a,d,e,h)}),yK(f,a,d,e,h)}function yN(a,b,c,d,e){if("radial"===a){j=d.rawX,l=d.rawY,k=e.rawX;var f,g,h,i,j,k,l,m=e.rawY,n=yB(j,l),o=yB(j,l+(m-l)*c),p=yB(k,m+(l-m)*c),q=yB(k,m);return{x1:n.x||0,y1:n.y||0,x2:q.x||0,y2:q.y||0,cpx1:o.x||0,cpy1:o.y||0,cpx2:p.x||0,cpy2:p.y||0}}return j=d.x,l=d.y,k=e.x,m=e.y,("LR"===b||"RL"===b)&&(f=j+(k-j)*c,g=l,h=k+(j-k)*c,i=m),("TB"===b||"BT"===b)&&(f=j,g=l+(m-l)*c,h=k,i=m+(l-m)*c),{x1:j,y1:l,x2:k,y2:m,cpx1:f,cpy1:g,cpx2:h,cpy2:i}}var yO=f0();function yP(a,b){var c;if(c=this,yO(c).mainData===c){var d=aQ({},yO(this).datas);d[this.dataType]=b,yU(b,d,a)}else yV(b,this.dataType,yO(this).mainData,a);return b}function yQ(a,b){return a.struct&&a.struct.update(),b}function yR(a,b){return aX(yO(b).datas,function(c,d){c!==b&&yV(c.cloneShallow(),d,b,a)}),b}function yS(a){var b=yO(this).mainData;return null==a||null==b?b:yO(b).datas[a]}function yT(){var a=yO(this).mainData;return null==a?[{data:a}]:aY(a0(yO(a).datas),function(b){return{type:b,data:yO(a).datas[b]}})}function yU(a,b,c){yO(a).datas={},aX(b,function(b,d){yV(b,d,a,c)})}function yV(a,b,c,d){yO(c).datas[b]=a,yO(a).mainData=c,a.dataType=b,d.struct&&(a[d.structAttr]=d.struct,d.struct[d.datasAttr[b]]=a),a.getLinkedData=yS,a.getLinkedDataAll=yT}let yW=function(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:"data"}),a.datas=a.mainData=null,yU(b,c,a),aX(c,function(c){aX(b.TRANSFERABLE_METHODS,function(b){c.wrapMethod(b,a2(yP,a))})}),b.wrapMethod("cloneShallow",a2(yR,a)),aX(b.CHANGABLE_METHODS,function(c){b.wrapMethod(c,a2(yQ,a))}),bl(c[b.dataType]===b)};var yX=function(){function a(a,b){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=a||"",this.hostTree=b}return a.prototype.isRemoved=function(){return this.dataIndex<0},a.prototype.eachNode=function(a,b,c){a4(a)&&(c=b,b=a,a=null),a5(a=a||{})&&(a={order:a});var d,e=a.order||"preorder",f=this[a.attr||"children"];"preorder"===e&&(d=b.call(c,this));for(var g=0;!d&&g<f.length;g++)f[g].eachNode(a,b,c);"postorder"===e&&b.call(c,this)},a.prototype.updateDepthAndHeight=function(a){var b=0;this.depth=a;for(var c=0;c<this.children.length;c++){var d=this.children[c];d.updateDepthAndHeight(a+1),d.height>b&&(b=d.height)}this.height=b+1},a.prototype.getNodeById=function(a){if(this.getId()===a)return this;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].getNodeById(a);if(e)return e}},a.prototype.contains=function(a){if(a===this)return!0;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].contains(a);if(e)return e}},a.prototype.getAncestors=function(a){for(var b=[],c=a?this:this.parentNode;c;)b.push(c),c=c.parentNode;return b.reverse(),b},a.prototype.getAncestorsIndices=function(){for(var a=[],b=this;b;)a.push(b.dataIndex),b=b.parentNode;return a.reverse(),a},a.prototype.getDescendantIndices=function(){var a=[];return this.eachNode(function(b){a.push(b.dataIndex)}),a},a.prototype.getValue=function(a){var b=this.hostTree.data;return b.getStore().get(b.getDimensionIndex(a||"value"),this.dataIndex)},a.prototype.setLayout=function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},a.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},a.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(a)},a.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},a.prototype.setVisual=function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},a.prototype.getVisual=function(a){return this.hostTree.data.getItemVisual(this.dataIndex,a)},a.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},a.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},a.prototype.getChildIndex=function(){if(this.parentNode){for(var a=this.parentNode.children,b=0;b<a.length;++b)if(a[b]===this)return b}return -1},a.prototype.isAncestorOf=function(a){for(var b=a.parentNode;b;){if(b===this)return!0;b=b.parentNode}return!1},a.prototype.isDescendantOf=function(a){return a!==this&&a.isAncestorOf(this)},a}(),yY=function(){function a(a){this.type="tree",this._nodes=[],this.hostModel=a}return a.prototype.eachNode=function(a,b,c){this.root.eachNode(a,b,c)},a.prototype.getNodeByDataIndex=function(a){var b=this.data.getRawIndex(a);return this._nodes[b]},a.prototype.getNodeById=function(a){return this.root.getNodeById(a)},a.prototype.update=function(){for(var a=this.data,b=this._nodes,c=0,d=b.length;c<d;c++)b[c].dataIndex=-1;for(var c=0,d=a.count();c<d;c++)b[a.getRawIndex(c)].dataIndex=c},a.prototype.clearLayouts=function(){this.data.clearItemLayouts()},a.createTree=function(b,c,d){var e=new a(c),f=[],g=1;!function a(b,c){var d,h,i,j=b.value;g=Math.max(g,a3(j)?j.length:1),f.push(b);var k=new yX(fY(b.name,""),e);c?(d=k,i=(h=c).children,d.parentNode!==h&&(i.push(d),d.parentNode=h)):e.root=k,e._nodes.push(k);var l=b.children;if(l)for(var m=0;m<l.length;m++)a(l[m],k)}(b),e.root.updateDepthAndHeight(0);var h=new q9(rb(f,{coordDimensions:["value"],dimensionsCount:g}).dimensions,c);return h.initData(f),d&&d(h),yW({mainData:h,struct:e,structAttr:"tree"}),e.update(),e},a}();function yZ(a,b,c){if(a&&aT(b,a.type)>=0){var d=c.getData().tree.root,e=a.targetNode;if(a5(e)&&(e=d.getNodeById(e)),e&&d.contains(e))return{node:e};var f=a.targetNodeId;if(null!=f&&(e=d.getNodeById(f)))return{node:e}}}function y$(a){for(var b=[];a;)(a=a.parentNode)&&b.push(a);return b.reverse()}function y_(a,b){return aT(y$(a),b)>=0}function y0(a,b){for(var c=[];a;){var d=a.dataIndex;c.push({name:a.name,dataIndex:d,value:b.getRawValue(d)}),a=a.parentNode}return c.reverse(),c}var y1=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.hasSymbolVisual=!0,b.ignoreStyleOnData=!0,b}return aq(b,a),b.prototype.getInitialData=function(a){var b={name:a.name,children:a.data},c=new jn(a.leaves||{},this,this.ecModel),d=yY.createTree(b,this,function(a){a.wrapMethod("getItemModel",function(a,b){var e=d.getNodeByDataIndex(b);return e&&e.children.length&&e.isExpand||(a.parentModel=c),a})}),e=0;d.eachNode("preorder",function(a){a.depth>e&&(e=a.depth)});var f=a.expandAndCollapse&&a.initialTreeDepth>=0?a.initialTreeDepth:e;return d.root.eachNode("preorder",function(a){var b=a.hostTree.data.getRawDataItem(a.dataIndex);a.isExpand=b&&null!=b.collapsed?!b.collapsed:a.depth<=f}),d.data},b.prototype.getOrient=function(){var a=this.get("orient");return"horizontal"===a?a="LR":"vertical"===a&&(a="TB"),a},b.prototype.setZoom=function(a){this.option.zoom=a},b.prototype.setCenter=function(a){this.option.center=a},b.prototype.formatTooltip=function(a,b,c){for(var d=this.getData().tree,e=d.root.children[0],f=d.getNodeByDataIndex(a),g=f.getValue(),h=f.name;f&&f!==e;)h=f.parentNode.name+"."+h,f=f.parentNode;return mi("nameValue",{name:h,value:g,noValue:isNaN(g)||null==g})},b.prototype.getDataParams=function(b){var c=a.prototype.getDataParams.apply(this,arguments),d=this.getData().tree.getNodeByDataIndex(b);return c.treeAncestors=y0(d,this),c.collapsed=!d.isExpand,c},b.type="series.tree",b.layoutMode="box",b.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:kv.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},b}(mE);function y2(a,b){for(var c,d=[a];c=d.pop();)if(b(c),c.isExpand){var e=c.children;if(e.length)for(var f=e.length-1;f>=0;f--)d.push(e[f])}}function y3(a,b){a.eachSeriesByType("tree",function(a){!function(a,b){var c=kk(a,b).refContainer,d=kh(a.getBoxLayoutParams(),c);a.layoutInfo=d;var e=a.get("layout"),f=0,g=0,h=null;"radial"===e?(f=2*Math.PI,g=Math.min(d.height,d.width)/2,h=yA(function(a,b){return(a.parentNode===b.parentNode?1:2)/a.depth})):(f=d.width,g=d.height,h=yA());var i=a.getData().tree.root,j=i.children[0];if(j){!function(a){a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var b,c,d=[a];b=d.pop();)if(c=b.children,b.isExpand&&c.length)for(var e=c.length,f=e-1;f>=0;f--){var g=c[f];g.hierNode={defaultAncestor:null,ancestor:g,prelim:0,modifier:0,change:0,shift:0,i:f,thread:null},d.push(g)}}(i),function(a,b,c){for(var d,e=[a],f=[];d=e.pop();)if(f.push(d),d.isExpand){var g=d.children;if(g.length)for(var h=0;h<g.length;h++)e.push(g[h])}for(;d=f.pop();)b(d,c)}(j,yy,h),i.hierNode.modifier=-j.hierNode.prelim,y2(j,yz);var k=j,l=j,m=j;y2(j,function(a){var b=a.getLayout().x;b<k.getLayout().x&&(k=a),b>l.getLayout().x&&(l=a),a.depth>m.depth&&(m=a)});var n=k===l?1:h(k,l)/2,o=n-k.getLayout().x,p=0,q=0,r=0,s=0;if("radial"===e)p=f/(l.getLayout().x+n+o),q=g/(m.depth-1||1),y2(j,function(a){r=(a.getLayout().x+o)*p,s=(a.depth-1)*q;var b=yB(r,s);a.setLayout({x:b.x,y:b.y,rawX:r,rawY:s},!0)});else{var t=a.getOrient();"RL"===t||"LR"===t?(q=g/(l.getLayout().x+n+o),p=f/(m.depth-1||1),y2(j,function(a){s=(a.getLayout().x+o)*q,r="LR"===t?(a.depth-1)*p:f-(a.depth-1)*p,a.setLayout({x:r,y:s},!0)})):("TB"===t||"BT"===t)&&(p=f/(l.getLayout().x+n+o),q=g/(m.depth-1||1),y2(j,function(a){r=(a.getLayout().x+o)*p,s="TB"===t?(a.depth-1)*q:g-(a.depth-1)*q,a.setLayout({x:r,y:s},!0)}))}}}(a,b)})}function y4(a){a.eachSeriesByType("tree",function(a){var b=a.getData();b.tree.eachNode(function(a){var c=a.getModel().getModel("itemStyle").getItemStyle();aQ(b.ensureUniqueItemVisual(a.dataIndex,"style"),c)})})}var y5=["treemapZoomToNode","treemapRender","treemapMove"];function y6(a){var b=a.getData().tree,c={};b.eachNode(function(b){for(var d=b;d&&d.depth>1;)d=d.parentNode;var e=kW(a.ecModel,d.name||d.dataIndex+"",c);b.setVisual("decal",e)})}var y7=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.preventUsingHoverLayer=!0,c}return aq(b,a),b.prototype.getInitialData=function(a,b){var c={name:a.name,children:a.data};!function a(b){var c=0;aX(b.children,function(b){a(b);var d=b.value;a3(d)&&(d=d[0]),c+=d});var d=b.value;a3(d)&&(d=d[0]),(null==d||isNaN(d))&&(d=c),d<0&&(d=0),a3(b.value)?b.value[0]=d:b.value=d}(c);var d=a.levels||[],e=new jn({itemStyle:this.designatedVisualItemStyle={}},this,b),f=aY((d=a.levels=function(a,b){var c,d,e=fR(b.get("color")),f=fR(b.get(["aria","decal","decals"]));if(e){aX(a=a||[],function(a){var b=new jn(a),e=b.get("color"),f=b.get("decal");(b.get(["itemStyle","color"])||e&&"none"!==e)&&(c=!0),(b.get(["itemStyle","decal"])||f&&"none"!==f)&&(d=!0)});var g=a[0]||(a[0]={});return c||(g.color=e.slice()),!d&&f&&(g.decal=f.slice()),a}}(d,b))||[],function(a){return new jn(a,e,b)},this),g=yY.createTree(c,this,function(a){a.wrapMethod("getItemModel",function(a,b){var c=g.getNodeByDataIndex(b);return a.parentModel=(c?f[c.depth]:null)||e,a})});return g.data},b.prototype.optionUpdated=function(){this.resetViewRoot()},b.prototype.formatTooltip=function(a,b,c){var d=this.getData(),e=this.getRawValue(a);return mi("nameValue",{name:d.getName(a),value:e})},b.prototype.getDataParams=function(b){var c=a.prototype.getDataParams.apply(this,arguments);return c.treeAncestors=y0(this.getData().tree.getNodeByDataIndex(b),this),c.treePathInfo=c.treeAncestors,c},b.prototype.setLayoutInfo=function(a){this.layoutInfo=this.layoutInfo||{},aQ(this.layoutInfo,a)},b.prototype.mapIdToIndex=function(a){var b=this._idIndexMap;b||(b=this._idIndexMap=bt(),this._idIndexMapCount=0);var c=b.get(a);return null==c&&b.set(a,c=this._idIndexMapCount++),c},b.prototype.getViewRoot=function(){return this._viewRoot},b.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)},b.prototype.enableAriaDecal=function(){y6(this)},b.type="series.treemap",b.layoutMode="box",b.defaultOption={progressive:0,coordinateSystemUsage:"box",left:kv.size.l,top:kv.size.xxxl,right:kv.size.l,bottom:kv.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:kv.size.m,emptyItemWidth:25,itemStyle:{color:kv.color.backgroundShade,textStyle:{color:kv.color.secondary}},emphasis:{itemStyle:{color:kv.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:kv.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:kv.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},b}(mE),y8=function(){function a(a){this.group=new fc,a.add(this.group)}return a.prototype.render=function(a,b,c,d){var e=a.getModel("breadcrumb"),f=this.group;if(f.removeAll(),e.get("show")&&c){var g=e.getModel("itemStyle"),h=e.getModel("emphasis"),i=g.getModel("textStyle"),j=h.getModel(["itemStyle","textStyle"]),k=kk(a,b).refContainer,l={left:e.get("left"),right:e.get("right"),top:e.get("top"),bottom:e.get("bottom")},m={emptyItemWidth:e.get("emptyItemWidth"),totalWidth:0,renderList:[]},n=kh(l,k);this._prepare(c,m,i),this._renderContent(a,m,n,g,h,i,j,d),kl(f,l,k)}},a.prototype._prepare=function(a,b,c){for(var d=a;d;d=d.parentNode){var e=fY(d.getModel().get("name"),""),f=Math.max(c.getTextRect(e).width+16,b.emptyItemWidth);b.totalWidth+=f+8,b.renderList.push({node:d,text:e,width:f})}},a.prototype._renderContent=function(a,b,c,d,e,f,g,h){for(var i=0,j=b.emptyItemWidth,k=a.get(["breadcrumb","height"]),l=b.totalWidth,m=b.renderList,n=e.getModel("itemStyle").getItemStyle(),o=m.length-1;o>=0;o--){var p,q,r,s=m[o],t=s.node,u=s.width,v=s.text;l>c.width&&(l-=u-j,u=j,v=null);var w=new np({shape:{points:function(a,b,c,d,e,f){var g=[[e?a:a-5,0],[a+c,0],[a+c,0+d],[e?a:a-5,0+d]];return f||g.splice(2,0,[a+c+5,0+d/2]),e||g.push([a,0+d/2]),g}(i,0,u,k,o===m.length-1,0===o)},style:aR(d.getItemStyle(),{lineJoin:"bevel"}),textContent:new h1({style:i1(f,{text:v})}),textConfig:{position:"inside"},z2:1e5,onclick:a2(h,t)});w.disableLabelAnimation=!0,w.getTextContent().ensureState("emphasis").style=i1(g,{text:v}),w.ensureState("emphasis").style=n,iF(w,e.get("focus"),e.get("blurScope"),e.get("disabled")),this.group.add(w),p=w,q=a,r=t,h2(p).eventData={componentType:"series",componentSubType:"treemap",componentIndex:q.componentIndex,seriesIndex:q.seriesIndex,seriesName:q.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&y0(r,q)},i+=u+8}},a.prototype.remove=function(){this.group.removeAll()},a}(),y9=function(){function a(){this._storage=[],this._elExistsMap={}}return a.prototype.add=function(a,b,c,d,e){return!this._elExistsMap[a.id]&&(this._elExistsMap[a.id]=!0,this._storage.push({el:a,target:b,duration:c,delay:d,easing:e}),!0)},a.prototype.finished=function(a){return this._finishedCallback=a,this},a.prototype.start=function(){for(var a=this,b=this._storage.length,c=function(){--b<=0&&(a._storage.length=0,a._elExistsMap={},a._finishedCallback&&a._finishedCallback())},d=0,e=this._storage.length;d<e;d++){var f=this._storage[d];f.el.animateTo(f.target,{duration:f.duration,delay:f.delay,easing:f.easing,setToFinal:!0,done:c,aborted:c})}return this},a}(),za="label",zb="upperLabel",zc=gl([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),zd=function(a){var b=zc(a);return b.stroke=b.fill=b.lineWidth=null,b},ze=f0(),zf=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._state="ready",c._storage=zg(),c}return aq(b,a),b.prototype.render=function(a,b,c,d){if(!(0>aT(b.findComponents({mainType:"series",subType:"treemap",query:d}),a))){this.seriesModel=a,this.api=c,this.ecModel=b;var e=yZ(d,["treemapZoomToNode","treemapRootToNode"],a),f=d&&d.type,g=a.layoutInfo,h=!this._oldTree,i=this._storage,j="treemapRootToNode"===f&&e&&i?{rootNodeGroup:i.nodeGroup[e.node.getRawIndex()],direction:d.direction}:null,k=this._giveContainerGroup(g),l=a.get("animation"),m=this._doRender(k,a,j);!l||h||f&&"treemapZoomToNode"!==f&&"treemapRootToNode"!==f?m.renderFinally():this._doAnimation(k,m,a,j),this._resetController(c),this._renderBreadcrumb(a,c,e)}},b.prototype._giveContainerGroup=function(a){var b=this._containerGroup;return b||(b=this._containerGroup=new fc,this._initEvents(b),this.group.add(b)),b.x=a.x,b.y=a.y,b},b.prototype._doRender=function(a,b,c){var d,e,f=b.getData().tree,g=this._oldTree,h=zg(),i=zg(),j=this._storage,k=[];!function a(d,e,f,g,l){function m(a){return a.getId()}function n(m,n){var o=null!=m?d[m]:null,p=null!=n?e[n]:null,q=function(a,b,c,d,e,f,g,h,i,j){if(g){var k=g.getLayout(),l=a.getData(),m=g.getModel();if(l.setItemGraphicEl(g.dataIndex,null),k&&k.isInView){var n=k.width,o=k.height,p=k.borderWidth,q=k.invisible,r=g.getRawIndex(),s=h&&h.getRawIndex(),t=g.viewChildren,u=k.upperHeight,v=t&&t.length,w=m.getModel("itemStyle"),x=m.getModel(["emphasis","itemStyle"]),y=m.getModel(["blur","itemStyle"]),z=m.getModel(["select","itemStyle"]),A=w.get("borderRadius")||0,B=N("nodeGroup",fc);if(B){if(i.add(B),B.x=k.x||0,B.y=k.y||0,B.markRedraw(),ze(B).nodeWidth=n,ze(B).nodeHeight=o,k.isAboveViewRoot)return B;var C=N("background",hM,j,20);C&&function(b,c,d){var e=h2(c);if(e.dataIndex=g.dataIndex,e.seriesIndex=a.seriesIndex,c.setShape({x:0,y:0,width:n,height:o,r:A}),q)K(c);else{c.invisible=!1;var f=g.getVisual("style"),h=f.stroke,i=zd(w);i.fill=h;var j=zc(x);j.fill=x.get("borderColor");var k=zc(y);k.fill=y.get("borderColor");var l=zc(z);if(l.fill=z.get("borderColor"),d){var m=n-2*p;L(c,h,f.opacity,{x:p,y:0,width:m,height:u})}else c.removeTextContent();c.setStyle(i),c.ensureState("emphasis").style=j,c.ensureState("blur").style=k,c.ensureState("select").style=l,it(c)}b.add(c)}(B,C,v&&k.upperLabelHeight);var D=m.getModel("emphasis"),E=D.get("focus"),F=D.get("blurScope"),G=D.get("disabled"),H="ancestor"===E?g.getAncestorsIndices():"descendant"===E?g.getDescendantIndices():E;if(v)iL(B)&&iK(B,!1),C&&(iK(C,!G),l.setItemGraphicEl(g.dataIndex,C),iG(C,H,F));else{var I=N("content",hM,j,30);I&&function(b,c){var d=h2(c);d.dataIndex=g.dataIndex,d.seriesIndex=a.seriesIndex;var e=Math.max(n-2*p,0),f=Math.max(o-2*p,0);if(c.culling=!0,c.setShape({x:p,y:p,width:e,height:f,r:A}),q)K(c);else{c.invisible=!1;var h=g.getVisual("style"),i=h.fill,j=zd(w);j.fill=i,j.decal=h.decal;var k=zc(x),l=zc(y),m=zc(z);L(c,i,h.opacity,null),c.setStyle(j),c.ensureState("emphasis").style=k,c.ensureState("blur").style=l,c.ensureState("select").style=m,it(c)}b.add(c)}(B,I),C.disableMorphing=!0,C&&iL(C)&&iK(C,!1),iK(B,!G),l.setItemGraphicEl(g.dataIndex,B);var J=m.getShallow("cursor");J&&I.attr("cursor",J),iG(B,H,F)}return B}}}function K(a){a.invisible||f.push(a)}function L(b,c,d,e){var f=m.getModel(e?zb:za),h=fY(m.get("name"),null),i=f.getShallow("show");i_(b,i0(m,e?zb:za),{defaultText:i?h:null,inheritColor:c,defaultOpacity:d,labelFetcher:a,labelDataIndex:g.dataIndex});var j=b.getTextContent();if(j){var l=j.style,n=bk(l.padding||0);e&&(b.setTextConfig({layoutRect:e}),j.disableLabelLayout=!0),j.beforeUpdate=function(){var a=Math.max((e?e.width:b.shape.width)-n[1]-n[3],0),c=Math.max((e?e.height:b.shape.height)-n[0]-n[2],0);(l.width!==a||l.height!==c)&&j.setStyle({width:a,height:c})},l.truncateMinChar=2,l.lineOverflow="truncate",M(l,e,k);var o=j.getState("emphasis");M(o?o.style:null,e,k)}}function M(b,c,d){var e=b?b.text:null;if(!c&&d.isLeafRoot&&null!=e){var f=a.get("drillDownIcon",!0);b.text=f?f+" "+e:e}}function N(a,f,h,i){var j,k,l,m=null!=s&&c[a][s],n=e[a];return m?(c[a][s]=null,j=n,k=m,l=j[r]={},k instanceof fc?(l.oldX=k.x,l.oldY=k.y):l.oldShape=aQ({},k.shape)):q||((m=new f)instanceof gO&&(m.z2=100*h+i),function(a,b){var c=a[r]={},f=g.parentNode,h=b instanceof fc;if(f&&(!d||"drillDown"===d.direction)){var i=0,j=0,k=e.background[f.getRawIndex()];!d&&k&&k.oldShape&&(i=k.oldShape.width,j=k.oldShape.height),h?(c.oldX=0,c.oldY=j):c.oldShape={x:i,y:j,width:0,height:0}}c.fadein=!h}(n,m)),b[a][r]=m}}(b,i,j,c,h,k,o,p,f,l);q&&a(o&&o.viewChildren||[],p&&p.viewChildren||[],q,g,l+1)}g?(e=d,aX(d,function(a,b){a.isRemoved()||n(b,b)})):new qV(e,d,m,m).add(n).update(n).remove(a2(n,null)).execute()}(f.root?[f.root]:[],g&&g.root?[g.root]:[],a,f===g||!g,0);var l=(d=j,e=zg(),d&&aX(d,function(a,b){var c=e[b];aX(a,function(a){a&&(c.push(a),ze(a).willDelete=!0)})}),e);if(this._oldTree=f,this._storage=i,this._controllerHost){var m=this.seriesModel.layoutInfo,n=f.root.getLayout();n.width===m.width&&n.height===m.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:h,willDeleteEls:l,renderFinally:function(){aX(l,function(a){aX(a,function(a){a.parent&&a.parent.remove(a)})}),aX(k,function(a){a.invisible=!0,a.dirty()})}}},b.prototype._doAnimation=function(a,b,c,d){var e=c.get("animationDurationUpdate"),f=c.get("animationEasing"),g=(a4(e)?0:e)||0,h=(a4(f)?null:f)||"cubicOut",i=new y9;aX(b.willDeleteEls,function(a,b){aX(a,function(a,c){if(!a.invisible){var e,f=a.parent,j=ze(f);if(d&&"drillDown"===d.direction)e=f===d.rootNodeGroup?{shape:{x:0,y:0,width:j.nodeWidth,height:j.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var k=0,l=0;j.willDelete||(k=j.nodeWidth/2,l=j.nodeHeight/2),e="nodeGroup"===b?{x:k,y:l,style:{opacity:0}}:{shape:{x:k,y:l,width:0,height:0},style:{opacity:0}}}e&&i.add(a,e,g,0,h)}})}),aX(this._storage,function(a,c){aX(a,function(a,d){var e=b.lastsForAnimation[c][d],f={};e&&(a instanceof fc?null!=e.oldX&&(f.x=a.x,f.y=a.y,a.x=e.oldX,a.y=e.oldY):(e.oldShape&&(f.shape=aQ({},a.shape),a.setShape(e.oldShape)),e.fadein?(a.setStyle("opacity",0),f.style={opacity:1}):1!==a.style.opacity&&(f.style={opacity:1})),i.add(a,f,g,0,h))})},this),this._state="animating",i.finished(a1(function(){this._state="ready",b.renderFinally()},this)).start()},b.prototype._resetController=function(a){var b=this,c=this._controller,d=this._controllerHost;d||(this._controllerHost={target:this.group},d=this._controllerHost);var e=this.seriesModel;c||((c=this._controller=new xg(a.getZr())).on("pan",a1(this._onPan,this)),c.on("zoom",a1(this._onZoom,this))),c.enable(e.get("roam"),{api:a,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(a,c,d){var e=b._containerGroup;return!!e&&e.getBoundingRect().contain(c-e.x,d-e.y)}}}),d.zoomLimit=e.get("scaleLimit"),d.zoom=e.get("zoom")},b.prototype._clearController=function(){var a=this._controller;this._controllerHost=null,a&&(a.dispose(),a=null)},b.prototype._onPan=function(a){if("animating"!==this._state&&(Math.abs(a.dx)>3||Math.abs(a.dy)>3)){var b=this.seriesModel.getData().tree.root;if(b){var c=b.getLayout();c&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x+a.dx,y:c.y+a.dy,width:c.width,height:c.height}})}}},b.prototype._onZoom=function(a){var b=a.originX,c=a.originY,d=a.scale;if("animating"!==this._state){var e=this.seriesModel.getData().tree.root;if(!e)return;var f=e.getLayout();if(!f)return;var g=new cS(f.x,f.y,f.width,f.height),h=null,i=this._controllerHost;h=i.zoomLimit;var j=i.zoom=i.zoom||1;if(j*=d,h){var k=h.min||0;j=Math.max(Math.min(h.max||1/0,j),k)}var l=j/i.zoom;i.zoom=j;var m=this.seriesModel.layoutInfo;b-=m.x,c-=m.y;var n=cq();cu(n,n,[-b,-c]),cw(n,n,[l,l]),cu(n,n,[b,c]),g.applyTransform(n),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:g.x,y:g.y,width:g.width,height:g.height}})}},b.prototype._initEvents=function(a){var b=this;a.on("click",function(a){if("ready"===b._state){var c=b.seriesModel.get("nodeClick",!0);if(c){var d=b.findTarget(a.offsetX,a.offsetY);if(d){var e=d.node;if(e.getLayout().isLeafRoot)b._rootToNode(d);else if("zoomToNode"===c)b._zoomToNode(d);else if("link"===c){var f=e.hostTree.data.getItemModel(e.dataIndex),g=f.get("link",!0),h=f.get("target",!0)||"blank";g&&j3(g,h)}}}}},this)},b.prototype._renderBreadcrumb=function(a,b,c){var d=this;!c&&((c=null!=a.get("leafDepth",!0)?{node:a.getViewRoot()}:this.findTarget(b.getWidth()/2,b.getHeight()/2))||(c={node:a.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new y8(this.group))).render(a,b,c.node,function(b){"animating"!==d._state&&(y_(a.getViewRoot(),b)?d._rootToNode({node:b}):d._zoomToNode({node:b}))})},b.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=zg(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},b.prototype.dispose=function(){this._clearController()},b.prototype._zoomToNode=function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},b.prototype._rootToNode=function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},b.prototype.findTarget=function(a,b){var c;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var e=this._storage.background[d.getRawIndex()];if(e){var f=e.transformCoordToLocal(a,b),g=e.shape;if(!(g.x<=f[0])||!(f[0]<=g.x+g.width)||!(g.y<=f[1])||!(f[1]<=g.y+g.height))return!1;c={node:d,offsetX:f[0],offsetY:f[1]}}},this),c},b.type="treemap",b}(oC);function zg(){return{nodeGroup:[],background:[],content:[]}}var zh=aX,zi=function(){function a(b){var c,d,e=b.mappingMethod,f=b.type,g=this.option=aN(b);this.type=f,this.mappingMethod=e,this._normalizeData=zs[e];var h=a.visualHandlers[f];this.applyVisual=h.applyVisual,this.getColorMapper=h.getColorMapper,this._normalizedToVisual=h._normalizedToVisual[e],"piecewise"===e?(zj(g),d=(c=g).pieceList,c.hasSpecialVisual=!1,aX(d,function(a,b){a.originIndex=b,null!=a.visual&&(c.hasSpecialVisual=!0)})):"category"===e?g.categories?function(a){var b=a.categories,c=a.categoryMap={},d=a.visual;if(zh(b,function(a,b){c[a]=b}),!a3(d)){var e=[];a8(d)?zh(d,function(a,b){var d=c[b];e[null!=d?d:-1]=a}):e[-1]=d,d=zr(a,e)}for(var f=b.length-1;f>=0;f--)null==d[f]&&(delete c[b[f]],b.pop())}(g):zj(g,!0):(bl("linear"!==e||g.dataExtent),zj(g))}return a.prototype.mapValueToVisual=function(a){var b=this._normalizeData(a);return this._normalizedToVisual(b,a)},a.prototype.getNormalizer=function(){return a1(this._normalizeData,this)},a.listVisualTypes=function(){return a0(a.visualHandlers)},a.isValidType=function(b){return a.visualHandlers.hasOwnProperty(b)},a.eachVisual=function(a,b,c){a8(a)?aX(a,b,c):b.call(c,a)},a.mapVisual=function(b,c,d){var e,f=a3(b)?[]:a8(b)?{}:(e=!0,null);return a.eachVisual(b,function(a,b){var g=c.call(d,a,b);e?f=g:f[b]=g}),f},a.retrieveVisuals=function(b){var c,d={};return b&&zh(a.visualHandlers,function(a,e){b.hasOwnProperty(e)&&(d[e]=b[e],c=!0)}),c?d:null},a.prepareVisualTypes=function(a){if(a3(a))a=a.slice();else{if(!a8(a))return[];var b=[];zh(a,function(a,c){b.push(c)}),a=b}return a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1}),a},a.dependsOn=function(a,b){return"color"===b?!!(a&&0===a.indexOf(b)):a===b},a.findPieceIndex=function(a,b,c){for(var d,e=1/0,f=0,g=b.length;f<g;f++){var h=b[f].value;if(null!=h){if(h===a||a5(h)&&h===a+"")return f;c&&x(h,f)}}for(var f=0,g=b.length;f<g;f++){var i,j,k,l,m,n,o,p,q,r,s,t,u=b[f],v=u.interval,w=u.close;if(v){if(v[0]===-1/0){if(i=w[1],j=a,k=v[1],i?j<=k:j<k)return f}else if(v[1]===1/0){if(l=w[0],m=v[0],n=a,l?m<=n:m<n)return f}else{if(o=w[0],p=v[0],q=a,(o?p<=q:p<q)&&(r=w[1],s=a,t=v[1],r?s<=t:s<t))return f}c&&x(v[0],f),c&&x(v[1],f)}}if(c)return a===1/0?b.length-1:a===-1/0?0:d;function x(b,c){var f=Math.abs(b-a);f<e&&(e=f,d=c)}},a.visualHandlers={color:{applyVisual:zm("color"),getColorMapper:function(){var a=this.option;return a1("category"===a.mappingMethod?function(a,b){return b||(a=this._normalizeData(a)),zn.call(this,a)}:function(b,c,d){var e=!!d;return c||(b=this._normalizeData(b)),d=dQ(b,a.parsedVisual,d),e?d:dW(d,"rgba")},this)},_normalizedToVisual:{linear:function(a){return dW(dQ(a,this.option.parsedVisual),"rgba")},category:zn,piecewise:function(a,b){var c=zq.call(this,b);return null==c&&(c=dW(dQ(a,this.option.parsedVisual),"rgba")),c},fixed:zo}},colorHue:zk(function(a,b){return dU(a,b)}),colorSaturation:zk(function(a,b){return dU(a,null,b)}),colorLightness:zk(function(a,b){return dU(a,null,null,b)}),colorAlpha:zk(function(a,b){return dV(a,b)}),decal:{applyVisual:zm("decal"),_normalizedToVisual:{linear:null,category:zn,piecewise:null,fixed:null}},opacity:{applyVisual:zm("opacity"),_normalizedToVisual:zp([0,1])},liftZ:{applyVisual:zm("liftZ"),_normalizedToVisual:{linear:zo,category:zo,piecewise:zo,fixed:zo}},symbol:{applyVisual:function(a,b,c){c("symbol",this.mapValueToVisual(a))},_normalizedToVisual:{linear:zl,category:zn,piecewise:function(a,b){var c=zq.call(this,b);return null==c&&(c=zl.call(this,a)),c},fixed:zo}},symbolSize:{applyVisual:zm("symbolSize"),_normalizedToVisual:zp([0,1])}},a}();function zj(a,b){var c=a.visual,d=[];a8(c)?zh(c,function(a){d.push(a)}):null!=c&&d.push(c),b||1!==d.length||({color:1,symbol:1}).hasOwnProperty(a.type)||(d[1]=d[0]),zr(a,d)}function zk(a){return{applyVisual:function(b,c,d){var e=this.mapValueToVisual(b);d("color",a(c("color"),e))},_normalizedToVisual:zp([0,1])}}function zl(a){var b=this.option.visual;return b[Math.round(fr(a,[0,1],[0,b.length-1],!0))]||{}}function zm(a){return function(b,c,d){d(a,this.mapValueToVisual(b))}}function zn(a){var b=this.option.visual;return b[this.option.loop&&-1!==a?a%b.length:a]}function zo(){return this.option.visual[0]}function zp(a){return{linear:function(b){return fr(b,a,this.option.visual,!0)},category:zn,piecewise:function(b,c){var d=zq.call(this,c);return null==d&&(d=fr(b,a,this.option.visual,!0)),d},fixed:zo}}function zq(a){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual){var d=zi.findPieceIndex(a,c),e=c[d];if(e&&e.visual)return e.visual[this.type]}}function zr(a,b){return a.visual=b,"color"===a.type&&(a.parsedVisual=aY(b,function(a){return dM(a)||[0,0,0,1]})),b}var zs={linear:function(a){return fr(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList,c=zi.findPieceIndex(a,b,!0);if(null!=c)return fr(c,[0,b.length-1],[0,1],!0)},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?-1:b},fixed:by},zt=f0();let zu={seriesType:"treemap",reset:function(a){var b=a.getData().tree.root;b.isRemoved()||function a(b,c,d,e){var f=b.getModel(),g=b.getLayout(),h=b.hostTree.data;if(g&&!g.invisible&&g.isInView){var i,j,k,l,m,n,o,p=f.getModel("itemStyle"),q=(i=p,j=c,k=e,l=aQ({},j),m=k.designatedVisualItemStyle,aX(["color","colorAlpha","colorSaturation"],function(a){m[a]=j[a];var b=i.get(a);m[a]=null,null!=b&&(l[a]=b)}),l),r=h.ensureUniqueItemVisual(b.dataIndex,"style"),s=p.get("borderColor"),t=p.get("borderColorSaturation");null!=t&&(n=t,s=null!=(o=zv(q))?dU(o,null,null,n):null),r.stroke=s;var u=b.viewChildren;if(u&&u.length){var v=function(a,b,c,d,e,f){if(f&&f.length){var g=zx(b,"color")||null!=e.color&&"none"!==e.color&&(zx(b,"colorAlpha")||zx(b,"colorSaturation"));if(g){var h=b.get("visualMin"),i=b.get("visualMax"),j=c.dataExtent.slice();null!=h&&h<j[0]&&(j[0]=h),null!=i&&i>j[1]&&(j[1]=i);var k=b.get("colorMappingBy"),l={type:g.name,dataExtent:j,visual:g.range};"color"===l.type&&("index"===k||"id"===k)?(l.mappingMethod="category",l.loop=!0):l.mappingMethod="linear";var m=new zi(l);return zt(m).drColorMappingBy=k,m}}}(0,f,g,0,q,u);aX(u,function(b,c){if(b.depth>=d.length||b===d[b.depth]){var g=function(a,b,c,d,e,f){var g=aQ({},b);if(e){var h=e.type,i="color"===h&&zt(e).drColorMappingBy,j="index"===i?d:"id"===i?f.mapIdToIndex(c.getId()):c.getValue(a.get("visualDimension"));g[h]=e.mapValueToVisual(j)}return g}(f,q,b,c,v,e);a(b,g,d,e)}})}else r.fill=zv(q)}}(b,{},a.getViewRoot().getAncestors(),a)}};function zv(a){var b=zw(a,"color");if(b){var c=zw(a,"colorAlpha"),d=zw(a,"colorSaturation");return d&&(b=dU(b,null,null,d)),c&&(b=dV(b,c)),b}}function zw(a,b){var c=a[b];if(null!=c&&"none"!==c)return c}function zx(a,b){var c=a.get(b);return a3(c)&&c.length?{name:b,range:c}:null}var zy=Math.max,zz=Math.min,zA=bg,zB=aX,zC=["itemStyle","borderWidth"],zD=["itemStyle","gapWidth"],zE=["upperLabel","show"],zF=["upperLabel","height"];let zG={seriesType:"treemap",reset:function(a,b,c,d){var e=a.option,f=kk(a,c).refContainer,g=kh(a.getBoxLayoutParams(),f),h=e.size||[],i=fs(zA(g.width,h[0]),f.width),j=fs(zA(g.height,h[1]),f.height),k=d&&d.type,l=yZ(d,["treemapZoomToNode","treemapRootToNode"],a),m="treemapRender"===k||"treemapMove"===k?d.rootRect:null,n=a.getViewRoot(),o=y$(n);if("treemapMove"!==k){var p="treemapZoomToNode"===k?function(a,b,c,d,e){var f,g=(b||{}).node,h=[d,e];if(!g||g===c)return h;for(var i=d*e,j=i*a.option.zoomToNodeRatio;f=g.parentNode;){for(var k=0,l=f.children,m=0,n=l.length;m<n;m++)k+=l[m].getValue();var o=g.getValue();if(0===o)return h;j*=k/o;var p=f.getModel(),q=p.get(zC),r=Math.max(q,zI(p));(j+=4*q*q+(3*q+r)*Math.pow(j,.5))>fB&&(j=fB),g=f}j<i&&(j=i);var s=Math.pow(j/i,.5);return[d*s,e*s]}(a,l,n,i,j):m?[m.width,m.height]:[i,j],q=e.sort;q&&"asc"!==q&&"desc"!==q&&(q="desc");var r={squareRatio:e.squareRatio,sort:q,leafDepth:e.leafDepth};n.hostTree.clearLayouts();var s={x:0,y:0,width:p[0],height:p[1],area:p[0]*p[1]};n.setLayout(s),function a(b,c,d,e){if(!b.isRemoved()){var f,g,h=b.getLayout();f=h.width,g=h.height;var i=b.getModel(),j=i.get(zC),k=i.get(zD)/2,l=zI(i),m=Math.max(j,l),n=j-k,o=m-k;b.setLayout({borderWidth:j,upperHeight:m,upperLabelHeight:l},!0);var p=(f=zy(f-2*n,0))*(g=zy(g-n-o,0)),q=function(a,b,c,d,e,f){var g,h,i=a.children||[],j=d.sort;"asc"!==j&&"desc"!==j&&(j=null);var k=null!=d.leafDepth&&d.leafDepth<=f;if(e&&!k)return a.viewChildren=[];g=i=a$(i,function(a){return!a.isRemoved()}),(h=j)&&g.sort(function(a,b){var c="asc"===h?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===c?"asc"===h?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:c});var l=function(a,b,c){for(var d,e=0,f=0,g=b.length;f<g;f++)e+=b[f].getValue();var h=a.get("visualDimension");return b&&b.length?"value"===h&&c?(d=[b[b.length-1].getValue(),b[0].getValue()],"asc"===c&&d.reverse()):(d=[1/0,-1/0],zB(b,function(a){var b=a.getValue(h);b<d[0]&&(d[0]=b),b>d[1]&&(d[1]=b)})):d=[NaN,NaN],{sum:e,dataExtent:d}}(b,i,j);if(0===l.sum||(l.sum=function(a,b,c,d,e){if(!d)return c;for(var f=a.get("visibleMin"),g=e.length,h=g,i=g-1;i>=0;i--){var j=e["asc"===d?g-i-1:i].getValue();j/c*b<f&&(h=i,c-=j)}return"asc"===d?e.splice(0,g-h):e.splice(h,g-h),c}(b,c,l.sum,j,i),0===l.sum))return a.viewChildren=[];for(var m=0,n=i.length;m<n;m++){var o=i[m].getValue()/l.sum*c;i[m].setLayout({area:o})}return k&&(i.length&&a.setLayout({isLeafRoot:!0},!0),i.length=0),a.viewChildren=i,a.setLayout({dataExtent:l.dataExtent},!0),i}(b,i,p,c,d,e);if(q.length){var r={x:n,y:o,width:f,height:g},s=zz(f,g),t=1/0,u=[];u.area=0;for(var v=0,w=q.length;v<w;){var x=q[v];u.push(x),u.area+=x.getLayout().area;var y=function(a,b,c){for(var d=0,e=1/0,f=0,g=void 0,h=a.length;f<h;f++)(g=a[f].getLayout().area)&&(g<e&&(e=g),g>d&&(d=g));var i=a.area*a.area,j=b*b*c;return i?zy(j*d/i,i/(j*e)):1/0}(u,s,c.squareRatio);y<=t?(v++,t=y):(u.area-=u.pop().getLayout().area,zH(u,s,r,k,!1),s=zz(r.width,r.height),u.length=u.area=0,t=1/0)}if(u.length&&zH(u,s,r,k,!0),!d){var z=i.get("childrenVisibleMin");null!=z&&p<z&&(d=!0)}for(var v=0,w=q.length;v<w;v++)a(q[v],c,d,e+1)}}}(n,r,!1,0),s=n.getLayout(),zB(o,function(a,b){var c=(o[b+1]||n).getValue();a.setLayout(aQ({dataExtent:[c,c],borderWidth:0,upperHeight:0},s))})}var t=a.getData().tree.root;t.setLayout(function(a,b,c){if(b)return{x:b.x,y:b.y};var d={x:0,y:0};if(!c)return d;var e=c.node,f=e.getLayout();if(!f)return d;for(var g=[f.width/2,f.height/2],h=e;h;){var i=h.getLayout();g[0]+=i.x,g[1]+=i.y,h=h.parentNode}return{x:a.width/2-g[0],y:a.height/2-g[1]}}(g,m,l),!0),a.setLayoutInfo(g),function a(b,c,d,e,f){var g=b.getLayout(),h=d[f],i=h&&h===b;if((!h||i)&&(f!==d.length||b===e)){b.setLayout({isInView:!0,invisible:!i&&!c.intersect(g),isAboveViewRoot:i},!0);var j=new cS(c.x-g.x,c.y-g.y,c.width,c.height);zB(b.viewChildren||[],function(b){a(b,j,d,e,f+1)})}}(t,new cS(-g.x,-g.y,c.getWidth(),c.getHeight()),o,n,0)}};function zH(a,b,c,d,e){var f=+(b!==c.width),g=1-f,h=["x","y"],i=["width","height"],j=c[h[f]],k=b?a.area/b:0;(e||k>c[i[g]])&&(k=c[i[g]]);for(var l=0,m=a.length;l<m;l++){var n=a[l],o={},p=k?n.getLayout().area/k:0,q=o[i[g]]=zy(k-2*d,0),r=c[h[f]]+c[i[f]]-j,s=l===m-1||r<p?r:p,t=o[i[f]]=zy(s-2*d,0);o[h[g]]=c[h[g]]+zz(d,q/2),o[h[f]]=j+zz(d,t/2),j+=s,n.setLayout(o,!0)}c[h[g]]+=k,c[i[g]]-=k}function zI(a){return a.get(zE)?a.get(zF):0}function zJ(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),d=a.getGraph().data,e=c.mapArray(c.getName);d.filterSelf(function(a){var c=d.getItemModel(a).getShallow("category");if(null!=c){a7(c)&&(c=e[c]);for(var f=0;f<b.length;f++)if(!b[f].isSelected(c))return!1}return!0})})}function zK(a){var b={};a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),d=a.getData(),e={};c.each(function(d){var f=c.getName(d);e["ec-"+f]=d;var g=c.getItemModel(d),h=g.getModel("itemStyle").getItemStyle();h.fill||(h.fill=a.getColorFromPalette(f,b)),c.setItemVisual(d,"style",h);for(var i=["symbol","symbolSize","symbolKeepAspect"],j=0;j<i.length;j++){var k=g.getShallow(i[j],!0);null!=k&&c.setItemVisual(d,i[j],k)}}),c.count()&&d.each(function(a){var b=d.getItemModel(a).getShallow("category");if(null!=b){a5(b)&&(b=e["ec-"+b]);var f=c.getItemVisual(b,"style");aQ(d.ensureUniqueItemVisual(a,"style"),f);for(var g=["symbol","symbolSize","symbolKeepAspect"],h=0;h<g.length;h++)d.setItemVisual(a,g[h],c.getItemVisual(b,g[h]))}})})}function zL(a){return a instanceof Array||(a=[a,a]),a}function zM(a){a.eachSeriesByType("graph",function(a){var b=a.getGraph(),c=a.getEdgeData(),d=zL(a.get("edgeSymbol")),e=zL(a.get("edgeSymbolSize"));c.setVisual("fromSymbol",d&&d[0]),c.setVisual("toSymbol",d&&d[1]),c.setVisual("fromSymbolSize",e&&e[0]),c.setVisual("toSymbolSize",e&&e[1]),c.setVisual("style",a.getModel("lineStyle").getLineStyle()),c.each(function(a){var d=c.getItemModel(a),e=b.getEdgeByIndex(a),f=zL(d.getShallow("symbol",!0)),g=zL(d.getShallow("symbolSize",!0)),h=d.getModel("lineStyle").getLineStyle(),i=c.ensureUniqueItemVisual(a,"style");switch(aQ(i,h),i.stroke){case"source":var j=e.node1.getVisual("style");i.stroke=j&&j.fill;break;case"target":var j=e.node2.getVisual("style");i.stroke=j&&j.fill}f[0]&&e.setVisual("fromSymbol",f[0]),f[1]&&e.setVisual("toSymbol",f[1]),g[0]&&e.setVisual("fromSymbolSize",g[0]),g[1]&&e.setVisual("toSymbolSize",g[1])})})}var zN=function(a){return a.get("autoCurveness")||null},zO=function(a,b){var c=zN(a),d=20,e=[];if(a7(c))d=c;else if(a3(c)){a.__curvenessList=c;return}b>d&&(d=b);var f=d%2?d+2:d+3;e=[];for(var g=0;g<f;g++)e.push((g%2?g+1:g)/10*(g%2?-1:1));a.__curvenessList=e},zP=function(a,b,c){var d=[a.id,a.dataIndex].join("."),e=[b.id,b.dataIndex].join(".");return[c.uid,d,e].join("--\x3e")},zQ=function(a){var b=a.split("--\x3e");return[b[0],b[2],b[1]].join("--\x3e")},zR=function(a,b){var c=zP(a.node1,a.node2,b);return b.__edgeMap[c]},zS=function(a,b){var c=b.__edgeMap;return c[a]?c[a].length:0};function zT(a,b,c,d){var e=zN(b),f=a3(e);if(!e)return null;var g=zR(a,b);if(!g)return null;for(var h=-1,i=0;i<g.length;i++)if(g[i]===c){h=i;break}var j=zS(zP(a.node1,a.node2,b),b)+zS(zP(a.node2,a.node1,b),b);zO(b,j),a.lineStyle=a.lineStyle||{};var k=zP(a.node1,a.node2,b),l=b.__curvenessList,m=f||j%2?0:1;if(g.isForward)return l[m+h];var n=zS(zQ(k),b),o=l[h+n+m];return d?f?e&&0===e[0]?(n+m)%2?o:-o:((n%2?0:1)+m)%2?o:-o:(n+m)%2?o:-o:l[h+n+m]}function zU(a){var b=a.coordinateSystem;if(!b||"view"===b.type){var c=a.getGraph();c.eachNode(function(a){var b=a.getModel();a.setLayout([+b.get("x"),+b.get("y")])}),zV(c,a)}}function zV(a,b){a.eachEdge(function(a,c){var d=bi(a.getModel().get(["lineStyle","curveness"]),-zT(a,b,c,!0),0),e=bF(a.node1.getLayout()),f=bF(a.node2.getLayout()),g=[e,f];+d&&g.push([(e[0]+f[0])/2-(e[1]-f[1])*d,(e[1]+f[1])/2-(f[0]-e[0])*d]),a.setLayout(g)})}function zW(a,b){a.eachSeriesByType("graph",function(a){var b=a.get("layout"),c=a.coordinateSystem;if(c&&"view"!==c.type){var d=a.getData(),e=[];aX(c.dimensions,function(a){e=e.concat(d.mapDimensionsAll(a))});for(var f=0;f<d.count();f++){for(var g=[],h=!1,i=0;i<e.length;i++){var j=d.get(e[i],f);isNaN(j)||(h=!0),g.push(j)}h?d.setItemLayout(f,c.dataToPoint(g)):d.setItemLayout(f,[NaN,NaN])}zV(d.graph,a)}else b&&"none"!==b||zU(a)})}function zX(a){var b=a.coordinateSystem;if("view"!==b.type)return 1;var c=a.option.nodeScaleRatio,d=b.scaleX;return((b.getZoom()-1)*c+1)/d}function zY(a){var b=a.getVisual("symbolSize");return b instanceof Array&&(b=(b[0]+b[1])/2),+b}var zZ=Math.PI,z$=[];function z_(a,b,c,d){var e=a.coordinateSystem;if(!e||"view"===e.type){var f=e.getBoundingRect(),g=a.getData(),h=g.graph,i=f.width/2+f.x,j=f.height/2+f.y,k=Math.min(f.width,f.height)/2,l=g.count();if(g.setLayout({cx:i,cy:j}),l){if(c){var m=e.pointToData(d),n=[m[0]-i,m[1]-j];bS(n,n),bR(n,n,k),c.setLayout([i+n[0],j+n[1]],!0),z1(c,a.get(["circular","rotateLabel"]),i,j)}z0[b](a,h,g,k,i,j,l),h.eachEdge(function(b,c){var d,e=bi(b.getModel().get(["lineStyle","curveness"]),zT(b,a,c),0),f=bF(b.node1.getLayout()),g=bF(b.node2.getLayout()),h=(f[0]+g[0])/2,k=(f[1]+g[1])/2;+e&&(e*=3,d=[i*e+h*(1-e),j*e+k*(1-e)]),b.setLayout([f,g,d])})}}}var z0={value:function(a,b,c,d,e,f,g){var h=0,i=c.getSum("value"),j=2*Math.PI/(i||g);b.eachNode(function(a){var b=a.getValue("value"),c=j*(i?b:1)/2;h+=c,a.setLayout([d*Math.cos(h)+e,d*Math.sin(h)+f]),h+=c})},symbolSize:function(a,b,c,d,e,f,g){var h=0;z$.length=g;var i=zX(a);b.eachNode(function(a){var b=zY(a);isNaN(b)&&(b=2),b<0&&(b=0);var c=Math.asin((b*=i)/2/d);isNaN(c)&&(c=zZ/2),z$[a.dataIndex]=c,h+=2*c});var j=(2*zZ-h)/g/2,k=0;b.eachNode(function(a){var b=j+z$[a.dataIndex];k+=b,a.getLayout()&&a.getLayout().fixed||a.setLayout([d*Math.cos(k)+e,d*Math.sin(k)+f]),k+=b})}};function z1(a,b,c,d){var e=a.getGraphicEl();if(e){var f=a.getModel().get(["label","rotate"])||0,g=e.getSymbolPath();if(b){var h=a.getLayout(),i=Math.atan2(h[1]-d,h[0]-c);i<0&&(i=2*Math.PI+i);var j=h[0]<c;j&&(i-=Math.PI);var k=j?"left":"right";g.setTextConfig({rotation:-i,position:k,origin:"center"});var l=g.ensureState("emphasis");aQ(l.textConfig||(l.textConfig={}),{position:k})}else g.setTextConfig({rotation:f*=Math.PI/180})}}function z2(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&z_(a,"symbolSize")})}var z3=bI;function z4(a){a.eachSeriesByType("graph",function(a){var b=a.coordinateSystem;if(!b||"view"===b.type)if("force"===a.get("layout")){var c=a.preservedPoints||{},d=a.getGraph(),e=d.data,f=d.edgeData,g=a.getModel("force"),h=g.get("initLayout");a.preservedPoints?e.each(function(a){var b=e.getId(a);e.setItemLayout(a,c[b]||[NaN,NaN])}):h&&"none"!==h?"circular"===h&&z_(a,"value"):zU(a);var i=e.getDataExtent("value"),j=f.getDataExtent("value"),k=g.get("repulsion"),l=g.get("edgeLength"),m=a3(k)?k:[k,k],n=a3(l)?l:[l,l];n=[n[1],n[0]];var o=e.mapArray("value",function(a,b){var c=e.getItemLayout(b),d=fr(a,i,m);return isNaN(d)&&(d=(m[0]+m[1])/2),{w:d,rep:d,fixed:e.getItemModel(b).get("fixed"),p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),p=f.mapArray("value",function(b,c){var e=d.getEdgeByIndex(c),f=fr(b,j,n);isNaN(f)&&(f=(n[0]+n[1])/2);var g=e.getModel(),h=bi(e.getModel().get(["lineStyle","curveness"]),-zT(e,a,c,!0),0);return{n1:o[e.node1.dataIndex],n2:o[e.node2.dataIndex],d:f,curveness:h,ignoreForceLayout:g.get("ignoreForceLayout")}}),q=function(a,b,c){for(var d,e,f=c.rect,g=f.width,h=f.height,i=[f.x+g/2,f.y+h/2],j=null==c.gravity?.1:c.gravity,k=0;k<a.length;k++){var l=a[k];l.p||(l.p=bD(g*(Math.random()-.5)+i[0],h*(Math.random()-.5)+i[1])),l.pp=bF(l.p),l.edges=null}var m=null==c.friction?.6:c.friction,n=m;return{warmUp:function(){n=.8*m},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},beforeStep:function(a){d=a},afterStep:function(a){e=a},step:function(c){d&&d(a,b);for(var f=[],g=a.length,h=0;h<b.length;h++){var k=b[h];if(!k.ignoreForceLayout){var l=k.n1,m=k.n2;bJ(f,m.p,l.p);var o=bK(f)-k.d,p=m.w/(l.w+m.w);isNaN(p)&&(p=0),bS(f,f),l.fixed||z3(l.p,l.p,f,p*o*n),m.fixed||z3(m.p,m.p,f,-(1-p)*o*n)}}for(var h=0;h<g;h++){var q=a[h];q.fixed||(bJ(f,i,q.p),z3(q.p,q.p,f,j*n))}for(var h=0;h<g;h++)for(var l=a[h],r=h+1;r<g;r++){var m=a[r];bJ(f,m.p,l.p);var o=bK(f);0===o&&(bG(f,Math.random()-.5,Math.random()-.5),o=1);var s=(l.rep+m.rep)/o/o;l.fixed||z3(l.pp,l.pp,f,s),m.fixed||z3(m.pp,m.pp,f,-s)}for(var t=[],h=0;h<g;h++){var q=a[h];q.fixed||(bJ(t,q.p,q.pp),z3(q.p,q.p,t,n),bE(q.pp,q.p))}var u=(n*=.992)<.01;e&&e(a,b,u),c&&c(u)}}}(o,p,{rect:b.getBoundingRect(),gravity:g.get("gravity"),friction:g.get("friction")});q.beforeStep(function(a,b){for(var c=0,e=a.length;c<e;c++)a[c].fixed&&bE(a[c].p,d.getNodeByIndex(c).getLayout())}),q.afterStep(function(a,b,f){for(var g=0,h=a.length;g<h;g++)a[g].fixed||d.getNodeByIndex(g).setLayout(a[g].p),c[e.getId(g)]=a[g].p;for(var g=0,h=b.length;g<h;g++){var i=b[g],j=d.getEdgeByIndex(g),k=i.n1.p,l=i.n2.p,m=j.getLayout();(m=m?m.slice():[])[0]=m[0]||[],m[1]=m[1]||[],bE(m[0],k),bE(m[1],l),+i.curveness&&(m[2]=[(k[0]+l[0])/2-(k[1]-l[1])*i.curveness,(k[1]+l[1])/2-(l[0]-k[0])*i.curveness]),j.setLayout(m)}}),a.forceLayout=q,a.preservedPoints=c,q.step()}else a.forceLayout=null})}function z5(a,b){var c=[];return a.eachSeriesByType("graph",function(d){j9({targetModel:d,coordSysType:"view",coordSysProvider:function(){var e,f,g=d.getData(),h=g.mapArray(function(a){var b=g.getItemModel(a);return[+b.get("x"),+b.get("y")]}),i=[],j=[];gZ(h,i,j),j[0]-i[0]==0&&(j[0]+=1,i[0]-=1),j[1]-i[1]==0&&(j[1]+=1,i[1]-=1);var k=(j[0]-i[0])/(j[1]-i[1]),l=(e=kk(d,b),f=kh(aQ(d.getBoxLayoutParams(),{aspect:k}),e.refContainer),ki(d,f,k));isNaN(k)&&(i=[l.x,l.y],j=[l.x+l.width,l.y+l.height]);var m=j[0]-i[0],n=j[1]-i[1],o=new ym(null,{api:b,ecModel:a});return o.zoomLimit=d.get("scaleLimit"),o.setBoundingRect(i[0],i[1],m,n),o.setViewRect(l.x,l.y,l.width,l.height),o.setCenter(d.get("center")),o.setZoom(d.get("zoom")),c.push(o),o},isDefaultDataCoordSys:!0})}),c}var z6=nw.prototype,z7=nB.prototype,z8=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function z9(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}aq(function(){return null!==n&&n.apply(this,arguments)||this},n=z8);var Aa=function(a){function b(b){var c=a.call(this,b)||this;return c.type="ec-line",c}return aq(b,a),b.prototype.getDefaultStyle=function(){return{stroke:kv.color.neutral99,fill:null}},b.prototype.getDefaultShape=function(){return new z8},b.prototype.buildPath=function(a,b){z9(b)?z6.buildPath.call(this,a,b):z7.buildPath.call(this,a,b)},b.prototype.pointAt=function(a){return z9(this.shape)?z6.pointAt.call(this,a):z7.pointAt.call(this,a)},b.prototype.tangentAt=function(a){var b=this.shape,c=z9(b)?[b.x2-b.x1,b.y2-b.y1]:z7.tangentAt.call(this,a);return bS(c,c)},b}(hy),Ab=["fromSymbol","toSymbol"];function Ac(a){return"_"+a+"Type"}function Ad(a,b,c){var d=b.getItemVisual(c,a);if(!d||"none"===d)return d;var e=b.getItemVisual(c,a+"Size"),f=b.getItemVisual(c,a+"Rotate"),g=b.getItemVisual(c,a+"Offset"),h=b.getItemVisual(c,a+"KeepAspect"),i=pr(e),j=ps(g||0,i);return d+i+j+(f||"")+(h||"")}function Ae(a,b,c){var d=b.getItemVisual(c,a);if(d&&"none"!==d){var e=b.getItemVisual(c,a+"Size"),f=b.getItemVisual(c,a+"Rotate"),g=b.getItemVisual(c,a+"Offset"),h=b.getItemVisual(c,a+"KeepAspect"),i=pr(e),j=ps(g||0,i),k=pq(d,-i[0]/2+j[0],-i[1]/2+j[1],i[0],i[1],null,h);return k.__specifiedRotation=null==f||isNaN(f)?void 0:f*Math.PI/180||0,k.name=a,k}}function Af(a,b){a.x1=b[0][0],a.y1=b[0][1],a.x2=b[1][0],a.y2=b[1][1],a.percent=1;var c=b[2];c?(a.cpx1=c[0],a.cpy1=c[1]):(a.cpx1=NaN,a.cpy1=NaN)}var Ag=function(a){function b(b,c,d){var e=a.call(this)||this;return e._createLine(b,c,d),e}return aq(b,a),b.prototype._createLine=function(a,b,c){var d,e=a.hostModel,f=a.getItemLayout(b),g=a.getItemVisual(b,"z2"),h=(Af((d=new Aa({name:"line",subPixelOptimize:!0})).shape,f),d);h.shape.percent=0,iS(h,{z2:bh(g,0),shape:{percent:1}},e,b),this.add(h),aX(Ab,function(c){var d=Ae(c,a,b);this.add(d),this[Ac(c)]=Ad(c,a,b)},this),this._updateCommonStl(a,b,c)},b.prototype.updateData=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=a.getItemLayout(b),g={shape:{}};Af(g.shape,f),iR(e,g,d,b),aX(Ab,function(c){var d=Ad(c,a,b),e=Ac(c);if(this[e]!==d){this.remove(this.childOfName(c));var f=Ae(c,a,b);this.add(f)}this[e]=d},this),this._updateCommonStl(a,b,c)},b.prototype.getLinePath=function(){return this.childAt(0)},b.prototype._updateCommonStl=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=c&&c.emphasisLineStyle,g=c&&c.blurLineStyle,h=c&&c.selectLineStyle,i=c&&c.labelStatesModels,j=c&&c.emphasisDisabled,k=c&&c.focus,l=c&&c.blurScope;if(!c||a.hasItemOption){var m=a.getItemModel(b),n=m.getModel("emphasis");f=n.getModel("lineStyle").getLineStyle(),g=m.getModel(["blur","lineStyle"]).getLineStyle(),h=m.getModel(["select","lineStyle"]).getLineStyle(),j=n.get("disabled"),k=n.get("focus"),l=n.get("blurScope"),i=i0(m)}var o=a.getItemVisual(b,"style"),p=o.stroke;e.useStyle(o),e.style.fill=null,e.style.strokeNoScale=!0,e.ensureState("emphasis").style=f,e.ensureState("blur").style=g,e.ensureState("select").style=h,aX(Ab,function(a){var b=this.childOfName(a);if(b){b.setColor(p),b.style.opacity=o.opacity;for(var c=0;c<h8.length;c++){var d=h8[c],f=e.getState(d);if(f){var g=f.style||{},h=b.ensureState(d),i=h.style||(h.style={});null!=g.stroke&&(i[b.__isEmptyBrush?"stroke":"fill"]=g.stroke),null!=g.opacity&&(i.opacity=g.opacity)}}b.markRedraw()}},this);var q=d.getRawValue(b);i_(this,i,{labelDataIndex:b,labelFetcher:{getFormattedLabel:function(b,c){return d.getFormattedLabel(b,c,a.dataType)}},inheritColor:p||kv.color.neutral99,defaultOpacity:o.opacity,defaultText:(null==q?a.getName(b):isFinite(q)?fu(q):q)+""});var r=this.getTextContent();if(r){var s=i.normal;r.__align=r.style.align,r.__verticalAlign=r.style.verticalAlign,r.__position=s.get("position")||"middle";var t=s.get("distance");a3(t)||(t=[t,t]),r.__labelDistance=t}this.setTextConfig({position:null,local:!0,inside:!1}),iF(this,k,l,j)},b.prototype.highlight=function(){iw(this)},b.prototype.downplay=function(){ix(this)},b.prototype.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))},b.prototype.setLinePoints=function(a){var b=this.childOfName("line");Af(b.shape,a),b.dirty()},b.prototype.beforeUpdate=function(){var a=this.childOfName("fromSymbol"),b=this.childOfName("toSymbol"),c=this.getTextContent();if(a||b||c&&!c.ignore){for(var d=1,e=this.parent;e;)e.scaleX&&(d/=e.scaleX),e=e.parent;var f=this.childOfName("line");if(this.__dirty||f.__dirty){var g=f.shape.percent,h=f.pointAt(0),i=f.pointAt(g),j=bJ([],i,h);if(bS(j,j),a&&(a.setPosition(h),w(a,0),a.scaleX=a.scaleY=d*g,a.markRedraw()),b&&(b.setPosition(i),w(b,1),b.scaleX=b.scaleY=d*g,b.markRedraw()),c&&!c.ignore){c.x=c.y=0,c.originX=c.originY=0;var k=void 0,l=void 0,m=c.__labelDistance,n=m[0]*d,o=m[1]*d,p=g/2,q=f.tangentAt(p),r=[q[1],-q[0]],s=f.pointAt(p);r[1]>0&&(r[0]=-r[0],r[1]=-r[1]);var t=q[0]<0?-1:1;if("start"!==c.__position&&"end"!==c.__position){var u=-Math.atan2(q[1],q[0]);i[0]<h[0]&&(u=Math.PI+u),c.rotation=u}var v=void 0;switch(c.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":v=-o,l="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":v=o,l="top";break;default:v=0,l="middle"}switch(c.__position){case"end":c.x=j[0]*n+i[0],c.y=j[1]*o+i[1],k=j[0]>.8?"left":j[0]<-.8?"right":"center",l=j[1]>.8?"top":j[1]<-.8?"bottom":"middle";break;case"start":c.x=-j[0]*n+h[0],c.y=-j[1]*o+h[1],k=j[0]>.8?"right":j[0]<-.8?"left":"center",l=j[1]>.8?"bottom":j[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":c.x=n*t+h[0],c.y=h[1]+v,k=q[0]<0?"right":"left",c.originX=-n*t,c.originY=-v;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":c.x=s[0],c.y=s[1]+v,k="center",c.originY=-v;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":c.x=-n*t+i[0],c.y=i[1]+v,k=q[0]>=0?"right":"left",c.originX=n*t,c.originY=-v}c.scaleX=c.scaleY=d,c.setStyle({verticalAlign:c.__verticalAlign||l,align:c.__align||k})}}}function w(a,b){var c=a.__specifiedRotation;if(null==c){var d=f.tangentAt(b);a.attr("rotation",(1===b?-1:1)*Math.PI/2-Math.atan2(d[1],d[0]))}else a.attr("rotation",c)}},b}(fc),Ah=function(){function a(a){this.group=new fc,this._LineCtor=a||Ag}return a.prototype.updateData=function(a){var b=this;this._progressiveEls=null;var c=this.group,d=this._lineData;this._lineData=a,d||c.removeAll();var e=Ai(a);a.diff(d).add(function(c){b._doAdd(a,c,e)}).update(function(c,f){b._doUpdate(d,a,f,c,e)}).remove(function(a){c.remove(d.getItemGraphicEl(a))}).execute()},a.prototype.updateLayout=function(){var a=this._lineData;a&&a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)},a.prototype.incrementalPrepareUpdate=function(a){this._seriesScope=Ai(a),this._lineData=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(a,b){function c(a){var b;a.isGroup||(b=a).animators&&b.animators.length>0||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var d=a.start;d<a.end;d++)if(Ak(b.getItemLayout(d))){var e=new this._LineCtor(b,d,this._seriesScope);e.traverse(c),this.group.add(e),b.setItemGraphicEl(d,e),this._progressiveEls.push(e)}},a.prototype.remove=function(){this.group.removeAll()},a.prototype.eachRendered=function(a){om(this._progressiveEls||this.group,a)},a.prototype._doAdd=function(a,b,c){if(Ak(a.getItemLayout(b))){var d=new this._LineCtor(a,b,c);a.setItemGraphicEl(b,d),this.group.add(d)}},a.prototype._doUpdate=function(a,b,c,d,e){var f=a.getItemGraphicEl(c);Ak(b.getItemLayout(d))?(f?f.updateData(b,d,e):f=new this._LineCtor(b,d,e),b.setItemGraphicEl(d,f),this.group.add(f)):this.group.remove(f)},a}();function Ai(a){var b=a.hostModel,c=b.getModel("emphasis");return{lineStyle:b.getModel("lineStyle").getLineStyle(),emphasisLineStyle:c.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:b.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:b.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:c.get("disabled"),blurScope:c.get("blurScope"),focus:c.get("focus"),labelStatesModels:i0(b)}}function Aj(a){return isNaN(a[0])||isNaN(a[1])}function Ak(a){return a&&!Aj(a[0])&&!Aj(a[1])}var Al=[],Am=[],An=[],Ao=Math.abs;function Ap(a,b,c){for(var d,e=a[0],f=a[1],g=a[2],h=1/0,i=c*c,j=.1,k=.1;k<=.9;k+=.1){Al[0]=dq(e[0],f[0],g[0],k),Al[1]=dq(e[1],f[1],g[1],k);var l=Ao(bW(Al,b)-i);l<h&&(h=l,d=k)}for(var m=0;m<32;m++){var n=d+j;Am[0]=dq(e[0],f[0],g[0],d),Am[1]=dq(e[1],f[1],g[1],d),An[0]=dq(e[0],f[0],g[0],n),An[1]=dq(e[1],f[1],g[1],n);var l=bW(Am,b)-i;if(.01>Ao(l))break;var o=bW(An,b)-i;j/=2,l<0?o>=0?d+=j:d-=j:o>=0?d-=j:d+=j}return d}function Aq(a,b){var c=[],d=[[],[],[]],e=[[],[]],f=[];b/=2,a.eachEdge(function(a,g){var h=a.getLayout(),i=a.getVisual("fromSymbol"),j=a.getVisual("toSymbol");!h.__original&&(h.__original=[bF(h[0]),bF(h[1])],h[2]&&h.__original.push(bF(h[2])));var k=h.__original;if(null!=h[2]){if(bE(d[0],k[0]),bE(d[1],k[2]),bE(d[2],k[1]),i&&"none"!==i){var l=zY(a.node1),m=Ap(d,k[0],l*b);dt(d[0][0],d[1][0],d[2][0],m,c),d[0][0]=c[3],d[1][0]=c[4],dt(d[0][1],d[1][1],d[2][1],m,c),d[0][1]=c[3],d[1][1]=c[4]}if(j&&"none"!==j){var l=zY(a.node2),m=Ap(d,k[1],l*b);dt(d[0][0],d[1][0],d[2][0],m,c),d[1][0]=c[1],d[2][0]=c[2],dt(d[0][1],d[1][1],d[2][1],m,c),d[1][1]=c[1],d[2][1]=c[2]}bE(h[0],d[0]),bE(h[1],d[2]),bE(h[2],d[1])}else{if(bE(e[0],k[0]),bE(e[1],k[1]),bJ(f,e[1],e[0]),bS(f,f),i&&"none"!==i){var l=zY(a.node1);bI(e[0],e[0],f,l*b)}if(j&&"none"!==j){var l=zY(a.node2);bI(e[1],e[1],f,-l*b)}bE(h[0],e[0]),bE(h[1],e[1])}})}var Ar=f0();function As(a,b){a&&(Ar(a).bridge=b)}function At(a){return"view"===a.type}var Au=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(a,b){var c=new ux,d=new Ah,e=this.group,f=new fc;this._controller=new xg(b.getZr()),this._controllerHost={target:f},f.add(c.group),f.add(d.group),e.add(f),this._symbolDraw=c,this._lineDraw=d,this._mainGroup=f,this._firstRender=!0},b.prototype.render=function(a,b,c){var d=this,e=a.coordinateSystem,f=!1;this._model=a,this._api=c,this._active=!0;var g=this._getThumbnailInfo();g&&g.bridge.reset(c);var h=this._symbolDraw,i=this._lineDraw;if(At(e)){var j={x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY};this._firstRender?this._mainGroup.attr(j):iR(this._mainGroup,j,a)}Aq(a.getGraph(),zX(a));var k=a.getData();h.updateData(k);var l=a.getEdgeData();i.updateData(l),this._updateNodeAndLinkScale(),this._updateController(null,a,c),clearTimeout(this._layoutTimeout);var m=a.forceLayout,n=a.get(["force","layoutAnimation"]);m&&(f=!0,this._startForceLayoutIteration(m,c,n));var o=a.get("layout");k.graph.eachNode(function(b){var e=b.dataIndex,f=b.getGraphicEl(),g=b.getModel();if(f){f.off("drag").off("dragend");var h=g.get("draggable");h&&f.on("drag",function(g){switch(o){case"force":m.warmUp(),d._layouting||d._startForceLayoutIteration(m,c,n),m.setFixed(e),k.setItemLayout(e,[f.x,f.y]);break;case"circular":k.setItemLayout(e,[f.x,f.y]),b.setLayout({fixed:!0},!0),z_(a,"symbolSize",b,[g.offsetX,g.offsetY]),d.updateLayout(a);break;default:k.setItemLayout(e,[f.x,f.y]),zV(a.getGraph(),a),d.updateLayout(a)}}).on("dragend",function(){m&&m.setUnfixed(e)}),f.setDraggable(h,!!g.get("cursor")),"adjacency"===g.get(["emphasis","focus"])&&(h2(f).focus=b.getAdjacentDataIndices())}}),k.graph.eachEdge(function(a){var b=a.getGraphicEl(),c=a.getModel().get(["emphasis","focus"]);b&&"adjacency"===c&&(h2(b).focus={edge:[a.dataIndex],node:[a.node1.dataIndex,a.node2.dataIndex]})});var p="circular"===a.get("layout")&&a.get(["circular","rotateLabel"]),q=k.getLayout("cx"),r=k.getLayout("cy");k.graph.eachNode(function(a){z1(a,p,q,r)}),this._firstRender=!1,f||this._renderThumbnail(a,c,this._symbolDraw,this._lineDraw)},b.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},b.prototype._startForceLayoutIteration=function(a,b,c){var d=this,e=!1;!function f(){a.step(function(a){d.updateLayout(d._model),(a||!e)&&(e=!0,d._renderThumbnail(d._model,b,d._symbolDraw,d._lineDraw)),(d._layouting=!a)&&(c?d._layoutTimeout=setTimeout(f,16):f())})}()},b.prototype._updateController=function(a,b,c){var d=this._controller,e=this._controllerHost,f=b.coordinateSystem;At(f)?(d.enable(b.get("roam"),{api:c,zInfo:{component:b},triggerInfo:{roamTrigger:b.get("roamTrigger"),isInSelf:function(a,b,c){return f.containPoint([b,c])},isInClip:function(b,c,d){return!a||a.contain(c,d)}}}),e.zoomLimit=b.get("scaleLimit"),e.zoom=f.getZoom(),d.off("pan").off("zoom").on("pan",function(a){c.dispatchAction({seriesId:b.id,type:"graphRoam",dx:a.dx,dy:a.dy})}).on("zoom",function(a){c.dispatchAction({seriesId:b.id,type:"graphRoam",zoom:a.scale,originX:a.originX,originY:a.originY})})):d.disable()},b.prototype.updateViewOnPan=function(a,b,c){this._active&&(xo(this._controllerHost,c.dx,c.dy),this._updateThumbnailWindow())},b.prototype.updateViewOnZoom=function(a,b,c){this._active&&(xp(this._controllerHost,c.zoom,c.originX,c.originY),this._updateNodeAndLinkScale(),Aq(a.getGraph(),zX(a)),this._lineDraw.updateLayout(),b.updateLabelLayout(),this._updateThumbnailWindow())},b.prototype._updateNodeAndLinkScale=function(){var a=this._model,b=a.getData(),c=zX(a);b.eachItemGraphicEl(function(a,b){a&&a.setSymbolScale(c)})},b.prototype.updateLayout=function(a){this._active&&(Aq(a.getGraph(),zX(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},b.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},b.prototype._getThumbnailInfo=function(){var a=this._model,b=a.coordinateSystem;if("view"===b.type){var c=function(a){if(a)return Ar(a).bridge}(a);if(c)return{bridge:c,coordSys:b}}},b.prototype._updateThumbnailWindow=function(){var a=this._getThumbnailInfo();a&&a.bridge.updateWindow(a.coordSys.transform,this._api)},b.prototype._renderThumbnail=function(a,b,c,d){var e=this._getThumbnailInfo();if(e){var f=new fc,g=c.group.children(),h=d.group.children(),i=new fc,j=new fc;f.add(j),f.add(i);for(var k=0;k<g.length;k++){var l=g[k],m=l.children()[0],n=l.x,o=l.y,p=aQ(aN(m.shape),{width:m.scaleX,height:m.scaleY,x:n-m.scaleX/2,y:o-m.scaleY/2}),q=aN(m.style),r=new m.constructor({shape:p,style:q,z2:151});j.add(r)}for(var k=0;k<h.length;k++){var l=h[k],s=l.children()[0],q=aN(s.style),p=aN(s.shape),t=new Aa({style:q,shape:p,z2:151});i.add(t)}e.bridge.renderContent({api:b,roamType:a.get("roam"),viewportRect:null,group:f,targetTrans:e.coordSys.transform})}},b.type="graph",b}(oC);function Av(a){return"_EC_"+a}var Aw=function(){function a(a){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=a||!1}return a.prototype.isDirected=function(){return this._directed},a.prototype.addNode=function(a,b){a=null==a?""+b:""+a;var c=this._nodesMap;if(!c[Av(a)]){var d=new Ax(a,b);return d.hostGraph=this,this.nodes.push(d),c[Av(a)]=d,d}},a.prototype.getNodeByIndex=function(a){var b=this.data.getRawIndex(a);return this.nodes[b]},a.prototype.getNodeById=function(a){return this._nodesMap[Av(a)]},a.prototype.addEdge=function(a,b,c){var d=this._nodesMap,e=this._edgesMap;if(a7(a)&&(a=this.nodes[a]),a7(b)&&(b=this.nodes[b]),a instanceof Ax||(a=d[Av(a)]),b instanceof Ax||(b=d[Av(b)]),a&&b){var f=a.id+"-"+b.id,g=new Ay(a,b,c);return g.hostGraph=this,this._directed&&(a.outEdges.push(g),b.inEdges.push(g)),a.edges.push(g),a!==b&&b.edges.push(g),this.edges.push(g),e[f]=g,g}},a.prototype.getEdgeByIndex=function(a){var b=this.edgeData.getRawIndex(a);return this.edges[b]},a.prototype.getEdge=function(a,b){a instanceof Ax&&(a=a.id),b instanceof Ax&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]},a.prototype.eachNode=function(a,b){for(var c=this.nodes,d=c.length,e=0;e<d;e++)c[e].dataIndex>=0&&a.call(b,c[e],e)},a.prototype.eachEdge=function(a,b){for(var c=this.edges,d=c.length,e=0;e<d;e++)c[e].dataIndex>=0&&c[e].node1.dataIndex>=0&&c[e].node2.dataIndex>=0&&a.call(b,c[e],e)},a.prototype.breadthFirstTraverse=function(a,b,c,d){if(b instanceof Ax||(b=this._nodesMap[Av(b)]),b){for(var e="out"===c?"outEdges":"in"===c?"inEdges":"edges",f=0;f<this.nodes.length;f++)this.nodes[f].__visited=!1;if(!a.call(d,b,null))for(var g=[b];g.length;)for(var h=g.shift(),i=h[e],f=0;f<i.length;f++){var j=i[f],k=j.node1===h?j.node2:j.node1;if(!k.__visited){if(a.call(d,k,h))return;g.push(k),k.__visited=!0}}}},a.prototype.update=function(){for(var a=this.data,b=this.edgeData,c=this.nodes,d=this.edges,e=0,f=c.length;e<f;e++)c[e].dataIndex=-1;for(var e=0,f=a.count();e<f;e++)c[a.getRawIndex(e)].dataIndex=e;b.filterSelf(function(a){var c=d[b.getRawIndex(a)];return c.node1.dataIndex>=0&&c.node2.dataIndex>=0});for(var e=0,f=d.length;e<f;e++)d[e].dataIndex=-1;for(var e=0,f=b.count();e<f;e++)d[b.getRawIndex(e)].dataIndex=e},a.prototype.clone=function(){for(var b=new a(this._directed),c=this.nodes,d=this.edges,e=0;e<c.length;e++)b.addNode(c[e].id,c[e].dataIndex);for(var e=0;e<d.length;e++){var f=d[e];b.addEdge(f.node1.id,f.node2.id,f.dataIndex)}return b},a}(),Ax=function(){function a(a,b){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==a?"":a,this.dataIndex=null==b?-1:b}return a.prototype.degree=function(){return this.edges.length},a.prototype.inDegree=function(){return this.inEdges.length},a.prototype.outDegree=function(){return this.outEdges.length},a.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)},a.prototype.getAdjacentDataIndices=function(){for(var a={edge:[],node:[]},b=0;b<this.edges.length;b++){var c=this.edges[b];c.dataIndex<0||(a.edge.push(c.dataIndex),a.node.push(c.node1.dataIndex,c.node2.dataIndex))}return a},a.prototype.getTrajectoryDataIndices=function(){for(var a=bt(),b=bt(),c=0,d=this.edges.length;c<d;c++){var e=this.edges[c];if(!(e.dataIndex<0)){a.set(e.dataIndex,!0);for(var f=[e.node1],g=[e.node2],h=0;h<f.length;){var i=f[h];h++,b.set(i.dataIndex,!0);for(var j=i.inEdges,k=0,l=j.length,m=void 0,n=void 0;k<l;k++)(n=(m=j[k]).dataIndex)>=0&&!a.hasKey(n)&&(a.set(n,!0),f.push(m.node1))}for(h=0;h<g.length;){var o=g[h];h++,b.set(o.dataIndex,!0);for(var p=o.outEdges,k=0,q=p.length,r=void 0,s=void 0;k<q;k++)(s=(r=p[k]).dataIndex)>=0&&!a.hasKey(s)&&(a.set(s,!0),g.push(r.node2))}}}return{edge:a.keys(),node:b.keys()}},a}(),Ay=function(){function a(a,b,c){this.dataIndex=-1,this.node1=a,this.node2=b,this.dataIndex=null==c?-1:c}return a.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)},a.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},a.prototype.getTrajectoryDataIndices=function(){var a=bt(),b=bt();a.set(this.dataIndex,!0);for(var c=[this.node1],d=[this.node2],e=0;e<c.length;){var f=c[e];e++,b.set(f.dataIndex,!0);for(var g=f.inEdges,h=0,i=g.length,j=void 0,k=void 0;h<i;h++)(k=(j=f.inEdges[h]).dataIndex)>=0&&!a.hasKey(k)&&(a.set(k,!0),c.push(j.node1))}for(e=0;e<d.length;){var l=d[e];e++,b.set(l.dataIndex,!0);for(var m=l.outEdges,h=0,i=m.length,n=void 0,o=void 0;h<i;h++)(o=(n=l.outEdges[h]).dataIndex)>=0&&!a.hasKey(o)&&(a.set(o,!0),d.push(n.node2))}return{edge:a.keys(),node:b.keys()}},a}();function Az(a,b){return{getValue:function(c){var d=this[a][b];return d.getStore().get(d.getDimensionIndex(c||"value"),this.dataIndex)},setVisual:function(c,d){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,c,d)},getVisual:function(c){return this[a][b].getItemVisual(this.dataIndex,c)},setLayout:function(c,d){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}}function AA(a,b,c,d,e){for(var f,g=new Aw(d),h=0;h<a.length;h++)g.addNode(bg(a[h].id,a[h].name,h),h);for(var i=[],j=[],k=0,h=0;h<b.length;h++){var l=b[h],m=l.source,n=l.target;g.addEdge(m,n,k)&&(j.push(l),i.push(bg(fY(l.id,null),m+" > "+n)),k++)}var o=c.get("coordinateSystem");if("cartesian2d"===o||"polar"===o||"matrix"===o)f=ri(a,c);else{var p=j6.get(o),q=p&&p.dimensions||[];0>aT(q,"value")&&q.concat(["value"]),(f=new q9(rb(a,{coordDimensions:q,encodeDefine:c.getEncode()}).dimensions,c)).initData(a)}var r=new q9(["value"],c);return r.initData(j,i),e&&e(f,r),yW({mainData:f,struct:g,structAttr:"graph",datas:{node:f,edge:r},datasAttr:{node:"data",edge:"edgeData"}}),g.update(),g}aV(Ax,Az("hostGraph","data")),aV(Ay,Az("hostGraph","edgeData"));var AB=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c}return aq(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments);var c=this;function d(){return c._categoriesData}this.legendVisualProvider=new vB(d,d),this.fillDataTextStyle(b.edges||b.links),this._updateCategoriesData()},b.prototype.mergeOption=function(b){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(b.edges||b.links),this._updateCategoriesData()},b.prototype.mergeDefaultAndTheme=function(b){a.prototype.mergeDefaultAndTheme.apply(this,arguments),fS(b,"edgeLabel",["show"])},b.prototype.getInitialData=function(a,b){var c=a.edges||a.links||[],d=a.data||a.nodes||[],e=this;if(d&&c){zN(this)&&(this.__curvenessList=[],this.__edgeMap={},zO(this));var f=AA(d,c,this,!0,function(a,b){a.wrapMethod("getItemModel",function(a){var b=e._categoriesModels[a.getShallow("category")];return b&&(b.parentModel=a.parentModel,a.parentModel=b),a});var c=jn.prototype.getModel;function d(a,b){var d=c.call(this,a,b);return d.resolveParentPath=f,d}function f(a){if(a&&("label"===a[0]||"label"===a[1])){var b=a.slice();return"label"===a[0]?b[0]="edgeLabel":"label"===a[1]&&(b[1]="edgeLabel"),b}return a}b.wrapMethod("getItemModel",function(a){return a.resolveParentPath=f,a.getModel=d,a})});return aX(f.edges,function(a){!function(a,b,c,d){if(zN(c)){var e=zP(a,b,c),f=c.__edgeMap,g=f[zQ(e)];f[e]&&!g?f[e].isForward=!0:g&&f[e]&&(g.isForward=!0,f[e].isForward=!1),f[e]=f[e]||[],f[e].push(d)}}(a.node1,a.node2,this,a.dataIndex)},this),f.data}},b.prototype.getGraph=function(){return this.getData().graph},b.prototype.getEdgeData=function(){return this.getGraph().edgeData},b.prototype.getCategoriesData=function(){return this._categoriesData},b.prototype.formatTooltip=function(a,b,c){if("edge"===c){var d=this.getData(),e=this.getDataParams(a,c),f=d.graph.getEdgeByIndex(a),g=d.getName(f.node1.dataIndex),h=d.getName(f.node2.dataIndex),i=[];return null!=g&&i.push(g),null!=h&&i.push(h),mi("nameValue",{name:i.join(" > "),value:e.value,noValue:null==e.value})}return ms({series:this,dataIndex:a,multipleSeries:b})},b.prototype._updateCategoriesData=function(){var a=aY(this.option.categories||[],function(a){return null!=a.value?a:aQ({value:0},a)}),b=new q9(["value"],this);b.initData(a),this._categoriesData=b,this._categoriesModels=b.mapArray(function(a){return b.getItemModel(a)})},b.prototype.setZoom=function(a){this.option.zoom=a},b.prototype.setCenter=function(a){this.option.center=a},b.prototype.isAnimationEnabled=function(){return a.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},b.type="series.graph",b.dependencies=["grid","polar","geo","singleAxis","calendar"],b.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:kv.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:kv.color.primary}}},b}(mE),AC=function(a){function b(b,c,d){var e=a.call(this)||this;h2(e).dataType="node",e.z2=2;var f=new h1;return e.setTextContent(f),e.updateData(b,c,d,!0),e}return aq(b,a),b.prototype.updateData=function(a,b,c,d){var e=a.graph.getNodeByIndex(b),f=a.hostModel,g=e.getModel(),h=g.getModel("emphasis"),i=a.getItemLayout(b),j=aQ(u3(g.getModel("itemStyle"),i,!0),i);if(isNaN(j.startAngle))return void this.setShape(j);d?this.setShape(j):iR(this,{shape:j},f,b);var k=aQ(u3(g.getModel("itemStyle"),i,!0),i);this.setShape(k),this.useStyle(a.getItemVisual(b,"style")),iJ(this,g),this._updateLabel(f,g,e),a.setItemGraphicEl(b,this),iJ(this,g,"itemStyle");var l=h.get("focus");iF(this,"adjacency"===l?e.getAdjacentDataIndices():l,h.get("blurScope"),h.get("disabled"))},b.prototype._updateLabel=function(a,b,c){var d,e=this.getTextContent(),f=c.getLayout(),g=(f.startAngle+f.endAngle)/2,h=Math.cos(g),i=Math.sin(g),j=b.getModel("label");e.ignore=!j.get("show");var k=i0(b),l=c.getVisual("style");i_(e,k,{labelFetcher:{getFormattedLabel:function(c,d,e,f,g,h){return a.getFormattedLabel(c,d,"node",f,bi(g,k.normal&&k.normal.get("formatter"),b.get("name")),h)}},labelDataIndex:c.dataIndex,defaultText:c.dataIndex+"",inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:"startArc"});var m=j.get("position")||"outside",n=j.get("distance")||0;d="outside"===m?f.r+n:(f.r+f.r0)/2,this.textConfig={inside:"outside"!==m};var o="outside"!==m?j.get("align")||"center":h>0?"left":"right",p="outside"!==m?j.get("verticalAlign")||"middle":i>0?"top":"bottom";e.attr({x:h*d+f.cx,y:i*d+f.cy,rotation:0,style:{align:o,verticalAlign:p}})},b}(ni),AD=function(a){function b(b,c,d,e){var f=a.call(this)||this;return h2(f).dataType="edge",f.updateData(b,c,d,e,!0),f}return aq(b,a),b.prototype.buildPath=function(a,b){a.moveTo(b.s1[0],b.s1[1]);var c=b.clockwise;a.arc(b.cx,b.cy,b.r,b.sStartAngle,b.sEndAngle,!c),a.bezierCurveTo((b.cx-b.s2[0])*.7+b.s2[0],(b.cy-b.s2[1])*.7+b.s2[1],(b.cx-b.t1[0])*.7+b.t1[0],(b.cy-b.t1[1])*.7+b.t1[1],b.t1[0],b.t1[1]),a.arc(b.cx,b.cy,b.r,b.tStartAngle,b.tEndAngle,!c),a.bezierCurveTo((b.cx-b.t2[0])*.7+b.t2[0],(b.cy-b.t2[1])*.7+b.t2[1],(b.cx-b.s1[0])*.7+b.s1[0],(b.cy-b.s1[1])*.7+b.s1[1],b.s1[0],b.s1[1]),a.closePath()},b.prototype.updateData=function(a,b,c,d,e){var f=a.hostModel,g=b.graph.getEdgeByIndex(c),h=g.getLayout(),i=g.node1.getModel(),j=b.getItemModel(g.dataIndex),k=j.getModel("lineStyle"),l=j.getModel("emphasis"),m=l.get("focus"),n=aQ(u3(i.getModel("itemStyle"),h,!0),h);isNaN(n.sStartAngle)||isNaN(n.tStartAngle)?this.setShape(n):(e?(this.setShape(n),AE(this,g,a,k)):(iX(this),AE(this,g,a,k),iR(this,{shape:n},f,c)),iF(this,"adjacency"===m?g.getAdjacentDataIndices():m,l.get("blurScope"),l.get("disabled")),iJ(this,j,"lineStyle"),b.setItemGraphicEl(g.dataIndex,this))},b}(hy);function AE(a,b,c,d){var e=b.node1,f=b.node2,g=a.style;switch(a.setStyle(d.getLineStyle()),d.get("color")){case"source":g.fill=c.getItemVisual(e.dataIndex,"style").fill,g.decal=e.getVisual("style").decal;break;case"target":g.fill=c.getItemVisual(f.dataIndex,"style").fill,g.decal=f.getVisual("style").decal;break;case"gradient":var h=c.getItemVisual(e.dataIndex,"style").fill,i=c.getItemVisual(f.dataIndex,"style").fill;if(a5(h)&&a5(i)){var j=a.shape;g.fill=new nH((j.s1[0]+j.s2[0])/2,(j.s1[1]+j.s2[1])/2,(j.t1[0]+j.t2[0])/2,(j.t1[1]+j.t2[1])/2,[{offset:0,color:h},{offset:1,color:i}],!0)}}}var AF=Math.PI/180,AG=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(a,b){},b.prototype.render=function(a,b,c){var d=a.getData(),e=this._data,f=this.group,g=-a.get("startAngle")*AF;if(d.diff(e).add(function(a){if(d.getItemLayout(a)){var b=new AC(d,a,g);h2(b).dataIndex=a,f.add(b)}}).update(function(b,c){var h=e.getItemGraphicEl(c);if(!d.getItemLayout(b)){h&&iW(h,a,c);return}h?h.updateData(d,b,g):h=new AC(d,b,g),f.add(h)}).remove(function(b){var c=e.getItemGraphicEl(b);c&&iW(c,a,b)}).execute(),!e){var h=a.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=fs(h[0],c.getWidth()),this.group.originY=fs(h[1],c.getHeight()),iS(this.group,{scaleX:1,scaleY:1},a)}this._data=d,this.renderEdges(a,g)},b.prototype.renderEdges=function(a,b){var c=a.getData(),d=a.getEdgeData(),e=this._edgeData,f=this.group;d.diff(e).add(function(a){var e=new AD(c,d,a,b);h2(e).dataIndex=a,f.add(e)}).update(function(a,g){var h=e.getItemGraphicEl(g);h.updateData(c,d,a,b),f.add(h)}).remove(function(b){var c=e.getItemGraphicEl(b);c&&iW(c,a,b)}).execute(),this._edgeData=d},b.prototype.dispose=function(){},b.type="chord",b}(oC),AH=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments),this.fillDataTextStyle(b.edges||b.links),this.legendVisualProvider=new vB(a1(this.getData,this),a1(this.getRawData,this))},b.prototype.mergeOption=function(b){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(b.edges||b.links)},b.prototype.getInitialData=function(a,b){var c=a.edges||a.links||[],d=a.data||a.nodes||[];if(d&&c)return AA(d,c,this,!0,function(a,b){var c=jn.prototype.getModel;function d(a,b){var d=c.call(this,a,b);return d.resolveParentPath=e,d}function e(a){if(a&&("label"===a[0]||"label"===a[1])){var b=a.slice();return"label"===a[0]?b[0]="edgeLabel":"label"===a[1]&&(b[1]="edgeLabel"),b}return a}b.wrapMethod("getItemModel",function(a){return a.resolveParentPath=e,a.getModel=d,a})}).data},b.prototype.getGraph=function(){return this.getData().graph},b.prototype.getEdgeData=function(){return this.getGraph().edgeData},b.prototype.formatTooltip=function(a,b,c){var d=this.getDataParams(a,c);if("edge"===c){var e=this.getData(),f=e.graph.getEdgeByIndex(a),g=e.getName(f.node1.dataIndex),h=e.getName(f.node2.dataIndex),i=[];return null!=g&&i.push(g),null!=h&&i.push(h),mi("nameValue",{name:i.join(" > "),value:d.value,noValue:null==d.value})}return mi("nameValue",{name:d.name,value:d.value,noValue:null==d.value})},b.prototype.getDataParams=function(b,c){var d=a.prototype.getDataParams.call(this,b,c);if("node"===c){var e=this.getData(),f=this.getGraph().getNodeByIndex(b);null==d.name&&(d.name=e.getName(b)),null==d.value&&(d.value=f.getLayout().value)}return d},b.type="series.chord",b.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},b}(mE),AI=Math.PI/180;function AJ(a,b){a.eachSeriesByType("chord",function(a){!function(a,b){var c=a.getData(),d=c.graph,e=a.getEdgeData();if(e.count()){var f=kg(a,b),g=f.cx,h=f.cy,i=f.r,j=f.r0,k=Math.max((a.get("padAngle")||0)*AI,0),l=Math.max((a.get("minAngle")||0)*AI,0),m=-a.get("startAngle")*AI,n=m+2*Math.PI,o=a.get("clockwise"),p=o?1:-1,q=[m,n];hi(q,!o);var r=q[0],s=q[1]-r,t=0===c.getSum("value")&&0===e.getSum("value"),u=[],v=0;d.eachEdge(function(a){var b=t?1:a.getValue("value");t&&(b>0||l)&&(v+=2);var c=a.node1.dataIndex,d=a.node2.dataIndex;u[c]=(u[c]||0)+b,u[d]=(u[d]||0)+b});var w=0;if(d.eachNode(function(a){var b=a.getValue("value");isNaN(b)||(u[a.dataIndex]=Math.max(b,u[a.dataIndex]||0)),!t&&(u[a.dataIndex]>0||l)&&v++,w+=u[a.dataIndex]||0}),0!==v&&0!==w){k*v>=Math.abs(s)&&(k=Math.max(0,(Math.abs(s)-l*v)/v)),(k+l)*v>=Math.abs(s)&&(l=(Math.abs(s)-k*v)/v);var x=(s-k*v*p)/w,y=0,z=0,A=0,B=1/0;d.eachNode(function(a){var b=u[a.dataIndex]||0,c=x*(w?b:1)*p;Math.abs(c)<l?y+=l-Math.abs(c):(B=Math.min(B,Math.abs(c)-l),z+=Math.abs(c)-l,A+=Math.abs(c)),a.setLayout({angle:c,value:b})});var C=!1;if(y>z){var D=y/z;d.eachNode(function(a){var b=a.getLayout().angle;Math.abs(b)>=l?a.setLayout({angle:b*D,ratio:D},!0):a.setLayout({angle:l,ratio:0===l?1:b/l},!0)})}else d.eachNode(function(a){if(!C){var b=a.getLayout().angle,c=Math.min(b/A,1)*y;b-c<l&&(C=!0)}});var E=y;d.eachNode(function(a){if(!(E<=0)){var b=a.getLayout().angle;if(b>l&&l>0){var c=C?1:Math.min(b/A,1),d=Math.min(b-l,Math.min(E,y*c));E-=d,a.setLayout({angle:b-d,ratio:(b-d)/b},!0)}else l>0&&a.setLayout({angle:l,ratio:0===b?1:l/b},!0)}});var F=r,G=[];d.eachNode(function(a){var b=Math.max(a.getLayout().angle,l);a.setLayout({cx:g,cy:h,r0:j,r:i,startAngle:F,endAngle:F+b*p,clockwise:o},!0),G[a.dataIndex]=F,F+=(b+k)*p}),d.eachEdge(function(a){var b=t?1:a.getValue("value"),c=x*(w?b:1)*p,d=a.node1.dataIndex,e=G[d]||0,f=e+Math.abs((a.node1.getLayout().ratio||1)*c)*p,i=[g+j*Math.cos(e),h+j*Math.sin(e)],k=[g+j*Math.cos(f),h+j*Math.sin(f)],l=a.node2.dataIndex,m=G[l]||0,n=m+Math.abs((a.node2.getLayout().ratio||1)*c)*p,q=[g+j*Math.cos(m),h+j*Math.sin(m)],r=[g+j*Math.cos(n),h+j*Math.sin(n)];a.setLayout({s1:i,s2:k,sStartAngle:e,sEndAngle:f,t1:q,t2:r,tStartAngle:m,tEndAngle:n,cx:g,cy:h,r:j,value:b,clockwise:o}),G[d]=f,G[l]=n})}}}(a,b)})}var AK=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},AL=function(a){function b(b){var c=a.call(this,b)||this;return c.type="pointer",c}return aq(b,a),b.prototype.getDefaultShape=function(){return new AK},b.prototype.buildPath=function(a,b){var c=Math.cos,d=Math.sin,e=b.r,f=b.width,g=b.angle,h=b.x-c(g)*f*(f>=e/3?1:2),i=b.y-d(g)*f*(f>=e/3?1:2);g=b.angle-Math.PI/2,a.moveTo(h,i),a.lineTo(b.x+c(g)*f,b.y+d(g)*f),a.lineTo(b.x+c(b.angle)*e,b.y+d(b.angle)*e),a.lineTo(b.x-c(g)*f,b.y-d(g)*f),a.lineTo(h,i)},b}(hy);function AM(a,b){var c=null==a?"":a+"";return b&&(a5(b)?c=b.replace("{value}",c):a4(b)&&(c=b(a))),c}var AN=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){this.group.removeAll();var d,e,f=a.get(["axisLine","lineStyle","color"]),g=(d=a.get("center"),e=Math.min(c.getWidth(),c.getHeight()),{cx:fs(d[0],c.getWidth()),cy:fs(d[1],c.getHeight()),r:fs(a.get("radius"),e/2)});this._renderMain(a,b,c,f,g),this._data=a.getData()},b.prototype.dispose=function(){},b.prototype._renderMain=function(a,b,c,d,e){var f=this.group,g=a.get("clockwise"),h=-a.get("startAngle")/180*Math.PI,i=-a.get("endAngle")/180*Math.PI,j=a.getModel("axisLine"),k=j.get("roundCap")?u0:ni,l=j.get("show"),m=j.getModel("lineStyle"),n=m.get("width"),o=[h,i];hi(o,!g),h=o[0];for(var p=(i=o[1])-h,q=h,r=[],s=0;l&&s<d.length;s++){var t=new k({shape:{startAngle:q,endAngle:i=h+p*Math.min(Math.max(d[s][0],0),1),cx:e.cx,cy:e.cy,clockwise:g,r0:e.r-n,r:e.r},silent:!0});t.setStyle({fill:d[s][1]}),t.setStyle(m.getLineStyle(["color","width"])),r.push(t),q=i}r.reverse(),aX(r,function(a){return f.add(a)});var u=function(a){var b;if(a<=0)return d[0][1];for(b=0;b<d.length;b++)if(d[b][0]>=a&&(0===b?0:d[b-1][0])<a)return d[b][1];return d[b-1][1]};this._renderTicks(a,b,c,u,e,h,i,g,n),this._renderTitleAndDetail(a,b,c,u,e),this._renderAnchor(a,e),this._renderPointer(a,b,c,u,e,h,i,g,n)},b.prototype._renderTicks=function(a,b,c,d,e,f,g,h,i){for(var j,k,l=this.group,m=e.cx,n=e.cy,o=e.r,p=+a.get("min"),q=+a.get("max"),r=a.getModel("splitLine"),s=a.getModel("axisTick"),t=a.getModel("axisLabel"),u=a.get("splitNumber"),v=s.get("splitNumber"),w=fs(r.get("length"),o),x=fs(s.get("length"),o),y=f,z=(g-f)/u,A=z/v,B=r.getModel("lineStyle").getLineStyle(),C=s.getModel("lineStyle").getLineStyle(),D=r.get("distance"),E=0;E<=u;E++){if(j=Math.cos(y),k=Math.sin(y),r.get("show")){var F=D?D+i:i,G=new nw({shape:{x1:j*(o-F)+m,y1:k*(o-F)+n,x2:j*(o-w-F)+m,y2:k*(o-w-F)+n},style:B,silent:!0});"auto"===B.stroke&&G.setStyle({stroke:d(E/u)}),l.add(G)}if(t.get("show")){var F=t.get("distance")+D,H=AM(fu(E/u*(q-p)+p),t.get("formatter")),I=d(E/u),J=j*(o-w-F)+m,K=k*(o-w-F)+n,L=t.get("rotate"),M=0;"radial"===L?(M=-y+2*Math.PI)>Math.PI/2&&(M+=Math.PI):"tangential"===L?M=-y-Math.PI/2:a7(L)&&(M=L*Math.PI/180),0===M?l.add(new h1({style:i1(t,{text:H,x:J,y:K,verticalAlign:k<-.8?"top":k>.8?"bottom":"middle",align:j<-.4?"left":j>.4?"right":"center"},{inheritColor:I}),silent:!0})):l.add(new h1({style:i1(t,{text:H,x:J,y:K,verticalAlign:"middle",align:"center"},{inheritColor:I}),silent:!0,originX:J,originY:K,rotation:M}))}if(s.get("show")&&E!==u){var F=s.get("distance");F=F?F+i:i;for(var N=0;N<=v;N++){var O=new nw({shape:{x1:(j=Math.cos(y))*(o-F)+m,y1:(k=Math.sin(y))*(o-F)+n,x2:j*(o-x-F)+m,y2:k*(o-x-F)+n},silent:!0,style:C});"auto"===C.stroke&&O.setStyle({stroke:d((E+N/v)/u)}),l.add(O),y+=A}y-=A}else y+=z}},b.prototype._renderPointer=function(a,b,c,d,e,f,g,h,i){var j=this.group,k=this._data,l=this._progressEls,m=[],n=a.get(["pointer","show"]),o=a.getModel("progress"),p=o.get("show"),q=a.getData(),r=q.mapDimension("value"),s=+a.get("min"),t=+a.get("max"),u=[s,t],v=[f,g];function w(b,c){var d,f=q.getItemModel(b).getModel("pointer"),g=fs(f.get("width"),e.r),h=fs(f.get("length"),e.r),i=a.get(["pointer","icon"]),j=f.get("offsetCenter"),k=fs(j[0],e.r),l=fs(j[1],e.r),m=f.get("keepAspect");return(d=i?pq(i,k-g/2,l-h,g,h,null,m):new AL({shape:{angle:-Math.PI/2,width:g,r:h,x:k,y:l}})).rotation=-(c+Math.PI/2),d.x=e.cx,d.y=e.cy,d}function x(a,b){var c=o.get("roundCap")?u0:ni,d=o.get("overlap"),g=d?o.get("width"):i/q.count(),j=d?e.r-g:e.r-(a+1)*g,k=d?e.r:e.r-a*g,l=new c({shape:{startAngle:f,endAngle:b,cx:e.cx,cy:e.cy,clockwise:h,r0:j,r:k}});return d&&(l.z2=fr(q.get(r,a),[s,t],[100,0],!0)),l}(p||n)&&(q.diff(k).add(function(b){var c=q.get(r,b);if(n){var d=w(b,f);iS(d,{rotation:-((isNaN(+c)?v[0]:fr(c,u,v,!0))+Math.PI/2)},a),j.add(d),q.setItemGraphicEl(b,d)}if(p){var e=x(b,f);iS(e,{shape:{endAngle:fr(c,u,v,o.get("clip"))}},a),j.add(e),h3(a.seriesIndex,q.dataType,b,e),m[b]=e}}).update(function(b,c){var d=q.get(r,b);if(n){var e=k.getItemGraphicEl(c),g=e?e.rotation:f,h=w(b,g);h.rotation=g,iR(h,{rotation:-((isNaN(+d)?v[0]:fr(d,u,v,!0))+Math.PI/2)},a),j.add(h),q.setItemGraphicEl(b,h)}if(p){var i=l[c],s=x(b,i?i.shape.endAngle:f);iR(s,{shape:{endAngle:fr(d,u,v,o.get("clip"))}},a),j.add(s),h3(a.seriesIndex,q.dataType,b,s),m[b]=s}}).execute(),q.each(function(a){var b=q.getItemModel(a),c=b.getModel("emphasis"),e=c.get("focus"),f=c.get("blurScope"),g=c.get("disabled");if(n){var h=q.getItemGraphicEl(a),i=q.getItemVisual(a,"style"),j=i.fill;if(h instanceof hE){var k=h.style;h.useStyle(aQ({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},i))}else h.useStyle(i),"pointer"!==h.type&&h.setColor(j);h.setStyle(b.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===h.style.fill&&h.setStyle("fill",d(fr(q.get(r,a),u,[0,1],!0))),h.z2EmphasisLift=0,iJ(h,b),iF(h,e,f,g)}if(p){var l=m[a];l.useStyle(q.getItemVisual(a,"style")),l.setStyle(b.getModel(["progress","itemStyle"]).getItemStyle()),l.z2EmphasisLift=0,iJ(l,b),iF(l,e,f,g)}}),this._progressEls=m)},b.prototype._renderAnchor=function(a,b){var c=a.getModel("anchor");if(c.get("show")){var d=c.get("size"),e=c.get("icon"),f=c.get("offsetCenter"),g=c.get("keepAspect"),h=pq(e,b.cx-d/2+fs(f[0],b.r),b.cy-d/2+fs(f[1],b.r),d,d,null,g);h.z2=+!!c.get("showAbove"),h.setStyle(c.getModel("itemStyle").getItemStyle()),this.group.add(h)}},b.prototype._renderTitleAndDetail=function(a,b,c,d,e){var f=this,g=a.getData(),h=g.mapDimension("value"),i=+a.get("min"),j=+a.get("max"),k=new fc,l=[],m=[],n=a.isAnimationEnabled(),o=a.get(["pointer","showAbove"]);g.diff(this._data).add(function(a){l[a]=new h1({silent:!0}),m[a]=new h1({silent:!0})}).update(function(a,b){l[a]=f._titleEls[b],m[a]=f._detailEls[b]}).execute(),g.each(function(b){var c=g.getItemModel(b),f=g.get(h,b),p=new fc,q=d(fr(f,[i,j],[0,1],!0)),r=c.getModel("title");if(r.get("show")){var s=r.get("offsetCenter"),t=e.cx+fs(s[0],e.r),u=e.cy+fs(s[1],e.r),v=l[b];v.attr({z2:2*!o,style:i1(r,{x:t,y:u,text:g.getName(b),align:"center",verticalAlign:"middle"},{inheritColor:q})}),p.add(v)}var w=c.getModel("detail");if(w.get("show")){var x=w.get("offsetCenter"),y=e.cx+fs(x[0],e.r),z=e.cy+fs(x[1],e.r),A=fs(w.get("width"),e.r),B=fs(w.get("height"),e.r),C=a.get(["progress","show"])?g.getItemVisual(b,"style").fill:q,v=m[b],D=w.get("formatter");v.attr({z2:2*!o,style:i1(w,{x:y,y:z,text:AM(f,D),width:isNaN(A)?null:A,height:isNaN(B)?null:B,align:"center",verticalAlign:"middle"},{inheritColor:C})}),i9(v,{normal:w},f,function(a){return AM(a,D)}),n&&ja(v,b,g,a,{getFormattedLabel:function(a,b,c,d,e,g){return AM(g?g.interpolatedValue:f,D)}}),p.add(v)}k.add(p)}),this.group.add(k),this._titleEls=l,this._detailEls=m},b.type="gauge",b}(oC),AO=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.visualStyleAccessPath="itemStyle",c}return aq(b,a),b.prototype.getInitialData=function(a,b){return vA(this,["value"])},b.type="series.gauge",b.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,kv.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:kv.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:kv.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:kv.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:kv.color.neutral00,borderWidth:0,borderColor:kv.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:kv.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:kv.color.transparent,borderWidth:0,borderColor:kv.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:kv.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},b}(mE),AP=["itemStyle","opacity"],AQ=function(a){function b(b,c){var d=a.call(this)||this,e=new ns,f=new h1;return d.setTextContent(f),d.setTextGuideLine(e),d.updateData(b,c,!0),d}return aq(b,a),b.prototype.updateData=function(a,b,c){var d=a.hostModel,e=a.getItemModel(b),f=a.getItemLayout(b),g=e.getModel("emphasis"),h=e.get(AP);h=null==h?1:h,c||iX(this),this.useStyle(a.getItemVisual(b,"style")),this.style.lineJoin="round",c?(this.setShape({points:f.points}),this.style.opacity=0,iS(this,{style:{opacity:h}},d,b)):iR(this,{style:{opacity:h},shape:{points:f.points}},d,b),iJ(this,e),this._updateLabel(a,b),iF(this,g.get("focus"),g.get("blurScope"),g.get("disabled"))},b.prototype._updateLabel=function(a,b){var c=this.getTextGuideLine(),d=this.getTextContent(),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b).label,h=a.getItemVisual(b,"style"),i=h.fill;i_(d,i0(f),{labelFetcher:a.hostModel,labelDataIndex:b,defaultOpacity:h.opacity,defaultText:a.getName(b)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}});var j="inherit"===f.getModel("label").get("color")?i:null;this.setTextConfig({local:!0,inside:!!g.inside,insideStroke:j,outsideFill:j});var k=g.linePoints;c.setShape({points:k}),this.textGuideLineConfig={anchor:k?new cz(k[0][0],k[0][1]):null},iR(d,{style:{x:g.x,y:g.y}},e,b),d.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),s6(this,s7(f),{stroke:i})},b}(np),AR=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.ignoreLabelLineUpdate=!0,c}return aq(b,a),b.prototype.render=function(a,b,c){var d=a.getData(),e=this._data,f=this.group;d.diff(e).add(function(a){var b=new AQ(d,a);d.setItemGraphicEl(a,b),f.add(b)}).update(function(a,b){var c=e.getItemGraphicEl(b);c.updateData(d,a),f.add(c),d.setItemGraphicEl(a,c)}).remove(function(b){iW(e.getItemGraphicEl(b),a,b)}).execute(),this._data=d},b.prototype.remove=function(){this.group.removeAll(),this._data=null},b.prototype.dispose=function(){},b.type="funnel",b}(oC),AS=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new vB(a1(this.getData,this),a1(this.getRawData,this)),this._defaultLabelLine(b)},b.prototype.getInitialData=function(a,b){return vA(this,{coordDimensions:["value"],encodeDefaulter:a2(kO,this)})},b.prototype._defaultLabelLine=function(a){fS(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},b.prototype.getDataParams=function(b){var c=this.getData(),d=a.prototype.getDataParams.call(this,b),e=c.mapDimension("value"),f=c.getSum(e);return d.percent=f?+(c.get(e,b)/f*100).toFixed(2):0,d.$vars.push("percent"),d},b.type="series.funnel",b.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:kv.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:kv.color.primary}}},b}(mE);function AT(a,b){a.eachSeriesByType("funnel",function(a){var c,d=a.getData(),e=d.mapDimension("value"),f=a.get("sort"),g=kk(a,b),h=kh(a.getBoxLayoutParams(),g.refContainer),i=a.get("orient"),j=h.width,k=h.height,l=function(a,b){for(var c=a.mapDimension("value"),d=a.mapArray(c,function(a){return a}),e=[],f="ascending"===b,g=0,h=a.count();g<h;g++)e[g]=g;return a4(b)?e.sort(b):"none"!==b&&e.sort(function(a,b){return f?d[a]-d[b]:d[b]-d[a]}),e}(d,f),m=h.x,n=h.y,o="horizontal"===i?[fs(a.get("minSize"),k),fs(a.get("maxSize"),k)]:[fs(a.get("minSize"),j),fs(a.get("maxSize"),j)],p=d.getDataExtent(e),q=a.get("min"),r=a.get("max");null==q&&(q=Math.min(p[0],0)),null==r&&(r=p[1]);var s=a.get("funnelAlign"),t=a.get("gap"),u=(("horizontal"===i?j:k)-t*(d.count()-1))/d.count(),v=function(a,b){if("horizontal"===i){var c,f=fr(d.get(e,a)||0,[q,r],o,!0),g=void 0;switch(s){case"top":g=n;break;case"center":g=n+(k-f)/2;break;case"bottom":g=n+(k-f)}return[[b,g],[b,g+f]]}var h=fr(d.get(e,a)||0,[q,r],o,!0);switch(s){case"left":c=m;break;case"center":c=m+(j-h)/2;break;case"right":c=m+j-h}return[[c,b],[c+h,b]]};"ascending"===f&&(u=-u,t=-t,"horizontal"===i?m+=j:n+=k,l=l.reverse());for(var w=0;w<l.length;w++){var x=l[w],y=l[w+1],z=d.getItemModel(x);if("horizontal"===i){var A=z.get(["itemStyle","width"]);null==A?A=u:(A=fs(A,j),"ascending"===f&&(A=-A));var B=v(x,m),C=v(y,m+A);m+=A+t,d.setItemLayout(x,{points:B.concat(C.slice().reverse())})}else{var D=z.get(["itemStyle","height"]);null==D?D=u:(D=fs(D,k),"ascending"===f&&(D=-D));var B=v(x,n),C=v(y,n+D);n+=D+t,d.setItemLayout(x,{points:B.concat(C.slice().reverse())})}}c=d.hostModel.get("orient"),d.each(function(a){var b,e,f,g,h=d.getItemModel(a),i=h.getModel("label").get("position"),j=h.getModel("labelLine"),k=d.getItemLayout(a),l=k.points,m="inner"===i||"inside"===i||"center"===i||"insideLeft"===i||"insideRight"===i;if(m)"insideLeft"===i?(e=(l[0][0]+l[3][0])/2+5,f=(l[0][1]+l[3][1])/2,b="left"):"insideRight"===i?(e=(l[1][0]+l[2][0])/2-5,f=(l[1][1]+l[2][1])/2,b="right"):(e=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4,f=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4,b="center"),g=[[e,f],[e,f]];else{var n=void 0,o=void 0,p=void 0,q=void 0,r=j.get("length");"left"===i?(n=(l[3][0]+l[0][0])/2,o=(l[3][1]+l[0][1])/2,e=(p=n-r)-5,b="right"):"right"===i?(n=(l[1][0]+l[2][0])/2,o=(l[1][1]+l[2][1])/2,e=(p=n+r)+5,b="left"):"top"===i?(n=(l[3][0]+l[0][0])/2,f=(q=(o=(l[3][1]+l[0][1])/2)-r)-5,b="center"):"bottom"===i?(n=(l[1][0]+l[2][0])/2,f=(q=(o=(l[1][1]+l[2][1])/2)+r)+5,b="center"):"rightTop"===i?(n="horizontal"===c?l[3][0]:l[1][0],o="horizontal"===c?l[3][1]:l[1][1],"horizontal"===c?(f=(q=o-r)-5,b="center"):(e=(p=n+r)+5,b="top")):"rightBottom"===i?(n=l[2][0],o=l[2][1],"horizontal"===c?(f=(q=o+r)+5,b="center"):(e=(p=n+r)+5,b="bottom")):"leftTop"===i?(n=l[0][0],o="horizontal"===c?l[0][1]:l[1][1],"horizontal"===c?(f=(q=o-r)-5,b="center"):(e=(p=n-r)-5,b="right")):"leftBottom"===i?(n="horizontal"===c?l[1][0]:l[3][0],o="horizontal"===c?l[1][1]:l[2][1],"horizontal"===c?(f=(q=o+r)+5,b="center"):(e=(p=n-r)-5,b="right")):(n=(l[1][0]+l[2][0])/2,o=(l[1][1]+l[2][1])/2,"horizontal"===c?(f=(q=o+r)+5,b="center"):(e=(p=n+r)+5,b="left")),"horizontal"===c?e=p=n:f=q=o,g=[[n,o],[p,q]]}k.label={linePoints:g,x:e,y:f,verticalAlign:"middle",textAlign:b,inside:m}})})}var AU=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._dataGroup=new fc,c._initialized=!1,c}return aq(b,a),b.prototype.init=function(){this.group.add(this._dataGroup)},b.prototype.render=function(a,b,c,d){this._progressiveEls=null;var e=this._dataGroup,f=a.getData(),g=this._data,h=a.coordinateSystem,i=h.dimensions,j=AX(a);if(f.diff(g).add(function(a){AY(AW(f,e,a,i,h),f,a,j)}).update(function(b,c){var d=g.getItemGraphicEl(c),e=AV(f,b,i,h);f.setItemGraphicEl(b,d),iR(d,{shape:{points:e}},a,b),iX(d),AY(d,f,b,j)}).remove(function(a){var b=g.getItemGraphicEl(a);e.remove(b)}).execute(),!this._initialized){this._initialized=!0;var k,l,m,n,o,p,q,r=(k=h,l=a,m=function(){setTimeout(function(){e.removeClipPath()})},n=k.model,p=new hM({shape:{x:(o=k.getRect()).x,y:o.y,width:o.width,height:o.height}}),q="horizontal"===n.get("layout")?"width":"height",p.setShape(q,0),iS(p,{shape:{width:o.width,height:o.height}},l,m),p);e.setClipPath(r)}this._data=f},b.prototype.incrementalPrepareRender=function(a,b,c){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},b.prototype.incrementalRender=function(a,b,c){for(var d=b.getData(),e=b.coordinateSystem,f=e.dimensions,g=AX(b),h=this._progressiveEls=[],i=a.start;i<a.end;i++){var j=AW(d,this._dataGroup,i,f,e);j.incremental=!0,AY(j,d,i,g),h.push(j)}},b.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},b.type="parallel",b}(oC);function AV(a,b,c,d){for(var e=[],f=0;f<c.length;f++){var g,h=c[f],i=a.get(a.mapDimension(h),b);g=i,("category"===d.getAxis(h).type?null==g:null==g||isNaN(g))||e.push(d.dataToPoint(i,h))}return e}function AW(a,b,c,d,e){var f=new ns({shape:{points:AV(a,c,d,e)},z2:10});return b.add(f),a.setItemGraphicEl(c,f),f}function AX(a){var b,c=a.get("smooth",!0);return!0===c&&(c=.3),(b=c=fL(c))!=b&&(c=0),{smooth:c}}function AY(a,b,c,d){a.useStyle(b.getItemVisual(c,"style")),a.style.fill=null,a.setShape("smooth",d.smooth);var e=b.getItemModel(c),f=e.getModel("emphasis");iJ(a,e,"lineStyle"),iF(a,f.get("focus"),f.get("blurScope"),f.get("disabled"))}var AZ=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.visualStyleAccessPath="lineStyle",c.visualDrawType="stroke",c}return aq(b,a),b.prototype.getInitialData=function(a,b){return ri(null,this,{useEncodeDefaulter:a1(A$,null,this)})},b.prototype.getRawIndicesByActiveState=function(a){var b=this.coordinateSystem,c=this.getData(),d=[];return b.eachActiveState(c,function(b,e){a===b&&d.push(c.getRawIndex(e))}),d},b.type="series.parallel",b.dependencies=["parallel"],b.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},b}(mE);function A$(a){var b=a.ecModel.getComponent("parallel",a.get("parallelIndex"));if(b){var c={};return aX(b.dimensions,function(a){var b=+a.replace("dim","");c[a]=b}),c}}var A_=["lineStyle","opacity"];let A0={seriesType:"parallel",reset:function(a,b){var c=a.coordinateSystem,d={normal:a.get(["lineStyle","opacity"]),active:a.get("activeOpacity"),inactive:a.get("inactiveOpacity")};return{progress:function(a,b){c.eachActiveState(b,function(a,c){var e=d[a];if("normal"===a&&b.hasItemOption){var f=b.getItemModel(c).get(A_,!0);null!=f&&(e=f)}b.ensureUniqueItemVisual(c,"style").opacity=e},a.start,a.end)}}}};function A1(a){var b;(function(a){if(!a.parallel){var b=!1;aX(a.series,function(a){a&&"parallel"===a.type&&(b=!0)}),b&&(a.parallel=[{}])}})(a),aX(fR((b=a).parallelAxis),function(a){if(a8(a)){var c=a.parallelIndex||0,d=fR(b.parallel)[c];d&&d.parallelAxisDefault&&aO(a,d.parallelAxisDefault,!1)}})}var A2=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){this._model=a,this._api=c,this._handlers||(this._handlers={},aX(A3,function(a,b){c.getZr().on(b,this._handlers[b]=a1(a,this))},this)),oH(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},b.prototype.dispose=function(a,b){oI(this,"_throttledDispatchExpand"),aX(this._handlers,function(a,c){b.getZr().off(c,a)}),this._handlers=null},b.prototype._throttledDispatchExpand=function(a){this._dispatchExpand(a)},b.prototype._dispatchExpand=function(a){a&&this._api.dispatchAction(aQ({type:"parallelAxisExpand"},a))},b.type="parallel",b}(mG),A3={mousedown:function(a){A4(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var b=this._mouseDownPoint;if(A4(this,"click")&&b){var c=[a.offsetX,a.offsetY];if(Math.pow(b[0]-c[0],2)+Math.pow(b[1]-c[1],2)>5)return;var d=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);"none"!==d.behavior&&this._dispatchExpand({axisExpandWindow:d.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!this._mouseDownPoint&&A4(this,"mousemove")){var b=this._model,c=b.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),d=c.behavior;"jump"===d&&this._throttledDispatchExpand.debounceNextCall(b.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===d?null:{axisExpandWindow:c.axisExpandWindow,animation:"jump"===d?null:{duration:0}})}}};function A4(a,b){var c=a._model;return c.get("axisExpandable")&&c.get("axisExpandTriggerOn")===b}var A5=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},b.prototype.mergeOption=function(a){var b=this.option;a&&aO(b,a,!0),this._initDimensions()},b.prototype.contains=function(a,b){var c=a.get("parallelIndex");return null!=c&&b.getComponent("parallel",c)===this},b.prototype.setAxisExpand=function(a){aX(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},b.prototype._initDimensions=function(){var a=this.dimensions=[],b=this.parallelAxisIndex=[];aX(a$(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this),function(c){a.push("dim"+c.get("dim")),b.push(c.componentIndex)})},b.type="parallel",b.dependencies=["parallelAxis"],b.layoutMode="box",b.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},b}(ku),A6=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c,d)||this;return g.type=e||"value",g.axisIndex=f,g}return aq(b,a),b.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},b}(sM);function A7(a,b,c,d,e,f){a=a||0;var g,h=c[1]-c[0];if(null!=e&&(e=A9(e,[0,h])),null!=f&&(f=Math.max(f,null!=e?e:0)),"all"===d){var i=Math.abs(b[1]-b[0]);i=A9(i,[0,h]),e=f=A9(i,[e,f]),d=0}b[0]=A9(b[0],c),b[1]=A9(b[1],c);var j=A8(b,d);b[d]+=a;var k=e||0,l=c.slice();return j.sign<0?l[0]+=k:l[1]-=k,b[d]=A9(b[d],l),g=A8(b,d),null!=e&&(g.sign!==j.sign||g.span<e)&&(b[1-d]=b[d]+j.sign*e),g=A8(b,d),null!=f&&g.span>f&&(b[1-d]=b[d]+g.sign*f),b}function A8(a,b){var c=a[b]-a[1-b];return{span:Math.abs(c),sign:c>0?-1:c<0?1:b?-1:1}}function A9(a,b){return Math.min(null!=b[1]?b[1]:1/0,Math.max(null!=b[0]?b[0]:-1/0,a))}var Ba=aX,Bb=Math.min,Bc=Math.max,Bd=Math.floor,Be=Math.ceil,Bf=fu,Bg=Math.PI,Bh=function(){function a(a,b,c){this.type="parallel",this._axesMap=bt(),this._axesLayout={},this.dimensions=a.dimensions,this._model=a,this._init(a,b,c)}return a.prototype._init=function(a,b,c){var d=a.dimensions,e=a.parallelAxisIndex;Ba(d,function(a,c){var d=e[c],f=b.getComponent("parallelAxis",d),g=this._axesMap.set(a,new A6(a,r3(f),[0,0],f.get("type"),d)),h="category"===g.type;g.onBand=h&&f.get("boundaryGap"),g.inverse=f.get("inverse"),f.axis=g,g.model=f,g.coordinateSystem=f.coordinateSystem=this},this)},a.prototype.update=function(a,b){this._updateAxesFromSeries(this._model,a)},a.prototype.containPoint=function(a){var b=this._makeLayoutInfo(),c=b.axisBase,d=b.layoutBase,e=b.pixelDimIndex,f=a[1-e],g=a[e];return f>=c&&f<=c+b.axisLength&&g>=d&&g<=d+b.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();Ba(this.dimensions,function(a){var b=this._axesMap.get(a);b.scale.unionExtentFromData(d,d.mapDimension(a)),r2(b.scale,b.model)},this)}},this)},a.prototype.resize=function(a,b){var c=kk(a,b).refContainer;this._rect=kh(a.getBoxLayoutParams(),c),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var a,b=this._model,c=this._rect,d=["x","y"],e=["width","height"],f=b.get("layout"),g=+("horizontal"!==f),h=c[e[g]],i=[0,h],j=this.dimensions.length,k=Bi(b.get("axisExpandWidth"),i),l=Bi(b.get("axisExpandCount")||0,[0,j]),m=b.get("axisExpandable")&&j>3&&j>l&&l>1&&k>0&&h>0,n=b.get("axisExpandWindow");n?(a=Bi(n[1]-n[0],i),n[1]=n[0]+a):(a=Bi(k*(l-1),i),(n=[k*(b.get("axisExpandCenter")||Bd(j/2))-a/2])[1]=n[0]+a);var o=(h-a)/(j-l);o<3&&(o=0);var p=[Bd(Bf(n[0]/k,1))+1,Be(Bf(n[1]/k,1))-1],q=o/k*n[0];return{layout:f,pixelDimIndex:g,layoutBase:c[d[g]],layoutLength:h,axisBase:c[d[1-g]],axisLength:c[e[1-g]],axisExpandable:m,axisExpandWidth:k,axisCollapseWidth:o,axisExpandWindow:n,axisCount:j,winInnerIndices:p,axisExpandWindow0Pos:q}},a.prototype._layoutAxes=function(){var a=this._rect,b=this._axesMap,c=this.dimensions,d=this._makeLayoutInfo(),e=d.layout;b.each(function(a){var b=[0,d.axisLength],c=+!!a.inverse;a.setExtent(b[c],b[1-c])}),Ba(c,function(b,c){var f=(d.axisExpandable?function(a,b){var c,d,e=b.layoutLength,f=b.axisExpandWidth,g=b.axisCount,h=b.axisCollapseWidth,i=b.winInnerIndices,j=h,k=!1;return a<i[0]?(c=a*h,d=h):a<=i[1]?(c=b.axisExpandWindow0Pos+a*f-b.axisExpandWindow[0],j=f,k=!0):(c=e-(g-1-a)*h,d=h),{position:c,axisNameAvailableWidth:j,axisLabelShow:k,nameTruncateMaxWidth:d}}:function(a,b){var c=b.layoutLength/(b.axisCount-1);return{position:c*a,axisNameAvailableWidth:c,axisLabelShow:!0}})(c,d),g={horizontal:{x:f.position,y:d.axisLength},vertical:{x:0,y:f.position}},h=[g[e].x+a.x,g[e].y+a.y],i={horizontal:Bg/2,vertical:0}[e],j=cq();cv(j,j,i),cu(j,j,h),this._axesLayout[b]={position:h,rotation:i,transform:j,axisNameAvailableWidth:f.axisNameAvailableWidth,axisLabelShow:f.axisLabelShow,nameTruncateMaxWidth:f.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(a){return this._axesMap.get(a)},a.prototype.dataToPoint=function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),b)},a.prototype.eachActiveState=function(a,b,c,d){null==c&&(c=0),null==d&&(d=a.count());var e=this._axesMap,f=this.dimensions,g=[],h=[];aX(f,function(b){g.push(a.mapDimension(b)),h.push(e.get(b).model)});for(var i=this.hasAxisBrushed(),j=c;j<d;j++){var k=void 0;if(i){k="active";for(var l=a.getValues(g,j),m=0,n=f.length;m<n;m++)if("inactive"===h[m].getActiveState(l[m])){k="inactive";break}}else k="normal";b(k,j)}},a.prototype.hasAxisBrushed=function(){for(var a=this.dimensions,b=this._axesMap,c=!1,d=0,e=a.length;d<e;d++)"normal"!==b.get(a[d]).model.getActiveState()&&(c=!0);return c},a.prototype.axisCoordToPoint=function(a,b){return n9([a,0],this._axesLayout[b].transform)},a.prototype.getAxisLayout=function(a){return aN(this._axesLayout[a])},a.prototype.getSlidedAxisExpandWindow=function(a){var b,c=this._makeLayoutInfo(),d=c.pixelDimIndex,e=c.axisExpandWindow.slice(),f=e[1]-e[0],g=[0,c.axisExpandWidth*(c.axisCount-1)];if(!this.containPoint(a))return{behavior:"none",axisExpandWindow:e};var h=a[d]-c.layoutBase-c.axisExpandWindow0Pos,i="slide",j=c.axisCollapseWidth,k=this._model.get("axisExpandSlideTriggerArea"),l=null!=k[0];if(j)l&&j&&h<f*k[0]?(i="jump",b=h-f*k[2]):l&&j&&h>f*(1-k[0])?(i="jump",b=h-f*(1-k[2])):(b=h-f*k[1])>=0&&(b=h-f*(1-k[1]))<=0&&(b=0),(b*=c.axisExpandWidth/j)?A7(b,e,g,"all"):i="none";else{var m=e[1]-e[0];(e=[Bc(0,g[1]*h/m-m/2)])[1]=Bb(g[1],e[0]+m),e[0]=e[1]-m}return{axisExpandWindow:e,behavior:i}},a}();function Bi(a,b){return Bb(Bc(a,b[0]),b[1])}let Bj={create:function(a,b){var c=[];return a.eachComponent("parallel",function(d,e){var f=new Bh(d,a,b);f.name="parallel_"+e,f.resize(d,b),d.coordinateSystem=f,f.model=d,c.push(f)}),a.eachSeries(function(a){if("parallel"===a.get("coordinateSystem")){var b=a.getReferringComponents("parallel",f4).models[0];a.coordinateSystem=b.coordinateSystem}}),c}};var Bk=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.activeIntervals=[],c}return aq(b,a),b.prototype.getAreaSelectStyle=function(){return gl([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},b.prototype.setActiveIntervals=function(a){var b=this.activeIntervals=aN(a);if(b)for(var c=b.length-1;c>=0;c--)fv(b[c])},b.prototype.getActiveState=function(a){var b=this.activeIntervals;if(!b.length)return"normal";if(null==a||isNaN(+a))return"inactive";if(1===b.length){var c=b[0];if(c[0]<=a&&a<=c[1])return"active"}else for(var d=0,e=b.length;d<e;d++)if(b[d][0]<=a&&a<=b[d][1])return"active";return"inactive"},b}(ku);aV(Bk,sc);var Bl=Math.min,Bm=Math.max,Bn=Math.pow,Bo="globalPan",Bp={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Bq={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Br={brushStyle:{lineWidth:2,stroke:kv.color.backgroundTint,fill:kv.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},Bs=0,Bt=function(a){function b(b){var c=a.call(this)||this;return c._track=[],c._covers=[],c._handlers={},c._zr=b,c.group=new fc,c._uid="brushController_"+Bs++,aX(BU,function(a,b){this._handlers[b]=a1(a,this)},c),c}return aq(b,a),b.prototype.enableBrush=function(a){return this._brushType&&this._doDisableBrush(),a.brushType&&this._doEnableBrush(a),this},b.prototype._doEnableBrush=function(a){var b,c=this._zr;this._enableGlobalPan||(b=this._uid,xd(c)[Bo]=b),aX(this._handlers,function(a,b){c.on(b,a)}),this._brushType=a.brushType,this._brushOption=aO(aN(Br),a,!0)},b.prototype._doDisableBrush=function(){var a,b,c=this._zr;a=this._uid,(b=xd(c))[Bo]===a&&(b[Bo]=null),aX(this._handlers,function(a,b){c.off(b,a)}),this._brushType=this._brushOption=null},b.prototype.setPanels=function(a){if(a&&a.length){var b=this._panels={};aX(a,function(a){b[a.panelId]=aN(a)})}else this._panels=null;return this},b.prototype.mount=function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({x:a.x||0,y:a.y||0,rotation:a.rotation||0,scaleX:a.scaleX||1,scaleY:a.scaleY||1}),this._transform=b.getLocalTransform(),this},b.prototype.updateCovers=function(a){a=aY(a,function(a){return aO(aN(Br),a,!0)});var b=this._covers,c=this._covers=[],d=this,e=this._creatingCover;return new qV(b,a,function(a,b){return f(a.__brushOption,b)},f).add(g).update(g).remove(function(a){b[a]!==e&&d.group.remove(b[a])}).execute(),this;function f(a,b){return(null!=a.id?a.id:"\0-brush-index-"+b)+"-"+a.brushType}function g(f,g){var h=a[f];if(null!=g&&b[g]===e)c[f]=b[g];else{var i=c[f]=null!=g?(b[g].__brushOption=h,b[g]):Bv(d,Bu(d,h));By(d,i)}}},b.prototype.unmount=function(){return this.enableBrush(!1),BC(this),this._zr.remove(this.group),this},b.prototype.dispose=function(){this.unmount(),this.off()},b}(b2);function Bu(a,b){var c=BW[b.brushType].createCover(a,b);return c.__brushOption=b,Bx(c,b),a.group.add(c),c}function Bv(a,b){var c=Bz(b);return c.endCreating&&(c.endCreating(a,b),Bx(b,b.__brushOption)),b}function Bw(a,b){var c=b.__brushOption;Bz(b).updateCoverShape(a,b,c.range,c)}function Bx(a,b){var c=b.z;null==c&&(c=1e4),a.traverse(function(a){a.z=c,a.z2=c})}function By(a,b){Bz(b).updateCommon(a,b),Bw(a,b)}function Bz(a){return BW[a.__brushOption.brushType]}function BA(a,b,c){var d,e=a._panels;if(!e)return!0;var f=a._transform;return aX(e,function(a){a.isTargetByCursor(b,c,f)&&(d=a)}),d}function BB(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null==d||c[d]}function BC(a){var b=a._covers,c=b.length;return aX(b,function(b){a.group.remove(b)},a),b.length=0,!!c}function BD(a,b){var c=aY(a._covers,function(a){var b=a.__brushOption,c=aN(b.range);return{brushType:b.brushType,panelId:b.panelId,range:c}});a.trigger("brush",{areas:c,isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function BE(a){var b=a.length-1;return b<0&&(b=0),[a[0],a[b]]}function BF(a,b,c,d){var e=new fc;return e.add(new hM({name:"main",style:BJ(c),silent:!0,draggable:!0,cursor:"move",drift:a2(BM,a,b,e,["n","s","w","e"]),ondragend:a2(BD,b,{isEnd:!0})})),aX(d,function(c){e.add(new hM({name:c.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:a2(BM,a,b,e,c),ondragend:a2(BD,b,{isEnd:!0})}))}),e}function BG(a,b,c,d){var e=d.brushStyle.lineWidth||0,f=Bm(e,6),g=c[0][0],h=c[1][0],i=g-e/2,j=h-e/2,k=c[0][1],l=c[1][1],m=k-f+e/2,n=l-f+e/2,o=k-g,p=l-h,q=o+e,r=p+e;BI(a,b,"main",g,h,o,p),d.transformable&&(BI(a,b,"w",i,j,f,r),BI(a,b,"e",m,j,f,r),BI(a,b,"n",i,j,q,f),BI(a,b,"s",i,n,q,f),BI(a,b,"nw",i,j,f,f),BI(a,b,"ne",m,j,f,f),BI(a,b,"sw",i,n,f,f),BI(a,b,"se",m,n,f,f))}function BH(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(BJ(c)),e.attr({silent:!d,cursor:d?"move":"default"}),aX([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(c){var e,f,g,h=b.childOfName(c.join("")),i=1===c.length?BL(a,c[0]):(("e"===(g=[BL(e=a,(f=c)[0]),BL(e,f[1])])[0]||"w"===g[0])&&g.reverse(),g.join(""));h&&h.attr({silent:!d,invisible:!d,cursor:d?Bq[i]+"-resize":null})})}function BI(a,b,c,d,e,f,g){var h,i,j,k=b.childOfName(c);k&&k.setShape((i=Bl((h=BP(a,b,[[d,e],[d+f,e+g]]))[0][0],h[1][0]),{x:i,y:j=Bl(h[0][1],h[1][1]),width:Bm(h[0][0],h[1][0])-i,height:Bm(h[0][1],h[1][1])-j}))}function BJ(a){return aR({strokeNoScale:!0},a.brushStyle)}function BK(a,b,c,d){var e=[Bl(a,c),Bl(b,d)],f=[Bm(a,c),Bm(b,d)];return[[e[0],f[0]],[e[1],f[1]]]}function BL(a,b){return({left:"w",right:"e",top:"n",bottom:"s"})[oa({w:"left",e:"right",n:"top",s:"bottom"}[b],n8(a.group))]}function BM(a,b,c,d,e,f){var g=c.__brushOption,h=a.toRectRange(g.range),i=BO(b,e,f);aX(d,function(a){var b=Bp[a];h[b[0]][b[1]]+=i[b[0]]}),g.range=a.fromRectRange(BK(h[0][0],h[1][0],h[0][1],h[1][1])),By(b,c),BD(b,{isEnd:!1})}function BN(a,b,c,d){var e=b.__brushOption.range,f=BO(a,c,d);aX(e,function(a){a[0]+=f[0],a[1]+=f[1]}),By(a,b),BD(a,{isEnd:!1})}function BO(a,b,c){var d=a.group,e=d.transformCoordToLocal(b,c),f=d.transformCoordToLocal(0,0);return[e[0]-f[0],e[1]-f[1]]}function BP(a,b,c){var d=BB(a,b);return d&&!0!==d?d.clipPath(c,a._transform):aN(c)}function BQ(a){var b=a.event;b.preventDefault&&b.preventDefault()}function BR(a,b,c){return a.childOfName("main").contain(b,c)}function BS(a,b,c,d){var e,f=a._creatingCover,g=a._creatingPanel,h=a._brushOption;if(a._track.push(c.slice()),function(a){var b=a._track;if(!b.length)return!1;var c=b[b.length-1],d=b[0],e=c[0]-d[0],f=c[1]-d[1];return Bn(e*e+f*f,.5)>6}(a)||f){if(g&&!f){"single"===h.brushMode&&BC(a);var i=aN(h);i.brushType=BT(i.brushType,g),i.panelId=!0===g?null:g.panelId,f=a._creatingCover=Bu(a,i),a._covers.push(f)}if(f){var j=BW[BT(a._brushType,g)];f.__brushOption.range=j.getCreatingRange(BP(a,f,a._track)),d&&(Bv(a,f),j.updateCommon(a,f)),Bw(a,f),e={isEnd:d}}}else d&&"single"===h.brushMode&&h.removeOnClick&&BA(a,b,c)&&BC(a)&&(e={isEnd:d,removeOnClick:!0});return e}function BT(a,b){return"auto"===a?b.defaultBrushType:a}var BU={mousedown:function(a){if(this._dragging)BV(this,a);else if(!a.target||!a.target.draggable){BQ(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null,(this._creatingPanel=BA(this,a,b))&&(this._dragging=!0,this._track=[b.slice()])}},mousemove:function(a){var b=a.offsetX,c=a.offsetY,d=this.group.transformCoordToLocal(b,c);if(!function(a,b,c){if(!(!a._brushType||(d=a,e=b.offsetX,f=b.offsetY,g=d._zr,e<0||e>g.getWidth()||f<0||f>g.getHeight()))){var d,e,f,g,h=a._zr,i=a._covers,j=BA(a,b,c);if(!a._dragging)for(var k=0;k<i.length;k++){var l=i[k].__brushOption;if(j&&(!0===j||l.panelId===j.panelId)&&BW[l.brushType].contain(i[k],c[0],c[1]))return}j&&h.setCursorStyle("crosshair")}}(this,a,d),this._dragging){BQ(a);var e=BS(this,a,d,!1);e&&BD(this,e)}},mouseup:function(a){BV(this,a)}};function BV(a,b){if(a._dragging){BQ(b);var c=b.offsetX,d=b.offsetY,e=a.group.transformCoordToLocal(c,d),f=BS(a,b,e,!0);a._dragging=!1,a._track=[],a._creatingCover=null,f&&BD(a,f)}}var BW={lineX:BX(0),lineY:BX(1),rect:{createCover:function(a,b){function c(a){return a}return BF({toRectRange:c,fromRectRange:c},a,b,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var b=BE(a);return BK(b[1][0],b[1][1],b[0][0],b[0][1])},updateCoverShape:function(a,b,c,d){BG(a,b,c,d)},updateCommon:BH,contain:BR},polygon:{createCover:function(a,b){var c=new fc;return c.add(new ns({name:"main",style:BJ(b),silent:!0})),c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0)),b.add(new np({name:"main",draggable:!0,drift:a2(BN,a,b),ondragend:a2(BD,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:BP(a,b,c)})},updateCommon:BH,contain:BR}};function BX(a){return{createCover:function(b,c){return BF({toRectRange:function(b){var c=[b,[0,100]];return a&&c.reverse(),c},fromRectRange:function(b){return b[a]}},b,c,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(b){var c=BE(b);return[Bl(c[0][a],c[1][a]),Bm(c[0][a],c[1][a])]},updateCoverShape:function(b,c,d,e){var f,g=BB(b,c);if(!0!==g&&g.getLinearBrushOtherExtent)f=g.getLinearBrushOtherExtent(a);else{var h=b._zr;f=[0,[h.getWidth(),h.getHeight()][1-a]]}var i=[d,f];a&&i.reverse(),BG(b,c,i,e)},updateCommon:BH,contain:BR}}function BY(a){return a=B_(a),function(b){return oc(b,a)}}function BZ(a,b){return a=B_(a),function(c){var d=null!=b?b:c,e=d?a.width:a.height,f=d?a.x:a.y;return[f,f+(e||0)]}}function B$(a,b,c){var d=B_(a);return function(a,e){return d.contain(e[0],e[1])&&!xf(a,b,c)}}function B_(a){return cS.create(a)}var B0=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(b,c){a.prototype.init.apply(this,arguments),(this._brushController=new Bt(c.getZr())).on("brush",a1(this._onBrush,this))},b.prototype.render=function(a,b,c,d){var e,f,g;if(e=a,f=b,!(g=d)||"axisAreaSelect"!==g.type||f.findComponents({mainType:"parallelAxis",query:g})[0]!==e){this.axisModel=a,this.api=c,this.group.removeAll();var h=this._axisGroup;if(this._axisGroup=new fc,this.group.add(this._axisGroup),a.get("show")){var i,j=(i=a,b.getComponent("parallel",i.get("parallelIndex"))),k=j.coordinateSystem,l=a.getAreaSelectStyle(),m=l.width,n=a.axis.dim,o=aQ({strokeContainThreshold:m},k.getAxisLayout(n)),p=new wi(a,c,o);p.build(),this._axisGroup.add(p.group),this._refreshBrushController(o,l,a,j,m,c),ob(h,this._axisGroup,a)}}},b.prototype._refreshBrushController=function(a,b,c,d,e,f){var g,h,i=c.axis.getExtent(),j=i[1]-i[0],k=Math.min(30,.1*Math.abs(j)),l=cS.create({x:i[0],y:-e/2,width:j,height:e});l.x-=k,l.width+=2*k,this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,x:a.position[0],y:a.position[1]}).setPanels([{panelId:"pl",clipPath:BY(l),isTargetByCursor:B$(l,f,d),getLinearBrushOtherExtent:BZ(l,0)}]).enableBrush({brushType:"lineX",brushStyle:b,removeOnClick:!0}).updateCovers((h=(g=c).axis,aY(g.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[h.dataToCoord(a[0],!0),h.dataToCoord(a[1],!0)]}})))},b.prototype._onBrush=function(a){var b=a.areas,c=this.axisModel,d=c.axis,e=aY(b,function(a){return[d.coordToData(a.range[0],!0),d.coordToData(a.range[1],!0)]});(!c.option.realtime===a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:c.id,intervals:e})},b.prototype.dispose=function(){this._brushController.dispose()},b.type="parallelAxis",b}(mG),B1={type:"axisAreaSelect",event:"axisAreaSelected"},B2={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function B3(a){a.registerComponentView(A2),a.registerComponentModel(A5),a.registerCoordinateSystem("parallel",Bj),a.registerPreprocessor(A1),a.registerComponentModel(Bk),a.registerComponentView(B0),vU(a,"parallel",Bk,B2),a.registerAction(B1,function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(b){b.axis.model.setActiveIntervals(a.intervals)})}),a.registerAction("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(b){b.setAxisExpand(a)})})}var B4=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},B5=function(a){function b(b){return a.call(this,b)||this}return aq(b,a),b.prototype.getDefaultShape=function(){return new B4},b.prototype.buildPath=function(a,b){var c=b.extent;a.moveTo(b.x1,b.y1),a.bezierCurveTo(b.cpx1,b.cpy1,b.cpx2,b.cpy2,b.x2,b.y2),"vertical"===b.orient?(a.lineTo(b.x2+c,b.y2),a.bezierCurveTo(b.cpx2+c,b.cpy2,b.cpx1+c,b.cpy1,b.x1+c,b.y1)):(a.lineTo(b.x2,b.y2+c),a.bezierCurveTo(b.cpx2,b.cpy2+c,b.cpx1,b.cpy1+c,b.x1,b.y1+c)),a.closePath()},b.prototype.highlight=function(){iw(this)},b.prototype.downplay=function(){ix(this)},b}(hy),B6=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._mainGroup=new fc,c._focusAdjacencyDisabled=!1,c}return aq(b,a),b.prototype.init=function(a,b){this._controller=new xg(b.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},b.prototype.render=function(a,b,c){var d,e,f,g,h=this,i=a.getGraph(),j=this._mainGroup,k=a.layoutInfo,l=k.width,m=k.height,n=a.getData(),o=a.getData("edge"),p=a.get("orient");this._model=a,j.removeAll(),j.x=k.x,j.y=k.y,this._updateViewCoordSys(a,c),xq(a,c,j,this._controller,this._controllerHost,null),i.eachEdge(function(b){var c,d,e,f,g,h,i,k,n=new B5,q=h2(n);q.dataIndex=b.dataIndex,q.seriesIndex=a.seriesIndex,q.dataType="edge";var r=b.getModel(),s=r.getModel("lineStyle"),t=s.get("curveness"),u=b.node1.getLayout(),v=b.node1.getModel(),w=v.get("localX"),x=v.get("localY"),y=b.node2.getLayout(),z=b.node2.getModel(),A=z.get("localX"),B=z.get("localY"),C=b.getLayout();n.shape.extent=Math.max(1,C.dy),n.shape.orient=p,"vertical"===p?(c=(null!=w?w*l:u.x)+C.sy,d=(null!=x?x*m:u.y)+u.dy,e=(null!=A?A*l:y.x)+C.ty,f=null!=B?B*m:y.y,g=c,h=d*(1-t)+f*t,i=e,k=d*t+f*(1-t)):(c=(null!=w?w*l:u.x)+u.dx,d=(null!=x?x*m:u.y)+C.sy,e=null!=A?A*l:y.x,f=(null!=B?B*m:y.y)+C.ty,g=c*(1-t)+e*t,h=d,i=c*t+e*(1-t),k=f),n.setShape({x1:c,y1:d,x2:e,y2:f,cpx1:g,cpy1:h,cpx2:i,cpy2:k}),n.useStyle(s.getItemStyle()),B7(n.style,p,b);var D=""+r.get("value"),E=i0(r,"edgeLabel");i_(n,E,{labelFetcher:{getFormattedLabel:function(b,c,d,e,f,g){return a.getFormattedLabel(b,c,"edge",e,bi(f,E.normal&&E.normal.get("formatter"),D),g)}},labelDataIndex:b.dataIndex,defaultText:D}),n.setTextConfig({position:"inside"});var F=r.getModel("emphasis");iJ(n,r,"lineStyle",function(a){var c=a.getItemStyle();return B7(c,p,b),c}),j.add(n),o.setItemGraphicEl(b.dataIndex,n);var G=F.get("focus");iF(n,"adjacency"===G?b.getAdjacentDataIndices():"trajectory"===G?b.getTrajectoryDataIndices():G,F.get("blurScope"),F.get("disabled"))}),i.eachNode(function(b){var c=b.getLayout(),d=b.getModel(),e=d.get("localX"),f=d.get("localY"),g=d.getModel("emphasis"),h=d.get(["itemStyle","borderRadius"])||0,i=new hM({shape:{x:null!=e?e*l:c.x,y:null!=f?f*m:c.y,width:c.dx,height:c.dy,r:h},style:d.getModel("itemStyle").getItemStyle(),z2:10});i_(i,i0(d),{labelFetcher:{getFormattedLabel:function(b,c){return a.getFormattedLabel(b,c,"node")}},labelDataIndex:b.dataIndex,defaultText:b.id}),i.disableLabelAnimation=!0,i.setStyle("fill",b.getVisual("color")),i.setStyle("decal",b.getVisual("style").decal),iJ(i,d),j.add(i),n.setItemGraphicEl(b.dataIndex,i),h2(i).dataType="node";var k=g.get("focus");iF(i,"adjacency"===k?b.getAdjacentDataIndices():"trajectory"===k?b.getTrajectoryDataIndices():k,g.get("blurScope"),g.get("disabled"))}),n.eachItemGraphicEl(function(b,d){n.getItemModel(d).get("draggable")&&(b.drift=function(b,e){h._focusAdjacencyDisabled=!0,this.shape.x+=b,this.shape.y+=e,this.dirty(),c.dispatchAction({type:"dragNode",seriesId:a.id,dataIndex:n.getRawIndex(d),localX:this.shape.x/l,localY:this.shape.y/m})},b.ondragend=function(){h._focusAdjacencyDisabled=!1},b.draggable=!0,b.cursor="move")}),!this._data&&a.isAnimationEnabled()&&j.setClipPath((d=j.getBoundingRect(),e=a,f=function(){j.removeClipPath()},iS(g=new hM({shape:{x:d.x-10,y:d.y-10,width:0,height:d.height+20}}),{shape:{width:d.width+20}},e,f),g)),this._data=a.getData()},b.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},b.prototype._updateViewCoordSys=function(a,b){var c=a.layoutInfo,d=c.width,e=c.height,f=a.coordinateSystem=new ym(null,{api:b,ecModel:a.ecModel});f.zoomLimit=a.get("scaleLimit"),f.setBoundingRect(0,0,d,e),f.setCenter(a.get("center")),f.setZoom(a.get("zoom")),this._controllerHost.target.attr({x:f.x,y:f.y,scaleX:f.scaleX,scaleY:f.scaleY})},b.type="sankey",b}(oC);function B7(a,b,c){switch(a.fill){case"source":a.fill=c.node1.getVisual("color"),a.decal=c.node1.getVisual("style").decal;break;case"target":a.fill=c.node2.getVisual("color"),a.decal=c.node2.getVisual("style").decal;break;case"gradient":var d=c.node1.getVisual("color"),e=c.node2.getVisual("color");a5(d)&&a5(e)&&(a.fill=new nH(0,0,+("horizontal"===b),+("vertical"===b),[{color:d,offset:0},{color:e,offset:1}]))}}var B8=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.getInitialData=function(a,b){var c=a.edges||a.links||[],d=a.data||a.nodes||[],e=a.levels||[];this.levelModels=[];for(var f=this.levelModels,g=0;g<e.length;g++)null!=e[g].depth&&e[g].depth>=0&&(f[e[g].depth]=new jn(e[g],this,b));return AA(d,c,this,!0,function(a,b){a.wrapMethod("getItemModel",function(a,b){var c=a.parentModel,d=c.getData().getItemLayout(b);if(d){var e=d.depth,f=c.levelModels[e];f&&(a.parentModel=f)}return a}),b.wrapMethod("getItemModel",function(a,b){var c=a.parentModel,d=c.getGraph().getEdgeByIndex(b).node1.getLayout();if(d){var e=d.depth,f=c.levelModels[e];f&&(a.parentModel=f)}return a})}).data},b.prototype.setNodePosition=function(a,b){var c=(this.option.data||this.option.nodes)[a];c.localX=b[0],c.localY=b[1]},b.prototype.setCenter=function(a){this.option.center=a},b.prototype.setZoom=function(a){this.option.zoom=a},b.prototype.getGraph=function(){return this.getData().graph},b.prototype.getEdgeData=function(){return this.getGraph().edgeData},b.prototype.formatTooltip=function(a,b,c){function d(a){return isNaN(a)||null==a}if("edge"===c){var e=this.getDataParams(a,c),f=e.data,g=e.value;return mi("nameValue",{name:f.source+" -- "+f.target,value:g,noValue:d(g)})}var h=this.getGraph().getNodeByIndex(a).getLayout().value,i=this.getDataParams(a,c).data.name;return mi("nameValue",{name:null!=i?i+"":null,value:h,noValue:d(h)})},b.prototype.optionUpdated=function(){},b.prototype.getDataParams=function(b,c){var d=a.prototype.getDataParams.call(this,b,c);return null==d.value&&"node"===c&&(d.value=this.getGraph().getNodeByIndex(b).getLayout().value),d},b.type="series.sankey",b.layoutMode="box",b.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:kv.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:kv.color.primary}},animationEasing:"linear",animationDuration:1e3},b}(mE);function B9(a,b){a.eachSeriesByType("sankey",function(a){var c,d,e,f,g,h,i,j,k,l,m=a.get("nodeWidth"),n=a.get("nodeGap"),o=kk(a,b).refContainer,p=kh(a.getBoxLayoutParams(),o);a.layoutInfo=p;var q=p.width,r=p.height,s=a.getGraph(),t=s.nodes,u=s.edges;aX(t,function(a){var b=Math.max(Ci(a.outEdges,Ch),Ci(a.inEdges,Ch),a.getValue()||0);a.setLayout({value:b},!0)});var v=0!==a$(t,function(a){return 0===a.getLayout().value}).length?0:a.get("layoutIterations");c=t,d=u,e=m,f=n,g=q,h=r,i=v,j=a.get("orient"),function(a,b,c,d,e,f,g){for(var h,i,j,k=[],l=[],m=[],n=[],o=0,p=0;p<b.length;p++)k[p]=1;for(var p=0;p<a.length;p++)l[p]=a[p].inEdges.length,0===l[p]&&m.push(a[p]);for(var q=-1;m.length;){for(var r=0;r<m.length;r++){var s=m[r],t=s.hostGraph.data.getRawDataItem(s.dataIndex),u=null!=t.depth&&t.depth>=0;u&&t.depth>q&&(q=t.depth),s.setLayout({depth:u?t.depth:o},!0),"vertical"===f?s.setLayout({dy:c},!0):s.setLayout({dx:c},!0);for(var v=0;v<s.outEdges.length;v++){var w=s.outEdges[v];k[b.indexOf(w)]=0;var x=w.node2,y=a.indexOf(x);0==--l[y]&&0>n.indexOf(x)&&n.push(x)}}++o,m=n,n=[]}for(var p=0;p<k.length;p++)if(1===k[p])throw Error("Sankey is a DAG, the original data has cycle!");var z=q>o-1?q:o-1;g&&"left"!==g&&function(a,b,c,d){if("right"===b){for(var e,f,g=[],h=a,i=0;h.length;){for(var j=0;j<h.length;j++){var k=h[j];k.setLayout({skNodeHeight:i},!0);for(var l=0;l<k.inEdges.length;l++){var m=k.inEdges[l];0>g.indexOf(m.node1)&&g.push(m.node1)}}h=g,g=[],++i}aX(a,function(a){Ca(a)||a.setLayout({depth:Math.max(0,d-a.getLayout().skNodeHeight)},!0)})}else{"justify"===b&&(e=a,f=d,aX(e,function(a){Ca(a)||a.outEdges.length||a.setLayout({depth:f},!0)}))}}(a,g,0,z),h=a,i="vertical"===f?(e-c)/z:(d-c)/z,j=f,aX(h,function(a){var b=a.getLayout().depth*i;"vertical"===j?a.setLayout({y:b},!0):a.setLayout({x:b},!0)})}(c,d,e,g,h,j,a.get("nodeAlign")),function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s=(h=a,i=[],j="vertical"===g?"y":"x",(k=f8(h,function(a){return a.getLayout()[j]})).keys.sort(function(a,b){return a-b}),aX(k.keys,function(a){i.push(k.buckets.get(a))}),i);l=s,m=b,n=c,o=d,p=e,q=g,r=1/0,aX(l,function(a){var b=a.length,c=0;aX(a,function(a){c+=a.getLayout().value});var d="vertical"===q?(o-(b-1)*p)/c:(n-(b-1)*p)/c;d<r&&(r=d)}),aX(l,function(a){aX(a,function(a,b){var c=a.getLayout().value*r;"vertical"===q?(a.setLayout({x:b},!0),a.setLayout({dx:c},!0)):(a.setLayout({y:b},!0),a.setLayout({dy:c},!0))})}),aX(m,function(a){var b=a.getValue()*r;a.setLayout({dy:b},!0)}),Cb(s,e,c,d,g);for(var t=1;f>0;f--)(function(a,b,c){aX(a.slice().reverse(),function(a){aX(a,function(a){if(a.outEdges.length){var d=Ci(a.outEdges,Cc,c)/Ci(a.outEdges,Ch);if(isNaN(d)){var e=a.outEdges.length;d=e?Ci(a.outEdges,Cd,c)/e:0}if("vertical"===c){var f=a.getLayout().x+(d-Cg(a,c))*b;a.setLayout({x:f},!0)}else{var g=a.getLayout().y+(d-Cg(a,c))*b;a.setLayout({y:g},!0)}}})})})(s,t*=.99,g),Cb(s,e,c,d,g),function(a,b,c){aX(a,function(a){aX(a,function(a){if(a.inEdges.length){var d=Ci(a.inEdges,Ce,c)/Ci(a.inEdges,Ch);if(isNaN(d)){var e=a.inEdges.length;d=e?Ci(a.inEdges,Cf,c)/e:0}if("vertical"===c){var f=a.getLayout().x+(d-Cg(a,c))*b;a.setLayout({x:f},!0)}else{var g=a.getLayout().y+(d-Cg(a,c))*b;a.setLayout({y:g},!0)}}})})}(s,t,g),Cb(s,e,c,d,g)}(c,d,h,g,f,i,j),k=c,l="vertical"===j?"x":"y",aX(k,function(a){a.outEdges.sort(function(a,b){return a.node2.getLayout()[l]-b.node2.getLayout()[l]}),a.inEdges.sort(function(a,b){return a.node1.getLayout()[l]-b.node1.getLayout()[l]})}),aX(k,function(a){var b=0,c=0;aX(a.outEdges,function(a){a.setLayout({sy:b},!0),b+=a.getLayout().dy}),aX(a.inEdges,function(a){a.setLayout({ty:c},!0),c+=a.getLayout().dy})})})}function Ca(a){var b=a.hostGraph.data.getRawDataItem(a.dataIndex);return null!=b.depth&&b.depth>=0}function Cb(a,b,c,d,e){var f="vertical"===e?"x":"y";aX(a,function(a){a.sort(function(a,b){return a.getLayout()[f]-b.getLayout()[f]});for(var g,h,i,j=0,k=a.length,l="vertical"===e?"dx":"dy",m=0;m<k;m++)(i=j-(h=a[m]).getLayout()[f])>0&&(g=h.getLayout()[f]+i,"vertical"===e?h.setLayout({x:g},!0):h.setLayout({y:g},!0)),j=h.getLayout()[f]+h.getLayout()[l]+b;if((i=j-b-("vertical"===e?d:c))>0){g=h.getLayout()[f]-i,"vertical"===e?h.setLayout({x:g},!0):h.setLayout({y:g},!0),j=g;for(var m=k-2;m>=0;--m)(i=(h=a[m]).getLayout()[f]+h.getLayout()[l]+b-j)>0&&(g=h.getLayout()[f]-i,"vertical"===e?h.setLayout({x:g},!0):h.setLayout({y:g},!0)),j=h.getLayout()[f]}})}function Cc(a,b){return Cg(a.node2,b)*a.getValue()}function Cd(a,b){return Cg(a.node2,b)}function Ce(a,b){return Cg(a.node1,b)*a.getValue()}function Cf(a,b){return Cg(a.node1,b)}function Cg(a,b){return"vertical"===b?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function Ch(a){return a.getValue()}function Ci(a,b,c){for(var d=0,e=a.length,f=-1;++f<e;){var g=+b(a[f],c);isNaN(g)||(d+=g)}return d}function Cj(a){a.eachSeriesByType("sankey",function(a){var b=a.getGraph(),c=b.nodes,d=b.edges;if(c.length){var e=1/0,f=-1/0;aX(c,function(a){var b=a.getLayout().value;b<e&&(e=b),b>f&&(f=b)}),aX(c,function(b){var c=new zi({type:"color",mappingMethod:"linear",dataExtent:[e,f],visual:a.get("color")}).mapValueToVisual(b.getLayout().value),d=b.getModel().get(["itemStyle","color"]);null!=d?(b.setVisual("color",d),b.setVisual("style",{fill:d})):(b.setVisual("color",c),b.setVisual("style",{fill:c}))})}d.length&&aX(d,function(a){var b=a.getModel().get("lineStyle");a.setVisual("style",b)})})}var Ck=function(){function a(){}return a.prototype._hasEncodeRule=function(a){var b=this.getEncode();return b&&null!=b.get(a)},a.prototype.getInitialData=function(a,b){var c,d,e=b.getComponent("xAxis",this.get("xAxisIndex")),f=b.getComponent("yAxis",this.get("yAxisIndex")),g=e.get("type"),h=f.get("type");"category"===g?(a.layout="horizontal",c=e.getOrdinalMeta(),d=!this._hasEncodeRule("x")):"category"===h?(a.layout="vertical",c=f.getOrdinalMeta(),d=!this._hasEncodeRule("y")):a.layout=a.layout||"horizontal";var i=["x","y"],j=+("horizontal"!==a.layout),k=this._baseAxisDim=i[j],l=i[1-j],m=[e,f],n=m[j].get("type"),o=m[1-j].get("type"),p=a.data;if(p&&d){var q=[];aX(p,function(a,b){var c;a3(a)?(c=a.slice(),a.unshift(b)):a3(a.value)?((c=aQ({},a)).value=c.value.slice(),a.value.unshift(b)):c=a,q.push(c)}),a.data=q}var r=this.defaultValueDimensions,s=[{name:k,type:qY(n),ordinalMeta:c,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:l,type:qY(o),dimsDef:r.slice()}];return vA(this,{coordDimensions:s,dimensionsCount:r.length+1,encodeDefaulter:a2(kN,s,this)})},a.prototype.getBaseAxis=function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis},a}(),Cl=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],c.visualDrawType="stroke",c}return aq(b,a),b.type="series.boxplot",b.dependencies=["xAxis","yAxis","grid"],b.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:kv.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:kv.color.shadow}},animationDuration:800},b}(mE);aV(Cl,Ck,!0);var Cm=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){var d=a.getData(),e=this.group,f=this._data;this._data||e.removeAll();var g=+("horizontal"===a.get("layout"));d.diff(f).add(function(a){if(d.hasValue(a)){var b=Cp(d.getItemLayout(a),d,a,g,!0);d.setItemGraphicEl(a,b),e.add(b)}}).update(function(a,b){var c=f.getItemGraphicEl(b);if(!d.hasValue(a))return void e.remove(c);var h=d.getItemLayout(a);c?(iX(c),Cq(h,c,d,a)):c=Cp(h,d,a,g),e.add(c),d.setItemGraphicEl(a,c)}).remove(function(a){var b=f.getItemGraphicEl(a);b&&e.remove(b)}).execute(),this._data=d},b.prototype.remove=function(a){var b=this.group,c=this._data;this._data=null,c&&c.eachItemGraphicEl(function(a){a&&b.remove(a)})},b.type="boxplot",b}(oC),Cn=function(){},Co=function(a){function b(b){var c=a.call(this,b)||this;return c.type="boxplotBoxPath",c}return aq(b,a),b.prototype.getDefaultShape=function(){return new Cn},b.prototype.buildPath=function(a,b){var c=b.points,d=0;for(a.moveTo(c[d][0],c[d][1]),d++;d<4;d++)a.lineTo(c[d][0],c[d][1]);for(a.closePath();d<c.length;d++)a.moveTo(c[d][0],c[d][1]),d++,a.lineTo(c[d][0],c[d][1])},b}(hy);function Cp(a,b,c,d,e){var f,g,h,i=a.ends,j=new Co({shape:{points:e?(f=i,g=d,h=a,aY(f,function(a){return(a=a.slice())[g]=h.initBaseline,a})):i}});return Cq(a,j,b,c,e),j}function Cq(a,b,c,d,e){var f=c.hostModel;(0,ai[e?"initProps":"updateProps"])(b,{shape:{points:a.ends}},f,d),b.useStyle(c.getItemVisual(d,"style")),b.style.strokeNoScale=!0,b.z2=100;var g=c.getItemModel(d),h=g.getModel("emphasis");iJ(b,g),iF(b,h.get("focus"),h.get("blurScope"),h.get("disabled"))}var Cr=aX;function Cs(a){var b,c;Cr((b=[],c=[],a.eachSeriesByType("boxplot",function(a){var d=a.getBaseAxis(),e=aT(c,d);e<0&&(e=c.length,c[e]=d,b[e]={axis:d,seriesModels:[]}),b[e].seriesModels.push(a)}),b),function(a){var b=a.seriesModels;b.length&&(function(a){var b,c=a.axis,d=a.seriesModels,e=d.length,f=a.boxWidthList=[],g=a.boxOffsetList=[],h=[];if("category"===c.type)b=c.getBandWidth();else{var i=0;Cr(d,function(a){i=Math.max(i,a.getData().count())});var j=c.getExtent();b=Math.abs(j[1]-j[0])/i}Cr(d,function(a){var c=a.get("boxWidth");a3(c)||(c=[c,c]),h.push([fs(c[0],b)||0,fs(c[1],b)||0])});var k=.8*b-2,l=k/e*.3,m=(k-l*(e-1))/e,n=m/2-k/2;Cr(d,function(a,b){g.push(n),n+=l+m,f.push(Math.min(Math.max(m,h[b][0]),h[b][1]))})}(a),Cr(b,function(b,c){!function(a,b,c){var d=a.coordinateSystem,e=a.getData(),f=c/2,g=+("horizontal"!==a.get("layout")),h=1-g,i=["x","y"],j=e.mapDimension(i[g]),k=e.mapDimensionsAll(i[h]);if(null!=j&&!(k.length<5))for(var l=0;l<e.count();l++){var m=e.get(j,l),n=t(m,k[2],l),o=t(m,k[0],l),p=t(m,k[1],l),q=t(m,k[3],l),r=t(m,k[4],l),s=[];u(s,p,!1),u(s,q,!0),s.push(o,p,r,q),v(s,o),v(s,r),v(s,n),e.setItemLayout(l,{initBaseline:n[h],ends:s})}function t(a,c,f){var i,j=e.get(c,f),k=[];return k[g]=a,k[h]=j,isNaN(a)||isNaN(j)?i=[NaN,NaN]:(i=d.dataToPoint(k),i[g]+=b),i}function u(a,b,c){var d=b.slice(),e=b.slice();d[g]+=f,e[g]-=f,c?a.push(d,e):a.push(e,d)}function v(a,b){var c=b.slice(),d=b.slice();c[g]-=f,d[g]+=f,a.push(c,d)}}(b,a.boxOffsetList[c],a.boxWidthList[c])}))})}var Ct={type:"echarts:boxplot",transform:function(a){var b=a.upstream;b.sourceFormat!==kG&&ly("");var c=function(a,b){for(var c=[],d=[],e=(b=b||{}).boundIQR,f="none"===e||0===e,g=0;g<a.length;g++){var h=fv(a[g].slice()),i=fJ(h,.25),j=fJ(h,.5),k=fJ(h,.75),l=h[0],m=h[h.length-1],n=(null==e?1.5:e)*(k-i),o=f?l:Math.max(l,i-n),p=f?m:Math.min(m,k+n),q=b.itemNameFormatter,r=a4(q)?q({value:g}):a5(q)?q.replace("{value}",g+""):g+"";c.push([r,o,i,j,k,p]);for(var s=0;s<h.length;s++){var t=h[s];if(t<o||t>p){var u=[r,t];d.push(u)}}}return{boxData:c,outliers:d}}(b.getRawData(),a.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:c.boxData},{data:c.outliers}]}},Cu=["itemStyle","borderColor"],Cv=["itemStyle","borderColor0"],Cw=["itemStyle","borderColorDoji"],Cx=["itemStyle","color"],Cy=["itemStyle","color0"];function Cz(a,b){return b.get(a>0?Cx:Cy)}function CA(a,b){return b.get(0===a?Cw:a>0?Cu:Cv)}var CB={seriesType:"candlestick",plan:mH(),performRawSeries:!0,reset:function(a,b){if(!b.isSeriesFiltered(a))return!a.pipelineContext.large&&{progress:function(a,b){for(var c;null!=(c=a.next());){var d=b.getItemModel(c),e=b.getItemLayout(c).sign,f=d.getItemStyle();f.fill=Cz(e,d),f.stroke=CA(e,d)||f.fill,aQ(b.ensureUniqueItemVisual(c,"style"),f)}}}}},CC=["color","borderColor"],CD=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(a),this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},b.prototype.incrementalPrepareRender=function(a,b,c){this._clear(),this._updateDrawMode(a)},b.prototype.incrementalRender=function(a,b,c,d){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(a,b):this._incrementalRenderNormal(a,b)},b.prototype.eachRendered=function(a){om(this._progressiveEls||this.group,a)},b.prototype._updateDrawMode=function(a){var b=a.pipelineContext.large;(null==this._isLargeDraw||b!==this._isLargeDraw)&&(this._isLargeDraw=b,this._clear())},b.prototype._renderNormal=function(a){var b=a.getData(),c=this._data,d=this.group,e=b.getLayout("isSimpleBox"),f=a.get("clip",!0),g=a.coordinateSystem,h=g.getArea&&g.getArea();this._data||d.removeAll(),b.diff(c).add(function(c){if(b.hasValue(c)){var g=b.getItemLayout(c);if(!(f&&CH(h,g))){var i=CG(g,c,!0);iS(i,{shape:{points:g.ends}},a,c),CI(i,b,c,e),d.add(i),b.setItemGraphicEl(c,i)}}}).update(function(g,i){var j=c.getItemGraphicEl(i);if(!b.hasValue(g))return void d.remove(j);var k=b.getItemLayout(g);f&&CH(h,k)?d.remove(j):(j?(iR(j,{shape:{points:k.ends}},a,g),iX(j)):j=CG(k,g),CI(j,b,g,e),d.add(j),b.setItemGraphicEl(g,j))}).remove(function(a){var b=c.getItemGraphicEl(a);b&&d.remove(b)}).execute(),this._data=b},b.prototype._renderLarge=function(a){this._clear(),CL(a,this.group);var b=a.get("clip",!0)?uK(a.coordinateSystem,!1,a):null;b?this.group.setClipPath(b):this.group.removeClipPath()},b.prototype._incrementalRenderNormal=function(a,b){for(var c,d=b.getData(),e=d.getLayout("isSimpleBox");null!=(c=a.next());){var f=CG(d.getItemLayout(c),c);CI(f,d,c,e),f.incremental=!0,this.group.add(f),this._progressiveEls.push(f)}},b.prototype._incrementalRenderLarge=function(a,b){CL(b,this.group,this._progressiveEls,!0)},b.prototype.remove=function(a){this._clear()},b.prototype._clear=function(){this.group.removeAll(),this._data=null},b.type="candlestick",b}(oC),CE=function(){},CF=function(a){function b(b){var c=a.call(this,b)||this;return c.type="normalCandlestickBox",c}return aq(b,a),b.prototype.getDefaultShape=function(){return new CE},b.prototype.buildPath=function(a,b){var c=b.points;this.__simpleBox?(a.moveTo(c[4][0],c[4][1]),a.lineTo(c[6][0],c[6][1])):(a.moveTo(c[0][0],c[0][1]),a.lineTo(c[1][0],c[1][1]),a.lineTo(c[2][0],c[2][1]),a.lineTo(c[3][0],c[3][1]),a.closePath(),a.moveTo(c[4][0],c[4][1]),a.lineTo(c[5][0],c[5][1]),a.moveTo(c[6][0],c[6][1]),a.lineTo(c[7][0],c[7][1]))},b}(hy);function CG(a,b,c){var d,e,f=a.ends;return new CF({shape:{points:c?(d=f,e=a,aY(d,function(a){return(a=a.slice())[1]=e.initBaseline,a})):f},z2:100})}function CH(a,b){for(var c=!0,d=0;d<b.ends.length;d++)if(a.contain(b.ends[d][0],b.ends[d][1])){c=!1;break}return c}function CI(a,b,c,d){var e=b.getItemModel(c);a.useStyle(b.getItemVisual(c,"style")),a.style.strokeNoScale=!0,a.__simpleBox=d,iJ(a,e);var f=b.getItemLayout(c).sign;aX(a.states,function(a,b){var c=e.getModel(b),d=Cz(f,c),g=CA(f,c)||d,h=a.style||(a.style={});d&&(h.fill=d),g&&(h.stroke=g)});var g=e.getModel("emphasis");iF(a,g.get("focus"),g.get("blurScope"),g.get("disabled"))}var CJ=function(){},CK=function(a){function b(b){var c=a.call(this,b)||this;return c.type="largeCandlestickBox",c}return aq(b,a),b.prototype.getDefaultShape=function(){return new CJ},b.prototype.buildPath=function(a,b){for(var c=b.points,d=0;d<c.length;)if(this.__sign===c[d++]){var e=c[d++];a.moveTo(e,c[d++]),a.lineTo(e,c[d++])}else d+=3},b}(hy);function CL(a,b,c,d){var e=a.getData(),f=e.getLayout("largePoints"),g=new CK({shape:{points:f},__sign:1,ignoreCoarsePointer:!0});b.add(g);var h=new CK({shape:{points:f},__sign:-1,ignoreCoarsePointer:!0});b.add(h);var i=new CK({shape:{points:f},__sign:0,ignoreCoarsePointer:!0});b.add(i),CM(1,g,a,e),CM(-1,h,a,e),CM(0,i,a,e),d&&(g.incremental=!0,h.incremental=!0),c&&c.push(g,h)}function CM(a,b,c,d){var e=CA(a,c)||Cz(a,c),f=c.getModel("itemStyle").getItemStyle(CC);b.useStyle(f),b.style.fill=null,b.style.stroke=e}var CN=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],c}return aq(b,a),b.prototype.getShadowDim=function(){return"open"},b.prototype.brushSelector=function(a,b,c){var d=b.getItemLayout(a);return d&&c.rect(d.brushRect)},b.type="series.candlestick",b.dependencies=["xAxis","yAxis","grid"],b.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},b}(mE);function CO(a){a&&a3(a.series)&&aX(a.series,function(a){a8(a)&&"k"===a.type&&(a.type="candlestick")})}aV(CN,Ck,!0);var CP={seriesType:"candlestick",plan:mH(),reset:function(a){var b,c,d,e,f,g,h,i,j=a.coordinateSystem,k=a.getData(),l=(b=a,c=k,f="category"===(e=b.getBaseAxis()).type?e.getBandWidth():Math.abs((d=e.getExtent())[1]-d[0])/c.count(),g=fs(bh(b.get("barMaxWidth"),f),f),h=fs(bh(b.get("barMinWidth"),1),f),null!=(i=b.get("barWidth"))?fs(i,f):Math.max(Math.min(f/2,g),h)),m=k.getDimensionIndex(k.mapDimension("x")),n=aY(k.mapDimensionsAll("y"),k.getDimensionIndex,k),o=n[0],p=n[1],q=n[2],r=n[3];if(k.setLayout({candleWidth:l,isSimpleBox:l<=1.3}),!(m<0)&&!(n.length<4))return{progress:a.pipelineContext.large?function(b,c){for(var d,e,f=rB(4*b.count),g=0,h=[],i=[],k=c.getStore(),l=!!a.get(["itemStyle","borderColorDoji"]);null!=(e=b.next());){var n=k.get(m,e),s=k.get(o,e),t=k.get(p,e),u=k.get(q,e),v=k.get(r,e);if(isNaN(n)||isNaN(u)||isNaN(v)){f[g++]=NaN,g+=3;continue}f[g++]=CQ(k,e,s,t,p,l),h[0]=n,h[1]=u,d=j.dataToPoint(h,null,i),f[g++]=d?d[0]:NaN,f[g++]=d?d[1]:NaN,h[1]=v,d=j.dataToPoint(h,null,i),f[g++]=d?d[1]:NaN}c.setLayout("largePoints",f)}:function(a,b){for(var c,d=b.getStore();null!=(c=a.next());){var e=d.get(m,c),f=d.get(o,c),g=d.get(p,c),h=d.get(q,c),i=d.get(r,c),k=Math.min(f,g),n=Math.max(f,g),s=y(k,e),t=y(n,e),u=y(h,e),v=y(i,e),w=[];z(w,t,0),z(w,s,1),w.push(A(v),A(t),A(u),A(s));var x=!!b.getItemModel(c).get(["itemStyle","borderColorDoji"]);b.setItemLayout(c,{sign:CQ(d,c,f,g,p,x),initBaseline:f>g?t[1]:s[1],ends:w,brushRect:function(a,b,c){var d=y(a,c),e=y(b,c);return d[0]-=l/2,e[0]-=l/2,{x:d[0],y:d[1],width:l,height:e[1]-d[1]}}(h,i,e)})}function y(a,b){var c=[];return c[0]=b,c[1]=a,isNaN(b)||isNaN(a)?[NaN,NaN]:j.dataToPoint(c)}function z(a,b,c){var d=b.slice(),e=b.slice();d[0]=n7(d[0]+l/2,1,!1),e[0]=n7(e[0]-l/2,1,!0),c?a.push(d,e):a.push(e,d)}function A(a){return a[0]=n7(a[0],1),a}}}}};function CQ(a,b,c,d,e,f){return c>d?-1:c<d?1:f?0:b>0?a.get(e,b-1)<=d?1:-1:1}function CR(a,b){var c=b.rippleEffectColor||b.color;a.eachChild(function(a){a.attr({z:b.z,zlevel:b.zlevel,style:{stroke:"stroke"===b.brushType?c:null,fill:"fill"===b.brushType?c:null}})})}var CS=function(a){function b(b,c){var d=a.call(this)||this,e=new us(b,c),f=new fc;return d.add(e),d.add(f),d.updateData(b,c),d}return aq(b,a),b.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},b.prototype.startEffectAnimation=function(a){for(var b=a.symbolType,c=a.color,d=a.rippleNumber,e=this.childAt(1),f=0;f<d;f++){var g=pq(b,-1,-1,2,2,c);g.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var h=-f/d*a.period+a.effectOffset;g.animate("",!0).when(a.period,{scaleX:a.rippleScale/2,scaleY:a.rippleScale/2}).delay(h).start(),g.animateStyle(!0).when(a.period,{opacity:0}).delay(h).start(),e.add(g)}CR(e,a)},b.prototype.updateEffectAnimation=function(a){for(var b=this._effectCfg,c=this.childAt(1),d=["symbolType","period","rippleScale","rippleNumber"],e=0;e<d.length;e++){var f=d[e];if(b[f]!==a[f]){this.stopEffectAnimation(),this.startEffectAnimation(a);return}}CR(c,a)},b.prototype.highlight=function(){iw(this)},b.prototype.downplay=function(){ix(this)},b.prototype.getSymbolType=function(){var a=this.childAt(0);return a&&a.getSymbolType()},b.prototype.updateData=function(a,b){var c=this,d=a.hostModel;this.childAt(0).updateData(a,b);var e=this.childAt(1),f=a.getItemModel(b),g=a.getItemVisual(b,"symbol"),h=pr(a.getItemVisual(b,"symbolSize")),i=a.getItemVisual(b,"style"),j=i&&i.fill,k=f.getModel("emphasis");e.setScale(h),e.traverse(function(a){a.setStyle("fill",j)});var l=ps(a.getItemVisual(b,"symbolOffset"),h);l&&(e.x=l[0],e.y=l[1]),e.rotation=(a.getItemVisual(b,"symbolRotate")||0)*Math.PI/180||0;var m={};m.showEffectOn=d.get("showEffectOn"),m.rippleScale=f.get(["rippleEffect","scale"]),m.brushType=f.get(["rippleEffect","brushType"]),m.period=1e3*f.get(["rippleEffect","period"]),m.effectOffset=b/a.count(),m.z=d.getShallow("z")||0,m.zlevel=d.getShallow("zlevel")||0,m.symbolType=g,m.color=j,m.rippleEffectColor=f.get(["rippleEffect","color"]),m.rippleNumber=f.get(["rippleEffect","number"]),"render"===m.showEffectOn?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(a){"emphasis"===a?"render"!==m.showEffectOn&&c.startEffectAnimation(m):"normal"===a&&"render"!==m.showEffectOn&&c.stopEffectAnimation()}),this._effectCfg=m,iF(this,k.get("focus"),k.get("blurScope"),k.get("disabled"))},b.prototype.fadeOut=function(a){a&&a()},b}(fc),CT=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(){this._symbolDraw=new ux(CS)},b.prototype.render=function(a,b,c){var d=a.getData(),e=this._symbolDraw;e.updateData(d,{clipShape:this._getClipShape(a)}),this.group.add(e.group)},b.prototype._getClipShape=function(a){var b=a.coordinateSystem,c=b&&b.getArea&&b.getArea();return a.get("clip",!0)?c:null},b.prototype.updateTransform=function(a,b,c){var d=a.getData();this.group.dirty();var e=uV("").reset(a,b,c);e.progress&&e.progress({start:0,end:d.count(),count:d.count()},d),this._symbolDraw.updateLayout()},b.prototype._updateGroupTransform=function(a){var b=a.coordinateSystem;b&&b.getRoamTransform&&(this.group.transform=cy(b.getRoamTransform()),this.group.decomposeTransform())},b.prototype.remove=function(a,b){this._symbolDraw&&this._symbolDraw.remove(!0)},b.type="effectScatter",b}(oC),CU=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c}return aq(b,a),b.prototype.getInitialData=function(a,b){return ri(null,this,{useEncodeDefaulter:!0})},b.prototype.brushSelector=function(a,b,c){return c.point(b.getItemLayout(a))},b.type="series.effectScatter",b.dependencies=["grid","polar"],b.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},b}(mE),CV=function(a){function b(b,c,d){var e=a.call(this)||this;return e.add(e.createLine(b,c,d)),e._updateEffectSymbol(b,c),e}return aq(b,a),b.prototype.createLine=function(a,b,c){return new Ag(a,b,c)},b.prototype._updateEffectSymbol=function(a,b){var c=a.getItemModel(b).getModel("effect"),d=c.get("symbolSize"),e=c.get("symbol");a3(d)||(d=[d,d]);var f=a.getItemVisual(b,"style"),g=c.get("color")||f&&f.stroke,h=this.childAt(1);this._symbolType!==e&&(this.remove(h),(h=pq(e,-.5,-.5,1,1,g)).z2=100,h.culling=!0,this.add(h)),h&&(h.setStyle("shadowColor",g),h.setStyle(c.getItemStyle(["color"])),h.scaleX=d[0],h.scaleY=d[1],h.setColor(g),this._symbolType=e,this._symbolScale=d,this._updateEffectAnimation(a,c,b))},b.prototype._updateEffectAnimation=function(a,b,c){var d=this.childAt(1);if(d){var e=a.getItemLayout(c),f=1e3*b.get("period"),g=b.get("loop"),h=b.get("roundTrip"),i=b.get("constantSpeed"),j=bg(b.get("delay"),function(b){return b/a.count()*f/3});if(d.ignore=!0,this._updateAnimationPoints(d,e),i>0&&(f=this._getLineLength(d)/i*1e3),f!==this._period||g!==this._loop||h!==this._roundTrip){d.stopAnimation();var k=void 0;k=a4(j)?j(c):j,d.__t>0&&(k=-f*d.__t),this._animateSymbol(d,f,k,g,h)}this._period=f,this._loop=g,this._roundTrip=h}},b.prototype._animateSymbol=function(a,b,c,d,e){if(b>0){a.__t=0;var f=this,g=a.animate("",d).when(e?2*b:b,{__t:e?2:1}).delay(c).during(function(){f._updateSymbolPosition(a)});d||g.done(function(){f.remove(a)}),g.start()}},b.prototype._getLineLength=function(a){return bU(a.__p1,a.__cp1)+bU(a.__cp1,a.__p2)},b.prototype._updateAnimationPoints=function(a,b){a.__p1=b[0],a.__p2=b[1],a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]},b.prototype.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c),this._updateEffectSymbol(a,b)},b.prototype._updateSymbolPosition=function(a){var b=a.__p1,c=a.__p2,d=a.__cp1,e=a.__t<1?a.__t:2-a.__t,f=[a.x,a.y],g=f.slice();f[0]=dq(b[0],d[0],c[0],e),f[1]=dq(b[1],d[1],c[1],e);var h=a.__t<1?dr(b[0],d[0],c[0],e):dr(c[0],d[0],b[0],1-e),i=a.__t<1?dr(b[1],d[1],c[1],e):dr(c[1],d[1],b[1],1-e);a.rotation=-Math.atan2(i,h)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==a.__lastT&&a.__lastT<a.__t?(a.scaleY=1.05*bU(g,f),1===e&&(f[0]=g[0]+(f[0]-g[0])/2,f[1]=g[1]+(f[1]-g[1])/2)):1===a.__lastT?a.scaleY=2*bU(b,f):a.scaleY=this._symbolScale[1]),a.__lastT=a.__t,a.ignore=!1,a.x=f[0],a.y=f[1]},b.prototype.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)},b}(fc),CW=function(a){function b(b,c,d){var e=a.call(this)||this;return e._createPolyline(b,c,d),e}return aq(b,a),b.prototype._createPolyline=function(a,b,c){var d=new ns({shape:{points:a.getItemLayout(b)}});this.add(d),this._updateCommonStl(a,b,c)},b.prototype.updateData=function(a,b,c){var d=a.hostModel;iR(this.childAt(0),{shape:{points:a.getItemLayout(b)}},d,b),this._updateCommonStl(a,b,c)},b.prototype._updateCommonStl=function(a,b,c){var d=this.childAt(0),e=a.getItemModel(b),f=c&&c.emphasisLineStyle,g=c&&c.focus,h=c&&c.blurScope,i=c&&c.emphasisDisabled;if(!c||a.hasItemOption){var j=e.getModel("emphasis");f=j.getModel("lineStyle").getLineStyle(),i=j.get("disabled"),g=j.get("focus"),h=j.get("blurScope")}d.useStyle(a.getItemVisual(b,"style")),d.style.fill=null,d.style.strokeNoScale=!0,d.ensureState("emphasis").style=f,iF(this,g,h,i)},b.prototype.updateLayout=function(a,b){this.childAt(0).setShape("points",a.getItemLayout(b))},b}(fc),CX=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b._lastFrame=0,b._lastFramePercent=0,b}return aq(b,a),b.prototype.createLine=function(a,b,c){return new CW(a,b,c)},b.prototype._updateAnimationPoints=function(a,b){this._points=b;for(var c=[0],d=0,e=1;e<b.length;e++)d+=bU(b[e-1],b[e]),c.push(d);if(0===d){this._length=0;return}for(var e=0;e<c.length;e++)c[e]/=d;this._offsets=c,this._length=d},b.prototype._getLineLength=function(){return this._length},b.prototype._updateSymbolPosition=function(a){var b,c=a.__t<1?a.__t:2-a.__t,d=this._points,e=this._offsets,f=d.length;if(e){var g=this._lastFrame;if(c<this._lastFramePercent){for(b=Math.min(g+1,f-1);b>=0&&!(e[b]<=c);b--);b=Math.min(b,f-2)}else{for(b=g;b<f&&!(e[b]>c);b++);b=Math.min(b-1,f-2)}var h=(c-e[b])/(e[b+1]-e[b]),i=d[b],j=d[b+1];a.x=i[0]*(1-h)+h*j[0],a.y=i[1]*(1-h)+h*j[1];var k=a.__t<1?j[0]-i[0]:i[0]-j[0],l=a.__t<1?j[1]-i[1]:i[1]-j[1];a.rotation=-Math.atan2(l,k)-Math.PI/2,this._lastFrame=b,this._lastFramePercent=c,a.ignore=!1}},b}(CV),CY=function(){this.polyline=!1,this.curveness=0,this.segs=[]},CZ=function(a){function b(b){var c=a.call(this,b)||this;return c._off=0,c.hoverDataIdx=-1,c}return aq(b,a),b.prototype.reset=function(){this.notClear=!1,this._off=0},b.prototype.getDefaultStyle=function(){return{stroke:kv.color.neutral99,fill:null}},b.prototype.getDefaultShape=function(){return new CY},b.prototype.buildPath=function(a,b){var c,d=b.segs,e=b.curveness;if(b.polyline)for(c=this._off;c<d.length;){var f=d[c++];if(f>0){a.moveTo(d[c++],d[c++]);for(var g=1;g<f;g++)a.lineTo(d[c++],d[c++])}}else for(c=this._off;c<d.length;){var h=d[c++],i=d[c++],j=d[c++],k=d[c++];if(a.moveTo(h,i),e>0){var l=(h+j)/2-(i-k)*e,m=(i+k)/2-(j-h)*e;a.quadraticCurveTo(l,m,j,k)}else a.lineTo(j,k)}this.incremental&&(this._off=c,this.notClear=!0)},b.prototype.findDataIndex=function(a,b){var c=this.shape,d=c.segs,e=c.curveness,f=this.style.lineWidth;if(c.polyline)for(var g=0,h=0;h<d.length;){var i=d[h++];if(i>0)for(var j=d[h++],k=d[h++],l=1;l<i;l++){var m=d[h++],n=d[h++];if(hk(j,k,m,n,f,a,b))return g}g++}else for(var g=0,h=0;h<d.length;){var j=d[h++],k=d[h++],m=d[h++],n=d[h++];if(e>0){var o=(j+m)/2-(k-n)*e,p=(k+n)/2-(m-j)*e;if(hl(j,k,o,p,m,n,f,a,b))return g}else if(hk(j,k,m,n,f,a,b))return g;g++}return -1},b.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect();return(a=c[0],b=c[1],d.contain(a,b))?(this.hoverDataIdx=this.findDataIndex(a,b))>=0:(this.hoverDataIdx=-1,!1)},b.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var b=this.shape.segs,c=1/0,d=1/0,e=-1/0,f=-1/0,g=0;g<b.length;){var h=b[g++],i=b[g++];c=Math.min(h,c),e=Math.max(h,e),d=Math.min(i,d),f=Math.max(i,f)}a=this._rect=new cS(c,d,e,f)}return a},b}(hy),C$=function(){function a(){this.group=new fc}return a.prototype.updateData=function(a){this._clear();var b=this._create();b.setShape({segs:a.getLayout("linesPoints")}),this._setCommon(b,a)},a.prototype.incrementalPrepareUpdate=function(a){this.group.removeAll(),this._clear()},a.prototype.incrementalUpdate=function(a,b){var c=this._newAdded[0],d=b.getLayout("linesPoints"),e=c&&c.shape.segs;if(e&&e.length<2e4){var f=e.length,g=new Float32Array(f+d.length);g.set(e),g.set(d,f),c.setShape({segs:g})}else{this._newAdded=[];var h=this._create();h.incremental=!0,h.setShape({segs:d}),this._setCommon(h,b),h.__startIndex=a.start}},a.prototype.remove=function(){this._clear()},a.prototype.eachRendered=function(a){this._newAdded[0]&&a(this._newAdded[0])},a.prototype._create=function(){var a=new CZ({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(a),this.group.add(a),a},a.prototype._setCommon=function(a,b,c){var d=b.hostModel;a.setShape({polyline:d.get("polyline"),curveness:d.get(["lineStyle","curveness"])}),a.useStyle(d.getModel("lineStyle").getLineStyle()),a.style.strokeNoScale=!0;var e=b.getVisual("style");e&&e.stroke&&a.setStyle("stroke",e.stroke),a.setStyle("fill",null);var f=h2(a);f.seriesIndex=d.seriesIndex,a.on("mousemove",function(b){f.dataIndex=null;var c=a.hoverDataIdx;c>0&&(f.dataIndex=c+a.__startIndex)})},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}(),C_={seriesType:"lines",plan:mH(),reset:function(a){var b=a.coordinateSystem;if(b){var c=a.get("polyline"),d=a.pipelineContext.large;return{progress:function(e,f){var g=[];if(d){var h=void 0,i=e.end-e.start;if(c){for(var j=0,k=e.start;k<e.end;k++)j+=a.getLineCoordsCount(k);h=new Float32Array(i+2*j)}else h=new Float32Array(4*i);for(var l=0,m=[],k=e.start;k<e.end;k++){var n=a.getLineCoords(k,g);c&&(h[l++]=n);for(var o=0;o<n;o++)m=b.dataToPoint(g[o],!1,m),h[l++]=m[0],h[l++]=m[1]}f.setLayout("linesPoints",h)}else for(var k=e.start;k<e.end;k++){var p=f.getItemModel(k),n=a.getLineCoords(k,g),q=[];if(c)for(var r=0;r<n;r++)q.push(b.dataToPoint(g[r]));else{q[0]=b.dataToPoint(g[0]),q[1]=b.dataToPoint(g[1]);var s=p.get(["lineStyle","curveness"]);+s&&(q[2]=[(q[0][0]+q[1][0])/2-(q[0][1]-q[1][1])*s,(q[0][1]+q[1][1])/2-(q[1][0]-q[0][0])*s])}f.setItemLayout(k,q)}}}}}},C0=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){var d=a.getData(),e=this._updateLineDraw(d,a),f=a.get("zlevel"),g=a.get(["effect","trailLength"]),h=c.getZr(),i="svg"===h.painter.getType();i||h.painter.getLayer(f).clear(!0),null==this._lastZlevel||i||h.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(a)&&g>0&&(i||h.configLayer(f,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})),e.updateData(d);var j=a.get("clip",!0)&&uK(a.coordinateSystem,!1,a);j?this.group.setClipPath(j):this.group.removeClipPath(),this._lastZlevel=f,this._finished=!0},b.prototype.incrementalPrepareRender=function(a,b,c){var d=a.getData();this._updateLineDraw(d,a).incrementalPrepareUpdate(d),this._clearLayer(c),this._finished=!1},b.prototype.incrementalRender=function(a,b,c){this._lineDraw.incrementalUpdate(a,b.getData()),this._finished=a.end===b.getData().count()},b.prototype.eachRendered=function(a){this._lineDraw&&this._lineDraw.eachRendered(a)},b.prototype.updateTransform=function(a,b,c){var d=a.getData(),e=a.pipelineContext;if(!this._finished||e.large||e.progressiveRender)return{update:!0};var f=C_.reset(a,b,c);f.progress&&f.progress({start:0,end:d.count(),count:d.count()},d),this._lineDraw.updateLayout(),this._clearLayer(c)},b.prototype._updateLineDraw=function(a,b){var c=this._lineDraw,d=this._showEffect(b),e=!!b.get("polyline"),f=b.pipelineContext.large;return c&&d===this._hasEffet&&e===this._isPolyline&&f===this._isLargeDraw||(c&&c.remove(),c=this._lineDraw=f?new C$:new Ah(e?d?CX:CW:d?CV:Ag),this._hasEffet=d,this._isPolyline=e,this._isLargeDraw=f),this.group.add(c.group),c},b.prototype._showEffect=function(a){return!!a.get(["effect","show"])},b.prototype._clearLayer=function(a){var b=a.getZr();"svg"!==b.painter.getType()&&null!=this._lastZlevel&&b.painter.getLayer(this._lastZlevel).clear(!0)},b.prototype.remove=function(a,b){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(b)},b.prototype.dispose=function(a,b){this.remove(a,b)},b.type="lines",b}(oC),C1="undefined"==typeof Uint32Array?Array:Uint32Array,C2="undefined"==typeof Float64Array?Array:Float64Array;function C3(a){var b=a.data;b&&b[0]&&b[0][0]&&b[0][0].coord&&(a.data=aY(b,function(a){var b={coords:[a[0].coord,a[1].coord]};return a[0].name&&(b.fromName=a[0].name),a[1].name&&(b.toName=a[1].name),aP([b,a[0],a[1]])}))}var C4=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.visualStyleAccessPath="lineStyle",c.visualDrawType="stroke",c}return aq(b,a),b.prototype.init=function(b){b.data=b.data||[],C3(b);var c=this._processFlatCoordsArray(b.data);this._flatCoords=c.flatCoords,this._flatCoordsOffset=c.flatCoordsOffset,c.flatCoords&&(b.data=new Float32Array(c.count)),a.prototype.init.apply(this,arguments)},b.prototype.mergeOption=function(b){if(C3(b),b.data){var c=this._processFlatCoordsArray(b.data);this._flatCoords=c.flatCoords,this._flatCoordsOffset=c.flatCoordsOffset,c.flatCoords&&(b.data=new Float32Array(c.count))}a.prototype.mergeOption.apply(this,arguments)},b.prototype.appendData=function(a){var b=this._processFlatCoordsArray(a.data);b.flatCoords&&(this._flatCoords?(this._flatCoords=bu(this._flatCoords,b.flatCoords),this._flatCoordsOffset=bu(this._flatCoordsOffset,b.flatCoordsOffset)):(this._flatCoords=b.flatCoords,this._flatCoordsOffset=b.flatCoordsOffset),a.data=new Float32Array(b.count)),this.getRawData().appendData(a.data)},b.prototype._getCoordsFromItemModel=function(a){var b=this.getData().getItemModel(a);return b.option instanceof Array?b.option:b.getShallow("coords")},b.prototype.getLineCoordsCount=function(a){return this._flatCoordsOffset?this._flatCoordsOffset[2*a+1]:this._getCoordsFromItemModel(a).length},b.prototype.getLineCoords=function(a,b){if(this._flatCoordsOffset){for(var c=this._flatCoordsOffset[2*a],d=this._flatCoordsOffset[2*a+1],e=0;e<d;e++)b[e]=b[e]||[],b[e][0]=this._flatCoords[c+2*e],b[e][1]=this._flatCoords[c+2*e+1];return d}for(var f=this._getCoordsFromItemModel(a),e=0;e<f.length;e++)b[e]=b[e]||[],b[e][0]=f[e][0],b[e][1]=f[e][1];return f.length},b.prototype._processFlatCoordsArray=function(a){var b=0;if(this._flatCoords&&(b=this._flatCoords.length),a7(a[0])){for(var c=a.length,d=new C1(c),e=new C2(c),f=0,g=0,h=0,i=0;i<c;){h++;var j=a[i++];d[g++]=f+b,d[g++]=j;for(var k=0;k<j;k++){var l=a[i++],m=a[i++];e[f++]=l,e[f++]=m}}return{flatCoordsOffset:new Uint32Array(d.buffer,0,g),flatCoords:e,count:h}}return{flatCoordsOffset:null,flatCoords:null,count:a.length}},b.prototype.getInitialData=function(a,b){var c=new q9(["value"],this);return c.hasItemOption=!1,c.initData(a.data,[],function(a,b,d,e){if(a instanceof Array)return NaN;c.hasItemOption=!0;var f=a.value;if(null!=f)return f instanceof Array?f[e]:f}),c},b.prototype.formatTooltip=function(a,b,c){var d=this.getData().getItemModel(a),e=d.get("name");if(e)return e;var f=d.get("fromName"),g=d.get("toName"),h=[];return null!=f&&h.push(f),null!=g&&h.push(g),mi("nameValue",{name:h.join(" > ")})},b.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},b.prototype.getProgressive=function(){var a=this.option.progressive;return null==a?this.option.large?1e4:this.get("progressive"):a},b.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?2e4:this.get("progressiveThreshold"):a},b.prototype.getZLevelKey=function(){var a=this.getModel("effect"),b=a.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:a.get("show")&&b>0?b+"":""},b.type="series.lines",b.dependencies=["grid","polar","geo","calendar"],b.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},b}(mE);function C5(a){return a instanceof Array||(a=[a,a]),a}let C6={seriesType:"lines",reset:function(a){var b=C5(a.get("symbol")),c=C5(a.get("symbolSize")),d=a.getData();return d.setVisual("fromSymbol",b&&b[0]),d.setVisual("toSymbol",b&&b[1]),d.setVisual("fromSymbolSize",c&&c[0]),d.setVisual("toSymbolSize",c&&c[1]),{dataEach:d.hasItemOption?function(a,b){var c=a.getItemModel(b),d=C5(c.getShallow("symbol",!0)),e=C5(c.getShallow("symbolSize",!0));d[0]&&a.setItemVisual(b,"fromSymbol",d[0]),d[1]&&a.setItemVisual(b,"toSymbol",d[1]),e[0]&&a.setItemVisual(b,"fromSymbolSize",e[0]),e[1]&&a.setItemVisual(b,"toSymbolSize",e[1])}:null}}};var C7=function(){function a(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var a=ax.createCanvas();this.canvas=a}return a.prototype.update=function(a,b,c,d,e,f){var g=this._getBrush(),h=this._getGradient(e,"inRange"),i=this._getGradient(e,"outOfRange"),j=this.pointSize+this.blurSize,k=this.canvas,l=k.getContext("2d"),m=a.length;k.width=b,k.height=c;for(var n=0;n<m;++n){var o=a[n],p=o[0],q=o[1],r=d(o[2]);l.globalAlpha=r,l.drawImage(g,p-j,q-j)}if(!k.width||!k.height)return k;for(var s=l.getImageData(0,0,k.width,k.height),t=s.data,u=0,v=t.length,w=this.minOpacity,x=this.maxOpacity-w;u<v;){var r=t[u+3]/256,y=4*Math.floor(255*r);if(r>0){var z=f(r)?h:i;r>0&&(r=r*x+w),t[u++]=z[y],t[u++]=z[y+1],t[u++]=z[y+2],t[u++]=z[y+3]*r*256}else u+=4}return l.putImageData(s,0,0),k},a.prototype._getBrush=function(){var a=this._brushCanvas||(this._brushCanvas=ax.createCanvas()),b=this.pointSize+this.blurSize,c=2*b;a.width=c,a.height=c;var d=a.getContext("2d");return d.clearRect(0,0,c,c),d.shadowOffsetX=c,d.shadowBlur=this.blurSize,d.shadowColor=kv.color.neutral99,d.beginPath(),d.arc(-b,b,this.pointSize,0,2*Math.PI,!0),d.closePath(),d.fill(),a},a.prototype._getGradient=function(a,b){for(var c=this._gradientPixels,d=c[b]||(c[b]=new Uint8ClampedArray(1024)),e=[0,0,0,0],f=0,g=0;g<256;g++)a[b](g/255,!0,e),d[f++]=e[0],d[f++]=e[1],d[f++]=e[2],d[f++]=e[3];return d},a}();function C8(a){var b=a.dimensions;return"lng"===b[0]&&"lat"===b[1]}var C9=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){b.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(d=b)})}),this._progressiveEls=null,this.group.removeAll();var d,e=a.coordinateSystem;"cartesian2d"===e.type||"calendar"===e.type||"matrix"===e.type?this._renderOnGridLike(a,c,0,a.getData().count()):C8(e)&&this._renderOnGeo(e,a,d,c)},b.prototype.incrementalPrepareRender=function(a,b,c){this.group.removeAll()},b.prototype.incrementalRender=function(a,b,c,d){var e=b.coordinateSystem;e&&(C8(e)?this.render(b,c,d):(this._progressiveEls=[],this._renderOnGridLike(b,d,a.start,a.end,!0)))},b.prototype.eachRendered=function(a){om(this._progressiveEls||this.group,a)},b.prototype._renderOnGridLike=function(a,b,c,d,e){var f,g,h,i,j=a.coordinateSystem,k=uL(j,"cartesian2d"),l=uL(j,"matrix");if(k){var m=j.getAxis("x"),n=j.getAxis("y");f=m.getBandWidth()+.5,g=n.getBandWidth()+.5,h=m.scale.getExtent(),i=n.scale.getExtent()}for(var o=this.group,p=a.getData(),q=a.getModel(["emphasis","itemStyle"]).getItemStyle(),r=a.getModel(["blur","itemStyle"]).getItemStyle(),s=a.getModel(["select","itemStyle"]).getItemStyle(),t=a.get(["itemStyle","borderRadius"]),u=i0(a),v=a.getModel("emphasis"),w=v.get("focus"),x=v.get("blurScope"),y=v.get("disabled"),z=k||l?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],A=c;A<d;A++){var B=void 0,C=p.getItemVisual(A,"style");if(k){var D=p.get(z[0],A),E=p.get(z[1],A);if(isNaN(p.get(z[2],A))||isNaN(D)||isNaN(E)||D<h[0]||D>h[1]||E<i[0]||E>i[1])continue;var F=j.dataToPoint([D,E]);B=new hM({shape:{x:F[0]-f/2,y:F[1]-g/2,width:f,height:g},style:C})}else if(l){var G,H=j.dataToLayout([p.get(z[0],A),p.get(z[1],A)]).rect;if((G=H.x)!=G)continue;B=new hM({z2:1,shape:H,style:C})}else{if(isNaN(p.get(z[1],A)))continue;var I,J,K=j.dataToLayout([p.get(z[0],A)]),H=K.contentRect||K.rect;if((I=H.x)!=I||(J=H.y)!=J)continue;B=new hM({z2:1,shape:H,style:C})}if(p.hasItemOption){var L=p.getItemModel(A),M=L.getModel("emphasis");q=M.getModel("itemStyle").getItemStyle(),r=L.getModel(["blur","itemStyle"]).getItemStyle(),s=L.getModel(["select","itemStyle"]).getItemStyle(),t=L.get(["itemStyle","borderRadius"]),w=M.get("focus"),x=M.get("blurScope"),y=M.get("disabled"),u=i0(L)}B.shape.r=t;var N=a.getRawValue(A),O="-";N&&null!=N[2]&&(O=N[2]+""),i_(B,u,{labelFetcher:a,labelDataIndex:A,defaultOpacity:C.opacity,defaultText:O}),B.ensureState("emphasis").style=q,B.ensureState("blur").style=r,B.ensureState("select").style=s,iF(B,w,x,y),B.incremental=e,e&&(B.states.emphasis.hoverLayer=!0),o.add(B),p.setItemGraphicEl(A,B),this._progressiveEls&&this._progressiveEls.push(B)}},b.prototype._renderOnGeo=function(a,b,c,d){var e,f,g,h,i,j,k,l=c.targetVisuals.inRange,m=c.targetVisuals.outOfRange,n=b.getData(),o=this._hmLayer||this._hmLayer||new C7;o.blurSize=b.get("blurSize"),o.pointSize=b.get("pointSize"),o.minOpacity=b.get("minOpacity"),o.maxOpacity=b.get("maxOpacity");var p=a.getViewRect().clone(),q=a.getRoamTransform();p.applyTransform(q);var r=Math.max(p.x,0),s=Math.max(p.y,0),t=Math.min(p.width+p.x,d.getWidth()),u=Math.min(p.height+p.y,d.getHeight()),v=t-r,w=u-s,x=[n.mapDimension("lng"),n.mapDimension("lat"),n.mapDimension("value")],y=n.mapArray(x,function(b,c,d){var e=a.dataToPoint([b,c]);return e[0]-=r,e[1]-=s,e.push(d),e}),z=c.getExtent(),A="visualMap.continuous"===c.type?(e=c.option.range,f=z[1]-z[0],e=[(e[0]-z[0])/f,(e[1]-z[0])/f],function(a){return a>=e[0]&&a<=e[1]}):(g=c.getPieceList(),h=c.option.selected,i=z[1]-z[0],j=(g=aY(g,function(a){return{interval:[(a.interval[0]-z[0])/i,(a.interval[1]-z[0])/i]}})).length,k=0,function(a){var b;for(b=k;b<j;b++){var c=g[b].interval;if(c[0]<=a&&a<=c[1]){k=b;break}}if(b===j)for(b=k-1;b>=0;b--){var c=g[b].interval;if(c[0]<=a&&a<=c[1]){k=b;break}}return b>=0&&b<j&&h[b]});o.update(y,v,w,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:m.color.getColorMapper()},A);var B=new hE({style:{width:v,height:w,x:r,y:s,image:o.canvas},silent:!0});this.group.add(B)},b.type="heatmap",b}(oC),Da=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.getInitialData=function(a,b){return ri(null,this,{generateCoord:"value"})},b.prototype.preventIncremental=function(){var a=j6.get(this.get("coordinateSystem"));if(a&&a.dimensions)return"lng"===a.dimensions[0]&&"lat"===a.dimensions[1]},b.type="series.heatmap",b.dependencies=["grid","geo","calendar","matrix"],b.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:kv.color.primary}}},b}(mE),Db=["itemStyle","borderWidth"],Dc=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Dd=new m1,De=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){var d=this.group,e=a.getData(),f=this._data,g=a.coordinateSystem,h=g.getBaseAxis().isHorizontal(),i=g.master.getRect(),j={ecSize:{width:c.getWidth(),height:c.getHeight()},seriesModel:a,coordSys:g,coordSysExtent:[[i.x,i.x+i.width],[i.y,i.y+i.height]],isHorizontal:h,valueDim:Dc[+h],categoryDim:Dc[1-h]};e.diff(f).add(function(a){if(e.hasValue(a)){var b=Dm(e,a),c=Df(e,a,b,j),f=Dp(e,j,c);e.setItemGraphicEl(a,f),d.add(f),Du(f,j,c)}}).update(function(a,b){var c,g,h,i,k,l=f.getItemGraphicEl(b);if(!e.hasValue(a))return void d.remove(l);var m=Dm(e,a),n=Df(e,a,m,j),o=Dr(e,n);l&&o!==l.__pictorialShapeStr&&(d.remove(l),e.setItemGraphicEl(a,null),l=null),l?(c=l,g=j,i=(h=n).animationModel,k=h.dataIndex,iR(c.__pictorialBundle,{x:h.bundlePosition[0],y:h.bundlePosition[1]},i,k),h.symbolRepeat?Di(c,g,h,!0):Dj(c,g,h,!0),Dk(c,h,!0),Dl(c,g,h,!0)):l=Dp(e,j,n,!0),e.setItemGraphicEl(a,l),l.__pictorialSymbolMeta=n,d.add(l),Du(l,j,n)}).remove(function(a){var b=f.getItemGraphicEl(a);b&&Dq(f,a,b.__pictorialSymbolMeta.animationModel,b)}).execute();var k=a.get("clip",!0)?uK(a.coordinateSystem,!1,a):null;return k?d.setClipPath(k):d.removeClipPath(),this._data=e,this.group},b.prototype.remove=function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){Dq(d,h2(b).dataIndex,a,b)}):c.removeAll()},b.type="pictorialBar",b}(oC);function Df(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=a.getItemLayout(b),A=c.get("symbolRepeat"),B=c.get("symbolClip"),C=c.get("symbolPosition")||"start",D=(c.get("symbolRotate")||0)*Math.PI/180||0,E=c.get("symbolPatternSize")||2,F=c.isAnimationEnabled(),G={dataIndex:b,layout:z,itemModel:c,symbolType:a.getItemVisual(b,"symbol")||"circle",style:a.getItemVisual(b,"style"),symbolClip:B,symbolRepeat:A,symbolRepeatDirection:c.get("symbolRepeatDirection"),symbolPatternSize:E,rotation:D,animationModel:F?c:null,hoverScale:F&&c.get(["emphasis","scale"]),z2:c.getShallow("z",!0)||0};(function(a,b,c,d,e){var f,g=d.valueDim,h=a.get("symbolBoundingData"),i=d.coordSys.getOtherAxis(d.coordSys.getBaseAxis()),j=i.toGlobalCoord(i.dataToCoord(0)),k=1-(c[g.wh]<=0);if(a3(h)){var l=[Dg(i,h[0])-j,Dg(i,h[1])-j];l[1]<l[0]&&l.reverse(),f=l[k]}else f=null!=h?Dg(i,h)-j:b?d.coordSysExtent[g.index][k]-j:c[g.wh];e.boundingLength=f,b&&(e.repeatCutLength=c[g.wh]);var m="x"===g.xy,n=i.inverse;e.pxSign=m&&!n||!m&&n?f>=0?1:-1:f>0?1:-1})(c,A,z,d,G),e=a,f=b,g=z,h=A,i=G.boundingLength,j=G.pxSign,k=E,l=d,m=G,o=l.valueDim,q=Math.abs(g[(p=l.categoryDim).wh]),(n=a3(r=e.getItemVisual(f,"symbolSize"))?r.slice():null==r?["100%","100%"]:[r,r])[p.index]=fs(n[p.index],q),n[o.index]=fs(n[o.index],h?q:Math.abs(i)),m.symbolSize=n,s=m.symbolScale=[n[0]/k,n[1]/k],s[o.index]*=(l.isHorizontal?-1:1)*j,t=c,u=G.symbolScale,v=D,w=d,x=G,(y=t.get(Db)||0)&&(Dd.attr({scaleX:u[0],scaleY:u[1],rotation:v}),Dd.updateTransform(),y/=Dd.getLineScale(),y*=u[w.valueDim.index]),x.valueLineWidth=y||0;var H=G.symbolSize,I=ps(c.get("symbolOffset"),H);return function(a,b,c,d,e,f,g,h,i,j,k,l){var m=k.categoryDim,n=k.valueDim,o=l.pxSign,p=Math.max(b[n.index]+h,0),q=p;if(d){var r=Math.abs(i),s=bg(a.get("symbolMargin"),"15%")+"",t=!1;s.lastIndexOf("!")===s.length-1&&(t=!0,s=s.slice(0,s.length-1));var u=fs(s,b[n.index]),v=Math.max(p+2*u,0),w=t?0:2*u,x=fM(d),y=x?d:Dv((r+w)/v);u=(r-y*p)/2/(t?y:Math.max(y-1,1)),v=p+2*u,w=t?0:2*u,x||"fixed"===d||(y=j?Dv((Math.abs(j)+w)/v):0),q=y*v-w,l.repeatTimes=y,l.symbolMargin=u}var z=q/2*o,A=l.pathPosition=[];A[m.index]=c[m.wh]/2,A[n.index]="start"===g?z:"end"===g?i-z:i/2,f&&(A[0]+=f[0],A[1]+=f[1]);var B=l.bundlePosition=[];B[m.index]=c[m.xy],B[n.index]=c[n.xy];var C=l.barRectShape=aQ({},c);C[n.wh]=o*Math.max(Math.abs(c[n.wh]),Math.abs(A[n.index]+z)),C[m.wh]=c[m.wh];var D=l.clipShape={};D[m.xy]=-c[m.xy],D[m.wh]=k.ecSize[m.wh],D[n.xy]=0,D[n.wh]=c[n.wh]}(c,H,z,A,0,I,C,G.valueLineWidth,G.boundingLength,G.repeatCutLength,d,G),G}function Dg(a,b){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(b)))}function Dh(a){var b=a.symbolPatternSize,c=pq(a.symbolType,-b/2,-b/2,b,b);return c.attr({culling:!0}),"image"!==c.type&&c.setStyle({strokeNoScale:!0}),c}function Di(a,b,c,d){var e=a.__pictorialBundle,f=c.symbolSize,g=c.valueLineWidth,h=c.pathPosition,i=b.valueDim,j=c.repeatTimes||0,k=0,l=f[b.valueDim.index]+g+2*c.symbolMargin;for(Ds(a,function(a){a.__pictorialAnimationIndex=k,a.__pictorialRepeatTimes=j,k<j?Dt(a,null,o(k),c,d):Dt(a,null,{scaleX:0,scaleY:0},c,d,function(){e.remove(a)}),k++});k<j;k++){var m=Dh(c);m.__pictorialAnimationIndex=k,m.__pictorialRepeatTimes=j,e.add(m);var n=o(k);Dt(m,{x:n.x,y:n.y,scaleX:0,scaleY:0},{scaleX:n.scaleX,scaleY:n.scaleY,rotation:n.rotation},c,d)}function o(a){var b=h.slice(),d=c.pxSign,e=a;return("start"===c.symbolRepeatDirection?d>0:d<0)&&(e=j-1-a),b[i.index]=l*(e-j/2+.5)+h[i.index],{x:b[0],y:b[1],scaleX:c.symbolScale[0],scaleY:c.symbolScale[1],rotation:c.rotation}}}function Dj(a,b,c,d){var e=a.__pictorialBundle,f=a.__pictorialMainPath;f?Dt(f,null,{x:c.pathPosition[0],y:c.pathPosition[1],scaleX:c.symbolScale[0],scaleY:c.symbolScale[1],rotation:c.rotation},c,d):(f=a.__pictorialMainPath=Dh(c),e.add(f),Dt(f,{x:c.pathPosition[0],y:c.pathPosition[1],scaleX:0,scaleY:0,rotation:c.rotation},{scaleX:c.symbolScale[0],scaleY:c.symbolScale[1]},c,d))}function Dk(a,b,c){var d=aQ({},b.barRectShape),e=a.__pictorialBarRect;e?Dt(e,null,{shape:d},b,c):((e=a.__pictorialBarRect=new hM({z2:2,shape:d,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,a.add(e))}function Dl(a,b,c,d){if(c.symbolClip){var e=a.__pictorialClipPath,f=aQ({},c.clipShape),g=b.valueDim,h=c.animationModel,i=c.dataIndex;if(e)iR(e,{shape:f},h,i);else{f[g.wh]=0,e=new hM({shape:f}),a.__pictorialBundle.setClipPath(e),a.__pictorialClipPath=e;var j={};j[g.wh]=c.clipShape[g.wh],ai[d?"updateProps":"initProps"](e,{shape:j},h,i)}}}function Dm(a,b){var c=a.getItemModel(b);return c.getAnimationDelayParams=Dn,c.isAnimationEnabled=Do,c}function Dn(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function Do(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Dp(a,b,c,d){var e=new fc,f=new fc;return e.add(f),e.__pictorialBundle=f,f.x=c.bundlePosition[0],f.y=c.bundlePosition[1],c.symbolRepeat?Di(e,b,c):Dj(e,b,c),Dk(e,c,d),Dl(e,b,c,d),e.__pictorialShapeStr=Dr(a,c),e.__pictorialSymbolMeta=c,e}function Dq(a,b,c,d){var e=d.__pictorialBarRect;e&&e.removeTextContent();var f=[];Ds(d,function(a){f.push(a)}),d.__pictorialMainPath&&f.push(d.__pictorialMainPath),d.__pictorialClipPath&&(c=null),aX(f,function(a){iU(a,{scaleX:0,scaleY:0},c,b,function(){d.parent&&d.parent.remove(d)})}),a.setItemGraphicEl(b,null)}function Dr(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function Ds(a,b,c){aX(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function Dt(a,b,c,d,e,f){b&&a.attr(b),d.symbolClip&&!e?c&&a.attr(c):c&&ai[e?"updateProps":"initProps"](a,c,d.animationModel,d.dataIndex,f)}function Du(a,b,c){var d=c.dataIndex,e=c.itemModel,f=e.getModel("emphasis"),g=f.getModel("itemStyle").getItemStyle(),h=e.getModel(["blur","itemStyle"]).getItemStyle(),i=e.getModel(["select","itemStyle"]).getItemStyle(),j=e.getShallow("cursor"),k=f.get("focus"),l=f.get("blurScope"),m=f.get("scale");Ds(a,function(a){if(a instanceof hE){var b=a.style;a.useStyle(aQ({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},c.style))}else a.useStyle(c.style);var d=a.ensureState("emphasis");d.style=g,m&&(d.scaleX=1.1*a.scaleX,d.scaleY=1.1*a.scaleY),a.ensureState("blur").style=h,a.ensureState("select").style=i,j&&(a.cursor=j),a.z2=c.z2});var n=b.valueDim.posDesc[+(c.boundingLength>0)],o=a.__pictorialBarRect;o.ignoreClip=!0,i_(o,i0(e),{labelFetcher:b.seriesModel,labelDataIndex:d,defaultText:uq(b.seriesModel.getData(),d),inheritColor:c.style.fill,defaultOpacity:c.style.opacity,defaultOutsidePosition:n}),iF(a,k,l,f.get("disabled"))}function Dv(a){var b=Math.round(a);return 1e-4>Math.abs(a-b)?b:Math.ceil(a)}var Dw=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.hasSymbolVisual=!0,c.defaultSymbol="roundRect",c}return aq(b,a),b.prototype.getInitialData=function(b){return b.stack=null,a.prototype.getInitialData.apply(this,arguments)},b.type="series.pictorialBar",b.dependencies=["grid"],b.defaultOption=jq(uZ.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:kv.color.primary}}}),b}(uZ),Dx=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._layers=[],c}return aq(b,a),b.prototype.render=function(a,b,c){var d=a.getData(),e=this,f=this.group,g=a.getLayerSeries(),h=d.getLayout("layoutInfo"),i=h.rect,j=h.boundaryGap;function k(a){return a.name}f.x=0,f.y=i.y+j[0];var l=new qV(this._layersSeries||[],g,k,k),m=[];function n(b,c,h){var i,j,k=e._layers;if("remove"===b)return void f.remove(k[c]);for(var l=[],n=[],o=g[c].indices,p=0;p<o.length;p++){var q=d.getItemLayout(o[p]),r=q.x,s=q.y0,t=q.y;l.push(r,s),n.push(r,s+t),i=d.getItemVisual(o[p],"style")}var u=d.getItemLayout(o[0]),v=a.getModel("label").get("margin"),w=a.getModel("emphasis");if("add"===b){var x,y,z,A,B=m[c]=new fc;j=new uH({shape:{points:l,stackedOnPoints:n,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),B.add(j),f.add(B),a.isAnimationEnabled()&&j.setClipPath((x=j.getBoundingRect(),y=a,z=function(){j.removeClipPath()},iS(A=new hM({shape:{x:x.x-10,y:x.y-10,width:0,height:x.height+20}}),{shape:{x:x.x-50,width:x.width+100,height:x.height+20}},y,z),A))}else{var B=k[h];j=B.childAt(0),f.add(B),m[c]=B,iR(j,{shape:{points:l,stackedOnPoints:n}},a),iX(j)}i_(j,i0(a),{labelDataIndex:o[p-1],defaultText:d.getName(o[p-1]),inheritColor:i.fill},{normal:{verticalAlign:"middle"}}),j.setTextConfig({position:null,local:!0});var C=j.getTextContent();C&&(C.x=u.x-v,C.y=u.y0+u.y/2),j.useStyle(i),d.setItemGraphicEl(c,j),iJ(j,a),iF(j,w.get("focus"),w.get("blurScope"),w.get("disabled"))}l.add(a1(n,this,"add")).update(a1(n,this,"update")).remove(a1(n,this,"remove")).execute(),this._layersSeries=g,this._layers=m},b.type="themeRiver",b}(oC),Dy=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(b){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new vB(a1(this.getData,this),a1(this.getRawData,this))},b.prototype.fixData=function(a){var b=a.length,c={},d=f8(a,function(a){return c.hasOwnProperty(a[0]+"")||(c[a[0]+""]=-1),a[2]}),e=[];d.buckets.each(function(a,b){e.push({name:b,dataList:a})});for(var f=e.length,g=0;g<f;++g){for(var h=e[g].name,i=0;i<e[g].dataList.length;++i){var j=e[g].dataList[i][0]+"";c[j]=g}for(var j in c)c.hasOwnProperty(j)&&c[j]!==g&&(c[j]=g,a[b]=[j,0,h],b++)}return a},b.prototype.getInitialData=function(a,b){for(var c=this.getReferringComponents("singleAxis",f4).models[0].get("type"),d=a$(a.data,function(a){return void 0!==a[2]}),e=this.fixData(d||[]),f=[],g=this.nameMap=bt(),h=0,i=0;i<e.length;++i)f.push(e[i][2]),!g.get(e[i][2])&&(g.set(e[i][2],h),h++);var j=new q9(rb(e,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:qY(c)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,this);return j.initData(e),j},b.prototype.getLayerSeries=function(){for(var a=this.getData(),b=a.count(),c=[],d=0;d<b;++d)c[d]=d;var e=a.mapDimension("single"),f=f8(c,function(b){return a.get("name",b)}),g=[];return f.buckets.each(function(b,c){b.sort(function(b,c){return a.get(e,b)-a.get(e,c)}),g.push({name:c,indices:b})}),g},b.prototype.getAxisTooltipData=function(a,b,c){a3(a)||(a=a?[a]:[]);for(var d,e=this.getData(),f=this.getLayerSeries(),g=[],h=f.length,i=0;i<h;++i){for(var j=Number.MAX_VALUE,k=-1,l=f[i].indices.length,m=0;m<l;++m){var n=e.get(a[0],f[i].indices[m]),o=Math.abs(n-b);o<=j&&(d=n,j=o,k=f[i].indices[m])}g.push(k)}return{dataIndices:g,nestestValue:d}},b.prototype.formatTooltip=function(a,b,c){var d=this.getData();return mi("nameValue",{name:d.getName(a),value:d.get(d.mapDimension("value"),a)})},b.type="series.themeRiver",b.dependencies=["singleAxis"],b.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},b}(mE);function Dz(a,b){a.eachSeriesByType("themeRiver",function(a){var b=a.getData(),c=a.coordinateSystem,d={},e=c.getRect();d.rect=e;var f=a.get("boundaryGap"),g=c.getAxis();d.boundaryGap=f,"horizontal"===g.orient?(f[0]=fs(f[0],e.height),f[1]=fs(f[1],e.height),DA(b,a,e.height-f[0]-f[1])):(f[0]=fs(f[0],e.width),f[1]=fs(f[1],e.width),DA(b,a,e.width-f[0]-f[1])),b.setLayout("layoutInfo",d)})}function DA(a,b,c){if(a.count())for(var d,e=b.coordinateSystem,f=b.getLayerSeries(),g=a.mapDimension("single"),h=a.mapDimension("value"),i=aY(f,function(b){return aY(b.indices,function(b){var c=e.dataToPoint(a.get(g,b));return c[1]=a.get(h,b),c})}),j=function(a){for(var b=a.length,c=a[0].length,d=[],e=[],f=0,g=0;g<c;++g){for(var h=0,i=0;i<b;++i)h+=a[i][g][1];h>f&&(f=h),d.push(h)}for(var j=0;j<c;++j)e[j]=(f-d[j])/2;f=0;for(var k=0;k<c;++k){var l=d[k]+e[k];l>f&&(f=l)}return{y0:e,max:f}}(i),k=j.y0,l=c/j.max,m=f.length,n=f[0].indices.length,o=0;o<n;++o){d=k[o]*l,a.setItemLayout(f[0].indices[o],{layerIndex:0,x:i[0][o][0],y0:d,y:i[0][o][1]*l});for(var p=1;p<m;++p)d+=i[p-1][o][1]*l,a.setItemLayout(f[p].indices[o],{layerIndex:p,x:i[p][o][0],y0:d,y:i[p][o][1]*l})}}var DB=function(a){function b(b,c,d,e){var f=a.call(this)||this;f.z2=2,f.textConfig={inside:!0},h2(f).seriesIndex=c.seriesIndex;var g=new h1({z2:4,silent:b.getModel().get(["label","silent"])});return f.setTextContent(g),f.updateData(!0,b,c,d,e),f}return aq(b,a),b.prototype.updateData=function(a,b,c,d,e){this.node=b,b.piece=this,c=c||this._seriesModel,d=d||this._ecModel;var f=this;h2(f).dataIndex=b.dataIndex;var g=b.getModel(),h=g.getModel("emphasis"),i=b.getLayout(),j=aQ({},i);j.label=null;var k=b.getVisual("style");k.lineJoin="bevel";var l=b.getVisual("decal");l&&(k.decal=pR(l,e));var m=u3(g.getModel("itemStyle"),j,!0);aQ(j,m),aX(h8,function(a){var b=f.ensureState(a),c=g.getModel([a,"itemStyle"]);b.style=c.getItemStyle();var d=u3(c,j);d&&(b.shape=d)}),a?(f.setShape(j),f.shape.r=i.r0,iS(f,{shape:{r:i.r}},c,b.dataIndex)):(iR(f,{shape:j},c),iX(f)),f.useStyle(k),this._updateLabel(c);var n=g.getShallow("cursor");n&&f.attr("cursor",n),this._seriesModel=c||this._seriesModel,this._ecModel=d||this._ecModel;var o=h.get("focus");iF(this,"relative"===o?bu(b.getAncestorsIndices(),b.getDescendantIndices()):"ancestor"===o?b.getAncestorsIndices():"descendant"===o?b.getDescendantIndices():o,h.get("blurScope"),h.get("disabled"))},b.prototype._updateLabel=function(a){var b=this,c=this.node.getModel(),d=c.getModel("label"),e=this.node.getLayout(),f=e.endAngle-e.startAngle,g=(e.startAngle+e.endAngle)/2,h=Math.cos(g),i=Math.sin(g),j=this,k=j.getTextContent(),l=this.node.dataIndex,m=d.get("minAngle")/180*Math.PI;function n(a,b){var c=a.get(b);return null==c?d.get(b):c}k.ignore=!(d.get("show")&&!(null!=m&&Math.abs(f)<m)),aX(h9,function(d){var m,o="normal"===d?c.getModel("label"):c.getModel([d,"label"]),p="normal"===d,q=p?k:k.ensureState(d),r=a.getFormattedLabel(l,d);p&&(r=r||b.node.name),q.style=i1(o,{},null,"normal"!==d,!0),r&&(q.style.text=r);var s=o.get("show");null==s||p||(q.ignore=!s);var t=n(o,"position"),u=p?j:j.states[d],v=u.style.fill;u.textConfig={outsideFill:"inherit"===o.get("color")?v:null,inside:"outside"!==t};var w=n(o,"distance")||0,x=n(o,"align"),y=n(o,"rotate"),z=.5*Math.PI,A=1.5*Math.PI,B=hn("tangential"===y?Math.PI/2-g:g),C=B>z&&!fD(B-z)&&B<A;"outside"===t?(m=e.r+w,x=C?"right":"left"):x&&"center"!==x?"left"===x?(m=e.r0+w,x=C?"right":"left"):"right"===x&&(m=e.r-w,x=C?"left":"right"):(m=f===2*Math.PI&&0===e.r0?0:(e.r+e.r0)/2,x="center"),q.style.align=x,q.style.verticalAlign=n(o,"verticalAlign")||"middle",q.x=m*h+e.cx,q.y=m*i+e.cy;var D=0;"radial"===y?D=hn(-g)+(C?Math.PI:0):"tangential"===y?D=hn(Math.PI/2-g)+(C?Math.PI:0):a7(y)&&(D=y*Math.PI/180),q.rotation=hn(D)}),k.dirtyStyle()},b}(ni),DC="sunburstRootToNode",DD="sunburstHighlight",DE=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c,d){var e,f,g=this;this.seriesModel=a,this.api=c,this.ecModel=b;var h=a.getData(),i=h.tree.root,j=a.getViewRoot(),k=this.group,l=a.get("renderLabelForZeroData"),m=[];j.eachNode(function(a){m.push(a)}),function(d,e){function f(a){return a.getId()}function g(f,g){!function(d,e){if(l||!d||d.getValue()||(d=null),d!==i&&e!==i){if(e&&e.piece){var f;d?(e.piece.updateData(!1,d,a,b,c),h.setItemGraphicEl(d.dataIndex,e.piece)):(f=e)&&f.piece&&(k.remove(f.piece),f.piece=null)}else if(d){var g=new DB(d,a,b,c);k.add(g),h.setItemGraphicEl(d.dataIndex,g)}}}(null==f?null:d[f],null==g?null:e[g])}(0!==d.length||0!==e.length)&&new qV(e,d,f,f).add(g).update(g).remove(a2(g,null)).execute()}(m,this._oldChildren||[]),e=i,(f=j).depth>0?(g.virtualPiece?g.virtualPiece.updateData(!1,e,a,b,c):(g.virtualPiece=new DB(e,a,b,c),k.add(g.virtualPiece)),f.piece.off("click"),g.virtualPiece.on("click",function(a){g._rootToNode(f.parentNode)})):g.virtualPiece&&(k.remove(g.virtualPiece),g.virtualPiece=null),this._initEvents(),this._oldChildren=m},b.prototype._initEvents=function(){var a=this;this.group.off("click"),this.group.on("click",function(b){var c=!1;a.seriesModel.getViewRoot().eachNode(function(d){if(!c&&d.piece&&d.piece===b.target){var e=d.getModel().get("nodeClick");if("rootToNode"===e)a._rootToNode(d);else if("link"===e){var f=d.getModel(),g=f.get("link");g&&j3(g,f.get("target",!0)||"_blank")}c=!0}})})},b.prototype._rootToNode=function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:DC,from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},b.prototype.containPoint=function(a,b){var c=b.getData().getItemLayout(0);if(c){var d=a[0]-c.cx,e=a[1]-c.cy,f=Math.sqrt(d*d+e*e);return f<=c.r&&f>=c.r0}},b.type="sunburst",b}(oC),DF=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.ignoreStyleOnData=!0,c}return aq(b,a),b.prototype.getInitialData=function(a,b){var c={name:a.name,children:a.data};!function a(b){var c=0;aX(b.children,function(b){a(b);var d=b.value;a3(d)&&(d=d[0]),c+=d});var d=b.value;a3(d)&&(d=d[0]),(null==d||isNaN(d))&&(d=c),d<0&&(d=0),a3(b.value)?b.value[0]=d:b.value=d}(c);var d=this._levelModels=aY(a.levels||[],function(a){return new jn(a,this,b)},this),e=yY.createTree(c,this,function(a){a.wrapMethod("getItemModel",function(a,b){var c=d[e.getNodeByDataIndex(b).depth];return c&&(a.parentModel=c),a})});return e.data},b.prototype.optionUpdated=function(){this.resetViewRoot()},b.prototype.getDataParams=function(b){var c=a.prototype.getDataParams.apply(this,arguments);return c.treePathInfo=y0(this.getData().tree.getNodeByDataIndex(b),this),c},b.prototype.getLevelModel=function(a){return this._levelModels&&this._levelModels[a.depth]},b.prototype.getViewRoot=function(){return this._viewRoot},b.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)},b.prototype.enableAriaDecal=function(){y6(this)},b.type="series.sunburst",b.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},b}(mE),DG=Math.PI/180;function DH(a,b,c){b.eachSeriesByType(a,function(a){var b=a.get("center"),d=a.get("radius");a3(d)||(d=[0,d]),a3(b)||(b=[b,b]);var e=c.getWidth(),f=c.getHeight(),g=Math.min(e,f),h=fs(b[0],e),i=fs(b[1],f),j=fs(d[0],g/2),k=fs(d[1],g/2),l=-a.get("startAngle")*DG,m=a.get("minAngle")*DG,n=a.getData().tree.root,o=a.getViewRoot(),p=o.depth,q=a.get("sort");null!=q&&function a(b,c){var d=b.children||[];b.children=function(a,b){if(a4(b)){var c=aY(a,function(a,b){var c=a.getValue();return{params:{depth:a.depth,height:a.height,dataIndex:a.dataIndex,getValue:function(){return c}},index:b}});return c.sort(function(a,c){return b(a.params,c.params)}),aY(c,function(b){return a[b.index]})}var d="asc"===b;return a.sort(function(a,b){var c=(a.getValue()-b.getValue())*(d?1:-1);return 0===c?(a.dataIndex-b.dataIndex)*(d?-1:1):c})}(d,c),d.length&&aX(b.children,function(b){a(b,c)})}(o,q);var r=0;aX(o.children,function(a){!isNaN(a.getValue())&&r++});var s=o.getValue(),t=Math.PI/(s||r)*2,u=o.depth>0,v=(k-j)/(o.height-(u?-1:1)||1),w=a.get("clockwise"),x=a.get("stillShowZeroSum"),y=w?1:-1,z=function(b,c){if(b){var d=c;if(b!==n){var e=b.getValue(),f=0===s&&x?t:e*t;f<m&&(f=m),d=c+y*f;var k=b.depth-p-(u?-1:1),l=j+v*k,o=j+v*(k+1),q=a.getLevelModel(b);if(q){var r=q.get("r0",!0),A=q.get("r",!0),B=q.get("radius",!0);null!=B&&(r=B[0],A=B[1]),null!=r&&(l=fs(r,g/2)),null!=A&&(o=fs(A,g/2))}b.setLayout({angle:f,startAngle:c,endAngle:d,clockwise:w,cx:h,cy:i,r0:l,r:o})}if(b.children&&b.children.length){var C=0;aX(b.children,function(a){C+=z(a,c+C)})}return d-c}};if(u){var A=2*Math.PI;n.setLayout({angle:A,startAngle:l,endAngle:l+A,clockwise:w,cx:h,cy:i,r0:j,r:j+v})}z(o,l)})}function DI(a){var b={};a.eachSeriesByType("sunburst",function(a){var c=a.getData(),d=c.tree;d.eachNode(function(e){var f=e.getModel().getModel("itemStyle").getItemStyle();f.fill||(f.fill=function(a,c,d){if(0===a.depth)return kv.color.neutral50;for(var e=a;e&&e.depth>1;)e=e.parentNode;var f=c.getColorFromPalette(e.name||e.dataIndex+"",b);return a.depth>1&&a5(f)&&(f=dO(f,(a.depth-1)/(d-1)*.5)),f}(e,a,d.root.height)),aQ(c.ensureUniqueItemVisual(e.dataIndex,"style"),f)})})}var DJ={color:"fill",borderColor:"stroke"},DK={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},DL=f0(),DM=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},b.prototype.getInitialData=function(a,b){return ri(null,this)},b.prototype.getDataParams=function(b,c,d){var e=a.prototype.getDataParams.call(this,b,c);return d&&(e.info=DL(d).info),e},b.type="series.custom",b.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],b.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},b}(mE);function DN(a,b){return b=b||[0,0],aY(["x","y"],function(c,d){var e=this.getAxis(c),f=b[d],g=a[d]/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(f-g)-e.dataToCoord(f+g))},this)}function DO(a,b){return b=b||[0,0],aY([0,1],function(c){var d=b[c],e=a[c]/2,f=[],g=[];return f[c]=d-e,g[c]=d+e,f[1-c]=g[1-c]=b[1-c],Math.abs(this.dataToPoint(f)[c]-this.dataToPoint(g)[c])},this)}function DP(a,b){var c=this.getAxis(),d=b instanceof Array?b[0]:b,e=(a instanceof Array?a[0]:a)/2;return"category"===c.type?c.getBandWidth():Math.abs(c.dataToCoord(d-e)-c.dataToCoord(d+e))}function DQ(a,b){return b=b||[0,0],aY(["Radius","Angle"],function(c,d){var e=this["get"+c+"Axis"](),f=b[d],g=a[d]/2,h="category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(f-g)-e.dataToCoord(f+g));return"Angle"===c&&(h=h*Math.PI/180),h},this)}function DR(a,b,c,d){return a&&(a.legacy||!1!==a.legacy&&!c&&!d&&"tspan"!==b&&("text"===b||bx(a,"text")))}function DS(a,b,c){var d,e,f;if("text"===b)f=a;else{f={},bx(a,"text")&&(f.text=a.text),bx(a,"rich")&&(f.rich=a.rich),bx(a,"textFill")&&(f.fill=a.textFill),bx(a,"textStroke")&&(f.stroke=a.textStroke),bx(a,"fontFamily")&&(f.fontFamily=a.fontFamily),bx(a,"fontSize")&&(f.fontSize=a.fontSize),bx(a,"fontStyle")&&(f.fontStyle=a.fontStyle),bx(a,"fontWeight")&&(f.fontWeight=a.fontWeight),e={type:"text",style:f,silent:!0},d={};var g=bx(a,"textPosition");c?d.position=g?a.textPosition:"inside":g&&(d.position=a.textPosition),bx(a,"textPosition")&&(d.position=a.textPosition),bx(a,"textOffset")&&(d.offset=a.textOffset),bx(a,"textRotation")&&(d.rotation=a.textRotation),bx(a,"textDistance")&&(d.distance=a.textDistance)}return DT(f,a),aX(f.rich,function(a){DT(a,a)}),{textConfig:d,textContent:e}}function DT(a,b){b&&(b.font=b.textFont||b.font,bx(b,"textStrokeWidth")&&(a.lineWidth=b.textStrokeWidth),bx(b,"textAlign")&&(a.align=b.textAlign),bx(b,"textVerticalAlign")&&(a.verticalAlign=b.textVerticalAlign),bx(b,"textLineHeight")&&(a.lineHeight=b.textLineHeight),bx(b,"textWidth")&&(a.width=b.textWidth),bx(b,"textHeight")&&(a.height=b.textHeight),bx(b,"textBackgroundColor")&&(a.backgroundColor=b.textBackgroundColor),bx(b,"textPadding")&&(a.padding=b.textPadding),bx(b,"textBorderColor")&&(a.borderColor=b.textBorderColor),bx(b,"textBorderWidth")&&(a.borderWidth=b.textBorderWidth),bx(b,"textBorderRadius")&&(a.borderRadius=b.textBorderRadius),bx(b,"textBoxShadowColor")&&(a.shadowColor=b.textBoxShadowColor),bx(b,"textBoxShadowBlur")&&(a.shadowBlur=b.textBoxShadowBlur),bx(b,"textBoxShadowOffsetX")&&(a.shadowOffsetX=b.textBoxShadowOffsetX),bx(b,"textBoxShadowOffsetY")&&(a.shadowOffsetY=b.textBoxShadowOffsetY))}function DU(a,b,c){a.textPosition=a.textPosition||c.position||"inside",null!=c.offset&&(a.textOffset=c.offset),null!=c.rotation&&(a.textRotation=c.rotation),null!=c.distance&&(a.textDistance=c.distance);var d=a.textPosition.indexOf("inside")>=0,e=a.fill||kv.color.neutral99;DV(a,b);var f=null==a.textFill;return d?f&&(a.textFill=c.insideFill||kv.color.neutral00,!a.textStroke&&c.insideStroke&&(a.textStroke=c.insideStroke),a.textStroke||(a.textStroke=e),null==a.textStrokeWidth&&(a.textStrokeWidth=2)):(f&&(a.textFill=a.fill||c.outsideFill||kv.color.neutral00),!a.textStroke&&c.outsideStroke&&(a.textStroke=c.outsideStroke)),a.text=b.text,a.rich=b.rich,aX(b.rich,function(a){DV(a,a)}),a}function DV(a,b){b&&(bx(b,"fill")&&(a.textFill=b.fill),bx(b,"stroke")&&(a.textStroke=b.fill),bx(b,"lineWidth")&&(a.textStrokeWidth=b.lineWidth),bx(b,"font")&&(a.font=b.font),bx(b,"fontStyle")&&(a.fontStyle=b.fontStyle),bx(b,"fontWeight")&&(a.fontWeight=b.fontWeight),bx(b,"fontSize")&&(a.fontSize=b.fontSize),bx(b,"fontFamily")&&(a.fontFamily=b.fontFamily),bx(b,"align")&&(a.textAlign=b.align),bx(b,"verticalAlign")&&(a.textVerticalAlign=b.verticalAlign),bx(b,"lineHeight")&&(a.textLineHeight=b.lineHeight),bx(b,"width")&&(a.textWidth=b.width),bx(b,"height")&&(a.textHeight=b.height),bx(b,"backgroundColor")&&(a.textBackgroundColor=b.backgroundColor),bx(b,"padding")&&(a.textPadding=b.padding),bx(b,"borderColor")&&(a.textBorderColor=b.borderColor),bx(b,"borderWidth")&&(a.textBorderWidth=b.borderWidth),bx(b,"borderRadius")&&(a.textBorderRadius=b.borderRadius),bx(b,"shadowColor")&&(a.textBoxShadowColor=b.shadowColor),bx(b,"shadowBlur")&&(a.textBoxShadowBlur=b.shadowBlur),bx(b,"shadowOffsetX")&&(a.textBoxShadowOffsetX=b.shadowOffsetX),bx(b,"shadowOffsetY")&&(a.textBoxShadowOffsetY=b.shadowOffsetY),bx(b,"textShadowColor")&&(a.textShadowColor=b.textShadowColor),bx(b,"textShadowBlur")&&(a.textShadowBlur=b.textShadowBlur),bx(b,"textShadowOffsetX")&&(a.textShadowOffsetX=b.textShadowOffsetX),bx(b,"textShadowOffsetY")&&(a.textShadowOffsetY=b.textShadowOffsetY))}var DW={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},DX=a0(DW);aZ(eR,function(a,b){return a[b]=1,a},{}),eR.join(", ");var DY=["","style","shape","extra"],DZ=f0();function D$(a,b,c,d,e){var f=a+"Animation",g=iP(a,d,e)||{},h=DZ(b).userDuring;return g.duration>0&&(g.during=h?a1(D5,{el:b,userDuring:h}):null,g.setToFinal=!0,g.scope=a),aQ(g,c[f]),g}function D_(a,b,c,d){var e,f,g=(d=d||{}).dataIndex,h=d.isInit,i=d.clearStyle,j=c.isAnimationEnabled(),k=DZ(a),l=b.style;k.userDuring=b.during;var m={},n={};if(function(a,b,c){for(var d=0;d<DX.length;d++){var e=DX[d],f=DW[e],g=b[e];g&&(c[f[0]]=g[0],c[f[1]]=g[1])}for(var d=0;d<eR.length;d++){var h=eR[d];null!=b[h]&&(c[h]=b[h])}}(0,b,n),"compound"===a.type)for(var o=a.shape.paths,p=b.shape.paths,q=0;q<p.length;q++)D7("shape",p[q],o[q]);else D7("shape",b,n),D7("extra",b,n);if(!h&&j&&(function(a,b,c){for(var d=b.transition,e=D2(d)?eR:fR(d||[]),f=0;f<e.length;f++){var g=e[f];if("style"!==g&&"shape"!==g&&"extra"!==g){var h=a[g];c[g]=h}}}(a,b,m),D6("shape",a,b,m),D6("extra",a,b,m),function(a,b,c,d){if(c){var e,f=a.style;if(f){var g=c.transition,h=b.transition;if(g&&!D2(g)){var i=fR(g);e||(e=d.style={});for(var j=0;j<i.length;j++){var k=i[j],l=f[k];e[k]=l}}else if(a.getAnimationStyleProps&&(D2(h)||D2(g)||aT(h,"style")>=0)){var m=a.getAnimationStyleProps(),n=m?m.style:null;if(n){e||(e=d.style={});for(var o=a0(c),j=0;j<o.length;j++){var k=o[j];if(n[k]){var l=f[k];e[k]=l}}}}}}}(a,b,l,m)),n.style=l,function(a,b,c){var d=b.style;if(!a.isGroup&&d){if(c){a.useStyle({});for(var e=a.animators,f=0;f<e.length;f++){var g=e[f];"style"===g.targetName&&g.changeTarget(a.style)}}a.setStyle(d)}b&&(b.style=null,b&&a.attr(b),b.style=d)}(a,n,i),e=a,bx(f=b,"silent")&&(e.silent=f.silent),bx(f,"ignore")&&(e.ignore=f.ignore),e instanceof gO&&bx(f,"invisible")&&(e.invisible=f.invisible),e instanceof hy&&bx(f,"autoBatch")&&(e.autoBatch=f.autoBatch),j)if(h){var r={};aX(DY,function(a){var c=a?b[a]:b;c&&c.enterFrom&&(a&&(r[a]=r[a]||{}),aQ(a?r[a]:r,c.enterFrom))});var s=D$("enter",a,b,c,g);s.duration>0&&a.animateFrom(r,s)}else{var t=a,u=b,v=g||0,w=c,x=m;if(x){var y=D$("update",t,u,w,v);y.duration>0&&t.animateFrom(x,y)}}D0(a,b),l?a.dirty():a.markRedraw()}function D0(a,b){for(var c=DZ(a).leaveToProps,d=0;d<DY.length;d++){var e=DY[d],f=e?b[e]:b;f&&f.leaveTo&&(c||(c=DZ(a).leaveToProps={}),e&&(c[e]=c[e]||{}),aQ(e?c[e]:c,f.leaveTo))}}function D1(a,b,c,d){if(a){var e=a.parent,f=DZ(a).leaveToProps;if(f){var g=D$("update",a,b,c,0);g.done=function(){e&&e.remove(a),d&&d()},a.animateTo(f,g)}else e&&e.remove(a),d&&d()}}function D2(a){return"all"===a}var D3={},D4={setTransform:function(a,b){return D3.el[a]=b,this},getTransform:function(a){return D3.el[a]},setShape:function(a,b){var c=D3.el;return(c.shape||(c.shape={}))[a]=b,c.dirtyShape&&c.dirtyShape(),this},getShape:function(a){var b=D3.el.shape;if(b)return b[a]},setStyle:function(a,b){var c=D3.el,d=c.style;return d&&(d[a]=b,c.dirtyStyle&&c.dirtyStyle()),this},getStyle:function(a){var b=D3.el.style;if(b)return b[a]},setExtra:function(a,b){return(D3.el.extra||(D3.el.extra={}))[a]=b,this},getExtra:function(a){var b=D3.el.extra;if(b)return b[a]}};function D5(){var a=this.el;if(a){var b=DZ(a).userDuring,c=this.userDuring;if(b!==c){this.el=this.userDuring=null;return}D3.el=a,c(D4)}}function D6(a,b,c,d){var e,f=c[a];if(f){var g=b[a];if(g){var h=c.transition,i=f.transition;if(i)if(e||(e=d[a]={}),D2(i))aQ(e,g);else for(var j=fR(i),k=0;k<j.length;k++){var l=j[k],m=g[l];e[l]=m}else if(D2(h)||aT(h,a)>=0){e||(e=d[a]={});for(var n=a0(g),k=0;k<n.length;k++){var o,p,l=n[k],m=g[l];o=f[l],p=m,(aW(o)?o!==p:null!=o&&isFinite(o))&&(e[l]=m)}}}}}function D7(a,b,c){var d=b[a];if(d)for(var e=c[a]={},f=a0(d),g=0;g<f.length;g++){var h=f[g];e[h]=ei(d[h])}}var D8=f0(),D9=["percent","easing","shape","style","extra"];function Ea(a){a.stopAnimation("keyframe"),a.attr(D8(a))}function Eb(a,b,c){if(c.isAnimationEnabled()&&b){if(a3(b))return void aX(b,function(b){Eb(a,b,c)});var d=b.keyframes,e=b.duration;if(c&&null==e){var f=iP("enter",c,0);e=f&&f.duration}if(d&&e){var g=D8(a);aX(DY,function(c){var f;c&&!a[c]||(d.sort(function(a,b){return a.percent-b.percent}),aX(d,function(d){var h=a.animators,i=c?d[c]:d;if(i){var j=a0(i);if(c||(j=a$(j,function(a){return 0>aT(D9,a)})),j.length){f||((f=a.animate(c,b.loop,!0)).scope="keyframe");for(var k=0;k<h.length;k++)h[k]!==f&&h[k].targetName===f.targetName&&h[k].stopTracks(j);c&&(g[c]=g[c]||{});var l=c?g[c]:g;aX(j,function(b){l[b]=((c?a[c]:a)||{})[b]}),f.whenWithKeys(e*d.percent,i,j,d.easing)}}}),f&&f.delay(b.delay||0).duration(e).start(b.easing))})}}}var Ec="emphasis",Ed="normal",Ee="blur",Ef="select",Eg=[Ed,Ec,Ee,Ef],Eh={normal:["itemStyle"],emphasis:[Ec,"itemStyle"],blur:[Ee,"itemStyle"],select:[Ef,"itemStyle"]},Ei={normal:["label"],emphasis:[Ec,"label"],blur:[Ee,"label"],select:[Ef,"label"]},Ej=["x","y"],Ek={normal:{},emphasis:{},blur:{},select:{}},El={cartesian2d:function(a){var b=a.master.getRect();return{coordSys:{type:"cartesian2d",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:function(b){return a.dataToPoint(b)},size:a1(DN,a)}}},geo:function(a){var b=a.getBoundingRect();return{coordSys:{type:"geo",x:b.x,y:b.y,width:b.width,height:b.height,zoom:a.getZoom()},api:{coord:function(b){return a.dataToPoint(b)},size:a1(DO,a)}}},single:function(a){var b=a.getRect();return{coordSys:{type:"singleAxis",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:function(b){return a.dataToPoint(b)},size:a1(DP,a)}}},polar:function(a){var b=a.getRadiusAxis(),c=a.getAngleAxis(),d=b.getExtent();return d[0]>d[1]&&d.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:d[1],r0:d[0]},api:{coord:function(d){var e=b.dataToRadius(d[0]),f=c.dataToAngle(d[1]),g=a.coordToPoint([e,f]);return g.push(e,f*Math.PI/180),g},size:a1(DQ,a)}}},calendar:function(a){var b=a.getRect(),c=a.getRangeInfo();return{coordSys:{type:"calendar",x:b.x,y:b.y,width:b.width,height:b.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:c.start,end:c.end,weeks:c.weeks,dayCount:c.allDay}},api:{coord:function(b,c){return a.dataToPoint(b,c)},layout:function(b,c){return a.dataToLayout(b,c)}}}},matrix:function(a){var b=a.getRect();return{coordSys:{type:"matrix",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:function(b,c){return a.dataToPoint(b,c)},layout:function(b,c){return a.dataToLayout(b,c)}}}}};function Em(a){return a instanceof hy}function En(a){return a instanceof gO}var Eo=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c,d){this._progressiveEls=null;var e=this._data,f=a.getData(),g=this.group,h=Es(a,f,b,c);e||g.removeAll(),f.diff(e).add(function(b){Et(c,null,b,h(b,d),a,g,f)}).remove(function(b){var c=e.getItemGraphicEl(b);c&&D1(c,DL(c).option,a)}).update(function(b,i){Et(c,e.getItemGraphicEl(i),b,h(b,d),a,g,f)}).execute();var i=a.get("clip",!0)?uK(a.coordinateSystem,!1,a):null;i?g.setClipPath(i):g.removeClipPath(),this._data=f},b.prototype.incrementalPrepareRender=function(a,b,c){this.group.removeAll(),this._data=null},b.prototype.incrementalRender=function(a,b,c,d,e){var f=b.getData(),g=Es(b,f,c,d),h=this._progressiveEls=[];function i(a){a.isGroup||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var j=a.start;j<a.end;j++){var k=Et(null,null,j,g(j,e),b,this.group,f);k&&(k.traverse(i),h.push(k))}},b.prototype.eachRendered=function(a){om(this._progressiveEls||this.group,a)},b.prototype.filterForExposedEvent=function(a,b,c,d){var e=b.element;if(null==e||c.name===e)return!0;for(;(c=c.__hostTarget||c.parent)&&c!==this.group;)if(c.name===e)return!0;return!1},b.type="custom",b}(oC);function Ep(a){var b,c=a.type;if("path"===c){var d=a.shape,e=null!=d.width&&null!=d.height?{x:d.x||0,y:d.y||0,width:d.width,height:d.height}:null,f=EC(d);DL(b=n0(f,null,e,d.layout||"center")).customPathData=f}else if("image"===c)DL(b=new hE({})).customImagePath=a.style.image;else if("text"===c)b=new h1({});else if("group"===c)b=new fc;else if("compoundPath"===c){var d=a.shape;if(!d||!d.paths){var g="";ly(g)}b=new nF({shape:{paths:aY(d.paths,function(a){if("path"===a.type)return n0(a.shape.pathData,a,null);var b=n_(a.type);return b||ly(""),new b})}})}else{var h=n_(c);if(!h){var g="";ly(g)}b=new h}return DL(b).customGraphicType=c,b.name=a.name,b.z2EmphasisLift=1,b.z2SelectLift=1,b}function Eq(a,b,c,d,e,f,g){Ea(b);var h=e&&e.normal.cfg;h&&b.setTextConfig(h),d&&null==d.transition&&(d.transition=Ej);var i=d&&d.style;if(i){"text"===b.type&&(bx(i,"textFill")&&(i.fill=i.textFill),bx(i,"textStroke")&&(i.stroke=i.textStroke));var j=void 0,k=Em(b)?i.decal:null;a&&k&&(k.dirty=!0,j=pR(k,a)),i.__decalPattern=j}if(En(b)&&i){var j=i.__decalPattern;j&&(i.decal=j)}D_(b,d,f,{dataIndex:c,isInit:g,clearStyle:!0}),Eb(b,d.keyframeAnimation,f)}function Er(a,b,c,d,e){var f=b.isGroup?null:b,g=e&&e[a].cfg;if(f){var h=f.ensureState(a);if(!1===d){var i=f.getState(a);i&&(i.style=null)}else h.style=d||null;g&&(h.textConfig=g),it(f)}}function Es(a,b,c,d){var e,f,g,h,i=a.get("renderItem");if("string"==typeof i){var j=pV[i];j&&(i=j)}var k=a.coordinateSystem,l={};k&&(l=k.prepareCustoms?k.prepareCustoms(k):El[k.type](k));for(var m=aR({getWidth:d.getWidth,getHeight:d.getHeight,getZr:d.getZr,getDevicePixelRatio:d.getDevicePixelRatio,value:function(a,c){return null==c&&(c=g),b.getStore().get(b.getDimensionIndex(a||0),c)},style:function(c,d){null==d&&(d=g);var e=b.getItemVisual(d,"style"),f=e&&e.fill,h=e&&e.opacity,i=v(d,Ed).getItemStyle();null!=f&&(i.fill=f),null!=h&&(i.opacity=h);var j={inheritColor:a5(f)?f:kv.color.neutral99},k=w(d,Ed),l=i1(k,null,j,!1,!0);l.text=k.getShallow("show")?bh(a.getFormattedLabel(d,Ed),uq(b,d)):null;var m=i2(k,j,!1);return y(c,i),i=DU(i,l,m),c&&x(i,c),i.legacy=!0,i},ordinalRawValue:function(a,c){null==c&&(c=g),a=a||0;var d=b.getDimensionInfo(a);if(!d){var e=b.getDimensionIndex(a);return e>=0?b.getStore().get(e,c):void 0}var f=b.get(d.name,c),h=d&&d.ordinalMeta;return h?h.categories[f]:f},styleEmphasis:function(c,d){null==d&&(d=g);var e=v(d,Ec).getItemStyle(),f=w(d,Ec),h=i1(f,null,null,!0,!0);h.text=f.getShallow("show")?bi(a.getFormattedLabel(d,Ec),a.getFormattedLabel(d,Ed),uq(b,d)):null;var i=i2(f,null,!0);return y(c,e),e=DU(e,h,i),c&&x(e,c),e.legacy=!0,e},visual:function(a,c){if(null==c&&(c=g),bx(DJ,a)){var d=b.getItemVisual(c,"style");return d?d[DJ[a]]:null}if(bx(DK,a))return b.getItemVisual(c,a)},barLayout:function(a){if("cartesian2d"===k.type)return function(a){var b=[],c=a.axis,d="axis0";if("category"===c.type){for(var e=c.getBandWidth(),f=0;f<a.count||0;f++)b.push(aR({bandWidth:e,axisKey:d,stackId:rC+f},a));for(var g=rH(b),h=[],f=0;f<a.count;f++){var i=g[d][rC+f];i.offsetCenter=i.offset+i.width/2,h.push(i)}return h}}(aR({axis:k.getBaseAxis()},a))},currentSeriesIndices:function(){return c.getCurrentSeriesIndices()},font:function(a){return i7(a,c)}},l.api||{}),n={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:l.coordSys,dataInsideLength:b.count(),encode:(e=a.getData(),f={},aX(e.dimensions,function(a){var b=e.getDimensionInfo(a);if(!b.isExtraCoord){var c=b.coordDim;(f[c]=f[c]||[])[b.coordDimIndex]=e.getDimensionIndex(a)}}),f),itemPayload:a.get("itemPayload")||{}},o={},p={},q={},r={},s=0;s<Eg.length;s++){var t=Eg[s];q[t]=a.getModel(Eh[t]),r[t]=a.getModel(Ei[t])}function u(a){return a===g?h||(h=b.getItemModel(a)):b.getItemModel(a)}function v(a,c){return b.hasItemOption?a===g?o[c]||(o[c]=u(a).getModel(Eh[c])):u(a).getModel(Eh[c]):q[c]}function w(a,c){return b.hasItemOption?a===g?p[c]||(p[c]=u(a).getModel(Ei[c])):u(a).getModel(Ei[c]):r[c]}return function(a,c){return g=a,h=null,o={},p={},i&&i(aR({dataIndexInside:a,dataIndex:b.getRawIndex(a),actionType:c?c.type:null},n),m)};function x(a,b){for(var c in b)bx(b,c)&&(a[c]=b[c])}function y(a,b){a&&(a.textFill&&(b.textFill=a.textFill),a.textPosition&&(b.textPosition=a.textPosition))}}function Et(a,b,c,d,e,f,g){if(!d)return void f.remove(b);var h=Eu(a,b,c,d,e,f);return h&&g.setItemGraphicEl(c,h),h&&iF(h,d.focus,d.blurScope,d.emphasisDisabled),h}function Eu(a,b,c,d,e,f){var g,h=-1,i=b;b&&Ev(b,d,e)&&(h=aT(f.childrenRef(),b),b=null);var j=!b,k=b;k?k.clearStates():(k=Ep(d),i&&((g=k).copyTransform(i),En(g)&&En(i)&&(g.setStyle(i.style),g.z=i.z,g.z2=i.z2,g.zlevel=i.zlevel,g.invisible=i.invisible,g.ignore=i.ignore,Em(g)&&Em(i)&&g.setShape(i.shape)))),!1===d.morph?k.disableMorphing=!0:k.disableMorphing&&(k.disableMorphing=!1),d.tooltipDisabled&&(k.tooltipDisabled=!0),Ek.normal.cfg=Ek.normal.conOpt=Ek.emphasis.cfg=Ek.emphasis.conOpt=Ek.blur.cfg=Ek.blur.conOpt=Ek.select.cfg=Ek.select.conOpt=null,Ek.isLegacy=!1,function(a,b,c,d,e,f){if(!a.isGroup&&"compoundPath"!==a.type){Ew(c,null,f),Ew(c,Ec,f);var g=f.normal.conOpt,h=f.emphasis.conOpt,i=f.blur.conOpt,j=f.select.conOpt;if(null!=g||null!=h||null!=j||null!=i){var k=a.getTextContent();if(!1===g)k&&a.removeTextContent();else{g=f.normal.conOpt=g||{type:"text"},k?k.clearStates():(k=Ep(g),a.setTextContent(k)),Eq(null,k,b,g,null,d,e);for(var l=g&&g.style,m=0;m<Eg.length;m++){var n=Eg[m];if(n!==Ed){var o=f[n].conOpt;Er(n,k,o,Ey(g,o,n),null)}}l?k.dirty():k.markRedraw()}}}}(k,c,d,e,j,Ek),function(a,b,c,d,e){var f=c.clipPath;if(!1===f)a&&a.getClipPath()&&a.removeClipPath();else if(f){var g=a.getClipPath();g&&Ev(g,f,d)&&(g=null),g||(g=Ep(f),a.setClipPath(g)),Eq(null,g,b,f,null,d,e)}}(k,c,d,e,j),Eq(a,k,c,d,Ek,e,j),bx(d,"info")&&(DL(k).info=d.info);for(var l=0;l<Eg.length;l++){var m=Eg[l];if(m!==Ed){var n=Ex(d,m),o=Ey(d,n,m);Er(m,k,n,o,Ek)}}var p=k;if(!p.isGroup){var q=e.currentZ,r=e.currentZLevel;p.z=q,p.zlevel=r;var s=d.z2;null!=s&&(p.z2=s||0);for(var t=0;t<Eg.length;t++)!function(a,b,c){var d=c===Ed,e=d?b:Ex(b,c),f=e?e.z2:null;null!=f&&((d?a:a.ensureState(c)).z2=f||0)}(p,d,Eg[t])}return"group"===d.type&&function(a,b,c,d,e){var f=d.children,g=f?f.length:0,h=d.$mergeChildren,i="byName"===h||d.diffChildrenByName,j=!1===h;if(g||i||j){if(i){return new qV((o={api:a,oldChildren:b.children()||[],newChildren:f||[],dataIndex:c,seriesModel:e,group:b}).oldChildren,o.newChildren,Ez,Ez,o).add(EA).update(EA).remove(EB).execute()}j&&b.removeAll();for(var k=0;k<g;k++){var l=f[k],m=b.childAt(k);l?(null==l.ignore&&(l.ignore=!1),Eu(a,m,c,l,e,b)):m.ignore=!0}for(var n=b.childCount()-1;n>=k;n--){var o,p,q,r,s=b.childAt(n);p=b,q=s,r=e,q&&D1(q,DL(p).option,r)}}}(a,k,c,d,e),h>=0?f.replaceAt(k,h):f.add(k),k}function Ev(a,b,c){var d,e=DL(a),f=b.type,g=b.shape,h=b.style;return c.isUniversalTransitionEnabled()||null!=f&&f!==e.customGraphicType||"path"===f&&(d=g)&&(bx(d,"pathData")||bx(d,"d"))&&EC(g)!==e.customPathData||"image"===f&&bx(h,"image")&&h.image!==e.customImagePath}function Ew(a,b,c){var d=b?Ex(a,b):a,e=b?Ey(a,d,Ec):a.style,f=a.type,g=d?d.textConfig:null,h=a.textContent,i=h?b?Ex(h,b):h:null;if(e&&(c.isLegacy||DR(e,f,!!g,!!i))){c.isLegacy=!0;var j=DS(e,f,!b);!g&&j.textConfig&&(g=j.textConfig),!i&&j.textContent&&(i=j.textContent)}if(!b&&i){var k=i;k.type||(k.type="text")}var l=b?c[b]:c.normal;l.cfg=g,l.conOpt=i}function Ex(a,b){return b?a?a[b]:null:a}function Ey(a,b,c){var d=b&&b.style;return null==d&&c===Ec&&a&&(d=a.styleEmphasis),d}function Ez(a,b){var c=a&&a.name;return null!=c?c:"e\0\0"+b}function EA(a,b){var c=this.context,d=null!=a?c.newChildren[a]:null,e=null!=b?c.oldChildren[b]:null;Eu(c.api,e,c.dataIndex,d,c.seriesModel,c.group)}function EB(a){var b=this.context,c=b.oldChildren[a];c&&D1(c,DL(c).option,b.seriesModel)}function EC(a){return a&&(a.pathData||a.d)}var ED=f0(),EE=aN,EF=function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(a,b,c,d){var e=b.get("value"),f=b.get("status");if(this._axisModel=a,this._axisPointerModel=b,this._api=c,d||this._lastValue!==e||this._lastStatus!==f){this._lastValue=e,this._lastStatus=f;var g=this._group,h=this._handle;if(!f||"hide"===f){g&&g.hide(),h&&h.hide();return}g&&g.show(),h&&h.show();var i={};this.makeElOption(i,e,a,b,c);var j=i.graphicKey;j!==this._lastGraphicKey&&this.clear(c),this._lastGraphicKey=j;var k=this._moveAnimation=this.determineAnimation(a,b);if(g){var l=a2(EG,b,k);this.updatePointerEl(g,i,l),this.updateLabelEl(g,i,l,b)}else g=this._group=new fc,this.createPointerEl(g,i,a,b),this.createLabelEl(g,i,a,b),c.getZr().add(g);EJ(g,b,!0),this._renderHandle(e)}},a.prototype.remove=function(a){this.clear(a)},a.prototype.dispose=function(a){this.clear(a)},a.prototype.determineAnimation=function(a,b){var c=b.get("animation"),d=a.axis,e="category"===d.type,f=b.get("snap");if(!f&&!e)return!1;if("auto"===c||null==c){var g=this.animationThreshold;if(e&&d.getBandWidth()>g)return!0;if(f){var h=wI(a).seriesDataCount,i=d.getExtent();return Math.abs(i[0]-i[1])/h>g}return!1}return!0===c},a.prototype.makeElOption=function(a,b,c,d,e){},a.prototype.createPointerEl=function(a,b,c,d){var e=b.pointer;if(e){var f=ED(a).pointerEl=new ai[e.type](EE(b.pointer));a.add(f)}},a.prototype.createLabelEl=function(a,b,c,d){if(b.label){var e=ED(a).labelEl=new h1(EE(b.label));a.add(e),EH(e,d)}},a.prototype.updatePointerEl=function(a,b,c){var d=ED(a).pointerEl;d&&b.pointer&&(d.setStyle(b.pointer.style),c(d,{shape:b.pointer.shape}))},a.prototype.updateLabelEl=function(a,b,c,d){var e=ED(a).labelEl;e&&(e.setStyle(b.label.style),c(e,{x:b.label.x,y:b.label.y}),EH(e,d))},a.prototype._renderHandle=function(a){if(!this._dragging&&this.updateHandleTransform){var b,c=this._axisPointerModel,d=this._api.getZr(),e=this._handle,f=c.getModel("handle"),g=c.get("status");if(!f.get("show")||!g||"hide"===g){e&&d.remove(e),this._handle=null;return}this._handle||(b=!0,e=this._handle=oe(f.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){cl(a.event)},onmousedown:a1(this._onHandleDragMove,this,0,0),drift:a1(this._onHandleDragMove,this),ondragend:a1(this._onHandleDragEnd,this)}),d.add(e)),EJ(e,c,!1),e.setStyle(f.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=f.get("size");a3(h)||(h=[h,h]),e.scaleX=h[0]/2,e.scaleY=h[1]/2,oH(this,"_doDispatchAxisPointer",f.get("throttle")||0,"fixRate"),this._moveHandleToValue(a,b)}},a.prototype._moveHandleToValue=function(a,b){EG(this._axisPointerModel,!b&&this._moveAnimation,this._handle,EI(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(a,b){var c=this._handle;if(c){this._dragging=!0;var d=this.updateHandleTransform(EI(c),[a,b],this._axisModel,this._axisPointerModel);this._payloadInfo=d,c.stopAnimation(),c.attr(EI(d)),ED(c).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var a=this._axisPointerModel.get("value");this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(a){this._lastValue=null,this._lastStatus=null;var b=a.getZr(),c=this._group,d=this._handle;b&&c&&(this._lastGraphicKey=null,c&&b.remove(c),d&&b.remove(d),this._group=null,this._handle=null,this._payloadInfo=null),oI(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(a,b,c){return{x:a[c=c||0],y:a[1-c],width:b[c],height:b[1-c]}},a}();function EG(a,b,c,d){!function a(b,c){if(!(a8(b)&&a8(c)))return b===c;var d=!0;return aX(c,function(c,e){d=d&&a(b[e],c)}),!!d}(ED(c).lastProp,d)&&(ED(c).lastProp=d,b?iR(c,d,a):(c.stopAnimation(),c.attr(d)))}function EH(a,b){a[b.get(["label","show"])?"show":"hide"]()}function EI(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function EJ(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=d&&(a.z=d),null!=e&&(a.zlevel=e),a.silent=c)})}function EK(a){var b,c=a.get("type"),d=a.getModel(c+"Style");return"line"===c?(b=d.getLineStyle()).fill=null:"shadow"===c&&((b=d.getAreaStyle()).stroke=null),b}function EL(a,b,c,d,e){var f,g,h,i,j,k,l=EM(c.get("value"),b.axis,b.ecModel,c.get("seriesDataIndices"),{precision:c.get(["label","precision"]),formatter:c.get(["label","formatter"])}),m=c.getModel("label"),n=jW(m.get("padding")||0),o=m.getFont(),p=eY(l,o),q=e.position,r=p.width+n[1]+n[3],s=p.height+n[0]+n[2],t=e.align;"right"===t&&(q[0]-=r),"center"===t&&(q[0]-=r/2);var u=e.verticalAlign;"bottom"===u&&(q[1]-=s),"middle"===u&&(q[1]-=s/2),f=q,g=r,h=s,j=(i=d).getWidth(),k=i.getHeight(),f[0]=Math.min(f[0]+g,j)-g,f[1]=Math.min(f[1]+h,k)-h,f[0]=Math.max(f[0],0),f[1]=Math.max(f[1],0);var v=m.get("backgroundColor");v&&"auto"!==v||(v=b.get(["axisLine","lineStyle","color"])),a.label={x:q[0],y:q[1],style:i1(m,{text:l,font:o,fill:m.getTextColor(),padding:n,backgroundColor:v}),z2:10}}function EM(a,b,c,d,e){a=b.scale.parse(a);var f=b.scale.getLabel({value:a},{precision:e.precision}),g=e.formatter;if(g){var h={value:r5(b,{value:a}),axisDimension:b.dim,axisIndex:b.index,seriesData:[]};aX(d,function(a){var b=c.getSeriesByIndex(a.seriesIndex),d=a.dataIndexInside,e=b&&b.getDataParams(d);e&&h.seriesData.push(e)}),a5(g)?f=g.replace("{value}",f):a4(g)&&(f=g(h))}return f}function EN(a,b,c){var d=cq();return cv(d,d,c.rotation),cu(d,d,c.position),n9([a.dataToCoord(b),(c.labelOffset||0)+(c.labelDirection||1)*(c.labelMargin||0)],d)}function EO(a,b,c,d,e,f){var g=wi.innerTextLayout(c.rotation,0,c.labelDirection);c.labelMargin=e.get(["label","margin"]),EL(b,d,e,f,{position:EN(d.axis,a,c),align:g.textAlign,verticalAlign:g.textVerticalAlign})}function EP(a,b,c){return{x1:a[c=c||0],y1:a[1-c],x2:b[c],y2:b[1-c]}}function EQ(a,b,c){return{x:a[c=c||0],y:a[1-c],width:b[c],height:b[1-c]}}function ER(a,b,c,d,e,f){return{cx:a,cy:b,r0:c,r:d,startAngle:e,endAngle:f,clockwise:!0}}var ES=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.makeElOption=function(a,b,c,d,e){var f=c.axis,g=f.grid,h=d.get("type"),i=ET(g,f).getOtherAxis(f).getGlobalExtent(),j=f.toGlobalCoord(f.dataToCoord(b,!0));if(h&&"none"!==h){var k=EK(d),l=EU[h](f,j,i);l.style=k,a.graphicKey=l.type,a.pointer=l}EO(b,a,wt(g.getRect(),c),c,d,e)},b.prototype.getHandleTransform=function(a,b,c){var d=wt(b.axis.grid.getRect(),b,{labelInside:!1});d.labelMargin=c.get(["handle","margin"]);var e=EN(b.axis,a,d);return{x:e[0],y:e[1],rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},b.prototype.updateHandleTransform=function(a,b,c,d){var e=c.axis,f=e.grid,g=e.getGlobalExtent(!0),h=ET(f,e).getOtherAxis(e).getGlobalExtent(),i=+("x"!==e.dim),j=[a.x,a.y];j[i]+=b[i],j[i]=Math.min(g[1],j[i]),j[i]=Math.max(g[0],j[i]);var k=(h[1]+h[0])/2,l=[k,k];return l[i]=j[i],{x:j[0],y:j[1],rotation:a.rotation,cursorPoint:l,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][i]}},b}(EF);function ET(a,b){var c={};return c[b.dim+"AxisIndex"]=b.index,a.getCartesian(c)}var EU={line:function(a,b,c){return{type:"Line",subPixelOptimize:!0,shape:EP([b,c[0]],[b,c[1]],EV(a))}},shadow:function(a,b,c){var d=Math.max(1,a.getBandWidth()),e=c[1]-c[0];return{type:"Rect",shape:EQ([b-d/2,c[0]],[d,e],EV(a))}}};function EV(a){return+("x"!==a.dim)}var EW=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="axisPointer",b.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:kv.color.border,width:1,type:"dashed"},shadowStyle:{color:kv.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:kv.color.neutral00,padding:[5,7,5,7],backgroundColor:kv.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:kv.color.accent40,throttle:40}},b}(ku),EX=f0();function EY(a,b,c){if(!at.node){var d=b.getZr();EX(d).records||(EX(d).records={}),function(a,b){EX(a).initialized||(EX(a).initialized=!0,c("click",a2(E$,"click")),c("mousemove",a2(E$,"mousemove")),c("globalout",EZ));function c(c,d){a.on(c,function(c){var e,f,g,h,i,j,k,l,m=(e=b,f={showTip:[],hideTip:[]},{dispatchAction:g=function(a){var b=f[a.type];b?b.push(a):(a.dispatchAction=g,e.dispatchAction(a))},pendings:f});aX(EX(a).records,function(a){a&&d(a,c,m.dispatchAction)}),h=m.pendings,i=b,k=h.showTip.length,l=h.hideTip.length,k?j=h.showTip[k-1]:l&&(j=h.hideTip[l-1]),j&&(j.dispatchAction=null,i.dispatchAction(j))})}}(d,b),(EX(d).records[a]||(EX(d).records[a]={})).handler=c}}function EZ(a,b,c){a.handler("leave",null,c)}function E$(a,b,c,d){b.handler(a,c,d)}function E_(a,b){if(!at.node){var c=b.getZr();(EX(c).records||{})[a]&&(EX(c).records[a]=null)}}var E0=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){var d=b.getComponent("tooltip"),e=a.get("triggerOn")||d&&d.get("triggerOn")||"mousemove|click";EY("axisPointer",c,function(a,b,c){"none"!==e&&("leave"===a||e.indexOf(a)>=0)&&c({type:"updateAxisPointer",currTrigger:a,x:b&&b.offsetX,y:b&&b.offsetY})})},b.prototype.remove=function(a,b){E_("axisPointer",b)},b.prototype.dispose=function(a,b){E_("axisPointer",b)},b.type="axisPointer",b}(mG);function E1(a,b){var c,d=[],e=a.seriesIndex;if(null==e||!(c=b.getSeriesByIndex(e)))return{point:[]};var f=c.getData(),g=f_(f,a);if(null==g||g<0||a3(g))return{point:[]};var h=f.getItemGraphicEl(g),i=c.coordinateSystem;if(c.getTooltipPosition)d=c.getTooltipPosition(g)||[];else if(i&&i.dataToPoint)if(a.isStacked){var j=i.getBaseAxis(),k=i.getOtherAxis(j).dim,l=j.dim,m=+("x"===k||"radius"===k),n=f.mapDimension(l),o=[];o[m]=f.get(n,g),o[1-m]=f.get(f.getCalculationInfo("stackResultDimension"),g),d=i.dataToPoint(o)||[]}else d=i.dataToPoint(f.getValues(aY(i.dimensions,function(a){return f.mapDimension(a)}),g))||[];else if(h){var p=h.getBoundingRect().clone();p.applyTransform(h.transform),d=[p.x+p.width/2,p.y+p.height/2]}return{point:d,el:h}}var E2=f0();function E3(a,b,c){var d=a.currTrigger,e=[a.x,a.y],f=a.dispatchAction||a1(c.dispatchAction,c),g=b.getComponent("axisPointer").coordSysAxesInfo;if(g){E8(e)&&(e=E1({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},b).point);var h,i,j,k,l,m,n,o,p,q,r,s=E8(e),t=a.axesInfo,u=g.axesInfo,v="leave"===d||E8(e),w={},x={},y={list:[],map:{}},z={showPointer:a2(E5,x),showTooltip:a2(E6,y)};aX(g.coordSysMap,function(a,b){var c=s||a.containPoint(e);aX(g.coordSysAxesInfo[b],function(a,b){var d=a.axis,f=function(a,b){for(var c=0;c<(a||[]).length;c++){var d=a[c];if(b.axis.dim===d.axisDim&&b.axis.model.componentIndex===d.axisIndex)return d}}(t,a);if(!v&&c&&(!t||f)){var g=f&&f.value;null!=g||s||(g=d.pointToData(e)),null!=g&&E4(a,g,z,!1,w)}})});var A={};return aX(u,function(a,b){var c=a.linkGroup;c&&!x[b]&&aX(c.axesInfo,function(b,d){var e=x[d];if(b!==a&&e){var f=e.value;c.mapper&&(f=a.axis.scale.parse(c.mapper(f,E7(b),E7(a)))),A[a.key]=f}})}),aX(A,function(a,b){E4(u[b],a,z,!0,w)}),h=x,i=u,j=w.axesInfo=[],aX(i,function(a,b){var c=a.axisPointerModel.option,d=h[b];d?(a.useHandle||(c.status="show"),c.value=d.value,c.seriesDataIndices=(d.payloadBatch||[]).slice()):a.useHandle||(c.status="hide"),"show"===c.status&&j.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:c.value})}),function(a,b,c,d){if(E8(b)||!a.list.length)return d({type:"hideTip"});var e=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};d({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:c.tooltipOption,position:c.position,dataIndexInside:e.dataIndexInside,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex,dataByCoordSys:a.list})}(y,e,a,f),k=u,m=(l=c).getZr(),n="axisPointerLastHighlights",o=E2(m)[n]||{},p=E2(m)[n]={},aX(k,function(a,b){var c=a.axisPointerModel.option;"show"===c.status&&a.triggerEmphasis&&aX(c.seriesDataIndices,function(a){p[a.seriesIndex+" | "+a.dataIndex]=a})}),q=[],r=[],aX(o,function(a,b){p[b]||r.push(a)}),aX(p,function(a,b){o[b]||q.push(a)}),r.length&&l.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:r}),q.length&&l.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:q}),w}}function E4(a,b,c,d,e){var f=a.axis;if(!f.scale.isBlank()&&f.containData(b)){if(!a.involveSeries)return void c.showPointer(a,b);var g,h,i,j,k,l,m,n,o=(g=b,j=(i=(h=a).axis).dim,k=g,l=[],m=Number.MAX_VALUE,n=-1,aX(h.seriesModels,function(a,b){var c,d,e=a.getData().mapDimensionsAll(j);if(a.getAxisTooltipData){var f=a.getAxisTooltipData(e,g,i);d=f.dataIndices,c=f.nestestValue}else{if(!(d=a.indicesOfNearest(j,e[0],g,"category"===i.type?.5:null)).length)return;c=a.getData().get(e[0],d[0])}if(null!=c&&isFinite(c)){var h=g-c,o=Math.abs(h);o<=m&&((o<m||h>=0&&n<0)&&(m=o,n=h,k=c,l.length=0),aX(d,function(b){l.push({seriesIndex:a.seriesIndex,dataIndexInside:b,dataIndex:a.getData().getRawIndex(b)})}))}}),{payloadBatch:l,snapToValue:k}),p=o.payloadBatch,q=o.snapToValue;p[0]&&null==e.seriesIndex&&aQ(e,p[0]),!d&&a.snap&&f.containData(q)&&null!=q&&(b=q),c.showPointer(a,b,p),c.showTooltip(a,o,q)}}function E5(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function E6(a,b,c,d){var e=c.payloadBatch,f=b.axis,g=f.model,h=b.axisPointerModel;if(b.triggerTooltip&&e.length){var i=b.coordSys.model,j=wK(i),k=a.map[j];k||(k=a.map[j]={coordSysId:i.id,coordSysIndex:i.componentIndex,coordSysType:i.type,coordSysMainType:i.mainType,dataByAxis:[]},a.list.push(k)),k.dataByAxis.push({axisDim:f.dim,axisIndex:g.componentIndex,axisType:g.type,axisId:g.id,value:d,valueLabelOpt:{precision:h.get(["label","precision"]),formatter:h.get(["label","formatter"])},seriesDataIndices:e.slice()})}}function E7(a){var b=a.axis.model,c={},d=c.axisDim=a.axis.dim;return c.axisIndex=c[d+"AxisIndex"]=b.componentIndex,c.axisName=c[d+"AxisName"]=b.name,c.axisId=c[d+"AxisId"]=b.id,c}function E8(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function E9(a){wM.registerAxisPointerClass("CartesianAxisPointer",ES),a.registerComponentModel(EW),a.registerComponentView(E0),a.registerPreprocessor(function(a){if(a){a.axisPointer&&0!==a.axisPointer.length||(a.axisPointer={});var b=a.axisPointer.link;b&&!a3(b)&&(a.axisPointer.link=[b])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(a,b){var c,d,e,f,g,h,i,j,k;a.getComponent("axisPointer").coordSysAxesInfo=(d=c={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}},e=a,f=b,g=e.getComponent("tooltip"),i=(h=e.getComponent("axisPointer")).get("link",!0)||[],j=[],aX(f.getCoordinateSystems(),function(a){if(a.axisPointerEnabled){var b=wK(a.model),c=d.coordSysAxesInfo[b]={};d.coordSysMap[b]=a;var f=a.model.getModel("tooltip",g);if(aX(a.getAxes(),a2(n,!1,null)),a.getTooltipAxes&&g&&f.get("show")){var k="axis"===f.get("trigger"),l="cross"===f.get(["axisPointer","type"]),m=a.getTooltipAxes(f.get(["axisPointer","axis"]));(k||l)&&aX(m.baseAxes,a2(n,!l||"cross",k)),l&&aX(m.otherAxes,a2(n,"cross",!1))}}function n(b,g,k){var l=k.model.getModel("axisPointer",h),m=l.get("show");if(m&&("auto"!==m||b||wJ(l))){null==g&&(g=l.get("triggerTooltip"));var n=(l=b?function(a,b,c,d,e,f){var g=b.getModel("axisPointer"),h={};aX(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(a){h[a]=aN(g.get(a))}),h.snap="category"!==a.type&&!!f,"cross"===g.get("type")&&(h.type="line");var i=h.label||(h.label={});if(null==i.show&&(i.show=!1),"cross"===e){var j=g.get(["label","show"]);if(i.show=null==j||j,!f){var k=h.lineStyle=g.get("crossStyle");k&&aR(i,k.textStyle)}}return a.model.getModel("axisPointer",new jn(h,c,d))}(k,f,h,e,b,g):l).get("snap"),o=l.get("triggerEmphasis"),p=wK(k.model),q=g||n||"category"===k.type,r=d.axesInfo[p]={key:p,axis:k,coordSys:a,axisPointerModel:l,triggerTooltip:g,triggerEmphasis:o,involveSeries:q,snap:n,useHandle:wJ(l),seriesModels:[],linkGroup:null};c[p]=r,d.seriesInvolved=d.seriesInvolved||q;var s=function(a,b){for(var c=b.model,d=b.dim,e=0;e<a.length;e++){var f=a[e]||{};if(wH(f[d+"AxisId"],c.id)||wH(f[d+"AxisIndex"],c.componentIndex)||wH(f[d+"AxisName"],c.name))return e}}(i,k);if(null!=s){var t=j[s]||(j[s]={axesInfo:{}});t.axesInfo[p]=r,t.mapper=i[s].mapper,r.linkGroup=t}}}}),c.seriesInvolved&&(k=c,a.eachSeries(function(a){var b=a.coordinateSystem,c=a.get(["tooltip","trigger"],!0),d=a.get(["tooltip","show"],!0);b&&b.model&&"none"!==c&&!1!==c&&"item"!==c&&!1!==d&&!1!==a.get(["axisPointer","show"],!0)&&aX(k.coordSysAxesInfo[wK(b.model)],function(c){var d=c.axis;b.getAxis(d.dim)===d&&(c.seriesModels.push(a),null==c.seriesDataCount&&(c.seriesDataCount=0),c.seriesDataCount+=a.getData().count())})})),c)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},E3)}var Fa=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.makeElOption=function(a,b,c,d,e){var f=c.axis;"angle"===f.dim&&(this.animationThreshold=Math.PI/18);var g=f.polar,h=g.getOtherAxis(f).getExtent(),i=f.dataToCoord(b),j=d.get("type");if(j&&"none"!==j){var k=EK(d),l=Fb[j](f,g,i,h);l.style=k,a.graphicKey=l.type,a.pointer=l}var m=function(a,b,c,d,e){var f,g,h,i=b.axis,j=i.dataToCoord(a),k=d.getAngleAxis().getExtent()[0];k=k/180*Math.PI;var l=d.getRadiusAxis().getExtent();if("radius"===i.dim){var m=cq();cv(m,m,k),cu(m,m,[d.cx,d.cy]),f=n9([j,-e],m);var n=b.getModel("axisLabel").get("rotate")||0,o=wi.innerTextLayout(k,n*Math.PI/180,-1);g=o.textAlign,h=o.textVerticalAlign}else{var p=l[1];f=d.coordToPoint([p+e,j]);var q=d.cx,r=d.cy;g=Math.abs(f[0]-q)/p<.3?"center":f[0]>q?"left":"right",h=Math.abs(f[1]-r)/p<.3?"middle":f[1]>r?"top":"bottom"}return{position:f,align:g,verticalAlign:h}}(b,c,0,g,d.get(["label","margin"]));EL(a,c,d,e,m)},b}(EF),Fb={line:function(a,b,c,d){return"angle"===a.dim?{type:"Line",shape:EP(b.coordToPoint([d[0],c]),b.coordToPoint([d[1],c]))}:{type:"Circle",shape:{cx:b.cx,cy:b.cy,r:c}}},shadow:function(a,b,c,d){var e=Math.max(1,a.getBandWidth()),f=Math.PI/180;return"angle"===a.dim?{type:"Sector",shape:ER(b.cx,b.cy,d[0],d[1],(-c-e/2)*f,(-c+e/2)*f)}:{type:"Sector",shape:ER(b.cx,b.cy,c-e/2,c+e/2,0,2*Math.PI)}}},Fc=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.findAxisModel=function(a){var b;return this.ecModel.eachComponent(a,function(a){a.getCoordSysModel()===this&&(b=a)},this),b},b.type="polar",b.dependencies=["radiusAxis","angleAxis"],b.defaultOption={z:0,center:["50%","50%"],radius:"80%"},b}(ku),Fd=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",f4).models[0]},b.type="polarAxis",b}(ku);aV(Fd,sc);var Fe=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="angleAxis",b}(Fd),Ff=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="radiusAxis",b}(Fd),Fg=function(a){function b(b,c){return a.call(this,"radius",b,c)||this}return aq(b,a),b.prototype.pointToData=function(a,b){return this.polar.pointToData(a,b)[+("radius"!==this.dim)]},b}(sM);Fg.prototype.dataToRadius=sM.prototype.dataToCoord,Fg.prototype.radiusToData=sM.prototype.coordToData;var Fh=f0(),Fi=function(a){function b(b,c){return a.call(this,"angle",b,c||[0,360])||this}return aq(b,a),b.prototype.pointToData=function(a,b){return this.polar.pointToData(a,b)[+("radius"!==this.dim)]},b.prototype.calculateCategoryInterval=function(){var a=this.getLabelModel(),b=this.scale,c=b.getExtent(),d=b.count();if(c[1]-c[0]<1)return 0;var e=c[0],f=Math.abs(this.dataToCoord(e+1)-this.dataToCoord(e)),g=Math.max(eY(null==e?"":e+"",a.getFont(),"center","top").height,7)/f;isNaN(g)&&(g=1/0);var h=Math.max(0,Math.floor(g)),i=Fh(this.model),j=i.lastAutoInterval,k=i.lastTickCount;return null!=j&&null!=k&&1>=Math.abs(j-h)&&1>=Math.abs(k-d)&&j>h?h=j:(i.lastTickCount=d,i.lastAutoInterval=h),h},b}(sM);Fi.prototype.dataToAngle=sM.prototype.dataToCoord,Fi.prototype.angleToData=sM.prototype.coordToData;var Fj=["radius","angle"],Fk=function(){function a(a){this.dimensions=Fj,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Fg,this._angleAxis=new Fi,this.axisPointerEnabled=!0,this.name=a||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(a){var b=this.pointToCoord(a);return this._radiusAxis.contain(b[0])&&this._angleAxis.contain(b[1])},a.prototype.containData=function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},a.prototype.getAxis=function(a){return this["_"+a+"Axis"]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(a){var b=[],c=this._angleAxis,d=this._radiusAxis;return c.scale.type===a&&b.push(c),d.scale.type===a&&b.push(d),b},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(a){var b=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[b],otherAxes:[this.getOtherAxis(b)]}},a.prototype.dataToPoint=function(a,b,c){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)],c)},a.prototype.pointToData=function(a,b,c){c=c||[];var d=this.pointToCoord(a);return c[0]=this._radiusAxis.radiusToData(d[0],b),c[1]=this._angleAxis.angleToData(d[1],b),c},a.prototype.pointToCoord=function(a){var b=a[0]-this.cx,c=a[1]-this.cy,d=this.getAngleAxis(),e=d.getExtent(),f=Math.min(e[0],e[1]),g=Math.max(e[0],e[1]);d.inverse?f=g-360:g=f+360;var h=Math.sqrt(b*b+c*c);b/=h;for(var i=Math.atan2(-(c/=h),b)/Math.PI*180,j=i<f?1:-1;i<f||i>g;)i+=360*j;return[h,i]},a.prototype.coordToPoint=function(a,b){b=b||[];var c=a[0],d=a[1]/180*Math.PI;return b[0]=Math.cos(d)*c+this.cx,b[1]=-Math.sin(d)*c+this.cy,b},a.prototype.getArea=function(){var a=this.getAngleAxis(),b=this.getRadiusAxis().getExtent().slice();b[0]>b[1]&&b.reverse();var c=a.getExtent(),d=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:b[0],r:b[1],startAngle:-c[0]*d,endAngle:-c[1]*d,clockwise:a.inverse,contain:function(a,b){var c=a-this.cx,d=b-this.cy,e=c*c+d*d,f=this.r,g=this.r0;return f!==g&&e-1e-4<=f*f&&e+1e-4>=g*g},x:this.cx-b[1],y:this.cy-b[1],width:2*b[1],height:2*b[1]}},a.prototype.convertToPixel=function(a,b,c){return Fl(b)===this?this.dataToPoint(c):null},a.prototype.convertFromPixel=function(a,b,c){return Fl(b)===this?this.pointToData(c):null},a}();function Fl(a){var b=a.seriesModel,c=a.polarModel;return c&&c.coordinateSystem||b&&b.coordinateSystem}function Fm(a,b){var c=this,d=c.getAngleAxis(),e=c.getRadiusAxis();if(d.scale.setExtent(1/0,-1/0),e.scale.setExtent(1/0,-1/0),a.eachSeries(function(a){if(a.coordinateSystem===c){var b=a.getData();aX(r8(b,"radius"),function(a){e.scale.unionExtentFromData(b,a)}),aX(r8(b,"angle"),function(a){d.scale.unionExtentFromData(b,a)})}}),r2(d.scale,d.model),r2(e.scale,e.model),"category"===d.type&&!d.onBand){var f=d.getExtent(),g=360/d.scale.count();d.inverse?f[1]+=g:f[1]-=g,d.setExtent(f[0],f[1])}}function Fn(a,b){var c;if(a.type=b.get("type"),a.scale=r3(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,a.inverse=b.get("inverse"),"angleAxis"===b.mainType){a.inverse=a.inverse!==b.get("clockwise");var d=b.get("startAngle"),e=null!=(c=b.get("endAngle"))?c:d+(a.inverse?-360:360);a.setExtent(d,e)}b.axis=a,a.model=b}let Fo={dimensions:Fj,create:function(a,b){var c=[];return a.eachComponent("polar",function(a,d){var e,f,g,h,i,j,k=new Fk(d+"");k.update=Fm;var l=k.getRadiusAxis(),m=k.getAngleAxis(),n=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");Fn(l,n),Fn(m,o),e=a.get("center"),f=kk(a,b).refContainer,k.cx=fs(e[0],f.width)+f.x,k.cy=fs(e[1],f.height)+f.y,g=k.getRadiusAxis(),h=Math.min(f.width,f.height)/2,null==(i=a.get("radius"))?i=[0,"100%"]:a3(i)||(i=[0,i]),j=[fs(i[0],h),fs(i[1],h)],g.inverse?g.setExtent(j[1],j[0]):g.setExtent(j[0],j[1]),c.push(k),a.coordinateSystem=k,k.model=a}),a.eachSeries(function(a){if("polar"===a.get("coordinateSystem")){var b=a.getReferringComponents("polar",f4).models[0];a.coordinateSystem=b.coordinateSystem}}),c}};var Fp=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Fq(a,b,c){b[1]>b[0]&&(b=b.slice().reverse());var d=a.coordToPoint([b[0],c]),e=a.coordToPoint([b[1],c]);return{x1:d[0],y1:d[1],x2:e[0],y2:e[1]}}function Fr(a){return+!a.getRadiusAxis().inverse}function Fs(a){var b=a[0],c=a[a.length-1];b&&c&&1e-4>Math.abs(Math.abs(b.coord-c.coord)-360)&&a.pop()}var Ft=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.axisPointerClass="PolarAxisPointer",c}return aq(b,a),b.prototype.render=function(a,b){if(this.group.removeAll(),a.get("show")){var c=a.axis,d=c.polar,e=d.getRadiusAxis().getExtent(),f=c.getTicksCoords({breakTicks:"none"}),g=c.getMinorTicksCoords(),h=aY(c.getViewLabels(),function(a){a=aN(a);var b=c.scale,d="ordinal"===b.type?b.getRawOrdinalNumber(a.tickValue):a.tickValue;return a.coord=c.dataToCoord(d),a});Fs(h),Fs(f),aX(Fp,function(b){a.get([b,"show"])&&(!c.scale.isBlank()||"axisLine"===b)&&Fu[b](this.group,a,d,f,g,e,h)},this)}},b.type="angleAxis",b}(wM),Fu={axisLine:function(a,b,c,d,e,f){var g,h=b.getModel(["axisLine","lineStyle"]),i=c.getAngleAxis(),j=Math.PI/180,k=i.getExtent(),l=Fr(c),m=+!l,n=360===Math.abs(k[1]-k[0])?"Circle":"Arc";(g=0===f[m]?new ai[n]({shape:{cx:c.cx,cy:c.cy,r:f[l],startAngle:-k[0]*j,endAngle:-k[1]*j,clockwise:i.inverse},style:h.getLineStyle(),z2:1,silent:!0}):new nl({shape:{cx:c.cx,cy:c.cy,r:f[l],r0:f[m]},style:h.getLineStyle(),z2:1,silent:!0})).style.fill=null,a.add(g)},axisTick:function(a,b,c,d,e,f){var g=b.getModel("axisTick"),h=(g.get("inside")?-1:1)*g.get("length"),i=f[Fr(c)],j=aY(d,function(a){return new nw({shape:Fq(c,[i,i+h],a.coord)})});a.add(n3(j,{style:aR(g.getModel("lineStyle").getLineStyle(),{stroke:b.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,b,c,d,e,f){if(e.length){for(var g=b.getModel("axisTick"),h=b.getModel("minorTick"),i=(g.get("inside")?-1:1)*h.get("length"),j=f[Fr(c)],k=[],l=0;l<e.length;l++)for(var m=0;m<e[l].length;m++)k.push(new nw({shape:Fq(c,[j,j+i],e[l][m].coord)}));a.add(n3(k,{style:aR(h.getModel("lineStyle").getLineStyle(),aR(g.getLineStyle(),{stroke:b.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,b,c,d,e,f,g){var h=b.getCategories(!0),i=b.getModel("axisLabel"),j=i.get("margin"),k=b.get("triggerEvent");aX(g,function(d,e){var g=i,l=d.tickValue,m=f[Fr(c)],n=c.coordToPoint([m+j,d.coord]),o=c.cx,p=c.cy,q=Math.abs(n[0]-o)/m<.3?"center":n[0]>o?"left":"right",r=Math.abs(n[1]-p)/m<.3?"middle":n[1]>p?"top":"bottom";if(h&&h[l]){var s=h[l];a8(s)&&s.textStyle&&(g=new jn(s.textStyle,i,i.ecModel))}var t=new h1({silent:wi.isLabelSilent(b),style:i1(g,{x:n[0],y:n[1],fill:g.getTextColor()||b.get(["axisLine","lineStyle","color"]),text:d.formattedLabel,align:q,verticalAlign:r})});if(a.add(t),ok({el:t,componentModel:b,itemName:d.formattedLabel,formatterParamsExtra:{isTruncated:function(){return t.isTruncated},value:d.rawLabel,tickIndex:e}}),k){var u=wi.makeAxisEventDataBase(b);u.targetType="axisLabel",u.value=d.rawLabel,h2(t).eventData=u}},this)},splitLine:function(a,b,c,d,e,f){var g=b.getModel("splitLine").getModel("lineStyle"),h=g.get("color"),i=0;h=h instanceof Array?h:[h];for(var j=[],k=0;k<d.length;k++){var l=i++%h.length;j[l]=j[l]||[],j[l].push(new nw({shape:Fq(c,f,d[k].coord)}))}for(var k=0;k<j.length;k++)a.add(n3(j[k],{style:aR({stroke:h[k%h.length]},g.getLineStyle()),silent:!0,z:b.get("z")}))},minorSplitLine:function(a,b,c,d,e,f){if(e.length){for(var g=b.getModel("minorSplitLine").getModel("lineStyle"),h=[],i=0;i<e.length;i++)for(var j=0;j<e[i].length;j++)h.push(new nw({shape:Fq(c,f,e[i][j].coord)}));a.add(n3(h,{style:g.getLineStyle(),silent:!0,z:b.get("z")}))}},splitArea:function(a,b,c,d,e,f){if(d.length){var g=b.getModel("splitArea").getModel("areaStyle"),h=g.get("color"),i=0;h=h instanceof Array?h:[h];for(var j=[],k=Math.PI/180,l=-d[0].coord*k,m=Math.min(f[0],f[1]),n=Math.max(f[0],f[1]),o=b.get("clockwise"),p=1,q=d.length;p<=q;p++){var r=p===q?d[0].coord:d[p].coord,s=i++%h.length;j[s]=j[s]||[],j[s].push(new ni({shape:{cx:c.cx,cy:c.cy,r0:m,r:n,startAngle:l,endAngle:-r*k,clockwise:o},silent:!0})),l=-r*k}for(var p=0;p<j.length;p++)a.add(n3(j[p],{style:aR({fill:h[p%h.length]},g.getAreaStyle()),silent:!0}))}}},Fv=["splitLine","splitArea","minorSplitLine"],Fw=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.axisPointerClass="PolarAxisPointer",c}return aq(b,a),b.prototype.render=function(a,b,c){if(this.group.removeAll(),a.get("show")){var d,e,f,g=this._axisGroup,h=this._axisGroup=new fc;this.group.add(h);var i=a.axis,j=i.polar,k=j.getAngleAxis(),l=i.getTicksCoords(),m=i.getMinorTicksCoords(),n=k.getExtent()[0],o=i.getExtent(),p=(d=j,e=a,f=n,{position:[d.cx,d.cy],rotation:f/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}),q=new wi(a,c,p);q.build(),h.add(q.group),ob(g,h,a),aX(Fv,function(b){a.get([b,"show"])&&!i.scale.isBlank()&&Fx[b](this.group,a,j,n,o,l,m)},this)}},b.type="radiusAxis",b}(wM),Fx={splitLine:function(a,b,c,d,e,f){var g=b.getModel("splitLine").getModel("lineStyle"),h=g.get("color"),i=0,j=c.getAngleAxis(),k=Math.PI/180,l=j.getExtent(),m=360===Math.abs(l[1]-l[0])?"Circle":"Arc";h=h instanceof Array?h:[h];for(var n=[],o=0;o<f.length;o++){var p=i++%h.length;n[p]=n[p]||[],n[p].push(new ai[m]({shape:{cx:c.cx,cy:c.cy,r:Math.max(f[o].coord,0),startAngle:-l[0]*k,endAngle:-l[1]*k,clockwise:j.inverse}}))}for(var o=0;o<n.length;o++)a.add(n3(n[o],{style:aR({stroke:h[o%h.length],fill:null},g.getLineStyle()),silent:!0}))},minorSplitLine:function(a,b,c,d,e,f,g){if(g.length){for(var h=b.getModel("minorSplitLine").getModel("lineStyle"),i=[],j=0;j<g.length;j++)for(var k=0;k<g[j].length;k++)i.push(new m1({shape:{cx:c.cx,cy:c.cy,r:g[j][k].coord}}));a.add(n3(i,{style:aR({fill:null},h.getLineStyle()),silent:!0}))}},splitArea:function(a,b,c,d,e,f){if(f.length){var g=b.getModel("splitArea").getModel("areaStyle"),h=g.get("color"),i=0;h=h instanceof Array?h:[h];for(var j=[],k=f[0].coord,l=1;l<f.length;l++){var m=i++%h.length;j[m]=j[m]||[],j[m].push(new ni({shape:{cx:c.cx,cy:c.cy,r0:k,r:f[l].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),k=f[l].coord}for(var l=0;l<j.length;l++)a.add(n3(j[l],{style:aR({fill:h[l%h.length]},g.getAreaStyle()),silent:!0}))}}};function Fy(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function Fz(a,b){return b.dim+a.model.componentIndex}let FA=function(a,b,c){var d,e,f,g={},h=(d=a$(b.getSeriesByType(a),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}),e={},aX(d,function(a,b){var c=a.getData(),d=a.coordinateSystem,f=d.getBaseAxis(),g=Fz(d,f),h=f.getExtent(),i="category"===f.type?f.getBandWidth():Math.abs(h[1]-h[0])/c.count(),j=e[g]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},k=j.stacks;e[g]=j;var l=Fy(a);!k[l]&&j.autoWidthCount++,k[l]=k[l]||{width:0,maxWidth:0};var m=fs(a.get("barWidth"),i),n=fs(a.get("barMaxWidth"),i),o=a.get("barGap"),p=a.get("barCategoryGap");m&&!k[l].width&&(m=Math.min(j.remainedWidth,m),k[l].width=m,j.remainedWidth-=m),n&&(k[l].maxWidth=n),null!=o&&(j.gap=o),null!=p&&(j.categoryGap=p)}),f={},aX(e,function(a,b){f[b]={};var c,d=a.stacks,e=a.bandWidth,g=fs(a.categoryGap,e),h=fs(a.gap,1),i=a.remainedWidth,j=a.autoWidthCount,k=(i-g)/(j+(j-1)*h);k=Math.max(k,0),aX(d,function(a,b){var c=a.maxWidth;c&&c<k&&(c=Math.min(c,i),a.width&&(c=Math.min(c,a.width)),i-=c,a.width=c,j--)}),k=Math.max(k=(i-g)/(j+(j-1)*h),0);var l=0;aX(d,function(a,b){a.width||(a.width=k),c=a,l+=a.width*(1+h)}),c&&(l-=c.width*h);var m=-l/2;aX(d,function(a,c){f[b][c]=f[b][c]||{offset:m,width:a.width},m+=a.width*(1+h)})}),f);b.eachSeriesByType(a,function(a){if("polar"===a.coordinateSystem.type){var b=a.getData(),c=a.coordinateSystem,d=c.getBaseAxis(),e=Fz(c,d),f=Fy(a),i=h[e][f],j=i.offset,k=i.width,l=c.getOtherAxis(d),m=a.coordinateSystem.cx,n=a.coordinateSystem.cy,o=a.get("barMinHeight")||0,p=a.get("barMinAngle")||0;g[f]=g[f]||[];for(var q=b.mapDimension(l.dim),r=b.mapDimension(d.dim),s=rg(b,q),t="radius"!==d.dim||!a.get("roundCap",!0),u=l.model.get("startValue"),v=l.dataToCoord(u||0),w=0,x=b.count();w<x;w++){var y=b.get(q,w),z=b.get(r,w),A=y>=0?"p":"n",B=v;s&&(g[f][z]||(g[f][z]={p:v,n:v}),B=g[f][z][A]);var C=void 0,D=void 0,E=void 0,F=void 0;if("radius"===l.dim){var G=l.dataToCoord(y)-v,H=d.dataToCoord(z);Math.abs(G)<o&&(G=(G<0?-1:1)*o),C=B,D=B+G,F=(E=H-j)-k,s&&(g[f][z][A]=D)}else{var I=l.dataToCoord(y,t)-v,J=d.dataToCoord(z);Math.abs(I)<p&&(I=(I<0?-1:1)*p),D=(C=J+j)+k,E=B,F=B+I,s&&(g[f][z][A]=F)}b.setItemLayout(w,{cx:m,cy:n,r0:C,r:D,startAngle:-E*Math.PI/180,endAngle:-F*Math.PI/180,clockwise:E>=F})}}})};var FB={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},FC={splitNumber:5},FD=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="polar",b}(mG);function FE(a,b){b=b||{};var c=a.coordinateSystem,d=a.axis,e={},f=d.position,g=d.orient,h=c.getRect(),i=[h.x,h.x+h.width,h.y,h.y+h.height],j={horizontal:{top:i[2],bottom:i[3]},vertical:{left:i[0],right:i[1]}};e.position=["vertical"===g?j.vertical[f]:i[0],"horizontal"===g?j.horizontal[f]:i[3]],e.rotation=Math.PI/2*({horizontal:0,vertical:1})[g],e.labelDirection=e.tickDirection=e.nameDirection=({top:-1,bottom:1,right:1,left:-1})[f],a.get(["axisTick","inside"])&&(e.tickDirection=-e.tickDirection),bg(b.labelInside,a.get(["axisLabel","inside"]))&&(e.labelDirection=-e.labelDirection);var k=a.get(["axisLabel","rotate"]);return e.labelRotate="top"===f?-k:k,e.z2=1,e}var FF=["splitArea","splitLine","breakArea"],FG=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.axisPointerClass="SingleAxisPointer",c}return aq(b,a),b.prototype.render=function(b,c,d,e){var f=this.group;f.removeAll();var g=this._axisGroup;this._axisGroup=new fc;var h=FE(b),i=new wi(b,d,h);i.build(),f.add(this._axisGroup),f.add(i.group),aX(FF,function(a){b.get([a,"show"])&&FH[a](this,this.group,this._axisGroup,b,d)},this),ob(g,this._axisGroup,b),a.prototype.render.call(this,b,c,d,e)},b.prototype.remove=function(){wP(this)},b.type="singleAxis",b}(wM),FH={splitLine:function(a,b,c,d,e){var f=d.axis;if(!f.scale.isBlank()){var g=d.getModel("splitLine"),h=g.getModel("lineStyle"),i=h.get("color");i=i instanceof Array?i:[i];for(var j=h.get("width"),k=d.coordinateSystem.getRect(),l=f.isHorizontal(),m=[],n=0,o=f.getTicksCoords({tickModel:g,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),p=[],q=[],r=0;r<o.length;++r){var s=f.toGlobalCoord(o[r].coord);l?(p[0]=s,p[1]=k.y,q[0]=s,q[1]=k.y+k.height):(p[0]=k.x,p[1]=s,q[0]=k.x+k.width,q[1]=s);var t=new nw({shape:{x1:p[0],y1:p[1],x2:q[0],y2:q[1]},silent:!0});n5(t.shape,j);var u=n++%i.length;m[u]=m[u]||[],m[u].push(t)}for(var v=h.getLineStyle(["color"]),r=0;r<m.length;++r)b.add(n3(m[r],{style:aR({stroke:i[r%i.length]},v),silent:!0}))}},splitArea:function(a,b,c,d,e){wO(a,c,d,d)},breakArea:function(a,b,c,d,e){var f=vT,g=d.axis.scale;f&&"ordinal"!==g.type&&f.rectCoordBuildBreakAxis(b,a,d,d.coordinateSystem.getRect(),e)}},FI=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.getCoordSysModel=function(){return this},b.type="singleAxis",b.layoutMode="box",b.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},b}(ku);aV(FI,sc.prototype);var FJ=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c,d)||this;return g.type=e||"value",g.position=f||"bottom",g}return aq(b,a),b.prototype.isHorizontal=function(){var a=this.position;return"top"===a||"bottom"===a},b.prototype.pointToData=function(a,b){return this.coordinateSystem.pointToData(a)[0]},b}(sM),FK=["single"],FL=function(){function a(a,b,c){this.type="single",this.dimension="single",this.dimensions=FK,this.axisPointerEnabled=!0,this.model=a,this._init(a,b,c)}return a.prototype._init=function(a,b,c){var d=new FJ(this.dimension,r3(a),[0,0],a.get("type"),a.get("position")),e="category"===d.type;d.onBand=e&&a.get("boundaryGap"),d.inverse=a.get("inverse"),d.orient=a.get("orient"),a.axis=d,d.model=a,d.coordinateSystem=this,this._axis=d},a.prototype.update=function(a,b){a.eachSeries(function(a){if(a.coordinateSystem===this){var b=a.getData();aX(b.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(b,a)},this),r2(this._axis.scale,this._axis.model)}},this)},a.prototype.resize=function(a,b){var c=kk(a,b).refContainer;this._rect=kh(a.getBoxLayoutParams(),c),this._adjustAxis()},a.prototype.getRect=function(){return this._rect},a.prototype._adjustAxis=function(){var a=this._rect,b=this._axis,c=b.isHorizontal(),d=c?[0,a.width]:[0,a.height],e=+!!b.inverse;b.setExtent(d[e],d[1-e]),this._updateAxisTransform(b,c?a.x:a.y)},a.prototype._updateAxisTransform=function(a,b){var c=a.getExtent(),d=c[0]+c[1],e=a.isHorizontal();a.toGlobalCoord=e?function(a){return a+b}:function(a){return d-a+b},a.toLocalCoord=e?function(a){return a-b}:function(a){return d-a+b}},a.prototype.getAxis=function(){return this._axis},a.prototype.getBaseAxis=function(){return this._axis},a.prototype.getAxes=function(){return[this._axis]},a.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},a.prototype.containPoint=function(a){var b=this.getRect(),c=this.getAxis();return"horizontal"===c.orient?c.contain(c.toLocalCoord(a[0]))&&a[1]>=b.y&&a[1]<=b.y+b.height:c.contain(c.toLocalCoord(a[1]))&&a[0]>=b.y&&a[0]<=b.y+b.height},a.prototype.pointToData=function(a,b,c){c=c||[];var d=this.getAxis();return c[0]=d.coordToData(d.toLocalCoord(a[+("horizontal"!==d.orient)])),c},a.prototype.dataToPoint=function(a,b,c){var d=this.getAxis(),e=this.getRect();c=c||[];var f=+("horizontal"!==d.orient);return a instanceof Array&&(a=a[0]),c[f]=d.toGlobalCoord(d.dataToCoord(+a)),c[1-f]=0===f?e.y+e.height/2:e.x+e.width/2,c},a.prototype.convertToPixel=function(a,b,c){return FM(b)===this?this.dataToPoint(c):null},a.prototype.convertFromPixel=function(a,b,c){return FM(b)===this?this.pointToData(c):null},a}();function FM(a){var b=a.seriesModel,c=a.singleAxisModel;return c&&c.coordinateSystem||b&&b.coordinateSystem}let FN={create:function(a,b){var c=[];return a.eachComponent("singleAxis",function(d,e){var f=new FL(d,a,b);f.name="single_"+e,f.resize(d,b),d.coordinateSystem=f,c.push(f)}),a.eachSeries(function(a){if("singleAxis"===a.get("coordinateSystem")){var b=a.getReferringComponents("singleAxis",f4).models[0];a.coordinateSystem=b&&b.coordinateSystem}}),c},dimensions:FK};var FO=["x","y"],FP=["width","height"],FQ=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.makeElOption=function(a,b,c,d,e){var f=c.axis,g=f.coordinateSystem,h=FT(g,1-FS(f)),i=g.dataToPoint(b)[0],j=d.get("type");if(j&&"none"!==j){var k=EK(d),l=FR[j](f,i,h);l.style=k,a.graphicKey=l.type,a.pointer=l}EO(b,a,FE(c),c,d,e)},b.prototype.getHandleTransform=function(a,b,c){var d=FE(b,{labelInside:!1});d.labelMargin=c.get(["handle","margin"]);var e=EN(b.axis,a,d);return{x:e[0],y:e[1],rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},b.prototype.updateHandleTransform=function(a,b,c,d){var e=c.axis,f=e.coordinateSystem,g=FS(e),h=FT(f,g),i=[a.x,a.y];i[g]+=b[g],i[g]=Math.min(h[1],i[g]),i[g]=Math.max(h[0],i[g]);var j=FT(f,1-g),k=(j[1]+j[0])/2,l=[k,k];return l[g]=i[g],{x:i[0],y:i[1],rotation:a.rotation,cursorPoint:l,tooltipOption:{verticalAlign:"middle"}}},b}(EF),FR={line:function(a,b,c){return{type:"Line",subPixelOptimize:!0,shape:EP([b,c[0]],[b,c[1]],FS(a))}},shadow:function(a,b,c){var d=a.getBandWidth(),e=c[1]-c[0];return{type:"Rect",shape:EQ([b-d/2,c[0]],[d,e],FS(a))}}};function FS(a){return+!a.isHorizontal()}function FT(a,b){var c=a.getRect();return[c[FO[b]],c[FO[b]]+c[FP[b]]]}var FU=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="single",b}(mG),FV=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(b,c,d){var e=ko(b);a.prototype.init.apply(this,arguments),FW(b,e)},b.prototype.mergeOption=function(b){a.prototype.mergeOption.apply(this,arguments),FW(this.option,b)},b.prototype.getCellSize=function(){return this.option.cellSize},b.type="calendar",b.layoutMode="box",b.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:kv.color.axisLine,width:1,type:"solid"}},itemStyle:{color:kv.color.neutral00,borderWidth:1,borderColor:kv.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:kv.size.s,color:kv.color.secondary},monthLabel:{show:!0,position:"start",margin:kv.size.s,align:"center",formatter:null,color:kv.color.secondary},yearLabel:{show:!0,position:null,margin:kv.size.xl,formatter:null,color:kv.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},b}(ku);function FW(a,b){var c,d=a.cellSize;1===(c=a3(d)?d:a.cellSize=[d,d]).length&&(c[1]=c[0]);var e=aY([0,1],function(a){return(null!=b[kd[a][0]]||null!=b[kd[a][1]]&&null!=b[kd[a][2]])&&(c[a]="auto"),null!=c[a]&&"auto"!==c[a]});kn(a,b,{type:"box",ignoreSize:e})}var FX=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){var d=this.group;d.removeAll();var e=a.coordinateSystem,f=e.getRangeInfo(),g=e.getOrient(),h=b.getLocaleModel();this._renderDayRect(a,f,d),this._renderLines(a,f,g,d),this._renderYearText(a,f,g,d),this._renderMonthText(a,h,g,d),this._renderWeekText(a,h,f,g,d)},b.prototype._renderDayRect=function(a,b,c){for(var d=a.coordinateSystem,e=a.getModel("itemStyle").getItemStyle(),f=d.getCellWidth(),g=d.getCellHeight(),h=b.start.time;h<=b.end.time;h=d.getNextNDay(h,1).time){var i=d.dataToCalendarLayout([h],!1).tl,j=new hM({shape:{x:i[0],y:i[1],width:f,height:g},cursor:"default",style:e});c.add(j)}},b.prototype._renderLines=function(a,b,c,d){var e=this,f=a.coordinateSystem,g=a.getModel(["splitLine","lineStyle"]).getLineStyle(),h=a.get(["splitLine","show"]),i=g.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var j=b.start,k=0;j.time<=b.end.time;k++){m(j.formatedDate),0===k&&(j=f.getDateInfo(b.start.y+"-"+b.start.m));var l=j.date;l.setMonth(l.getMonth()+1),j=f.getDateInfo(l)}function m(b){e._firstDayOfMonth.push(f.getDateInfo(b)),e._firstDayPoints.push(f.dataToCalendarLayout([b],!1).tl);var i=e._getLinePointsOfOneWeek(a,b,c);e._tlpoints.push(i[0]),e._blpoints.push(i[i.length-1]),h&&e._drawSplitline(i,g,d)}m(f.getNextNDay(b.end.time,1).formatedDate),h&&this._drawSplitline(e._getEdgesPoints(e._tlpoints,i,c),g,d),h&&this._drawSplitline(e._getEdgesPoints(e._blpoints,i,c),g,d)},b.prototype._getEdgesPoints=function(a,b,c){var d=[a[0].slice(),a[a.length-1].slice()],e=+("horizontal"!==c);return d[0][e]=d[0][e]-b/2,d[1][e]=d[1][e]+b/2,d},b.prototype._drawSplitline=function(a,b,c){var d=new ns({z2:20,shape:{points:a},style:b});c.add(d)},b.prototype._getLinePointsOfOneWeek=function(a,b,c){for(var d=a.coordinateSystem,e=d.getDateInfo(b),f=[],g=0;g<7;g++){var h=d.getNextNDay(e.time,g),i=d.dataToCalendarLayout([h.time],!1);f[2*h.day]=i.tl,f[2*h.day+1]=i["horizontal"===c?"bl":"tr"]}return f},b.prototype._formatterLabel=function(a,b){if(a5(a)&&a){var c;return c=a,aX(b,function(a,b){c=c.replace("{"+b+"}",a)}),c}return a4(a)?a(b):b.nameMap},b.prototype._yearTextPositionControl=function(a,b,c,d,e){var f=b[0],g=b[1],h=["center","bottom"];"bottom"===d?(g+=e,h=["center","top"]):"left"===d?f-=e:"right"===d?(f+=e,h=["center","top"]):g-=e;var i=0;return("left"===d||"right"===d)&&(i=Math.PI/2),{rotation:i,x:f,y:g,style:{align:h[0],verticalAlign:h[1]}}},b.prototype._renderYearText=function(a,b,c,d){var e=a.getModel("yearLabel");if(e.get("show")){var f=e.get("margin"),g=e.get("position");g||(g="horizontal"!==c?"top":"left");var h=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],i=(h[0][0]+h[1][0])/2,j=(h[0][1]+h[1][1])/2,k=+("horizontal"!==c),l={top:[i,h[k][1]],bottom:[i,h[1-k][1]],left:[h[1-k][0],j],right:[h[k][0],j]},m=b.start.y;+b.end.y>+b.start.y&&(m=m+"-"+b.end.y);var n=e.get("formatter"),o={start:b.start.y,end:b.end.y,nameMap:m},p=new h1({z2:30,style:i1(e,{text:this._formatterLabel(n,o)}),silent:e.get("silent")});p.attr(this._yearTextPositionControl(p,l[g],c,g,f)),d.add(p)}},b.prototype._monthTextPositionControl=function(a,b,c,d,e){var f="left",g="top",h=a[0],i=a[1];return"horizontal"===c?(i+=e,b&&(f="center"),"start"===d&&(g="bottom")):(h+=e,b&&(g="middle"),"start"===d&&(f="right")),{x:h,y:i,align:f,verticalAlign:g}},b.prototype._renderMonthText=function(a,b,c,d){var e=a.getModel("monthLabel");if(e.get("show")){var f=e.get("nameMap"),g=e.get("margin"),h=e.get("position"),i=e.get("align"),j=[this._tlpoints,this._blpoints];(!f||a5(f))&&(f&&(b=js[f]||b),f=b.get(["time","monthAbbr"])||[]);var k=+("start"!==h),l=+("horizontal"!==c);g="start"===h?-g:g;for(var m="center"===i,n=e.get("silent"),o=0;o<j[k].length-1;o++){var p=j[k][o].slice(),q=this._firstDayOfMonth[o];if(m){var r=this._firstDayPoints[o];p[l]=(r[l]+j[0][o+1][l])/2}var s=e.get("formatter"),t=f[q.m-1],u={yyyy:q.y,yy:(q.y+"").slice(2),MM:q.m,M:+q.m,nameMap:t},v=new h1({z2:30,style:aQ(i1(e,{text:this._formatterLabel(s,u)}),this._monthTextPositionControl(p,m,c,h,g)),silent:n});d.add(v)}}},b.prototype._weekTextPositionControl=function(a,b,c,d,e){var f="center",g="middle",h=a[0],i=a[1],j="start"===c;return"horizontal"===b?(h=h+d+(j?1:-1)*e[0]/2,f=j?"right":"left"):(i=i+d+(j?1:-1)*e[1]/2,g=j?"bottom":"top"),{x:h,y:i,align:f,verticalAlign:g}},b.prototype._renderWeekText=function(a,b,c,d,e){var f=a.getModel("dayLabel");if(f.get("show")){var g=a.coordinateSystem,h=f.get("position"),i=f.get("nameMap"),j=f.get("margin"),k=g.getFirstDayOfWeek();(!i||a5(i))&&(i&&(b=js[i]||b),i=b.get(["time","dayOfWeekShort"])||aY(b.get(["time","dayOfWeekAbbr"]),function(a){return a[0]}));var l=g.getNextNDay(c.end.time,7-c.lweek).time,m=[g.getCellWidth(),g.getCellHeight()];j=fs(j,Math.min(m[1],m[0])),"start"===h&&(l=g.getNextNDay(c.start.time,-(7+c.fweek)).time,j=-j);for(var n=f.get("silent"),o=0;o<7;o++){var p=g.getNextNDay(l,o),q=g.dataToCalendarLayout([p.time],!1).center,r=new h1({z2:30,style:aQ(i1(f,{text:i[Math.abs((o+k)%7)]}),this._weekTextPositionControl(q,d,h,j,m)),silent:n});e.add(r)}}},b.type="calendar",b}(mG),FY=function(){function a(b,c,d){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=b,this._update(c,d)}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(a){var b=(a=fF(a)).getFullYear(),c=a.getMonth()+1,d=c<10?"0"+c:""+c,e=a.getDate(),f=e<10?"0"+e:""+e,g=a.getDay();return{y:b+"",m:d,d:f,day:g=Math.abs((g+7-this.getFirstDayOfWeek())%7),time:a.getTime(),formatedDate:b+"-"+d+"-"+f,date:a}},a.prototype.getNextNDay=function(a,b){return 0===(b=b||0)||(a=new Date(this.getDateInfo(a).time)).setDate(a.getDate()+b),this.getDateInfo(a)},a.prototype._update=function(a,b){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var c=this._rangeInfo.weeks||1,d=["width","height"],e=this._model.getCellSize().slice(),f=this._model.getBoxLayoutParams(),g="horizontal"===this._orient?[c,7]:[7,c];aX([0,1],function(a){j(e,a)&&(f[d[a]]=e[a]*g[a])});var h={width:b.getWidth(),height:b.getHeight()},i=this._rect=kh(f,h);function j(a,b){return null!=a[b]&&"auto"!==a[b]}aX([0,1],function(a){j(e,a)||(e[a]=i[d[a]]/g[a])}),this._sw=e[0],this._sh=e[1]},a.prototype.dataToPoint=function(a,b,c){c=c||[],a3(a)&&(a=a[0]),null==b&&(b=!0);var d=this.getDateInfo(a),e=this._rangeInfo,f=d.formatedDate;if(b&&!(d.time>=e.start.time&&d.time<e.end.time+864e5))return c[0]=c[1]=NaN,c;var g=d.day,h=this._getRangeInfo([e.start.time,f]).nthWeek;return"vertical"===this._orient?(c[0]=this._rect.x+g*this._sw+this._sw/2,c[1]=this._rect.y+h*this._sh+this._sh/2):(c[0]=this._rect.x+h*this._sw+this._sw/2,c[1]=this._rect.y+g*this._sh+this._sh/2),c},a.prototype.pointToData=function(a){var b=this.pointToDate(a);return b&&b.time},a.prototype.dataToLayout=function(a,b,c){var d=(c=c||{}).rect=c.rect||{},e=c.contentRect=c.contentRect||{},f=this.dataToPoint(a,b);return d.x=f[0]-this._sw/2,d.y=f[1]-this._sh/2,d.width=this._sw,d.height=this._sh,cS.copy(e,d),oh(e,this._lineWidth/2,!0,!0),c},a.prototype.dataToCalendarLayout=function(a,b){var c=this.dataToPoint(a,b);return{center:c,tl:[c[0]-this._sw/2,c[1]-this._sh/2],tr:[c[0]+this._sw/2,c[1]-this._sh/2],br:[c[0]+this._sw/2,c[1]+this._sh/2],bl:[c[0]-this._sw/2,c[1]+this._sh/2]}},a.prototype.pointToDate=function(a){var b=Math.floor((a[0]-this._rect.x)/this._sw)+1,c=Math.floor((a[1]-this._rect.y)/this._sh)+1,d=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(c,b-1,d):this._getDateByWeeksAndDay(b,c-1,d)},a.prototype.convertToPixel=function(a,b,c){var d=FZ(b);return d===this?d.dataToPoint(c):null},a.prototype.convertToLayout=function(a,b,c){var d=FZ(b);return d===this?d.dataToLayout(c):null},a.prototype.convertFromPixel=function(a,b,c){var d=FZ(b);return d===this?d.pointToData(c):null},a.prototype.containPoint=function(a){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var a,b=this._model.get("range");if(a3(b)&&1===b.length&&(b=b[0]),a3(b))a=b;else{var c=b.toString();if(/^\d{4}$/.test(c)&&(a=[c+"-01-01",c+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(c)){var d=this.getDateInfo(c),e=d.date;e.setMonth(e.getMonth()+1);var f=this.getNextNDay(e,-1);a=[d.formatedDate,f.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(c)&&(a=[c,c])}if(!a)return b;var g=this._getRangeInfo(a);return g.start.time>g.end.time&&a.reverse(),a},a.prototype._getRangeInfo=function(a){var b,c=[this.getDateInfo(a[0]),this.getDateInfo(a[1])];c[0].time>c[1].time&&(b=!0,c.reverse());var d=Math.floor(c[1].time/864e5)-Math.floor(c[0].time/864e5)+1,e=new Date(c[0].time),f=e.getDate(),g=c[1].date.getDate();e.setDate(f+d-1);var h=e.getDate();if(h!==g)for(var i=e.getTime()-c[1].time>0?1:-1;(h=e.getDate())!==g&&(e.getTime()-c[1].time)*i>0;)d-=i,e.setDate(h-i);var j=Math.floor((d+c[0].day+6)/7),k=b?-j+1:j-1;return b&&c.reverse(),{range:[c[0].formatedDate,c[1].formatedDate],start:c[0],end:c[1],allDay:d,weeks:j,nthWeek:k,fweek:c[0].day,lweek:c[1].day}},a.prototype._getDateByWeeksAndDay=function(a,b,c){var d=this._getRangeInfo(c);if(a>d.weeks||0===a&&b<d.fweek||a===d.weeks&&b>d.lweek)return null;var e=(a-1)*7-d.fweek+b,f=new Date(d.start.time);return f.setDate(+d.start.d+e),this.getDateInfo(f)},a.create=function(b,c){var d=[];return b.eachComponent("calendar",function(e){var f=new a(e,b,c);d.push(f),e.coordinateSystem=f}),b.eachComponent(function(a,b){j9({targetModel:b,coordSysType:"calendar",coordSysProvider:ka})}),d},a.dimensions=["time","value"],a}();function FZ(a){var b=a.calendarModel,c=a.seriesModel;return b?b.coordinateSystem:c?c.coordinateSystem:null}var F$={none:0,all:1,body:2,corner:3};function F_(a,b,c){var d=b[nV[c]].getCell(a);return!d&&a7(a)&&a<0&&(d=b[nV[1-c]].getUnitLayoutInfo(c,Math.round(a))),d}function F0(a){var b=a||[];return b[0]=b[0]||[],b[1]=b[1]||[],b[0][0]=b[0][1]=b[1][0]=b[1][1]=NaN,b}function F1(a,b,c,d,e){F2(a[0],b,e,c,d,0),F2(a[1],b,e,c,d,1)}function F2(a,b,c,d,e,f){a[0]=1/0,a[1]=-1/0;var g=d[f],h=a3(g)?g:[g],i=h.length,j=!!c;if(i>=1?(F3(a,b,h,j,e,f,0),i>1&&F3(a,b,h,j,e,f,i-1)):a[0]=a[1]=NaN,j){var k,l,m=-e[nV[1-f]].getLocatorCount(f),n=e[nV[f]].getLocatorCount(f)-1;c===F$.body?m=fp(0,m):c===F$.corner&&(n=fo(-1,n)),n<m&&(m=n=NaN),(k=a[0])!=k&&(a[0]=m),(l=a[1])!=l&&(a[1]=n),a[0]=fp(fo(a[0],n),m),a[1]=fp(fo(a[1],n),m)}}function F3(a,b,c,d,e,f,g){var h,i=F_(c[g],e,f);if(!i){a[0]=a[1]=NaN;return}var j=i.id[nV[f]],k=j,l=(h=i)&&(2===h.type||3===h.type)?h:null;l&&(k+=l.span[nV[f]]-1),a[0]=fo(a[0],j,k),a[1]=fp(a[1],j,k)}function F4(a,b){var c,d;return(c=a[b][0])!=c||(d=a[b][1])!=d}function F5(a,b,c,d){b=b||F6;for(var e=0;e<d;e++)b[e]=!1;for(;;){for(var f=!1,e=0;e<d;e++){var g,h,i=c[e];!b[e]&&i.cellMergeOwner&&(g=a,h=i.locatorRange,F7(g[0],h[0])&&F7(g[1],h[1])&&(g[0][0]=fo(g[0][0],h[0][0]),g[0][1]=fp(g[0][1],h[0][1]),g[1][0]=fo(g[1][0],h[1][0]),g[1][1]=fp(g[1][1],h[1][1]),1))&&(b[e]=!0,f=!0)}if(!f)break}}var F6=[];function F7(a,b){return a[1]>=b[0]&&a[0]<=b[1]}function F8(a,b){a.id.set(b[0][0],b[1][0]),a.span.set(b[0][1]-a.id.x+1,b[1][1]-a.id.y+1)}function F9(a,b,c,d){var e=F_(b[d][0],c,d),f=F_(b[d][1],c,d);a[nV[d]]=a[nW[d]]=NaN,e&&f&&(a[nV[d]]=e.xy,a[nW[d]]=f.xy+f.wh-e.xy)}function Ga(a,b,c,d){return a[nV[b]]=c,a[nV[1-b]]=d,a}function Gb(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var Gc=function(){function a(a,b){this._cells=[],this._levels=[],this.dim=a,this.dimIdx=+("x"!==a),this._model=b,this._uniqueValueGen=(d=RegExp("^"+(c=a.toUpperCase())+"([0-9]+)$"),e=0,{calcDupBase:function(a){var b;null!=a&&(b=a.match(d))&&(e=fp(e,+b[1]+1))},ensureValueUnique:function(a,b){for(var d=bt(),f=0;f<a.length;f++){var g=a[f];(null==g||null!=d.get(g))&&(a[f]=g=""+c+e++,b[f].option=aR({value:g},b[f].option)),d.set(g,!0)}}});var c,d,e,f=b.get("data",!0);null==f||a3(f)||(f=[]),f?this._initByDimModelData(f):this._initBySeriesData()}return a.prototype._initByDimModelData=function(a){var b=this,c=b._cells,d=b._levels,e=[],f=0;b._leavesCount=function a(c,g,h){var i=0;return c&&aX(c,function(c,j){a5(c)?k={value:c}:a8(c)?(k=c,null==c.value||a5(c.value)||(k={value:null})):k={value:null};var k,l={type:3,ordinal:NaN,level:h,firstLeafLocator:g,id:new cz,span:Ga(new cz,b.dimIdx,1,1),option:k,xy:NaN,wh:NaN,dim:b,rect:Gb()};f++,(e[g]||(e[g]=[])).push(l),d[h]||(d[h]={type:1,xy:NaN,wh:NaN,option:null,id:new cz,dim:b});var m=Math.max(1,a(k.children,g,h+1));l.span[nV[b.dimIdx]]=m,i+=m,g+=m}),i}(a,0,0),function(){for(var a=[];c.length<f;)for(var d=0;d<e.length;d++){var g=e[d].pop();if(g){g.ordinal=a.length;var h=g.option.value;a.push(h),c.push(g),b._uniqueValueGen.calcDupBase(h)}}b._uniqueValueGen.ensureValueUnique(a,c);var i=b._ordinalMeta=new ru({categories:a,needCollect:!1,deduplication:!1});b._scale=new rw({ordinalMeta:i});for(var j=0;j<b._leavesCount;j++){var k=b._cells[j];k.type=2,k.span[nV[1-b.dimIdx]]=b._levels.length-k.level}b._initCellsId(),b._initLevelIdOptions()}()},a.prototype._initBySeriesData=function(){var a=this;a._leavesCount=0,a._levels=[{type:1,xy:NaN,wh:NaN,option:null,id:new cz,dim:a}],a._initLevelIdOptions();var b=a._ordinalMeta=new ru({needCollect:!0,deduplication:!0,onCollect:function(b,c){var d=a._cells[c]={type:2,ordinal:c,level:0,firstLeafLocator:c,id:new cz,span:Ga(new cz,a.dimIdx,1,1),option:{value:b+""},xy:NaN,wh:NaN,dim:a,rect:Gb()};a._leavesCount++,a._setCellId(d)}});a._scale=new rw({ordinalMeta:b})},a.prototype._setCellId=function(a){var b=this._levels.length,c=this.dimIdx;Ga(a.id,c,a.firstLeafLocator,a.level-b)},a.prototype._initCellsId=function(){var a=this._levels.length,b=this.dimIdx;aX(this._cells,function(c){Ga(c.id,b,c.firstLeafLocator,c.level-a)})},a.prototype._initLevelIdOptions=function(){var a=this._levels.length,b=this.dimIdx,c=this._model.get("levels",!0);c=a3(c)?c:[],aX(this._levels,function(d,e){Ga(d.id,b,0,e-a),d.option=c[e]})},a.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},a.prototype.resetLayoutIterator=function(a,b,c,d){if(a=a||new ga,b===this.dimIdx){var e=this._leavesCount,f=null!=c?Math.max(0,c):0;d=null!=d?Math.min(d,e):e,a.reset(this._cells,f,f+d)}else{var e=this._levels.length,f=null!=c?Math.max(0,c+e):0;d=null!=d?Math.min(d,e):e,a.reset(this._levels,f,f+d)}return a},a.prototype.resetCellIterator=function(a){return(a||new ga).reset(this._cells,0)},a.prototype.resetLevelIterator=function(a){return(a||new ga).reset(this._levels,0)},a.prototype.getLayout=function(a,b,c){var d=this.getUnitLayoutInfo(b,c);a[nV[b]]=d?d.xy:NaN,a[nW[b]]=d?d.wh:NaN},a.prototype.getUnitLayoutInfo=function(a,b){return a===this.dimIdx?b<this._leavesCount?this._cells[b]:void 0:this._levels[b+this._levels.length]},a.prototype.getCell=function(a){var b=this._scale.parse(a);return b!=b?void 0:this._cells[b]},a.prototype.getLocatorCount=function(a){return a===this.dimIdx?this._leavesCount:this._levels.length},a.prototype.getOrdinalMeta=function(){return this._ordinalMeta},a}(),Gd=function(){function a(a,b,c){this._model=b,this._dims=c,this._kind=a,this._cellMergeOwnerList=[]}return a.prototype._ensureCellMap=function(){var a=this,b=a._cellMap;return b||(b=a._cellMap=bt(),function(){var b=[],d=a._model.getShallow("data");d&&!a3(d)&&(d=null),aX(d,function(c,d){if(a8(c)&&a3(c.coord)){var e=F0([]);if(F1(e,null,c.coord,a._dims,c.coordClamp?F$[a._kind]:F$.none),!(F4(e,0)||F4(e,1))){var f=c&&c.mergeCells,g={id:new cz,span:new cz,locatorRange:e,option:c,cellMergeOwner:f};F8(g,e),b.push(g)}}});for(var e=[],f=0;f<b.length;f++){var g=b[f];if(g.cellMergeOwner){var h=g.locatorRange;F5(h,e,b,f);for(var i=0;i<f;i++)e[i]&&(b[i].cellMergeOwner=!1);if(h[0][0]!==g.id.x||h[1][0]!==g.id.y){g.cellMergeOwner=!1;var j=aQ({},g.option);j.coord=null;var k={id:new cz,span:new cz,locatorRange:h,option:j,cellMergeOwner:!0};F8(k,h),b.push(k)}}}aX(b,function(b){var d=c(b.id.x,b.id.y);if(b.cellMergeOwner&&(d.cellMergeOwner=!0,d.span=b.span,d.locatorRange=b.locatorRange,d.spanRect=Gb(),a._cellMergeOwnerList.push(d)),b.cellMergeOwner||b.option)for(var e=0;e<b.span.y;e++)for(var f=0;f<b.span.x;f++){var g=c(b.id.x+f,b.id.y+e);g.option=b.option,b.cellMergeOwner&&(g.inSpanOf=d)}})}()),b;function c(a,c){var d=a+"|"+c,e=b.get(d);return e||(e=b.set(d,{id:new cz(a,c),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),e}},a.prototype.getCell=function(a){var b;return this._ensureCellMap().get((b=a[0],b+"|"+a[1]))},a.prototype.travelExistingCells=function(a){this._ensureCellMap().each(a)},a.prototype.expandRangeByCellMerge=function(a){if(!F4(a,0)&&!F4(a,1)&&a[0][0]===a[0][1]&&a[1][0]===a[1][1]){Ge[0]=a[0][0],Ge[1]=a[1][0];var b,c=this.getCell(Ge),d=c&&c.inSpanOf;if(d)return void(b=d.locatorRange,a[0][0]=b[0][0],a[0][1]=b[0][1],a[1][0]=b[1][0],a[1][1]=b[1][1])}var e=this._cellMergeOwnerList;F5(a,null,e,e.length)},a}(),Ge=[],Gf={show:!0,color:kv.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function Gg(a){return{color:"none",borderWidth:1,borderColor:a?"none":kv.color.borderTint}}var Gh={show:!0,label:Gf,itemStyle:Gg(!1),silent:void 0,dividerLineStyle:{width:1,color:kv.color.border}},Gi={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:Gh,y:Gh,body:{label:Gf,itemStyle:Gg(!1),silent:void 0},corner:{label:Gf,itemStyle:Gg(!0),silent:void 0},backgroundStyle:{color:"none",borderColor:kv.color.axisLine,borderWidth:1}},Gj=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.optionUpdated=function(){var a=this._dimModels={x:new Gk(this.get("x",!0)||{}),y:new Gk(this.get("y",!0)||{})};a.x.option.type=a.y.option.type="category";var b={x:a.x.dim=new Gc("x",a.x),y:a.y.dim=new Gc("y",a.y)};this._body=new Gd("body",new jn(this.getShallow("body")),b),this._corner=new Gd("corner",new jn(this.getShallow("corner")),b)},b.prototype.getDimensionModel=function(a){return this._dimModels[a]},b.prototype.getBody=function(){return this._body},b.prototype.getCorner=function(){return this._corner},b.type="matrix",b.layoutMode="box",b.defaultOption=Gi,b}(ku),Gk=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},b}(jn),Gl=Math.round,Gm={normal:25,special:100},Gn={normal:50,special:125},Go=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b){this.group.removeAll();var c=this.group,d=a.coordinateSystem.getRect(),e=a.getDimensionModel("x"),f=a.getDimensionModel("y"),g=e.dim,h=f.dim;(function(a,b,c){function d(d){var e=b.getDimensionModel(nV[d]),f=e.dim;if(f.shouldShow())for(var g=e.getModel("itemStyle"),h=e.getModel("label"),i=b.getShallow("tooltip",!0),j=[],k=f.resetCellIterator();k.next();){var l=k.item,m={};cS.copy(m,l.rect),bG(j,l.id.x,l.id.y),Gp(j,b,a,c,l.option,g,h,e,m,l.option.value,Gn,i)}}d(0),d(1)})(c,a,b),function(a,b,c,d,e){function f(c,d,f,g){var h=new jn(b.getShallow(c,!0)),i=h.getModel("itemStyle"),j=h.getModel("label"),k=new ga,l=new ga,m=[],n=b.getShallow("tooltip",!0);for(g.resetLayoutIterator(l,1);l.next();)for(f.resetLayoutIterator(k,0);k.next();){var o=k.item,p=l.item;bG(m,o.id.x,p.id.y);var q=d.getCell(m);if(!q||!q.inSpanOf||q.inSpanOf===q){var r={};q&&q.span?cS.copy(r,q.spanRect):(o.dim.getLayout(r,0,m[0]),p.dim.getLayout(r,1,m[1]));var s=q?q.option:null;Gp(m,b,a,e,s,i,j,h,r,s?s.value:null,Gm,n)}}}f("body",b.getBody(),c,d),c.shouldShow()&&d.shouldShow()&&f("corner",b.getCorner(),d,c)}(c,a,g,h,b);var i=bh(a.getShallow("borderZ2",!0),99),j=i-1,k=a.getModel("backgroundStyle").getItemStyle(["borderWidth"]);k.lineWidth=0;var l=a.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);l.fill="none";var m=Gu(d.clone(),k,0),n=Gu(d.clone(),l,i);m.silent=!0,n.silent=!0,c.add(m),c.add(n);var o=g.getUnitLayoutInfo(0,0),p=h.getUnitLayoutInfo(1,0);o&&p&&(g.shouldShow()&&c.add(Gv({x1:d.x,y1:p.xy,x2:d.x+d.width,y2:p.xy},e.getModel("dividerLineStyle").getLineStyle(),j)),h.shouldShow()&&c.add(Gv({x1:o.xy,y1:d.y,x2:o.xy,y2:d.y+d.height},f.getModel("dividerLineStyle").getLineStyle(),j)))},b.type="matrix",b}(mG);function Gp(a,b,c,d,e,f,g,h,i,j,k,l){Gr.option=e?e.itemStyle:null,Gr.parentModel=f,Gq.option=e,Gq.parentModel=h;var m,n,o=bh(Gq.getShallow("z2"),e&&e.itemStyle?k.special:k.normal),p=l&&l.show,q=Gu(i,Gr.getItemStyle(),o);c.add(q);var r=Gq.get("cursor");if(null!=r&&q.attr("cursor",r),null!=j){var s=j+"";if(Gs.option=e?e.label:null,Gs.parentModel=g,Gs.ecModel=d,i_(q,{normal:Gs},{defaultText:s,autoOverflowArea:!0,layoutRect:aN(q.shape)}),n=q.getTextContent()){n.z2=o+1;var t=n.style;if(t&&t.overflow&&"none"!==t.overflow&&t.lineOverflow){var u={};cS.copy(u,i),oh(u,((null==(m=q.style)?void 0:m.lineWidth)||0)/2,!0,!0),q.updateInnerText(),n.getLocalTransform(Gt),cx(Gt,Gt),cS.applyTransform(u,u,Gt),n.setClipPath(new hM({shape:u}))}}ok({el:q,componentModel:b,itemName:s,itemTooltipOption:l,formatterParamsExtra:{xyLocator:a.slice()}})}if(n){var v=Gs.get("silent");null==v&&(v=!p),n.silent=v,n.ignoreHostSilent=!0}var w=Gq.get("silent");null==w&&(w=!q.style||"none"===q.style.fill||!q.style.fill),q.silent=w,gb(Gq),gb(Gr),gb(Gs)}var Gq=new jn,Gr=new jn,Gs=new jn,Gt=[];function Gu(a,b,c){var d=b.lineWidth;if(d){var e=a.x+a.width,f=a.y+a.height;a.x=hI(a.x,d,!0),a.y=hI(a.y,d,!0),a.width=hI(e,d,!0)-a.x,a.height=hI(f,d,!0)-a.y}return new hM({shape:a,style:b,z2:c})}function Gv(a,b,c){var d=b.lineWidth;return d&&(Gl(2*a.x1)===Gl(2*a.x2)&&(a.x1=a.x2=hI(a.x1,d,!0)),Gl(2*a.y1)===Gl(2*a.y2)&&(a.y1=a.y2=hI(a.y1,d,!0))),new nw({shape:a,style:b,silent:!0,z2:c})}var Gw=function(){function a(b,c,d){this.dimensions=a.dimensions,this.type="matrix",this._model=b;var e=this._dimModels={x:b.getDimensionModel("x"),y:b.getDimensionModel("y")};this._dims={x:e.x.dim,y:e.y.dim},this._resize(b,d)}return a.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},a.create=function(b,c){var d=[];return b.eachComponent("matrix",function(e){var f=new a(e,b,c);d.push(f),e.coordinateSystem=f}),b.eachComponent(function(a,b){j9({targetModel:b,coordSysType:"matrix",coordSysProvider:ka})}),d},a.prototype.getRect=function(){return this._rect},a.prototype._resize=function(a,b){var c=this._dims,d=this._dimModels,e=this._rect=kh(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});GA(d,c,e,0),GA(d,c,e,1),GB(0,c),GB(1,c),GC(this._model.getBody(),c),GC(this._model.getCorner(),c)},a.prototype.dataToPoint=function(a,b,c){return c=c||[],this.dataToLayout(a,b,Gx),c[0]=Gx.rect.x+Gx.rect.width/2,c[1]=Gx.rect.y+Gx.rect.height/2,c},a.prototype.dataToLayout=function(a,b,c){var d=this._dims,e=(c=c||{}).rect=c.rect||{};e.x=e.y=e.width=e.height=NaN;var f=c.matrixXYLocatorRange=F0(c.matrixXYLocatorRange);return a3(a)&&(F1(f,null,a,d,bh(b&&b.clamp,F$.none)),b&&b.ignoreMergeCells||(b&&b.clamp===F$.corner||this._model.getBody().expandRangeByCellMerge(f),b&&b.clamp===F$.body||this._model.getCorner().expandRangeByCellMerge(f)),F9(e,f,d,0),F9(e,f,d,1)),c},a.prototype.pointToData=function(a,b,c){var d=this._dims;return GI(GH,0,d,a,b&&b.clamp),GI(GH,1,d,a,b&&b.clamp),(c=c||[])[0]=c[1]=NaN,GH.y===GG.inCorner&&GH.x===GG.inBody?GJ(GH,c,0,d):GH.x===GG.inCorner&&GH.y===GG.inBody?GJ(GH,c,1,d):(GK(GH,c,0,d),GK(GH,c,1,d)),c},a.prototype.convertToPixel=function(a,b,c,d){var e=GF(b);return e===this?e.dataToPoint(c,d):void 0},a.prototype.convertToLayout=function(a,b,c,d){var e=GF(b);return e===this?e.dataToLayout(c,d):void 0},a.prototype.convertFromPixel=function(a,b,c,d){var e=GF(b);return e===this?e.pointToData(c,d):void 0},a.prototype.containPoint=function(a){return this._rect.contain(a[0],a[1])},a.dimensions=["x","y","value"],a}(),Gx={rect:Gb()},Gy=new ga,Gz=new ga;function GA(a,b,c,d){for(var e=1-d,f=b[nV[d]],g=b[nV[e]],h=g.shouldShow(),i=f.resetCellIterator();i.next();)i.item.wh=i.item.xy=NaN;for(var j=g.resetLayoutIterator(null,d);j.next();)j.item.wh=j.item.xy=NaN;for(var k=c[nW[d]],l=f.getLocatorCount(d)+g.getLocatorCount(d),m=new jn,n=g.resetLevelIterator();n.next();)m.option=n.item.option,m.parentModel=a[nV[e]],q(n.item,h?m.get("levelSize"):0);for(var o=new jn,p=f.resetCellIterator();p.next();)2===p.item.type&&(o.option=p.item.option,o.parentModel=void 0,q(p.item,o.get("size")));function q(a,b){var e,f,g,h=(e=b,f=d,GE(ft(e,(g=c)[nW[f]]),g[nW[f]]));h==h&&(a.wh=GE(h,k),k=GE(k-a.wh),l--)}var r=l?k/l:0,s=!l&&k>=1,t=c[nV[d]],u=f.getLocatorCount(d)-1,v=new ga;for(g.resetLayoutIterator(v,d);v.next();)w(v.item);for(f.resetLayoutIterator(v,d);v.next();)w(v.item);function w(a){var b;(b=a.wh)!=b&&(a.wh=r),a.xy=t,a.id[nV[d]]!==u||s||(a.wh=c[nV[d]]+c[nW[d]]-a.xy),t+=a.wh}}function GB(a,b){for(var c=b[nV[a]].resetCellIterator();c.next();){var d=c.item;GD(d.rect,a,d.id,d.span,b),GD(d.rect,1-a,d.id,d.span,b),3===d.type&&(d.xy=d.rect[nV[a]],d.wh=d.rect[nW[a]])}}function GC(a,b){a.travelExistingCells(function(a){var c=a.span;if(c){var d=a.spanRect,e=a.id;GD(d,0,e,c,b),GD(d,1,e,c,b)}})}function GD(a,b,c,d,e){a[nW[b]]=0;var f=c[nV[b]]<0?e[nV[1-b]]:e[nV[b]],g=f.getUnitLayoutInfo(b,c[nV[b]]);if(a[nV[b]]=g.xy,a[nW[b]]=g.wh,d[nV[b]]>1){var h=f.getUnitLayoutInfo(b,c[nV[b]]+d[nV[b]]-1);a[nW[b]]=h.xy+h.wh-g.xy}}function GE(a,b){return Math.max(Math.min(a,bh(b,1/0)),0)}function GF(a){var b=a.matrixModel,c=a.seriesModel;return b?b.coordinateSystem:c?c.coordinateSystem:null}var GG={inBody:1,inCorner:2,outside:3},GH={x:null,y:null,point:[]};function GI(a,b,c,d,e){var f=c[nV[b]],g=c[nV[1-b]],h=f.getUnitLayoutInfo(b,f.getLocatorCount(b)-1),i=f.getUnitLayoutInfo(b,0),j=g.getUnitLayoutInfo(b,-g.getLocatorCount(b)),k=g.shouldShow()?g.getUnitLayoutInfo(b,-1):null,l=a.point[b]=d[b];if(!i&&!k){a[nV[b]]=GG.outside;return}if(e===F$.body)return void(i?(a[nV[b]]=GG.inBody,l=fo(h.xy+h.wh,fp(i.xy,l)),a.point[b]=l):a[nV[b]]=GG.outside);if(e===F$.corner)return void(k?(a[nV[b]]=GG.inCorner,l=fo(k.xy+k.wh,fp(j.xy,l)),a.point[b]=l):a[nV[b]]=GG.outside);var m=i?i.xy:k?k.xy+k.wh:NaN,n=j?j.xy:m,o=h?h.xy+h.wh:m;if(l<n){if(!e){a[nV[b]]=GG.outside;return}l=n}else if(l>o){if(!e){a[nV[b]]=GG.outside;return}l=o}a.point[b]=l,a[nV[b]]=m<=l&&l<=o?GG.inBody:n<=l&&l<=m?GG.inCorner:GG.outside}function GJ(a,b,c,d){var e=1-c;if(a[nV[c]]!==GG.outside)for(d[nV[c]].resetCellIterator(Gz);Gz.next();){var f=Gz.item;if(GL(a.point[c],f.rect,c)&&GL(a.point[e],f.rect,e)){b[c]=f.ordinal,b[e]=f.id[nV[e]];return}}}function GK(a,b,c,d){if(a[nV[c]]!==GG.outside)for((a[nV[c]]===GG.inCorner?d[nV[1-c]]:d[nV[c]]).resetLayoutIterator(Gy,c);Gy.next();){var e,f;if(e=a.point[c],(f=Gy.item).xy<=e&&e<=f.xy+f.wh){b[c]=Gy.item.id[nV[c]];return}}}function GL(a,b,c){return b[nV[c]]<=a&&a<=b[nV[c]]+b[nW[c]]}function GM(a,b){var c;return aX(b,function(b){null!=a[b]&&"auto"!==a[b]&&(c=!0)}),c}var GN=["transition","enterFrom","leaveTo"],GO=GN.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function GP(a,b,c){if(c&&(!a[c]&&b[c]&&(a[c]={}),a=a[c],b=b[c]),a&&b)for(var d=c?GN:GO,e=0;e<d.length;e++){var f=d[e];null==a[f]&&null!=b[f]&&(a[f]=b[f])}}var GQ=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.preventAutoZ=!0,c}return aq(b,a),b.prototype.mergeOption=function(b,c){var d=this.option.elements;this.option.elements=null,a.prototype.mergeOption.call(this,b,c),this.option.elements=d},b.prototype.optionUpdated=function(a,b){var c=this.option,d=(b?c:a).elements,e=c.elements=b?[]:c.elements,f=[];this._flatten(d,f,null);var g=fV(e,f,"normalMerge"),h=this._elOptionsToUpdate=[];aX(g,function(a,b){var c=a.newOption;if(c){h.push(c);var d,f,g,i,j=a.existing;if(c.id=a.keyInfo.id,!c.type&&j&&(c.type=j.type),null==c.parentId){var k=c.parentOption;k?c.parentId=k.id:j&&(c.parentId=j.parentId)}c.parentOption=null,d=aQ({},c),f=e[b],"merge"===(g=c.$action||"merge")?f?(aO(f,d,!0),kn(f,d,{ignoreSize:!0}),kp(c,f),GP(c,f),GP(c,f,"shape"),GP(c,f,"style"),GP(c,f,"extra"),c.clipPath=f.clipPath):e[b]=d:"replace"===g?e[b]=d:"remove"===g&&f&&(e[b]=null),i=e[b],i&&(i.hv=c.hv=[GM(c,["left","right"]),GM(c,["top","bottom"])],"group"===i.type&&(null==i.width&&(i.width=c.width=0),null==i.height&&(i.height=c.height=0)))}},this),c.elements=a$(e,function(a){return a&&delete a.$action,null!=a})},b.prototype._flatten=function(a,b,c){aX(a,function(a){if(a){c&&(a.parentOption=c),b.push(a);var d=a.children;d&&d.length&&this._flatten(d,b,a),delete a.children}},this)},b.prototype.useElOptionsToUpdate=function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a},b.type="graphic",b.defaultOption={elements:[]},b}(ku),GR={path:null,compoundPath:null,group:fc,image:hE,text:h1},GS=f0(),GT=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(){this._elMap=bt()},b.prototype.render=function(a,b,c){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a),this._relocate(a,c)},b.prototype._updateElements=function(a){var b=a.useElOptionsToUpdate();if(b){var c=this._elMap,d=this.group,e=a.get("z"),f=a.get("zlevel");aX(b,function(b){var g=fY(b.id,null),h=null!=g?c.get(g):null,i=fY(b.parentId,null),j=null!=i?c.get(i):d,k=b.type,l=b.style;"text"===k&&l&&b.hv&&b.hv[1]&&(l.textVerticalAlign=l.textBaseline=l.verticalAlign=l.align=null);var m=b.textContent,n=b.textConfig;if(l&&DR(l,k,!!n,!!m)){var o=DS(l,k,!0);!n&&o.textConfig&&(n=b.textConfig=o.textConfig),!m&&o.textContent&&(m=o.textContent)}var p=(y=aQ({},y=b),aX(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(kc),function(a){delete y[a]}),y),q=b.$action||"merge",r="merge"===q,s="replace"===q;if(r){var t=!h,u=h;t?u=GV(g,j,b.type,c):(u&&(GS(u).isNew=!1),Ea(u)),u&&(D_(u,p,a,{isInit:t}),GX(u,b,e,f))}else if(s){GW(h,b,c,a);var v=GV(g,j,b.type,c);v&&(D_(v,p,a,{isInit:!0}),GX(v,b,e,f))}else"remove"===q&&(D0(h,b),GW(h,b,c,a));var w=c.get(g);if(w&&m)if(r){var x=w.getTextContent();x?x.attr(m):w.setTextContent(new h1(m))}else s&&w.setTextContent(new h1(m));if(w){var y,z,A,B,C,D=b.clipPath;if(D){var E=D.type,F=void 0,t=!1;if(r){var G=w.getClipPath();F=(t=!G||GS(G).type!==E)?GU(E):G}else s&&(t=!0,F=GU(E));w.setClipPath(F),D_(F,D,a,{isInit:t}),Eb(F,D.keyframeAnimation,a)}var H=GS(w);w.setTextConfig(n),H.option=b,z=w,A=a,B=b,C=h2(z).eventData,z.silent||z.ignore||C||(C=h2(z).eventData={componentType:"graphic",componentIndex:A.componentIndex,name:z.name}),C&&(C.info=B.info),ok({el:w,componentModel:a,itemName:w.name,itemTooltipOption:b.tooltip}),Eb(w,b.keyframeAnimation,a)}})}},b.prototype._relocate=function(a,b){for(var c=a.option.elements,d=this.group,e=this._elMap,f=b.getWidth(),g=b.getHeight(),h=["x","y"],i=0;i<c.length;i++){var j=c[i],k=fY(j.id,null),l=null!=k?e.get(k):null;if(l&&l.isGroup){var m=l.parent,n=m===d,o=GS(l),p=GS(m);o.width=fs(o.option.width,n?f:p.width)||0,o.height=fs(o.option.height,n?g:p.height)||0}}for(var i=c.length-1;i>=0;i--){var j=c[i],k=fY(j.id,null),l=null!=k?e.get(k):null;if(l){var m=l.parent,p=GS(m),q=m===d?{width:f,height:g}:{width:p.width,height:p.height},r={},s=kl(l,j,q,null,{hv:j.hv,boundingMode:j.bounding},r);if(!GS(l).isNew&&s){for(var t=j.transition,u={},v=0;v<h.length;v++){var w=h[v],x=r[w];t&&(D2(t)||aT(t,w)>=0)?u[w]=x:l[w]=x}iR(l,u,a,0)}else l.attr(r)}}},b.prototype._clear=function(){var a=this,b=this._elMap;b.each(function(c){GW(c,GS(c).option,b,a._lastGraphicModel)}),this._elMap=bt()},b.prototype.dispose=function(){this._clear()},b.type="graphic",b}(mG);function GU(a){var b=new(bx(GR,a)?GR[a]:n_(a))({});return GS(b).type=a,b}function GV(a,b,c,d){var e=GU(c);return b.add(e),d.set(a,e),GS(e).id=a,GS(e).isNew=!0,e}function GW(a,b,c,d){a&&a.parent&&("group"===a.type&&a.traverse(function(a){GW(a,b,c,d)}),D1(a,b,d),c.removeKey(GS(a).id))}function GX(a,b,c,d){a.isGroup||aX([["cursor",gO.prototype.cursor],["zlevel",d||0],["z",c||0],["z2",0]],function(c){var d=c[0];bx(b,d)?a[d]=bh(b[d],c[1]):null==a[d]&&(a[d]=c[1])}),aX(a0(b),function(c){if(0===c.indexOf("on")){var d=b[c];a[c]=a4(d)?d:null}}),bx(b,"draggable")&&(a.draggable=b.draggable),null!=b.name&&(a.name=b.name),null!=b.id&&(a.id=b.id)}var GY=["x","y","radius","angle","single"],GZ=["cartesian2d","polar","singleAxis"];function G$(a){return a+"Axis"}function G_(a){var b=a.ecModel,c={infoList:[],infoMap:bt()};return a.eachTargetAxis(function(a,d){var e=b.getComponent(G$(a),d);if(e){var f=e.getCoordSysModel();if(f){var g=f.uid,h=c.infoMap.get(g);h||(h={model:f,axisModels:[]},c.infoList.push(h),c.infoMap.set(g,h)),h.axisModels.push(e)}}}),c}var G0=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(a){this.indexMap[a]||(this.indexList.push(a),this.indexMap[a]=!0)},a}(),G1=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._autoThrottle=!0,c._noTarget=!0,c._rangePropMode=["percent","percent"],c}return aq(b,a),b.prototype.init=function(a,b,c){var d=G2(a);this.settledOption=d,this.mergeDefaultAndTheme(a,c),this._doInit(d)},b.prototype.mergeOption=function(a){var b=G2(a);aO(this.option,a,!0),aO(this.settledOption,b,!0),this._doInit(b)},b.prototype._doInit=function(a){var b=this.option;this._setDefaultThrottle(a),this._updateRangeUse(a);var c=this.settledOption;aX([["start","startValue"],["end","endValue"]],function(a,d){"value"===this._rangePropMode[d]&&(b[a[0]]=c[a[0]]=null)},this),this._resetTarget()},b.prototype._resetTarget=function(){var a=this.get("orient",!0),b=this._targetAxisInfoMap=bt();this._fillSpecifiedTargetAxis(b)?this._orient=a||this._makeAutoOrientByTargetAxis():(this._orient=a||"horizontal",this._fillAutoTargetAxisByOrient(b,this._orient)),this._noTarget=!0,b.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},b.prototype._fillSpecifiedTargetAxis=function(a){var b=!1;return aX(GY,function(c){var d=this.getReferringComponents(G$(c),f5);if(d.specified){b=!0;var e=new G0;aX(d.models,function(a){e.add(a.componentIndex)}),a.set(c,e)}},this),b},b.prototype._fillAutoTargetAxisByOrient=function(a,b){var c=this.ecModel,d=!0,e="vertical"===b?"y":"x",f=c.findComponents({mainType:e+"Axis"});if(g(f,e),d){var f=c.findComponents({mainType:"singleAxis",filter:function(a){return a.get("orient",!0)===b}});g(f,"single")}function g(b,c){var e=b[0];if(e){var f=new G0;if(f.add(e.componentIndex),a.set(c,f),d=!1,"x"===c||"y"===c){var g=e.getReferringComponents("grid",f4).models[0];g&&aX(b,function(a){e.componentIndex!==a.componentIndex&&g===a.getReferringComponents("grid",f4).models[0]&&f.add(a.componentIndex)})}}}d&&aX(GY,function(b){if(d){var e=c.findComponents({mainType:G$(b),filter:function(a){return"category"===a.get("type",!0)}});if(e[0]){var f=new G0;f.add(e[0].componentIndex),a.set(b,f),d=!1}}},this)},b.prototype._makeAutoOrientByTargetAxis=function(){var a;return this.eachTargetAxis(function(b){a||(a=b)},this),"y"===a?"vertical":"horizontal"},b.prototype._setDefaultThrottle=function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var b=this.ecModel.option;this.option.throttle=b.animation&&b.animationDurationUpdate>0?100:20}},b.prototype._updateRangeUse=function(a){var b=this._rangePropMode,c=this.get("rangeMode");aX([["start","startValue"],["end","endValue"]],function(d,e){var f=null!=a[d[0]],g=null!=a[d[1]];f&&!g?b[e]="percent":!f&&g?b[e]="value":c?b[e]=c[e]:f&&(b[e]="percent")})},b.prototype.noTarget=function(){return this._noTarget},b.prototype.getFirstTargetAxisModel=function(){var a;return this.eachTargetAxis(function(b,c){null==a&&(a=this.ecModel.getComponent(G$(b),c))},this),a},b.prototype.eachTargetAxis=function(a,b){this._targetAxisInfoMap.each(function(c,d){aX(c.indexList,function(c){a.call(b,d,c)})})},b.prototype.getAxisProxy=function(a,b){var c=this.getAxisModel(a,b);if(c)return c.__dzAxisProxy},b.prototype.getAxisModel=function(a,b){var c=this._targetAxisInfoMap.get(a);if(c&&c.indexMap[b])return this.ecModel.getComponent(G$(a),b)},b.prototype.setRawRange=function(a){var b=this.option,c=this.settledOption;aX([["start","startValue"],["end","endValue"]],function(d){(null!=a[d[0]]||null!=a[d[1]])&&(b[d[0]]=c[d[0]]=a[d[0]],b[d[1]]=c[d[1]]=a[d[1]])},this),this._updateRangeUse(a)},b.prototype.setCalculatedRange=function(a){var b=this.option;aX(["start","startValue","end","endValue"],function(c){b[c]=a[c]})},b.prototype.getPercentRange=function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},b.prototype.getValueRange=function(a,b){if(null!=a||null!=b)return this.getAxisProxy(a,b).getDataValueWindow();var c=this.findRepresentativeAxisProxy();if(c)return c.getDataValueWindow()},b.prototype.findRepresentativeAxisProxy=function(a){if(a)return a.__dzAxisProxy;for(var b,c=this._targetAxisInfoMap.keys(),d=0;d<c.length;d++)for(var e=c[d],f=this._targetAxisInfoMap.get(e),g=0;g<f.indexList.length;g++){var h=this.getAxisProxy(e,f.indexList[g]);if(h.hostedBy(this))return h;b||(b=h)}return b},b.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},b.prototype.getOrient=function(){return this._orient},b.type="dataZoom",b.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],b.defaultOption={z:4,filterMode:"filter",start:0,end:100},b}(ku);function G2(a){var b={};return aX(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}var G3=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="dataZoom.select",b}(G1),G4=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c,d){this.dataZoomModel=a,this.ecModel=b,this.api=c},b.type="dataZoom",b}(mG),G5=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="dataZoom.select",b}(G4),G6=aX,G7=fv,G8=function(){function a(a,b,c,d){this._dimName=a,this._axisIndex=b,this.ecModel=d,this._dataZoomModel=c}return a.prototype.hostedBy=function(a){return this._dataZoomModel===a},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var a=[];return this.ecModel.eachSeries(function(b){if(aT(GZ,b.get("coordinateSystem"))>=0){var c=G$(this._dimName),d=b.getReferringComponents(c,f4).models[0];d&&this._axisIndex===d.componentIndex&&a.push(b)}},this),a},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return aN(this._minMaxSpan)},a.prototype.calculateDataWindow=function(a){var b,c=this._dataExtent,d=this.getAxisModel().axis.scale,e=this._dataZoomModel.getRangePropMode(),f=[0,100],g=[],h=[];G6(["start","end"],function(i,j){var k=a[i],l=a[i+"Value"];"percent"===e[j]?(null==k&&(k=f[j]),l=d.parse(fr(k,f,c))):(b=!0,k=fr(l=null==l?c[j]:d.parse(l),c,f)),h[j]=null==l||isNaN(l)?c[j]:l,g[j]=null==k||isNaN(k)?f[j]:k}),G7(h),G7(g);var i=this._minMaxSpan;function j(a,b,c,e,f){var g=f?"Span":"ValueSpan";A7(0,a,c,"all",i["min"+g],i["max"+g]);for(var h=0;h<2;h++)b[h]=fr(a[h],c,e,!0),f&&(b[h]=d.parse(b[h]))}return b?j(h,g,c,f,!1):j(g,h,f,c,!0),{valueWindow:h,percentWindow:g}},a.prototype.reset=function(a){if(a===this._dataZoomModel){var b,c,d,e,f,g=this.getTargetSeriesModels();this._dataExtent=(b=this,c=this._dimName,d=[1/0,-1/0],G6(g,function(a){var b;b=a.getData(),b&&aX(r8(b,c),function(a){var c=b.getApproximateExtent(a);c[0]<d[0]&&(d[0]=c[0]),c[1]>d[1]&&(d[1]=c[1])})}),[(f=r_((e=b.getAxisModel()).axis.scale,e,d).calculate()).min,f.max]),this._updateMinMaxSpan();var h=this.calculateDataWindow(a.settledOption);this._valueWindow=h.valueWindow,this._percentWindow=h.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(a,b){if(a===this._dataZoomModel){var c=this._dimName,d=this.getTargetSeriesModels(),e=a.get("filterMode"),f=this._valueWindow;"none"!==e&&G6(d,function(a){var b=a.getData(),d=b.mapDimensionsAll(c);if(d.length){if("weakFilter"===e){var g=b.getStore(),h=aY(d,function(a){return b.getDimensionIndex(a)},b);b.filterSelf(function(a){for(var b,c,e,i=0;i<d.length;i++){var j=g.get(h[i],a),k=!isNaN(j),l=j<f[0],m=j>f[1];if(k&&!l&&!m)return!0;k&&(e=!0),l&&(b=!0),m&&(c=!0)}return e&&b&&c})}else G6(d,function(c){if("empty"===e)a.setData(b=b.map(c,function(a){var b;return(b=a)>=f[0]&&b<=f[1]?a:NaN}));else{var d={};d[c]=f,b.selectRange(d)}});G6(d,function(a){b.setApproximateExtent(f,a)})}})}},a.prototype._updateMinMaxSpan=function(){var a=this._minMaxSpan={},b=this._dataZoomModel,c=this._dataExtent;G6(["min","max"],function(d){var e=b.get(d+"Span"),f=b.get(d+"ValueSpan");null!=f&&(f=this.getAxisModel().axis.scale.parse(f)),null!=f?e=fr(c[0]+f,c,[0,100],!0):null!=e&&(f=fr(e,[0,100],c,!0)-c[0]),a[d+"Span"]=e,a[d+"ValueSpan"]=f},this)},a.prototype._setAxisModel=function(){var a=this.getAxisModel(),b=this._percentWindow,c=this._valueWindow;if(b){var d=fy(c,[0,500]);d=Math.min(d,20);var e=a.axis.scale.rawExtentInfo;0!==b[0]&&e.setDeterminedMinMax("min",+c[0].toFixed(d)),100!==b[1]&&e.setDeterminedMinMax("max",+c[1].toFixed(d)),e.freeze()}},a}();let G9={getTargetSeries:function(a){function b(b){a.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(d,e){var f=a.getComponent(G$(d),e);b(d,e,f,c)})})}b(function(a,b,c,d){c.__dzAxisProxy=null});var c=[];b(function(b,d,e,f){e.__dzAxisProxy||(e.__dzAxisProxy=new G8(b,d,f,a),c.push(e.__dzAxisProxy))});var d=bt();return aX(c,function(a){aX(a.getTargetSeriesModels(),function(a){d.set(a.uid,a)})}),d},overallReset:function(a,b){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(b,c){a.getAxisProxy(b,c).reset(a)}),a.eachTargetAxis(function(c,d){a.getAxisProxy(c,d).filterData(a,b)})}),a.eachComponent("dataZoom",function(a){var b=a.findRepresentativeAxisProxy();if(b){var c=b.getDataPercentWindow(),d=b.getDataValueWindow();a.setCalculatedRange({start:c[0],end:c[1],startValue:d[0],endValue:d[1]})}})}};var Ha=!1;function Hb(a){Ha||(Ha=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,G9),a.registerAction("dataZoom",function(a,b){aX(function(a,b){var c,d=bt(),e=[],f=bt();a.eachComponent({mainType:"dataZoom",query:b},function(a){f.get(a.uid)||h(a)});do c=!1,a.eachComponent("dataZoom",g);while(c);function g(a){var b;!f.get(a.uid)&&(b=!1,a.eachTargetAxis(function(a,c){var e=d.get(a);e&&e[c]&&(b=!0)}),b)&&(h(a),c=!0)}function h(a){f.set(a.uid,!0),e.push(a),a.eachTargetAxis(function(a,b){(d.get(a)||d.set(a,[]))[b]=!0})}return e}(b,a),function(b){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})}),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Hc(a){a.registerComponentModel(G3),a.registerComponentView(G5),Hb(a)}var Hd=function(){},He={},Hf=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var b=this.ecModel;aX(this.option.feature,function(a,c){var d=He[c];d&&(d.getDefaultOption&&(d.defaultOption=d.getDefaultOption(b)),aO(a,d.defaultOption))})},b.type="toolbox",b.layoutMode={type:"box",ignoreSize:!0},b.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:kv.color.border,borderRadius:0,borderWidth:0,padding:kv.size.m,itemSize:15,itemGap:kv.size.s,showTitle:!0,iconStyle:{borderColor:kv.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:kv.color.accent50}},tooltip:{show:!1,position:"bottom"}},b}(ku);function Hg(a,b){var c=jW(b.get("padding")),d=b.getItemStyle(["color","opacity"]);return d.fill=b.get("backgroundColor"),new hM({shape:{x:a.x-c[3],y:a.y-c[0],width:a.width+c[1]+c[3],height:a.height+c[0]+c[2],r:b.get("borderRadius")},style:d,silent:!0,z2:-1})}var Hh=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.render=function(a,b,c,d){var e=this.group;if(e.removeAll(),a.get("show")){var f=+a.get("itemSize"),g="vertical"===a.get("orient"),h=a.get("feature")||{},i=this._features||(this._features={}),j=[];aX(h,function(a,b){j.push(b)}),new qV(this._featureNames||[],j).add(o).update(o).remove(a2(o,null)).execute(),this._featureNames=j;var k=kk(a,c).refContainer,l=a.getBoxLayoutParams(),m=a.get("padding"),n=kh(l,k,m);ke(a.get("orient"),e,a.get("itemGap"),n.width,n.height),kl(e,l,k,m),e.add(Hg(e.getBoundingRect(),a)),g||e.eachChild(function(a){var b=a.__title,d=a.ensureState("emphasis"),g=d.textConfig||(d.textConfig={}),h=a.getTextContent(),i=h&&h.ensureState("emphasis");if(i&&!a4(i)&&b){var j=i.style||(i.style={}),k=eY(b,h1.makeFont(j)),l=a.x+e.x,m=a.y+e.y+f,n=!1;m+k.height>c.getHeight()&&(g.position="top",n=!0);var o=n?-5-k.height:f+10;l+k.width/2>c.getWidth()?(g.position=["100%",o],j.align="right"):l-k.width/2<0&&(g.position=[0,o],j.align="left")}})}function o(k,l){var m,n,o,p,q,r,s,t,u,v,w,x=j[k],y=j[l],z=h[x],A=new jn(z,a,a.ecModel);if(d&&null!=d.newTitle&&d.featureName===x&&(z.title=d.newTitle),x&&!y){if(0===x.indexOf("my"))w={onclick:A.option.onclick,featureName:x};else{var B=He[x];if(!B)return;w=new B}i[x]=w}else if(!(w=i[y]))return;w.uid=jp("toolbox-feature"),w.model=A,w.ecModel=b,w.api=c;var C=w instanceof Hd;if(!x&&y){C&&w.dispose&&w.dispose(b,c);return}if(!A.get("show")||C&&w.unusable){C&&w.remove&&w.remove(b,c);return}m=A,n=w,o=x,r=m.getModel("iconStyle"),s=m.getModel(["emphasis","iconStyle"]),t=n instanceof Hd&&n.getIcons?n.getIcons():m.get("icon"),u=m.get("title")||{},a5(t)?(p={})[o]=t:p=t,a5(u)?(q={})[o]=u:q=u,v=m.iconPaths={},aX(p,function(d,h){var i=oe(d,{},{x:-f/2,y:-f/2,width:f,height:f});i.setStyle(r.getItemStyle()),i.ensureState("emphasis").style=s.getItemStyle();var j=new h1({style:{text:q[h],align:s.get("textAlign"),borderRadius:s.get("textBorderRadius"),padding:s.get("textPadding"),fill:null,font:i7({fontStyle:s.get("textFontStyle"),fontFamily:s.get("textFontFamily"),fontSize:s.get("textFontSize"),fontWeight:s.get("textFontWeight")},b)},ignore:!0});i.setTextContent(j),ok({el:i,componentModel:a,itemName:h,formatterParamsExtra:{title:q[h]}}),i.__title=q[h],i.on("mouseover",function(){var b=s.getItemStyle(),d=g?null==a.get("right")&&"right"!==a.get("left")?"right":"left":null==a.get("bottom")&&"bottom"!==a.get("top")?"bottom":"top";j.setStyle({fill:s.get("textFill")||b.fill||b.stroke||kv.color.neutral99,backgroundColor:s.get("textBackgroundColor")}),i.setTextConfig({position:s.get("textPosition")||d}),j.ignore=!a.get("showTitle"),c.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==m.get(["iconStatus",h])&&c.leaveEmphasis(this),j.hide()}),("emphasis"===m.get(["iconStatus",h])?iw:ix)(i),e.add(i),i.on("click",a1(n.onclick,n,b,c,h)),v[h]=i}),A.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{},c.iconStatus[a]=b,d[a]&&("emphasis"===b?iw:ix)(d[a])},w instanceof Hd&&w.render&&w.render(A,b,c,d)}},b.prototype.updateView=function(a,b,c,d){aX(this._features,function(a){a instanceof Hd&&a.updateView&&a.updateView(a.model,b,c,d)})},b.prototype.remove=function(a,b){aX(this._features,function(c){c instanceof Hd&&c.remove&&c.remove(a,b)}),this.group.removeAll()},b.prototype.dispose=function(a,b){aX(this._features,function(c){c instanceof Hd&&c.dispose&&c.dispose(a,b)})},b.type="toolbox",b}(mG),Hi=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.onclick=function(a,b){var c=this.model,d=c.get("name")||a.get("title.0.text")||"echarts",e="svg"===b.getZr().painter.getType(),f=e?"svg":c.get("type",!0)||"png",g=b.getConnectedDataURL({type:f,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||kv.color.neutral00,connectedBackgroundColor:c.get("connectedBackgroundColor"),excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")}),h=at.browser;if("function"!=typeof MouseEvent||!h.newEdge&&(h.ie||h.edge))if(window.navigator.msSaveOrOpenBlob||e){var i=g.split(","),j=i[0].indexOf("base64")>-1,k=e?decodeURIComponent(i[1]):i[1];j&&(k=window.atob(k));var l=d+"."+f;if(window.navigator.msSaveOrOpenBlob){for(var m=k.length,n=new Uint8Array(m);m--;)n[m]=k.charCodeAt(m);var o=new Blob([n]);window.navigator.msSaveOrOpenBlob(o,l)}else{var p=document.createElement("iframe");document.body.appendChild(p);var q=p.contentWindow,r=q.document;r.open("image/svg+xml","replace"),r.write(k),r.close(),q.focus(),r.execCommand("SaveAs",!0,l),document.body.removeChild(p)}}else{var s=c.get("lang"),t='<body style="margin:0;"><img src="'+g+'" style="max-width:100%;" title="'+(s&&s[0]||"")+'" /></body>',u=window.open();u.document.write(t),u.document.title=d}else{var v=document.createElement("a");v.download=d+"."+f,v.target="_blank",v.href=g;var w=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});v.dispatchEvent(w)}},b.getDefaultOption=function(a){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:kv.color.neutral00,name:"",excludeComponents:["toolbox"],lang:a.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},b}(Hd),Hj="__ec_magicType_stack__",Hk=[["line","bar"],["stack"]],Hl=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.getIcons=function(){var a=this.model,b=a.get("icon"),c={};return aX(a.get("type"),function(a){b[a]&&(c[a]=b[a])}),c},b.getDefaultOption=function(a){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:a.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},b.prototype.onclick=function(a,b,c){var d,e=this.model,f=e.get(["seriesIndex",c]);if(Hm[c]){var g={series:[]};aX(Hk,function(a){aT(a,c)>=0&&aX(a,function(a){e.setIconStatus(a,"normal")})}),e.setIconStatus(c,"emphasis"),a.eachComponent({mainType:"series",query:null==f?null:{seriesIndex:f}},function(a){var b=a.subType,d=a.id,f=Hm[c](b,d,a,e);f&&(aR(f,a.option),g.series.push(f));var h=a.coordinateSystem;if(h&&"cartesian2d"===h.type&&("line"===c||"bar"===c)){var i=h.getAxesByScale("ordinal")[0];if(i){var j=i.dim+"Axis",k=a.getReferringComponents(j,f4).models[0].componentIndex;g[j]=g[j]||[];for(var l=0;l<=k;l++)g[j][k]=g[j][k]||{};g[j][k].boundaryGap="bar"===c}}});var h=c;"stack"===c&&(d=aO({stack:e.option.title.tiled,tiled:e.option.title.stack},e.option.title),"emphasis"!==e.get(["iconStatus",c])&&(h="tiled")),b.dispatchAction({type:"changeMagicType",currentType:h,newOption:g,newTitle:d,featureName:"magicType"})}},b}(Hd),Hm={line:function(a,b,c,d){if("bar"===a)return aO({id:b,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get(["option","line"])||{},!0)},bar:function(a,b,c,d){if("line"===a)return aO({id:b,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get(["option","bar"])||{},!0)},stack:function(a,b,c,d){var e=c.get("stack")===Hj;if("line"===a||"bar"===a)return d.setIconStatus("stack",e?"normal":"emphasis"),aO({id:b,stack:e?"":Hj},d.get(["option","stack"])||{},!0)}};qB({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)});var Hn=Array(60).join("-");function Ho(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var Hp=RegExp("[	]+","g"),Hq=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.onclick=function(a,b){setTimeout(function(){b.dispatchAction({type:"hideTip"})});var c,d,e,f,g,h,i=b.getDom(),j=this.model;this._dom&&i.removeChild(this._dom);var k=document.createElement("div");k.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",k.style.backgroundColor=j.get("backgroundColor")||kv.color.neutral00;var l=document.createElement("h4"),m=j.get("lang")||[];l.innerHTML=m[0]||j.get("title"),l.style.cssText="margin:10px 20px",l.style.color=j.get("textColor");var n=document.createElement("div"),o=document.createElement("textarea");n.style.cssText="overflow:auto";var p=j.get("optionToContent"),q=j.get("contentToOption"),r={value:a$([(f=(h=(c={},d=[],e=[],a.eachRawSeries(function(a){var b=a.coordinateSystem;if(b&&("cartesian2d"===b.type||"polar"===b.type)){var f=b.getBaseAxis();if("category"===f.type){var g=f.dim+"_"+f.index;c[g]||(c[g]={categoryAxis:f,valueAxis:b.getOtherAxis(f),series:[]},e.push({axisDim:f.dim,axisIndex:f.index})),c[g].series.push(a)}else d.push(a)}else d.push(a)}),{seriesGroupByCategoryAxis:c,other:d,meta:e})).seriesGroupByCategoryAxis,g=[],aX(f,function(a,b){var c=a.categoryAxis,d=a.valueAxis.dim,e=[" "].concat(aY(a.series,function(a){return a.name})),f=[c.model.getCategories()];aX(a.series,function(a){var b=a.getRawData();f.push(a.getRawData().mapArray(b.mapDimension(d),function(a){return a}))});for(var h=[e.join("	")],i=0;i<f[0].length;i++){for(var j=[],k=0;k<f.length;k++)j.push(f[k][i]);h.push(j.join("	"))}g.push(h.join("\n"))}),g.join("\n\n"+Hn+"\n\n")),aY(h.other,function(a){var b=a.getRawData(),c=[a.name],d=[];return b.each(b.dimensions,function(){for(var a=arguments.length,e=arguments[a-1],f=b.getName(e),g=0;g<a-1;g++)d[g]=arguments[g];c.push((f?f+"	":"")+d.join("	"))}),c.join("\n")}).join("\n\n"+Hn+"\n\n")],function(a){return!!a.replace(/[\n\t\s]/g,"")}).join("\n\n"+Hn+"\n\n"),meta:h.meta};if(a4(p)){var s=p(b.getOption());a5(s)?n.innerHTML=s:bb(s)&&n.appendChild(s)}else{o.readOnly=j.get("readOnly");var t=o.style;t.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",t.color=j.get("textColor"),t.borderColor=j.get("textareaBorderColor"),t.backgroundColor=j.get("textareaColor"),o.value=r.value,n.appendChild(o)}var u=r.meta,v=document.createElement("div");v.style.cssText="position:absolute;bottom:5px;left:0;right:0";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",x=document.createElement("div"),y=document.createElement("div");w+=";background-color:"+j.get("buttonColor")+";color:"+j.get("buttonTextColor");var z=this;function A(){i.removeChild(k),z._dom=null}ck(x,"click",A),ck(y,"click",function(){var a,c,d,e;if(null==q&&null!=p||null!=q&&null==p)return void A();try{a4(q)?a=q(n,b.getOption()):(c=o.value,d=c.split(RegExp("\n*"+Hn+"\n*","g")),e={series:[]},aX(d,function(a,b){if(function(a){if(a.slice(0,a.indexOf("\n")).indexOf("	")>=0)return!0}(a)){var c=function(a){for(var b=a.split(/\n+/g),c=Ho(b.shift()).split(Hp),d=[],e=aY(c,function(a){return{name:a,data:[]}}),f=0;f<b.length;f++){var g=Ho(b[f]).split(Hp);d.push(g.shift());for(var h=0;h<g.length;h++)e[h]&&(e[h].data[f]=g[h])}return{series:e,categories:d}}(a),d=u[b],f=d.axisDim+"Axis";d&&(e[f]=e[f]||[],e[f][d.axisIndex]={data:c.categories},e.series=e.series.concat(c.series))}else{var c=function(a){for(var b=a.split(/\n+/g),c=Ho(b.shift()),d=[],e=0;e<b.length;e++){var f=Ho(b[e]);if(f){var g=f.split(Hp),h="",i=void 0,j=!1;isNaN(g[0])?(j=!0,h=g[0],g=g.slice(1),d[e]={name:h,value:[]},i=d[e].value):i=d[e]=[];for(var k=0;k<g.length;k++)i.push(+g[k]);1===i.length&&(j?d[e].value=i[0]:d[e]=i[0])}}return{name:c,data:d}}(a);e.series.push(c)}}),a=e)}catch(a){throw A(),Error("Data view format error "+a)}a&&b.dispatchAction({type:"changeDataView",newOption:a}),A()}),x.innerHTML=m[1],y.innerHTML=m[2],y.style.cssText=x.style.cssText=w,j.get("readOnly")||v.appendChild(y),v.appendChild(x),k.appendChild(l),k.appendChild(n),k.appendChild(v),n.style.height=i.clientHeight-80+"px",i.appendChild(k),this._dom=k},b.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)},b.prototype.dispose=function(a,b){this.remove(a,b)},b.getDefaultOption=function(a){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:a.getLocaleModel().get(["toolbox","dataView","title"]),lang:a.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:kv.color.background,textColor:kv.color.primary,textareaColor:kv.color.background,textareaBorderColor:kv.color.border,buttonColor:kv.color.accent50,buttonTextColor:kv.color.neutral00}},b}(Hd);qB({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];aX(a.newOption.series,function(a){var d=b.getSeriesByName(a.name)[0];if(d){var e,f=d.get("data");c.push({name:a.name,data:(e=a.data,aY(e,function(a,b){var c=f&&f[b];if(!a8(c)||a3(c))return a;a8(a)&&!a3(a)||(a={value:a});var d=null!=c.name&&null==a.name;return a=aR(a,c),d&&delete a.name,a}))})}else c.push(aQ({type:"scatter"},a))}),b.mergeOption(aR({series:c},a.newOption))});var Hr=aX,Hs=f0();function Ht(a){var b=Hs(a);return b.snapshots||(b.snapshots=[{}]),b.snapshots}var Hu=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.onclick=function(a,b){Hs(a).snapshots=null,b.dispatchAction({type:"restore",from:this.uid})},b.getDefaultOption=function(a){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.getLocaleModel().get(["toolbox","restore","title"])}},b}(Hd);qB({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")});var Hv=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Hw=function(){function a(a,b,c){var d=this;this._targetInfoList=[];var e=Hy(b,a);aX(Hz,function(a,b){(!c||!c.include||aT(c.include,b)>=0)&&a(e,d._targetInfoList)})}return a.prototype.setOutputRanges=function(a,b){return this.matchOutputRanges(a,b,function(a,b,c){if((a.coordRanges||(a.coordRanges=[])).push(b),!a.coordRange){a.coordRange=b;var d=HC[a.brushType](0,c,b);a.__rangeOffset={offset:HE[a.brushType](d.values,a.range,[1,1]),xyMinMax:d.xyMinMax}}}),a},a.prototype.matchOutputRanges=function(a,b,c){aX(a,function(a){var d=this.findTargetInfo(a,b);d&&!0!==d&&aX(d.coordSyses,function(d){var e=HC[a.brushType](1,d,a.range,!0);c(a,e.values,d,b)})},this)},a.prototype.setInputRanges=function(a,b){aX(a,function(a){var c=this.findTargetInfo(a,b);if(a.range=a.range||[],c&&!0!==c){a.panelId=c.panelId;var d,e,f,g,h,i=HC[a.brushType](0,c.coordSys,a.coordRange),j=a.__rangeOffset;a.range=j?HE[a.brushType](i.values,j.offset,(d=i.xyMinMax,e=j.xyMinMax,f=HG(d),g=HG(e),isNaN((h=[f[0]/g[0],f[1]/g[1]])[0])&&(h[0]=1),isNaN(h[1])&&(h[1]=1),h)):i.values}},this)},a.prototype.makePanelOpts=function(a,b){return aY(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b?b(c):null,clipPath:BY(d),isTargetByCursor:B$(d,a,c.coordSysModel),getLinearBrushOtherExtent:BZ(d)}})},a.prototype.controlSeries=function(a,b,c){var d=this.findTargetInfo(a,c);return!0===d||d&&aT(d.coordSyses,b.coordinateSystem)>=0},a.prototype.findTargetInfo=function(a,b){for(var c=this._targetInfoList,d=Hy(b,a),e=0;e<c.length;e++){var f=c[e],g=a.panelId;if(g){if(f.panelId===g)return f}else for(var h=0;h<HA.length;h++)if(HA[h](d,f))return f}return!0},a}();function Hx(a){return a[0]>a[1]&&a.reverse(),a}function Hy(a,b){return f2(a,b,{includeMainTypes:Hv})}var Hz={grid:function(a,b){var c=a.xAxisModels,d=a.yAxisModels,e=a.gridModels,f=bt(),g={},h={};(c||d||e)&&(aX(c,function(a){var b=a.axis.grid.model;f.set(b.id,b),g[b.id]=!0}),aX(d,function(a){var b=a.axis.grid.model;f.set(b.id,b),h[b.id]=!0}),aX(e,function(a){f.set(a.id,a),g[a.id]=!0,h[a.id]=!0}),f.each(function(a){var e=a.coordinateSystem,f=[];aX(e.getCartesians(),function(a,b){(aT(c,a.getAxis("x").model)>=0||aT(d,a.getAxis("y").model)>=0)&&f.push(a)}),b.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:f[0],coordSyses:f,getPanelRect:HB.grid,xAxisDeclared:g[a.id],yAxisDeclared:h[a.id]})}))},geo:function(a,b){aX(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:HB.geo})})}},HA=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel,e=a.gridModel;return!e&&c&&(e=c.axis.grid.model),!e&&d&&(e=d.axis.grid.model),e&&e===b.gridModel},function(a,b){var c=a.geoModel;return c&&c===b.geoModel}],HB={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(n8(a)),b}},HC={lineX:a2(HD,0),lineY:a2(HD,1),rect:function(a,b,c,d){var e=a?b.pointToData([c[0][0],c[1][0]],d):b.dataToPoint([c[0][0],c[1][0]],d),f=a?b.pointToData([c[0][1],c[1][1]],d):b.dataToPoint([c[0][1],c[1][1]],d),g=[Hx([e[0],f[0]]),Hx([e[1],f[1]])];return{values:g,xyMinMax:g}},polygon:function(a,b,c,d){var e=[[1/0,-1/0],[1/0,-1/0]];return{values:aY(c,function(c){var f=a?b.pointToData(c,d):b.dataToPoint(c,d);return e[0][0]=Math.min(e[0][0],f[0]),e[1][0]=Math.min(e[1][0],f[1]),e[0][1]=Math.max(e[0][1],f[0]),e[1][1]=Math.max(e[1][1],f[1]),f}),xyMinMax:e}}};function HD(a,b,c,d){var e=c.getAxis(["x","y"][a]),f=Hx(aY([0,1],function(a){return b?e.coordToData(e.toLocalCoord(d[a]),!0):e.toGlobalCoord(e.dataToCoord(d[a]))})),g=[];return g[a]=f,g[1-a]=[NaN,NaN],{values:f,xyMinMax:g}}var HE={lineX:a2(HF,0),lineY:a2(HF,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,c){return aY(a,function(a,d){return[a[0]-c[0]*b[d][0],a[1]-c[1]*b[d][1]]})}};function HF(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function HG(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var HH=aX,HI=fQ+"toolbox-dataZoom_",HJ=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.render=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;this._brushController||(this._brushController=new Bt(c.getZr()),this._brushController.on("brush",a1(this._onBrush,this)).mount()),e=a,f=b,g=this,h=d,i=c,j=g._isZoomActive,h&&"takeGlobalCursor"===h.type&&(j="dataZoomSelect"===h.key&&h.dataZoomSelectActive),g._isZoomActive=j,e.setIconStatus("zoom",j?"emphasis":"normal"),k=new Hw(HL(e),f,{include:["grid"]}).makePanelOpts(i,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"}),g._brushController.setPanels(k).enableBrush(!!j&&!!k.length&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}),l=a,m=b,l.setIconStatus("back",Ht(m).length>1?"emphasis":"normal")},b.prototype.onclick=function(a,b,c){HK[c].call(this)},b.prototype.remove=function(a,b){this._brushController&&this._brushController.unmount()},b.prototype.dispose=function(a,b){this._brushController&&this._brushController.dispose()},b.prototype._onBrush=function(a){var b=a.areas;if(a.isEnd&&b.length){var c,d,e,f={},g=this.ecModel;this._brushController.updateCovers([]),new Hw(HL(this.model),g,{include:["grid"]}).matchOutputRanges(b,g,function(a,b,c){if("cartesian2d"===c.type){var d=a.brushType;"rect"===d?(h("x",c,b[0]),h("y",c,b[1])):h({lineX:"x",lineY:"y"}[d],c,b)}}),c=g,d=f,e=Ht(c),Hr(d,function(a,b){for(var d=e.length-1;d>=0&&!e[d][b];d--);if(d<0){var f=c.queryComponents({mainType:"dataZoom",subType:"select",id:b})[0];if(f){var g=f.getPercentRange();e[0][b]={dataZoomId:b,start:g[0],end:g[1]}}}}),e.push(d),this._dispatchZoomAction(f)}function h(a,b,c){var d,e,h,i=b.getAxis(a),j=i.model,k=(d=a,e=j,g.eachComponent({mainType:"dataZoom",subType:"select"},function(a){a.getAxisModel(d,e.componentIndex)&&(h=a)}),h),l=k.findRepresentativeAxisProxy(j).getMinMaxSpan();(null!=l.minValueSpan||null!=l.maxValueSpan)&&(c=A7(0,c.slice(),i.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),k&&(f[k.id]={dataZoomId:k.id,startValue:c[0],endValue:c[1]})}},b.prototype._dispatchZoomAction=function(a){var b=[];HH(a,function(a,c){b.push(aN(a))}),b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})},b.getDefaultOption=function(a){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:a.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:kv.color.backgroundTint}}},b}(Hd),HK={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){var a,b,c;this._dispatchZoomAction((b=(a=Ht(this.ecModel))[a.length-1],a.length>1&&a.pop(),c={},Hr(b,function(b,d){for(var e=a.length-1;e>=0;e--)if(b=a[e][d]){c[d]=b;break}}),c))}};function HL(a){var b={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return null==b.xAxisIndex&&null==b.xAxisId&&(b.xAxisIndex="all"),null==b.yAxisIndex&&null==b.yAxisId&&(b.yAxisIndex="all"),b}o=function(a){var b=a.getComponent("toolbox",0),c=["feature","dataZoom"];if(b&&null!=b.get(c)){var d=b.getModel(c),e=[],f=f2(a,HL(d));return HH(f.xAxisModels,function(a){return g(a,"xAxis","xAxisIndex")}),HH(f.yAxisModels,function(a){return g(a,"yAxis","yAxisIndex")}),e}function g(a,b,c){var f=a.componentIndex,g={type:"select",$fromToolbox:!0,filterMode:d.get("filterMode",!0)||"filter",id:HI+b+f};g[c]=f,e.push(g)}},bl(null==kS.get("dataZoom")&&o),kS.set("dataZoom",o);var HM=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="tooltip",b.dependencies=["axisPointer"],b.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:kv.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:kv.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:kv.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:kv.color.tertiary,fontSize:14}},b}(ku);function HN(a){var b=a.get("confine");return null!=b?!!b:"richText"===a.get("renderMode")}function HO(a){if(at.domSupported){for(var b=document.documentElement.style,c=0,d=a.length;c<d;c++)if(a[c]in b)return a[c]}}var HP=HO(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function HQ(a,b){if(!a)return b;b=jV(b,!0);var c=a.indexOf(b);return(a=-1===c?b:"-"+a.slice(0,c)+"-"+b).toLowerCase()}var HR=HQ(HO(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),HS=HQ(HP,"transform"),HT="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(at.transform3dSupported?"will-change:transform;":"");function HU(a,b,c){var d=a.toFixed(0)+"px",e=b.toFixed(0)+"px";if(!at.transformSupported)return c?"top:"+e+";left:"+d+";":[["top",e],["left",d]];var f=at.transform3dSupported,g="translate"+(f?"3d":"")+"("+d+","+e+(f?",0":"")+")";return c?"top:0;left:0;"+HS+":"+g+";":[["top",0],["left",0],[HP,g]]}function HV(a,b,c,d,e){var f=b&&b.painter;if(c){var g=f&&f.getViewportRoot();g&&b8(b7,g,d,e,!0)&&b8(a,c,b7[0],b7[1])}else{a[0]=d,a[1]=e;var h=f&&f.getViewportRootOffset();h&&(a[0]+=h.offsetLeft,a[1]+=h.offsetTop)}a[2]=a[0]/b.getWidth(),a[3]=a[1]/b.getHeight()}var HW=function(){function a(a,b){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,at.wxa)return null;var c=document.createElement("div");c.domBelongToZr=!0,this.el=c;var d=this._zr=a.getZr(),e=b.appendTo,f=e&&(a5(e)?document.querySelector(e):bb(e)?e:a4(e)&&e(a.getDom()));HV(this._styleCoord,d,f,a.getWidth()/2,a.getHeight()/2),(f||a.getDom()).appendChild(c),this._api=a,this._container=f;var g=this;c.onmouseenter=function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0),g._inContent=!0},c.onmousemove=function(a){if(a=a||window.event,!g._enterable){var b=d.handler;cj(d.painter.getViewportRoot(),a,!0),b.dispatch("mousemove",a)}},c.onmouseleave=function(){g._inContent=!1,g._enterable&&g._show&&g.hideLater(g._hideDelay)}}return a.prototype.update=function(a){if(!this._container){var b,c,d=this._api.getDom(),e=(b="position",(c=d.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(d))?b?c[b]:c:null),f=d.style;"absolute"!==f.position&&"absolute"!==e&&(f.position="relative")}var g=a.get("alwaysShowContent");g&&this._moveIfResized(),this._alwaysShowContent=g,this._enableDisplayTransition=a.get("displayTransition")&&a.get("transitionDuration")>0,this.el.className=a.get("className")||""},a.prototype.show=function(a,b){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=this.el,B=A.style,C=this._styleCoord;A.innerHTML?B.cssText=HT+(c=!this._firstShow,d=this._longHide,e=this._enableDisplayTransition,f=[],g=a.get("transitionDuration"),h=a.get("backgroundColor"),i=a.get("shadowBlur"),j=a.get("shadowColor"),k=a.get("shadowOffsetX"),l=a.get("shadowOffsetY"),m=a.getModel("textStyle"),n=mq(a,"html"),o=k+"px "+l+"px "+i+"px "+j,f.push("box-shadow:"+o),c&&g>0&&f.push((p="cubic-bezier(0.23,1,0.32,1)",q="",r="",e&&(r="opacity"+(q=" "+g/2+"s "+p)+",visibility"+q),d||(q=" "+g+"s "+p,r+=(r.length?",":"")+(at.transformSupported?""+HS+q:",left"+q+",top"+q)),HR+":"+r)),h&&f.push("background-color:"+h),aX(["width","color","radius"],function(b){var c="border-"+b,d=jV(c),e=a.get(d);null!=e&&f.push(c+":"+e+("color"===b?"":"px"))}),f.push((s=[],t=m.get("fontSize"),(u=m.getTextColor())&&s.push("color:"+u),s.push("font:"+m.getFont()),v=bh(m.get("lineHeight"),Math.round(3*t/2)),t&&s.push("line-height:"+v+"px"),w=m.get("textShadowColor"),x=m.get("textShadowBlur")||0,y=m.get("textShadowOffsetX")||0,z=m.get("textShadowOffsetY")||0,w&&x&&s.push("text-shadow:"+y+"px "+z+"px "+x+"px "+w),aX(["decoration","align"],function(a){var b=m.get(a);b&&s.push("text-"+a+":"+b)}),s.join(";"))),null!=n&&f.push("padding:"+jW(n).join("px ")+"px"),f.join(";")+";")+HU(C[0],C[1],!0)+"border-color:"+j2(b)+";"+(a.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):B.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(a,b,c,d,e){var f=this.el;if(null==a){f.innerHTML="";return}var g="";if(a5(e)&&"item"===c.get("trigger")&&!HN(c)&&(g=function(a,b,c){if(!a5(c)||"inside"===c)return"";var d,e,f=a.get("backgroundColor"),g=a.get("borderWidth");b=j2(b);var h=d="left"===(d=c)?"right":"right"===d?"left":"top"===d?"bottom":"top",i=Math.max(1.5*Math.round(g),6),j="",k=HS+":";aT(["left","right"],h)>-1?(j+="top:50%",k+="translateY(-50%) rotate("+(e="left"===h?-225:-45)+"deg)"):(j+="left:50%",k+="translateX(-50%) rotate("+(e="top"===h?225:45)+"deg)");var l=e*Math.PI/180,m=i+g,n=m*Math.abs(Math.cos(l))+m*Math.abs(Math.sin(l));j+=";"+h+":-"+Math.round(((n-Math.SQRT2*g)/2+Math.SQRT2*g-(n-m)/2)*100)/100+"px";var o=b+" solid "+g+"px;";return'<div style="'+["position:absolute;width:"+i+"px;height:"+i+"px;z-index:-1;",j+";"+k+";","border-bottom:"+o,"border-right:"+o,"background-color:"+f+";"].join("")+'"></div>'}(c,d,e)),a5(a))f.innerHTML=a+g;else if(a){f.innerHTML="",a3(a)||(a=[a]);for(var h=0;h<a.length;h++)bb(a[h])&&a[h].parentNode!==f&&f.appendChild(a[h]);if(g&&f.childNodes.length){var i=document.createElement("div");i.innerHTML=g,f.appendChild(i)}}},a.prototype.setEnterable=function(a){this._enterable=a},a.prototype.getSize=function(){var a=this.el;return a?[a.offsetWidth,a.offsetHeight]:[0,0]},a.prototype.moveTo=function(a,b){if(this.el){var c=this._styleCoord;if(HV(c,this._zr,this._container,a,b),null!=c[0]&&null!=c[1]){var d=this.el.style;aX(HU(c[0],c[1]),function(a){d[a[0]]=a[1]})}}},a.prototype._moveIfResized=function(){var a=this._styleCoord[2],b=this._styleCoord[3];this.moveTo(a*this._zr.getWidth(),b*this._zr.getHeight())},a.prototype.hide=function(){var a=this,b=this.el.style;this._enableDisplayTransition?(b.visibility="hidden",b.opacity="0"):b.display="none",at.transform3dSupported&&(b.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return a._longHide=!0},500)},a.prototype.hideLater=function(a){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(a1(this.hide,this),a)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var a=this._zr;!function(a,b){function c(a){var b=a[b6];b&&(b.clearMarkers&&b.clearMarkers(),delete a[b6])}a&&c(a),b&&c(b)}(a&&a.painter&&a.painter.getViewportRoot(),this._container);var b=this.el;if(b){b.onmouseenter=b.onmousemove=b.onmouseleave=null;var c=b.parentNode;c&&c.removeChild(b)}this.el=this._container=null},a}(),HX=function(){function a(a){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=a.getZr(),H$(this._styleCoord,this._zr,a.getWidth()/2,a.getHeight()/2)}return a.prototype.update=function(a){var b=a.get("alwaysShowContent");b&&this._moveIfResized(),this._alwaysShowContent=b},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(a,b,c,d,e){var f=this;a8(a)&&ly(""),this.el&&this._zr.remove(this.el);var g=c.getModel("textStyle");this.el=new h1({style:{rich:b.richTextStyles,text:a,lineHeight:22,borderWidth:1,borderColor:d,textShadowColor:g.get("textShadowColor"),fill:c.get(["textStyle","color"]),padding:mq(c,"richText"),verticalAlign:"top",align:"left"},z:c.get("z")}),aX(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(a){f.el.style[a]=c.get(a)}),aX(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(a){f.el.style[a]=g.get(a)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},a.prototype.setEnterable=function(a){this._enterable=a},a.prototype.getSize=function(){var a=this.el,b=this.el.getBoundingRect(),c=HZ(a.style);return[b.width+c.left+c.right,b.height+c.top+c.bottom]},a.prototype.moveTo=function(a,b){var c=this.el;if(c){var d=this._styleCoord;H$(d,this._zr,a,b),a=d[0],b=d[1];var e=c.style,f=HY(e.borderWidth||0),g=HZ(e);c.x=a+f+g.left,c.y=b+f+g.top,c.markRedraw()}},a.prototype._moveIfResized=function(){var a=this._styleCoord[2],b=this._styleCoord[3];this.moveTo(a*this._zr.getWidth(),b*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(a){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(a1(this.hide,this),a)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a}();function HY(a){return Math.max(0,a)}function HZ(a){var b=HY(a.shadowBlur||0),c=HY(a.shadowOffsetX||0),d=HY(a.shadowOffsetY||0);return{left:HY(b-c),right:HY(b+c),top:HY(b-d),bottom:HY(b+d)}}function H$(a,b,c,d){a[0]=c,a[1]=d,a[2]=a[0]/b.getWidth(),a[3]=a[1]/b.getHeight()}var H_=new hM({shape:{x:-1,y:-1,width:2,height:2}}),H0=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(a,b){if(!at.node&&b.getDom()){var c,d=a.getComponent("tooltip"),e=this._renderMode="auto"===(c=d.get("renderMode"))?at.domSupported?"html":"richText":c||"html";this._tooltipContent="richText"===e?new HX(b):new HW(b,{appendTo:d.get("appendToBody",!0)?"body":d.get("appendTo",!0)})}},b.prototype.render=function(a,b,c){if(!at.node&&c.getDom()){this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=c;var d=this._tooltipContent;d.update(a),d.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&a.get("transitionDuration")?oH(this,"_updatePosition",50,"fixRate"):oI(this,"_updatePosition")}},b.prototype._initGlobalListener=function(){var a=this._tooltipModel.get("triggerOn");EY("itemTooltip",this._api,a1(function(b,c,d){"none"!==a&&(a.indexOf(b)>=0?this._tryShow(c,d):"leave"===b&&this._hide(d))},this))},b.prototype._keepShow=function(){var a=this._tooltipModel,b=this._ecModel,c=this._api,d=a.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==d&&"click"!==d){var e=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){c.isDisposed()||e.manuallyShowTip(a,b,c,{x:e._lastX,y:e._lastY,dataByCoordSys:e._lastDataByCoordSys})})}},b.prototype.manuallyShowTip=function(a,b,c,d){if(d.from!==this.uid&&!at.node&&c.getDom()){var e=H2(d,c);this._ticket="";var f=d.dataByCoordSys,g=function(a,b,c){var d,e=f3(a).queryOptionMap,f=e.keys()[0];if(f&&"series"!==f){var g=f6(b,f,e.get(f),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(g&&(c.getViewOfComponentModel(g).group.traverse(function(b){var c=h2(b).tooltipConfig;if(c&&c.name===a.name)return d=b,!0}),d))return{componentMainType:f,componentIndex:g.componentIndex,el:d}}}(d,b,c);if(g){var h=g.el.getBoundingRect().clone();h.applyTransform(g.el.transform),this._tryShow({offsetX:h.x+h.width/2,offsetY:h.y+h.height/2,target:g.el,position:d.position,positionDefault:"bottom"},e)}else if(d.tooltip&&null!=d.x&&null!=d.y)H_.x=d.x,H_.y=d.y,H_.update(),h2(H_).tooltipConfig={name:null,option:d.tooltip},this._tryShow({offsetX:d.x,offsetY:d.y,target:H_},e);else if(f)this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,dataByCoordSys:f,tooltipOption:d.tooltipOption},e);else if(null!=d.seriesIndex){if(this._manuallyAxisShowTip(a,b,c,d))return;var i=E1(d,b),j=i.point[0],k=i.point[1];null!=j&&null!=k&&this._tryShow({offsetX:j,offsetY:k,target:i.el,position:d.position,positionDefault:"bottom"},e)}else null!=d.x&&null!=d.y&&(c.dispatchAction({type:"updateAxisPointer",x:d.x,y:d.y}),this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:c.getZr().findHover(d.x,d.y).target},e))}},b.prototype.manuallyHideTip=function(a,b,c,d){var e=this._tooltipContent;this._tooltipModel&&e.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,d.from!==this.uid&&this._hide(H2(d,c))},b.prototype._manuallyAxisShowTip=function(a,b,c,d){var e=d.seriesIndex,f=d.dataIndex,g=b.getComponent("axisPointer").coordSysAxesInfo;if(null!=e&&null!=f&&null!=g){var h=b.getSeriesByIndex(e);if(h&&"axis"===H1([h.getData().getItemModel(f),h,(h.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return c.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:f,position:d.position}),!0}},b.prototype._tryShow=function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX,this._lastY=a.offsetY;var d,e,f=a.dataByCoordSys;if(f&&f.length)this._showAxisTooltip(f,a);else if(c){if("legend"===h2(c).ssrType)return;this._lastDataByCoordSys=null,pe(c,function(a){if(a.tooltipDisabled)return d=e=null,!0;d||e||(null!=h2(a).dataIndex?d=a:null!=h2(a).tooltipConfig&&(e=a))},!0),d?this._showSeriesItemTooltip(a,d,b):e?this._showComponentItemTooltip(a,e,b):this._hide(b)}else this._lastDataByCoordSys=null,this._hide(b)}},b.prototype._showOrMove=function(a,b){var c=a.get("showDelay");b=a1(b,this),clearTimeout(this._showTimout),c>0?this._showTimout=setTimeout(b,c):b()},b.prototype._showAxisTooltip=function(a,b){var c=this._ecModel,d=this._tooltipModel,e=[b.offsetX,b.offsetY],f=H1([b.tooltipOption],d),g=this._renderMode,h=[],i=mi("section",{blocks:[],noHeader:!0}),j=[],k=new mr;aX(a,function(a){aX(a.dataByAxis,function(a){var b=c.getComponent(a.axisDim+"Axis",a.axisIndex),e=a.value;if(b&&null!=e){var f=EM(e,b.axis,c,a.seriesDataIndices,a.valueLabelOpt),l=mi("section",{header:f,noHeader:!bm(f),sortBlocks:!0,blocks:[]});i.blocks.push(l),aX(a.seriesDataIndices,function(i){var m=c.getSeriesByIndex(i.seriesIndex),n=i.dataIndexInside,o=m.getDataParams(n);if(!(o.dataIndex<0)){o.axisDim=a.axisDim,o.axisIndex=a.axisIndex,o.axisType=a.axisType,o.axisId=a.axisId,o.axisValue=r5(b.axis,{value:e}),o.axisValueLabel=f,o.marker=k.makeTooltipMarker("item",j2(o.color),g);var p=lL(m.formatTooltip(n,!0,null)),q=p.frag;if(q){var r=H1([m],d).get("valueFormatter");l.blocks.push(r?aQ({valueFormatter:r},q):q)}p.text&&j.push(p.text),h.push(o)}})}})}),i.blocks.reverse(),j.reverse();var l=b.position,m=mm(i,k,g,f.get("order"),c.get("useUTC"),f.get("textStyle"));m&&j.unshift(m);var n="richText"===g?"\n\n":"<br/>",o=j.join(n);this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(a,h)?this._updatePosition(f,l,e[0],e[1],this._tooltipContent,h):this._showTooltipContent(f,o,h,Math.random()+"",e[0],e[1],l,null,k)})},b.prototype._showSeriesItemTooltip=function(a,b,c){var d=this._ecModel,e=h2(b),f=e.seriesIndex,g=d.getSeriesByIndex(f),h=e.dataModel||g,i=e.dataIndex,j=e.dataType,k=h.getData(j),l=this._renderMode,m=a.positionDefault,n=H1([k.getItemModel(i),h,g&&(g.coordinateSystem||{}).model],this._tooltipModel,m?{position:m}:null),o=n.get("trigger");if(null==o||"item"===o){var p=h.getDataParams(i,j),q=new mr;p.marker=q.makeTooltipMarker("item",j2(p.color),l);var r=lL(h.formatTooltip(i,!1,j)),s=n.get("order"),t=n.get("valueFormatter"),u=r.frag,v=u?mm(t?aQ({valueFormatter:t},u):u,q,l,s,d.get("useUTC"),n.get("textStyle")):r.text,w="item_"+h.name+"_"+i;this._showOrMove(n,function(){this._showTooltipContent(n,v,p,w,a.offsetX,a.offsetY,a.position,a.target,q)}),c({type:"showTip",dataIndexInside:i,dataIndex:k.getRawIndex(i),seriesIndex:f,from:this.uid})}},b.prototype._showComponentItemTooltip=function(a,b,c){var d="html"===this._renderMode,e=h2(b),f=e.tooltipConfig.option||{},g=f.encodeHTMLContent;if(a5(f)){var h=f;f={content:h,formatter:h},g=!0}g&&d&&f.content&&((f=aN(f)).content=cc(f.content));var i=[f],j=this._ecModel.getComponent(e.componentMainType,e.componentIndex);j&&i.push(j),i.push({formatter:f.content});var k=a.positionDefault,l=H1(i,this._tooltipModel,k?{position:k}:null),m=l.get("content"),n=Math.random()+"",o=new mr;this._showOrMove(l,function(){var c=aN(l.get("formatterParams")||{});this._showTooltipContent(l,m,c,n,a.offsetX,a.offsetY,a.position,b,o)}),c({type:"showTip",from:this.uid})},b.prototype._showTooltipContent=function(a,b,c,d,e,f,g,h,i){if(this._ticket="",a.get("showContent")&&a.get("show")){var j=this._tooltipContent;j.setEnterable(a.get("enterable"));var k=a.get("formatter");g=g||a.get("position");var l=b,m=this._getNearestPoint([e,f],c,a.get("trigger"),a.get("borderColor"),a.get("defaultBorderColor",!0)).color;if(k)if(a5(k)){var n=a.ecModel.get("useUTC"),o=a3(c)?c[0]:c,p=o&&o.axisType&&o.axisType.indexOf("time")>=0;l=k,p&&(l=jE(o.axisValue,l,n)),l=j$(l,c,!0)}else if(a4(k)){var q=a1(function(b,d){b===this._ticket&&(j.setContent(d,i,a,m,g),this._updatePosition(a,g,e,f,j,c,h))},this);this._ticket=d,l=k(c,d,q)}else l=k;j.setContent(l,i,a,m,g),j.show(a,m),this._updatePosition(a,g,e,f,j,c,h)}},b.prototype._getNearestPoint=function(a,b,c,d,e){return"axis"===c||a3(b)?{color:d||e}:a3(b)?void 0:{color:d||b.color||b.borderColor}},b.prototype._updatePosition=function(a,b,c,d,e,f,g){var h=this._api.getWidth(),i=this._api.getHeight();b=b||a.get("position");var j=e.getSize(),k=a.get("align"),l=a.get("verticalAlign"),m=g&&g.getBoundingRect().clone();if(g&&m.applyTransform(g.transform),a4(b)&&(b=b([c,d],f,e.el,m,{viewSize:[h,i],contentSize:j.slice()})),a3(b))c=fs(b[0],h),d=fs(b[1],i);else if(a8(b)){var n=b;n.width=j[0],n.height=j[1];var o=kh(n,{width:h,height:i});c=o.x,d=o.y,k=null,l=null}else if(a5(b)&&g){var p=function(a,b,c,d){var e=c[0],f=c[1],g=Math.ceil(Math.SQRT2*d)+8,h=0,i=0,j=b.width,k=b.height;switch(a){case"inside":h=b.x+j/2-e/2,i=b.y+k/2-f/2;break;case"top":h=b.x+j/2-e/2,i=b.y-f-g;break;case"bottom":h=b.x+j/2-e/2,i=b.y+k+g;break;case"left":h=b.x-e-g,i=b.y+k/2-f/2;break;case"right":h=b.x+j+g,i=b.y+k/2-f/2}return[h,i]}(b,m,j,a.get("borderWidth"));c=p[0],d=p[1]}else{var q,r,s,t,u,v,w,x,y,z,p=(q=c,r=d,s=e,t=h,u=i,v=k?null:20,w=l?null:20,y=(x=s.getSize())[0],z=x[1],null!=v&&(q+y+v+2>t?q-=y+v:q+=v),null!=w&&(r+z+w>u?r-=z+w:r+=w),[q,r]);c=p[0],d=p[1]}if(k&&(c-=H3(k)?j[0]/2:"right"===k?j[0]:0),l&&(d-=H3(l)?j[1]/2:"bottom"===l?j[1]:0),HN(a)){var A,B,C,D,E,F,G,H,p=(A=c,B=d,C=e,D=h,E=i,G=(F=C.getSize())[0],H=F[1],A=Math.min(A+G,D)-G,B=Math.min(B+H,E)-H,[A=Math.max(A,0),B=Math.max(B,0)]);c=p[0],d=p[1]}e.moveTo(c,d)},b.prototype._updateContentNotChangedOnAxis=function(a,b){var c=this._lastDataByCoordSys,d=this._cbParamsList,e=!!c&&c.length===a.length;return e&&aX(c,function(c,f){var g=c.dataByAxis||[],h=(a[f]||{}).dataByAxis||[];(e=e&&g.length===h.length)&&aX(g,function(a,c){var f=h[c]||{},g=a.seriesDataIndices||[],i=f.seriesDataIndices||[];(e=e&&a.value===f.value&&a.axisType===f.axisType&&a.axisId===f.axisId&&g.length===i.length)&&aX(g,function(a,b){var c=i[b];e=e&&a.seriesIndex===c.seriesIndex&&a.dataIndex===c.dataIndex}),d&&aX(a.seriesDataIndices,function(a){var c=a.seriesIndex,f=b[c],g=d[c];f&&g&&g.data!==f.data&&(e=!1)})})}),this._lastDataByCoordSys=a,this._cbParamsList=b,!!e},b.prototype._hide=function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},b.prototype.dispose=function(a,b){!at.node&&b.getDom()&&(oI(this,"_updatePosition"),this._tooltipContent.dispose(),E_("itemTooltip",b))},b.type="tooltip",b}(mG);function H1(a,b,c){var d,e=b.ecModel;c?(d=new jn(c,e,e),d=new jn(b.option,d,e)):d=b;for(var f=a.length-1;f>=0;f--){var g=a[f];g&&(g instanceof jn&&(g=g.get("tooltip",!0)),a5(g)&&(g={formatter:g}),g&&(d=new jn(g,d,e)))}return d}function H2(a,b){return a.dispatchAction||a1(b.dispatchAction,b)}function H3(a){return"center"===a||"middle"===a}var H4=["rect","polygon","keep","clear"];function H5(a,b){var c=fR(a?a.brush:[]);if(c.length){var d,e,f=[];aX(c,function(a){var b=a.hasOwnProperty("toolbox")?a.toolbox:[];b instanceof Array&&(f=f.concat(b))});var g=a&&a.toolbox;a3(g)&&(g=g[0]),g||(a.toolbox=[g={feature:{}}]);var h=g.feature||(g.feature={}),i=h.brush||(h.brush={}),j=i.type||(i.type=[]);j.push.apply(j,f),e={},aX(d=j,function(a){e[a]=1}),d.length=0,aX(e,function(a,b){d.push(b)}),b&&!j.length&&j.push.apply(j,H4)}}var H6=aX;function H7(a){if(a){for(var b in a)if(a.hasOwnProperty(b))return!0}}function H8(a,b,c){var d={};return H6(b,function(b){var e,f=d[b]=((e=function(){}).prototype.__hidden=e.prototype,new e);H6(a[b],function(a,d){if(zi.isValidType(d)){var e={type:d,visual:a};c&&c(e,b),f[d]=new zi(e),"opacity"===d&&((e=aN(e)).type="colorAlpha",f.__hidden.__alphaForOpacity=new zi(e))}})}),d}function H9(a,b,c){var d;aX(c,function(a){b.hasOwnProperty(a)&&H7(b[a])&&(d=!0)}),d&&aX(c,function(c){b.hasOwnProperty(c)&&H7(b[c])?a[c]=aN(b[c]):delete a[c]})}var Ia={lineX:Ib(0),lineY:Ib(1),rect:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])},rect:function(a,b,c){return a&&c.boundingRect.intersect(a)}},polygon:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])&&sj(c.range,a[0],a[1])},rect:function(a,b,c){var d=c.range;if(!a||d.length<=1)return!1;var e=a.x,f=a.y,g=a.width,h=a.height,i=d[0];if(sj(d,e,f)||sj(d,e+g,f)||sj(d,e,f+h)||sj(d,e+g,f+h)||cS.create(a).contain(i[0],i[1])||of(e,f,e+g,f,d)||of(e,f,e,f+h,d)||of(e+g,f,e+g,f+h,d)||of(e,f+h,e+g,f+h,d))return!0}}};function Ib(a){var b=["x","y"],c=["width","height"];return{point:function(b,c,d){if(b){var e=d.range;return Ic(b[a],e)}},rect:function(d,e,f){if(d){var g=f.range,h=[d[b[a]],d[b[a]]+d[c[a]]];return h[1]<h[0]&&h.reverse(),Ic(h[0],g)||Ic(h[1],g)||Ic(g[0],h)||Ic(g[1],h)}}}}function Ic(a,b){return b[0]<=a&&a<=b[1]}var Id=["inBrush","outOfBrush"],Ie="__ecBrushSelect",If="__ecInBrushSelectEvent";function Ig(a){a.eachComponent({mainType:"brush"},function(b){(b.brushTargetManager=new Hw(b.option,a)).setInputRanges(b.areas,a)})}function Ih(a,b,c){var d,e,f=[];a.eachComponent({mainType:"brush"},function(a){c&&"takeGlobalCursor"===c.type&&a.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1})}),Ig(a),a.eachComponent({mainType:"brush"},function(b,c){var g={brushId:b.id,brushIndex:c,brushName:b.name,areas:aN(b.areas),selected:[]};f.push(g);var h=b.option,i=h.brushLink,j=[],k=[],l=[],m=!1;c||(d=h.throttleType,e=h.throttleDelay);var n=aY(b.areas,function(a){var b,c,d=Ik[a.brushType],e=aR({boundingRect:d?d(a):void 0},a);return b=e.brushType,e.selectors=c={point:function(a){return Ia[b].point(a,c,e)},rect:function(a){return Ia[b].rect(a,c,e)}},e}),o=H8(b.option,Id,function(a){a.mappingMethod="fixed"});function p(a){return"all"===i||!!j[a]}function q(a){return!!a.length}a3(i)&&aX(i,function(a){j[a]=1}),a.eachSeries(function(c,d){var e,f,g,h=l[d]=[];"parallel"===c.subType?(e=c,f=d,g=e.coordinateSystem,m=m||g.hasAxisBrushed(),p(f)&&g.eachActiveState(e.getData(),function(a,b){"active"===a&&(k[b]=1)})):function(c,d,e){if(!(!c.brushSelector||(f=b,g=d,null!=(h=f.option.seriesIndex)&&"all"!==h&&(a3(h)?0>aT(h,g):g!==h)))&&(aX(n,function(d){b.brushTargetManager.controlSeries(d,c,a)&&e.push(d),m=m||q(e)}),p(d)&&q(e))){var f,g,h,i=c.getData();i.each(function(a){Ij(c,e,i,a)&&(k[a]=1)})}}(c,d,h)}),a.eachSeries(function(a,b){var c={seriesId:a.id,seriesIndex:b,seriesName:a.name,dataIndex:[]};g.selected.push(c);var d=l[b],e=a.getData(),f=p(b)?function(a){return k[a]?(c.dataIndex.push(e.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(b){return Ij(a,d,e,b)?(c.dataIndex.push(e.getRawIndex(b)),"inBrush"):"outOfBrush"};(p(b)?m:q(d))&&function(a,b,c,d,e,f){var g,h={};function i(a){return o9(c,g,a)}function j(a,b){pb(c,g,a,b)}aX(a,function(a){var c=zi.prepareVisualTypes(b[a]);h[a]=c}),c.each(function(a,e){g=a;var f=c.getRawDataItem(g);if(!f||!1!==f.visualMap)for(var k=d.call(void 0,a),l=b[k],m=h[k],n=0,o=m.length;n<o;n++){var p=m[n];l[p]&&l[p].applyVisual(a,i,j)}})}(Id,o,e,f)})}),function(a,b,c,d,e){if(e){var f=a.getZr();f[If]||(f[Ie]||(f[Ie]=Ii),oH(f,Ie,c,b)(a,d))}}(b,d,e,f,c)}function Ii(a,b){if(!a.isDisposed()){var c=a.getZr();c[If]=!0,a.dispatchAction({type:"brushSelect",batch:b}),c[If]=!1}}function Ij(a,b,c,d){for(var e=0,f=b.length;e<f;e++){var g=b[e];if(a.brushSelector(d,c,g.selectors,g))return!0}}var Ik={rect:function(a){return Il(a.range)},polygon:function(a){for(var b,c=a.range,d=0,e=c.length;d<e;d++){b=b||[[1/0,-1/0],[1/0,-1/0]];var f=c[d];f[0]<b[0][0]&&(b[0][0]=f[0]),f[0]>b[0][1]&&(b[0][1]=f[0]),f[1]<b[1][0]&&(b[1][0]=f[1]),f[1]>b[1][1]&&(b[1][1]=f[1])}return b&&Il(b)}};function Il(a){return new cS(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var Im=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(a,b){this.ecModel=a,this.api=b,this.model,(this._brushController=new Bt(b.getZr())).on("brush",a1(this._onBrush,this)).mount()},b.prototype.render=function(a,b,c,d){this.model=a,this._updateController(a,b,c,d)},b.prototype.updateTransform=function(a,b,c,d){Ig(b),this._updateController(a,b,c,d)},b.prototype.updateVisual=function(a,b,c,d){this.updateTransform(a,b,c,d)},b.prototype.updateView=function(a,b,c,d){this._updateController(a,b,c,d)},b.prototype._updateController=function(a,b,c,d){d&&d.$from===a.id||this._brushController.setPanels(a.brushTargetManager.makePanelOpts(c)).enableBrush(a.brushOption).updateCovers(a.areas.slice())},b.prototype.dispose=function(){this._brushController.dispose()},b.prototype._onBrush=function(a){var b=this.model.id,c=this.model.brushTargetManager.setOutputRanges(a.areas,this.ecModel);(!a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:b,areas:aN(c),$from:b}),a.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:b,areas:aN(c),$from:b})},b.type="brush",b}(mG),In=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.areas=[],c.brushOption={},c}return aq(b,a),b.prototype.optionUpdated=function(a,b){var c=this.option;b||H9(c,a,["inBrush","outOfBrush"]);var d=c.inBrush=c.inBrush||{};c.outOfBrush=c.outOfBrush||{color:this.option.defaultOutOfBrushColor},d.hasOwnProperty("liftZ")||(d.liftZ=5)},b.prototype.setAreas=function(a){a&&(this.areas=aY(a,function(a){return Io(this.option,a)},this))},b.prototype.setBrushOption=function(a){this.brushOption=Io(this.option,a),this.brushType=this.brushOption.brushType},b.type="brush",b.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],b.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:kv.color.backgroundTint,borderColor:kv.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:kv.color.disabled},b}(ku);function Io(a,b){return aO({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new jn(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}var Ip=["rect","polygon","lineX","lineY","keep","clear"],Iq=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return aq(b,a),b.prototype.render=function(a,b,c){var d,e,f;b.eachComponent({mainType:"brush"},function(a){d=a.brushType,e=a.brushOption.brushMode||"single",f=f||!!a.areas.length}),this._brushType=d,this._brushMode=e,aX(a.get("type",!0),function(b){a.setIconStatus(b,("keep"===b?"multiple"===e:"clear"===b?f:b===d)?"emphasis":"normal")})},b.prototype.updateView=function(a,b,c){this.render(a,b,c)},b.prototype.getIcons=function(){var a=this.model,b=a.get("icon",!0),c={};return aX(a.get("type",!0),function(a){b[a]&&(c[a]=b[a])}),c},b.prototype.onclick=function(a,b,c){var d=this._brushType,e=this._brushMode;"clear"===c?(b.dispatchAction({type:"axisAreaSelect",intervals:[]}),b.dispatchAction({type:"brush",command:"clear",areas:[]})):b.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===c?d:d!==c&&c,brushMode:"keep"===c?"multiple"===e?"single":"multiple":e}})},b.getDefaultOption=function(a){return{show:!0,type:Ip.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:a.getLocaleModel().get(["toolbox","brush","title"])}},b}(Hd),Ir=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.layoutMode={type:"box",ignoreSize:!0},c}return aq(b,a),b.type="title",b.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:kv.size.m,backgroundColor:kv.color.transparent,borderColor:kv.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:kv.color.primary},subtextStyle:{fontSize:12,color:kv.color.quaternary}},b}(ku),Is=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){if(this.group.removeAll(),a.get("show")){var d=this.group,e=a.getModel("textStyle"),f=a.getModel("subtextStyle"),g=a.get("textAlign"),h=bh(a.get("textBaseline"),a.get("textVerticalAlign")),i=new h1({style:i1(e,{text:a.get("text"),fill:e.getTextColor()},{disableBox:!0}),z2:10}),j=i.getBoundingRect(),k=a.get("subtext"),l=new h1({style:i1(f,{text:k,fill:f.getTextColor(),y:j.height+a.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),m=a.get("link"),n=a.get("sublink"),o=a.get("triggerEvent",!0);i.silent=!m&&!o,l.silent=!n&&!o,m&&i.on("click",function(){j3(m,"_"+a.get("target"))}),n&&l.on("click",function(){j3(n,"_"+a.get("subtarget"))}),h2(i).eventData=h2(l).eventData=o?{componentType:"title",componentIndex:a.componentIndex}:null,d.add(i),k&&d.add(l);var p=d.getBoundingRect(),q=a.getBoxLayoutParams();q.width=p.width,q.height=p.height;var r=kh(q,kk(a,c).refContainer,a.get("padding"));g||("middle"===(g=a.get("left")||a.get("right"))&&(g="center"),"right"===g?r.x+=r.width:"center"===g&&(r.x+=r.width/2)),h||("center"===(h=a.get("top")||a.get("bottom"))&&(h="middle"),"bottom"===h?r.y+=r.height:"middle"===h&&(r.y+=r.height/2),h=h||"top"),d.x=r.x,d.y=r.y,d.markRedraw();var s={align:g,verticalAlign:h};i.setStyle(s),l.setStyle(s),p=d.getBoundingRect();var t=r.margin,u=a.getItemStyle(["color","opacity"]);u.fill=a.get("backgroundColor");var v=new hM({shape:{x:p.x-t[3],y:p.y-t[0],width:p.width+t[1]+t[3],height:p.height+t[0]+t[2],r:a.get("borderRadius")},style:u,subPixelOptimize:!0,silent:!0});d.add(v)}},b.type="title",b}(mG),It=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.layoutMode="box",c}return aq(b,a),b.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c),this._initData()},b.prototype.mergeOption=function(b){a.prototype.mergeOption.apply(this,arguments),this._initData()},b.prototype.setCurrentIndex=function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),a<0&&(a=0)),this.option.currentIndex=a},b.prototype.getCurrentIndex=function(){return this.option.currentIndex},b.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},b.prototype.setPlayState=function(a){this.option.autoPlay=!!a},b.prototype.getPlayState=function(){return!!this.option.autoPlay},b.prototype._initData=function(){var a,b=this.option,c=b.data||[],d=b.axisType,e=this._names=[];"category"===d?(a=[],aX(c,function(b,c){var d,f=fY(fU(b),"");a8(b)?(d=aN(b)).value=c:d=c,a.push(d),e.push(f)})):a=c,(this._data=new q9([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[d]||"number"}],this)).initData(a,e)},b.prototype.getData=function(){return this._data},b.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},b.type="timeline",b.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:kv.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:kv.color.secondary},data:[]},b}(ku),Iu=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="timeline.slider",b.defaultOption=jq(It.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:kv.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:kv.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:kv.color.tertiary},itemStyle:{color:kv.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:kv.color.accent50,borderColor:kv.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:kv.color.accent50,borderColor:kv.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:kv.color.accent60},itemStyle:{color:kv.color.accent60,borderColor:kv.color.accent60},controlStyle:{color:kv.color.accent70,borderColor:kv.color.accent70}},progress:{lineStyle:{color:kv.color.accent30},itemStyle:{color:kv.color.accent40}},data:[]}),b}(It);aV(Iu,lK.prototype);var Iv=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="timeline",b}(mG),Iw=function(a){function b(b,c,d,e){var f=a.call(this,b,c,d)||this;return f.type=e||"value",f}return aq(b,a),b.prototype.getLabelModel=function(){return this.model.getModel("label")},b.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},b}(sM),Ix=Math.PI,Iy=f0(),Iz=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(a,b){this.api=b},b.prototype.render=function(a,b,c){if(this.model=a,this.api=c,this.ecModel=b,this.group.removeAll(),a.get("show",!0)){var d=this._layout(a,c),e=this._createGroup("_mainGroup"),f=this._createGroup("_labelGroup"),g=this._axis=this._createAxis(d,a);a.formatTooltip=function(a){return mi("nameValue",{noName:!0,value:g.scale.getLabel({value:a})})},aX(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](d,e,g,a)},this),this._renderAxisLabel(d,f,g,a),this._position(d,a)}this._doPlayStop(),this._updateTicksStatus()},b.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},b.prototype.dispose=function(){this._clearTimer()},b.prototype._layout=function(a,b){var c,d,e,f,g,h,i=a.get(["label","position"]),j=a.get("orient"),k=(c=a,d=b,kh(c.getBoxLayoutParams(),kk(c,d).refContainer,c.get("padding"))),l={horizontal:"center",vertical:(e=null==i||"auto"===i?"horizontal"===j?k.y+k.height/2<b.getHeight()/2?"-":"+":k.x+k.width/2<b.getWidth()/2?"+":"-":a5(i)?({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[j][i]:i)>=0||"+"===e?"left":"right"},m="vertical"===j?k.height:k.width,n=a.getModel("controlStyle"),o=n.get("show",!0),p=o?n.get("itemSize"):0,q=o?n.get("itemGap"):0,r=p+q,s=a.get(["label","rotate"])||0;s=s*Ix/180;var t=n.get("position",!0),u=o&&n.get("showPlayBtn",!0),v=o&&n.get("showPrevBtn",!0),w=o&&n.get("showNextBtn",!0),x=0,y=m;"left"===t||"bottom"===t?(u&&(f=[0,0],x+=r),v&&(g=[x,0],x+=r)):(u&&(f=[y-p,0],y-=r),v&&(g=[0,0],x+=r)),w&&(h=[y-p,0],y-=r);var z=[x,y];return a.get("inverse")&&z.reverse(),{viewRect:k,mainLength:m,orient:j,rotation:({horizontal:0,vertical:Ix/2})[j],labelRotation:s,labelPosOpt:e,labelAlign:a.get(["label","align"])||l[j],labelBaseline:a.get(["label","verticalAlign"])||a.get(["label","baseline"])||({horizontal:e>=0||"+"===e?"top":"bottom",vertical:"middle"})[j],playPosition:f,prevBtnPosition:g,nextBtnPosition:h,axisExtent:z,controlSize:p,controlGap:q}},b.prototype._position=function(a,b){var c=this._mainGroup,d=this._labelGroup,e=a.viewRect;if("vertical"===a.orient){var f=cq(),g=e.x,h=e.y+e.height;cu(f,f,[-g,-h]),cv(f,f,-Ix/2),cu(f,f,[g,h]),(e=e.clone()).applyTransform(f)}var i=q(e),j=q(c.getBoundingRect()),k=q(d.getBoundingRect()),l=[c.x,c.y],m=[d.x,d.y];m[0]=l[0]=i[0][0];var n=a.labelPosOpt;if(null==n||a5(n)){var o=+("+"!==n);r(l,j,i,1,o),r(m,k,i,1,1-o)}else{var o=n>=0?0:1;r(l,j,i,1,o),m[1]=l[1]+n}function p(a){a.originX=i[0][0]-a.x,a.originY=i[1][0]-a.y}function q(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function r(a,b,c,d,e){a[d]+=c[d][e]-b[d][e]}c.setPosition(l),d.setPosition(m),c.rotation=d.rotation=a.rotation,p(c),p(d)},b.prototype._createAxis=function(a,b){var c=b.getData(),d=b.get("axisType"),e=function(a,b){if(b=b||a.get("type"))switch(b){case"category":return new rw({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new rN({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new ry}}(b,d);e.getTicks=function(){return c.mapArray(["value"],function(a){return{value:a}})};var f=c.getDataExtent("value");e.setExtent(f[0],f[1]),e.calcNiceTicks();var g=new Iw("value",e,a.axisExtent,d);return g.model=b,g},b.prototype._createGroup=function(a){var b=this[a]=new fc;return this.group.add(b),b},b.prototype._renderAxisLine=function(a,b,c,d){var e=c.getExtent();if(d.get(["lineStyle","show"])){var f=new nw({shape:{x1:e[0],y1:0,x2:e[1],y2:0},style:aQ({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});b.add(f);var g=this._progressLine=new nw({shape:{x1:e[0],x2:this._currentPointer?this._currentPointer.x:e[0],y1:0,y2:0},style:aR({lineCap:"round",lineWidth:f.style.lineWidth},d.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});b.add(g)}},b.prototype._renderAxisTick=function(a,b,c,d){var e=this,f=d.getData(),g=c.scale.getTicks();this._tickSymbols=[],aX(g,function(a){var g=c.dataToCoord(a.value),h=f.getItemModel(a.value),i=h.getModel("itemStyle"),j=h.getModel(["emphasis","itemStyle"]),k=h.getModel(["progress","itemStyle"]),l=IA(h,i,b,{x:g,y:0,onclick:a1(e._changeTimeline,e,a.value)});l.ensureState("emphasis").style=j.getItemStyle(),l.ensureState("progress").style=k.getItemStyle(),iE(l);var m=h2(l);h.get("tooltip")?(m.dataIndex=a.value,m.dataModel=d):m.dataIndex=m.dataModel=null,e._tickSymbols.push(l)})},b.prototype._renderAxisLabel=function(a,b,c,d){var e=this;if(c.getLabelModel().get("show")){var f=d.getData(),g=c.getViewLabels();this._tickLabels=[],aX(g,function(d){var g=d.tickValue,h=f.getItemModel(g),i=h.getModel("label"),j=h.getModel(["emphasis","label"]),k=h.getModel(["progress","label"]),l=new h1({x:c.dataToCoord(d.tickValue),y:0,rotation:a.labelRotation-a.rotation,onclick:a1(e._changeTimeline,e,g),silent:!1,style:i1(i,{text:d.formattedLabel,align:a.labelAlign,verticalAlign:a.labelBaseline})});l.ensureState("emphasis").style=i1(j),l.ensureState("progress").style=i1(k),b.add(l),iE(l),Iy(l).dataIndex=g,e._tickLabels.push(l)})}},b.prototype._renderControl=function(a,b,c,d){var e=a.controlSize,f=a.rotation,g=d.getModel("controlStyle").getItemStyle(),h=d.getModel(["emphasis","controlStyle"]).getItemStyle(),i=d.getPlayState(),j=d.get("inverse",!0);function k(a,c,i,j){if(a){var k,l,m,n,o,p,q=e0(bh(d.get(["controlStyle",c+"BtnSize"]),e),e),r=(k=d,l=c+"Icon",m=[0,-q/2,q,q],o=(n={x:a[0],y:a[1],originX:e/2,originY:0,rotation:j?-f:0,rectHover:!0,style:g,onclick:i}).style,p=oe(k.get(["controlStyle",l]),n||{},new cS(m[0],m[1],m[2],m[3])),o&&p.setStyle(o),p);r.ensureState("emphasis").style=h,b.add(r),iE(r)}}k(a.nextBtnPosition,"next",a1(this._changeTimeline,this,j?"-":"+")),k(a.prevBtnPosition,"prev",a1(this._changeTimeline,this,j?"+":"-")),k(a.playPosition,i?"stop":"play",a1(this._handlePlayClick,this,!i),!0)},b.prototype._renderCurrentPointer=function(a,b,c,d){var e=d.getData(),f=d.getCurrentIndex(),g=e.getItemModel(f).getModel("checkpointStyle"),h=this;this._currentPointer=IA(g,g,this._mainGroup,{},this._currentPointer,{onCreate:function(a){a.draggable=!0,a.drift=a1(h._handlePointerDrag,h),a.ondragend=a1(h._handlePointerDragend,h),IB(a,h._progressLine,f,c,d,!0)},onUpdate:function(a){IB(a,h._progressLine,f,c,d)}})},b.prototype._handlePlayClick=function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},b.prototype._handlePointerDrag=function(a,b,c){this._clearTimer(),this._pointerChangeTimeline([c.offsetX,c.offsetY])},b.prototype._handlePointerDragend=function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},b.prototype._pointerChangeTimeline=function(a,b){var c=this._toAxisCoord(a)[0],d=fv(this._axis.getExtent().slice());c>d[1]&&(c=d[1]),c<d[0]&&(c=d[0]),this._currentPointer.x=c,this._currentPointer.markRedraw();var e=this._progressLine;e&&(e.shape.x2=c,e.dirty());var f=this._findNearestTick(c),g=this.model;(b||f!==g.getCurrentIndex()&&g.get("realtime"))&&this._changeTimeline(f)},b.prototype._doPlayStop=function(){var a=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var b=a.model;a._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},b.prototype._toAxisCoord=function(a){return n9(a,this._mainGroup.getLocalTransform(),!0)},b.prototype._findNearestTick=function(a){var b,c=this.model.getData(),d=1/0,e=this._axis;return c.each(["value"],function(c,f){var g=Math.abs(e.dataToCoord(c)-a);g<d&&(d=g,b=f)}),b},b.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},b.prototype._changeTimeline=function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})},b.prototype._updateTicksStatus=function(){var a=this.model.getCurrentIndex(),b=this._tickSymbols,c=this._tickLabels;if(b)for(var d=0;d<b.length;d++)b&&b[d]&&b[d].toggleState("progress",d<a);if(c)for(var d=0;d<c.length;d++)c&&c[d]&&c[d].toggleState("progress",Iy(c[d]).dataIndex<=a)},b.type="timeline.slider",b}(Iv);function IA(a,b,c,d,e,f){var g=b.get("color");e?(e.setColor(g),c.add(e),f&&f.onUpdate(e)):((e=pq(a.get("symbol"),-1,-1,2,2,g)).setStyle("strokeNoScale",!0),c.add(e),f&&f.onCreate(e));var h=b.getItemStyle(["color"]);e.setStyle(h),d=aO({rectHover:!0,z2:100},d,!0);var i=pr(a.get("symbolSize"));d.scaleX=i[0]/2,d.scaleY=i[1]/2;var j=ps(a.get("symbolOffset"),i);j&&(d.x=(d.x||0)+j[0],d.y=(d.y||0)+j[1]);var k=a.get("symbolRotate");return d.rotation=(k||0)*Math.PI/180||0,e.attr(d),e.updateTransform(),e}function IB(a,b,c,d,e,f){if(!a.dragging){var g=e.getModel("checkpointStyle"),h=d.dataToCoord(e.getData().get("value",c));if(f||!g.get("animation",!0))a.attr({x:h,y:0}),b&&b.attr({shape:{x2:h}});else{var i={duration:g.get("animationDuration",!0),easing:g.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:h,y:0},i),b&&b.animateTo({shape:{x2:h}},i)}}}function IC(a){var b=a&&a.timeline;a3(b)||(b=b?[b]:[]),aX(b,function(a){a&&function(a){var b=a.type,c={number:"value",time:"time"};if(c[b]&&(a.axisType=c[b],delete a.type),ID(a),IE(a,"controlPosition")){var d=a.controlStyle||(a.controlStyle={});IE(d,"position")||(d.position=a.controlPosition),"none"!==d.position||IE(d,"show")||(d.show=!1,delete d.position),delete a.controlPosition}aX(a.data||[],function(a){a8(a)&&!a3(a)&&(!IE(a,"value")&&IE(a,"name")&&(a.value=a.name),ID(a))})}(a)})}function ID(a){var b=a.itemStyle||(a.itemStyle={}),c=b.emphasis||(b.emphasis={}),d=a.label||a.label||{},e=d.normal||(d.normal={}),f={normal:1,emphasis:1};aX(d,function(a,b){f[b]||IE(e,b)||(e[b]=a)}),c.label&&!IE(d,"emphasis")&&(d.emphasis=c.label,delete c.label)}function IE(a,b){return a.hasOwnProperty(b)}function IF(a,b){if(!a)return!1;for(var c=a3(a)?a:[a],d=0;d<c.length;d++)if(c[d]&&c[d][b])return!0;return!1}function IG(a){fS(a,"label",["show"])}var IH=f0(),II=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.createdBySelf=!1,c.preventAutoZ=!0,c}return aq(b,a),b.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c),this._mergeOption(a,c,!1,!0)},b.prototype.isAnimationEnabled=function(){if(at.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},b.prototype.mergeOption=function(a,b){this._mergeOption(a,b,!1,!1)},b.prototype._mergeOption=function(a,b,c,d){var e=this.mainType;c||b.eachSeries(function(a){var c=a.get(this.mainType,!0),f=IH(a)[e];if(!c||!c.data){IH(a)[e]=null;return}f?f._mergeOption(c,b,!0):(d&&IG(c),aX(c.data,function(a){a instanceof Array?(IG(a[0]),IG(a[1])):IG(a)}),aQ(f=this.createMarkerModelFromSeries(c,this,b),{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),f.__hostSeries=a),IH(a)[e]=f},this)},b.prototype.formatTooltip=function(a,b,c){var d=this.getData(),e=this.getRawValue(a),f=d.getName(a);return mi("section",{header:this.name,blocks:[mi("nameValue",{name:f,value:e,noName:!f,noValue:null==e})]})},b.prototype.getData=function(){return this._data},b.prototype.setData=function(a){this._data=a},b.prototype.getDataParams=function(a,b){var c=lK.prototype.getDataParams.call(this,a,b),d=this.__hostSeries;return d&&(c.seriesId=d.id,c.seriesName=d.name,c.seriesType=d.subType),c},b.getMarkerModelFromSeries=function(a,b){return IH(a)[b]},b.type="marker",b.dependencies=["series","grid","polar","geo"],b}(ku);aV(II,lK.prototype);var IJ=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.createMarkerModelFromSeries=function(a,c,d){return new b(a,c,d)},b.type="markPoint",b.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},b}(II);function IK(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function IL(a,b,c,d,e,f,g){var h=[],i=rg(b,e)?b.getCalculationInfo("stackResultDimension"):e,j=IR(b,i,a),k=b.hostModel.indicesOfNearest(c,i,j)[0];h[f]=b.get(d,k),h[g]=b.get(i,k);var l=b.get(e,k),m=fw(b.get(e,k));return(m=Math.min(m,20))>=0&&(h[g]=+h[g].toFixed(m)),[h,l]}var IM={min:a2(IL,"min"),max:a2(IL,"max"),average:a2(IL,"average"),median:a2(IL,"median")};function IN(a,b){if(b){var c,d=a.getData(),e=a.coordinateSystem,f=e&&e.dimensions;if(!(!isNaN(parseFloat((c=b).x))&&!isNaN(parseFloat(c.y)))&&!a3(b.coord)&&a3(f)){var g=IO(b,d,e,a);if((b=aN(b)).type&&IM[b.type]&&g.baseAxis&&g.valueAxis){var h=aT(f,g.baseAxis.dim),i=aT(f,g.valueAxis.dim),j=IM[b.type](d,g.valueAxis.dim,g.baseDataDim,g.valueDataDim,h,i);b.coord=j[0],b.value=j[1]}else b.coord=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis]}if(null!=b.coord&&a3(f))for(var k=b.coord,l=0;l<2;l++)IM[k[l]]&&(k[l]=IR(d,d.mapDimension(f[l]),k[l]));else{b.coord=[];var m=a.getBaseAxis();if(m&&b.type&&IM[b.type]){var n=e.getOtherAxis(m);n&&(b.value=IR(d,d.mapDimension(n.dim),b.type))}}return b}}function IO(a,b,c,d){var e,f,g,h={};return null!=a.valueIndex||null!=a.valueDim?(h.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,h.valueAxis=c.getAxis((e=d,f=h.valueDataDim,(g=e.getData().getDimensionInfo(f))&&g.coordDim)),h.baseAxis=c.getOtherAxis(h.valueAxis),h.baseDataDim=b.mapDimension(h.baseAxis.dim)):(h.baseAxis=d.getBaseAxis(),h.valueAxis=c.getOtherAxis(h.baseAxis),h.baseDataDim=b.mapDimension(h.baseAxis.dim),h.valueDataDim=b.mapDimension(h.valueAxis.dim)),h}function IP(a,b){return!a||!a.containData||!b.coord||!!IK(b)||a.containData(b.coord)}function IQ(a,b){return a?function(a,c,d,e){return lP(e<2?a.coord&&a.coord[e]:a.value,b[e])}:function(a,c,d,e){return lP(a.value,b[e])}}function IR(a,b,c){if("average"===c){var d=0,e=0;return a.each(b,function(a,b){!isNaN(a)&&(d+=a,e++)}),d/e}return"median"===c?a.getMedian(b):a.getDataExtent(b)[+("max"===c)]}var IS=f0(),IT=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.init=function(){this.markerGroupMap=bt()},b.prototype.render=function(a,b,c){var d,e,f,g=this,h=this.markerGroupMap;h.each(function(a){IS(a).keep=!1}),b.eachSeries(function(a){var d=II.getMarkerModelFromSeries(a,g.type);d&&g.renderSeries(a,d,b,c)}),h.each(function(a){IS(a).keep||g.group.remove(a.group)}),d=b,e=h,f=this.type,d.eachSeries(function(a){var b=II.getMarkerModelFromSeries(a,f),c=e.get(a.id);if(b&&c&&c.group){var d=or(b),g=d.z,h=d.zlevel;ot(c.group,g,h)}})},b.prototype.markKeep=function(a){IS(a).keep=!0},b.prototype.toggleBlurSeries=function(a,b){var c=this;aX(a,function(a){var d=II.getMarkerModelFromSeries(a,c.type);d&&d.getData().eachItemGraphicEl(function(a){a&&(b?iq(a,il):iq(a,im))})})},b.type="marker",b}(mG);function IU(a,b,c){var d=b.coordinateSystem,e=c.getWidth(),f=c.getHeight(),g=d&&d.getArea&&d.getArea();a.each(function(c){var h,i=a.getItemModel(c),j="coordinate"===i.get("relativeTo"),k=j?g?g.width:0:e,l=j?g?g.height:0:f,m=j&&g?g.x:0,n=j&&g?g.y:0,o=fs(i.get("x"),k)+m,p=fs(i.get("y"),l)+n;if(isNaN(o)||isNaN(p)){if(b.getMarkerPosition)h=b.getMarkerPosition(a.getValues(a.dimensions,c));else if(d){var q=a.get(d.dimensions[0],c),r=a.get(d.dimensions[1],c);h=d.dataToPoint([q,r])}}else h=[o,p];isNaN(o)||(h[0]=o),isNaN(p)||(h[1]=p),a.setItemLayout(c,h)})}var IV=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.updateTransform=function(a,b,c){b.eachSeries(function(a){var b=II.getMarkerModelFromSeries(a,"markPoint");b&&(IU(b.getData(),a,c),this.markerGroupMap.get(a.id).updateLayout())},this)},b.prototype.renderSeries=function(a,b,c,d){var e,f,g,h,i,j,k,l=a.coordinateSystem,m=a.id,n=a.getData(),o=this.markerGroupMap,p=o.get(m)||o.set(m,new ux),q=(e=l,f=a,g=b,i=new q9(h=e?aY(e&&e.dimensions,function(a){return aQ(aQ({},f.getData().getDimensionInfo(f.getData().mapDimension(a))||{}),{name:a,ordinalMeta:null})}):[{name:"value",type:"float"}],g),j=aY(g.get("data"),a2(IN,f)),e&&(j=a$(j,a2(IP,e))),k=IQ(!!e,h),i.initData(j,null,k),i);b.setData(q),IU(b.getData(),a,d),q.each(function(a){var c=q.getItemModel(a),d=c.getShallow("symbol"),e=c.getShallow("symbolSize"),f=c.getShallow("symbolRotate"),g=c.getShallow("symbolOffset"),h=c.getShallow("symbolKeepAspect");if(a4(d)||a4(e)||a4(f)||a4(g)){var i=b.getRawValue(a),j=b.getDataParams(a);a4(d)&&(d=d(i,j)),a4(e)&&(e=e(i,j)),a4(f)&&(f=f(i,j)),a4(g)&&(g=g(i,j))}var k=c.getModel("itemStyle").getItemStyle(),l=c.get("z2"),m=pa(n,"color");k.fill||(k.fill=m),q.setItemVisual(a,{z2:bh(l,0),symbol:d,symbolSize:e,symbolRotate:f,symbolOffset:g,symbolKeepAspect:h,style:k})}),p.updateData(q),this.group.add(p.group),q.eachItemGraphicEl(function(a){a.traverse(function(a){h2(a).dataModel=b})}),this.markKeep(p),p.group.silent=b.get("silent")||a.get("silent")},b.type="markPoint",b}(IT),IW=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.createMarkerModelFromSeries=function(a,c,d){return new b(a,c,d)},b.type="markLine",b.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},b}(II),IX=f0(),IY=function(a,b,c,d){var e,f=a.getData();if(a3(d))e=d;else{var g=d.type;if("min"===g||"max"===g||"average"===g||"median"===g||null!=d.xAxis||null!=d.yAxis){var h=void 0,i=void 0;if(null!=d.yAxis||null!=d.xAxis)h=b.getAxis(null!=d.yAxis?"y":"x"),i=bg(d.yAxis,d.xAxis);else{var j=IO(d,f,b,a);h=j.valueAxis;var k=rh(f,j.valueDataDim);i=IR(f,k,g)}var l=+("x"!==h.dim),m=1-l,n=aN(d),o={coord:[]};n.type=null,n.coord=[],n.coord[m]=-1/0,o.coord[m]=1/0;var p=c.get("precision");p>=0&&a7(i)&&(i=+i.toFixed(Math.min(p,20))),n.coord[l]=o.coord[l]=i,e=[n,o,{type:g,valueIndex:d.valueIndex,value:i}]}else e=[]}var q=[IN(a,e[0]),IN(a,e[1]),aQ({},e[2])];return q[2].type=q[2].type||null,aO(q[2],q[0]),aO(q[2],q[1]),q};function IZ(a){return!isNaN(a)&&!isFinite(a)}function I$(a,b,c,d){var e=1-a,f=d.dimensions[a];return IZ(b[e])&&IZ(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function I_(a,b){if("cartesian2d"===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(I$(1,c,d,a)||I$(0,c,d,a)))return!0}return IP(a,b[0])&&IP(a,b[1])}function I0(a,b,c,d,e){var f,g=d.coordinateSystem,h=a.getItemModel(b),i=fs(h.get("x"),e.getWidth()),j=fs(h.get("y"),e.getHeight());if(isNaN(i)||isNaN(j)){if(d.getMarkerPosition)f=d.getMarkerPosition(a.getValues(a.dimensions,b));else{var k=g.dimensions,l=a.get(k[0],b),m=a.get(k[1],b);f=g.dataToPoint([l,m])}if(uL(g,"cartesian2d")){var n=g.getAxis("x"),o=g.getAxis("y"),k=g.dimensions;IZ(a.get(k[0],b))?f[0]=n.toGlobalCoord(n.getExtent()[+!c]):IZ(a.get(k[1],b))&&(f[1]=o.toGlobalCoord(o.getExtent()[+!c]))}isNaN(i)||(f[0]=i),isNaN(j)||(f[1]=j)}else f=[i,j];a.setItemLayout(b,f)}var I1=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.updateTransform=function(a,b,c){b.eachSeries(function(a){var b=II.getMarkerModelFromSeries(a,"markLine");if(b){var d=b.getData(),e=IX(b).from,f=IX(b).to;e.each(function(b){I0(e,b,!0,a,c),I0(f,b,!1,a,c)}),d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},b.prototype.renderSeries=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=a.coordinateSystem,o=a.id,p=a.getData(),q=this.markerGroupMap,r=q.get(o)||q.set(o,new Ah);this.group.add(r.group);var s=(e=n,f=a,g=b,i=new q9(h=e?aY(e&&e.dimensions,function(a){return aQ(aQ({},f.getData().getDimensionInfo(f.getData().mapDimension(a))||{}),{name:a,ordinalMeta:null})}):[{name:"value",type:"float"}],g),j=new q9(h,g),k=new q9([],g),l=aY(g.get("data"),a2(IY,f,e,g)),e&&(l=a$(l,a2(I_,e))),m=IQ(!!e,h),i.initData(aY(l,function(a){return a[0]}),null,m),j.initData(aY(l,function(a){return a[1]}),null,m),k.initData(aY(l,function(a){return a[2]})),k.hasItemOption=!0,{from:i,to:j,line:k}),t=s.from,u=s.to,v=s.line;IX(b).from=t,IX(b).to=u,b.setData(v);var w=b.get("symbol"),x=b.get("symbolSize"),y=b.get("symbolRotate"),z=b.get("symbolOffset");function A(b,c,e){var f=b.getItemModel(c);I0(b,c,e,a,d);var g=f.getModel("itemStyle").getItemStyle();null==g.fill&&(g.fill=pa(p,"color")),b.setItemVisual(c,{symbolKeepAspect:f.get("symbolKeepAspect"),symbolOffset:bh(f.get("symbolOffset",!0),z[+!e]),symbolRotate:bh(f.get("symbolRotate",!0),y[+!e]),symbolSize:bh(f.get("symbolSize"),x[+!e]),symbol:bh(f.get("symbol",!0),w[+!e]),style:g})}a3(w)||(w=[w,w]),a3(x)||(x=[x,x]),a3(y)||(y=[y,y]),a3(z)||(z=[z,z]),s.from.each(function(a){A(t,a,!0),A(u,a,!1)}),v.each(function(a){var b=v.getItemModel(a),c=b.getModel("lineStyle").getLineStyle();v.setItemLayout(a,[t.getItemLayout(a),u.getItemLayout(a)]);var d=b.get("z2");null==c.stroke&&(c.stroke=t.getItemVisual(a,"style").fill),v.setItemVisual(a,{z2:bh(d,0),fromSymbolKeepAspect:t.getItemVisual(a,"symbolKeepAspect"),fromSymbolOffset:t.getItemVisual(a,"symbolOffset"),fromSymbolRotate:t.getItemVisual(a,"symbolRotate"),fromSymbolSize:t.getItemVisual(a,"symbolSize"),fromSymbol:t.getItemVisual(a,"symbol"),toSymbolKeepAspect:u.getItemVisual(a,"symbolKeepAspect"),toSymbolOffset:u.getItemVisual(a,"symbolOffset"),toSymbolRotate:u.getItemVisual(a,"symbolRotate"),toSymbolSize:u.getItemVisual(a,"symbolSize"),toSymbol:u.getItemVisual(a,"symbol"),style:c})}),r.updateData(v),s.line.eachItemGraphicEl(function(a){h2(a).dataModel=b,a.traverse(function(a){h2(a).dataModel=b})}),this.markKeep(r),r.group.silent=b.get("silent")||a.get("silent")},b.type="markLine",b}(IT),I2=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.createMarkerModelFromSeries=function(a,c,d){return new b(a,c,d)},b.type="markArea",b.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},b}(II),I3=f0(),I4=function(a,b,c,d){var e=d[0],f=d[1];if(e&&f){var g=IN(a,e),h=IN(a,f),i=g.coord,j=h.coord;i[0]=bg(i[0],-1/0),i[1]=bg(i[1],-1/0),j[0]=bg(j[0],1/0),j[1]=bg(j[1],1/0);var k=aP([{},g,h]);return k.coord=[g.coord,h.coord],k.x0=g.x,k.y0=g.y,k.x1=h.x,k.y1=h.y,k}};function I5(a){return!isNaN(a)&&!isFinite(a)}function I6(a,b,c,d){var e=1-a;return I5(b[e])&&I5(c[e])}function I7(a,b){var c=b.coord[0],d=b.coord[1],e={coord:c,x:b.x0,y:b.y0},f={coord:d,x:b.x1,y:b.y1};if(uL(a,"cartesian2d"))return!!(c&&d&&(I6(1,c,d,a)||I6(0,c,d,a)))||!a||!a.containZone||!e.coord||!f.coord||!!IK(e)||!!IK(f)||a.containZone(e.coord,f.coord);return IP(a,e)||IP(a,f)}function I8(a,b,c,d,e){var f,g=d.coordinateSystem,h=a.getItemModel(b),i=fs(h.get(c[0]),e.getWidth()),j=fs(h.get(c[1]),e.getHeight());if(isNaN(i)||isNaN(j)){if(d.getMarkerPosition){var k=a.getValues(["x0","y0"],b),l=a.getValues(["x1","y1"],b),m=g.clampData(k),n=g.clampData(l),o=[];"x0"===c[0]?o[0]=m[0]>n[0]?l[0]:k[0]:o[0]=m[0]>n[0]?k[0]:l[0],"y0"===c[1]?o[1]=m[1]>n[1]?l[1]:k[1]:o[1]=m[1]>n[1]?k[1]:l[1],f=d.getMarkerPosition(o,c,!0)}else{var p=a.get(c[0],b),q=a.get(c[1],b),r=[p,q];g.clampData&&g.clampData(r,r),f=g.dataToPoint(r,!0)}if(uL(g,"cartesian2d")){var s=g.getAxis("x"),t=g.getAxis("y"),p=a.get(c[0],b),q=a.get(c[1],b);I5(p)?f[0]=s.toGlobalCoord(s.getExtent()[+("x0"!==c[0])]):I5(q)&&(f[1]=t.toGlobalCoord(t.getExtent()[+("y0"!==c[1])]))}isNaN(i)||(f[0]=i),isNaN(j)||(f[1]=j)}else f=[i,j];return f}var I9=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Ja=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.updateTransform=function(a,b,c){b.eachSeries(function(a){var b=II.getMarkerModelFromSeries(a,"markArea");if(b){var d=b.getData();d.each(function(b){var e=aY(I9,function(e){return I8(d,b,e,a,c)});d.setItemLayout(b,e),d.getItemGraphicEl(b).setShape("points",e)})}},this)},b.prototype.renderSeries=function(a,b,c,d){var e=a.coordinateSystem,f=a.id,g=a.getData(),h=this.markerGroupMap,i=h.get(f)||h.set(f,{group:new fc});this.group.add(i.group),this.markKeep(i);var j=function(a,b,c){if(a){var d,e,f=aY(a&&a.dimensions,function(a){var c=b.getData();return aQ(aQ({},c.getDimensionInfo(c.mapDimension(a))||{}),{name:a,ordinalMeta:null})});d=new q9(e=aY(["x0","y0","x1","y1"],function(a,b){return{name:a,type:f[b%2].type}}),c)}else d=new q9(e=[{name:"value",type:"float"}],c);var g=aY(c.get("data"),a2(I4,b,a,c));a&&(g=a$(g,a2(I7,a)));var h=a?function(a,b,c,d){return lP(a.coord[Math.floor(d/2)][d%2],e[d])}:function(a,b,c,d){return lP(a.value,e[d])};return d.initData(g,null,h),d.hasItemOption=!0,d}(e,a,b);b.setData(j),j.each(function(b){var c=aY(I9,function(c){return I8(j,b,c,a,d)}),f=e.getAxis("x").scale,h=e.getAxis("y").scale,i=f.getExtent(),k=h.getExtent(),l=[f.parse(j.get("x0",b)),f.parse(j.get("x1",b))],m=[h.parse(j.get("y0",b)),h.parse(j.get("y1",b))];fv(l),fv(m);var n=!(i[0]>l[1]||i[1]<l[0]||k[0]>m[1]||k[1]<m[0]);j.setItemLayout(b,{points:c,allClipped:!n});var o=j.getItemModel(b),p=o.getModel("itemStyle").getItemStyle(),q=o.get("z2"),r=pa(g,"color");!p.fill&&(p.fill=r,a5(p.fill)&&(p.fill=dV(p.fill,.4))),p.stroke||(p.stroke=r),j.setItemVisual(b,"style",p),j.setItemVisual(b,"z2",bh(q,0))}),j.diff(I3(i).data).add(function(a){var b=j.getItemLayout(a),c=j.getItemVisual(a,"z2");if(!b.allClipped){var d=new np({z2:bh(c,0),shape:{points:b.points}});j.setItemGraphicEl(a,d),i.group.add(d)}}).update(function(a,c){var d=I3(i).data.getItemGraphicEl(c),e=j.getItemLayout(a),f=j.getItemVisual(a,"z2");e.allClipped?d&&i.group.remove(d):(d?iR(d,{z2:bh(f,0),shape:{points:e.points}},b,a):d=new np({shape:{points:e.points}}),j.setItemGraphicEl(a,d),i.group.add(d))}).remove(function(a){var b=I3(i).data.getItemGraphicEl(a);i.group.remove(b)}).execute(),j.eachItemGraphicEl(function(a,c){var d=j.getItemModel(c),e=j.getItemVisual(c,"style");a.useStyle(j.getItemVisual(c,"style")),i_(a,i0(d),{labelFetcher:b,labelDataIndex:c,defaultText:j.getName(c)||"",inheritColor:a5(e.fill)?dV(e.fill,1):kv.color.neutral99}),iJ(a,d),iF(a,null,null,d.get(["emphasis","disabled"])),h2(a).dataModel=b}),I3(i).data=j,i.group.silent=b.get("silent")||a.get("silent")},b.type="markArea",b}(IT),Jb=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.layoutMode={type:"box",ignoreSize:!0},c}return aq(b,a),b.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c),a.selected=a.selected||{},this._updateSelector(a)},b.prototype.mergeOption=function(b,c){a.prototype.mergeOption.call(this,b,c),this._updateSelector(b)},b.prototype._updateSelector=function(a){var b=a.selector,c=this.ecModel;!0===b&&(b=a.selector=["all","inverse"]),a3(b)&&aX(b,function(a,d){var e;a5(a)&&(a={type:a}),b[d]=aO(a,"all"===(e=a.type)?{type:"all",title:c.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:c.getLocaleModel().get(["legend","selector","inverse"])}:void 0)})},b.prototype.optionUpdated=function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var b=!1,c=0;c<a.length;c++){var d=a[c].get("name");if(this.isSelected(d)){this.select(d),b=!0;break}}b||this.select(a[0].get("name"))}},b.prototype._updateData=function(a){var b=[],c=[];a.eachRawSeries(function(d){var e,f=d.name;if(c.push(f),d.legendVisualProvider){var g=d.legendVisualProvider.getAllNames();a.isSeriesFiltered(d)||(c=c.concat(g)),g.length?b=b.concat(g):e=!0}else e=!0;e&&fZ(d)&&b.push(d.name)}),this._availableNames=c;var d=this.get("data")||b,e=bt(),f=aY(d,function(a){return((a5(a)||a7(a))&&(a={name:a}),e.get(a.name))?null:(e.set(a.name,!0),new jn(a,this,this.ecModel))},this);this._data=a$(f,function(a){return!!a})},b.prototype.getData=function(){return this._data},b.prototype.select=function(a){var b=this.option.selected;"single"===this.get("selectedMode")&&aX(this._data,function(a){b[a.get("name")]=!1}),b[a]=!0},b.prototype.unSelect=function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},b.prototype.toggleSelected=function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},b.prototype.allSelect=function(){var a=this._data,b=this.option.selected;aX(a,function(a){b[a.get("name",!0)]=!0})},b.prototype.inverseSelect=function(){var a=this._data,b=this.option.selected;aX(a,function(a){var c=a.get("name",!0);b.hasOwnProperty(c)||(b[c]=!0),b[c]=!b[c]})},b.prototype.isSelected=function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&aT(this._availableNames,a)>=0},b.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},b.type="legend.plain",b.dependencies=["series"],b.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:kv.size.m,align:"auto",backgroundColor:kv.color.transparent,borderColor:kv.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:kv.color.disabled,inactiveBorderColor:kv.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:kv.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:kv.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:kv.color.tertiary,borderWidth:1,borderColor:kv.color.border},emphasis:{selectorLabel:{show:!0,color:kv.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},b}(ku),Jc=a2,Jd=aX,Je=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.newlineDisabled=!1,c}return aq(b,a),b.prototype.init=function(){this.group.add(this._contentGroup=new fc),this.group.add(this._selectorGroup=new fc),this._isFirstRender=!0},b.prototype.getContentGroup=function(){return this._contentGroup},b.prototype.getSelectorGroup=function(){return this._selectorGroup},b.prototype.render=function(a,b,c){var d=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),a.get("show",!0)){var e=a.get("align"),f=a.get("orient");e&&"auto"!==e||(e="right"===a.get("left")&&"vertical"===f?"right":"left");var g=a.get("selector",!0),h=a.get("selectorPosition",!0);g&&(!h||"auto"===h)&&(h="horizontal"===f?"end":"start"),this.renderInner(e,a,b,c,g,f,h);var i=kk(a,c).refContainer,j=a.getBoxLayoutParams(),k=a.get("padding"),l=kh(j,i,k),m=this.layoutInner(a,e,l,d,g,h),n=kh(aR({width:m.width,height:m.height},j),i,k);this.group.x=n.x-m.x,this.group.y=n.y-m.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Hg(m,a))}},b.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},b.prototype.renderInner=function(a,b,c,d,e,f,g){var h=this.getContentGroup(),i=bt(),j=b.get("selectedMode"),k=b.get("triggerEvent"),l=[];c.eachRawSeries(function(a){a.get("legendHoverLink")||l.push(a.id)}),Jd(b.getData(),function(e,f){var g=this,m=e.get("name");if(!this.newlineDisabled&&(""===m||"\n"===m)){var n=new fc;n.newline=!0,h.add(n);return}var o=c.getSeriesByName(m)[0];if(!i.get(m))if(o){var p=o.getData(),q=p.getVisual("legendLineStyle")||{},r=p.getVisual("legendIcon"),s=p.getVisual("style"),t=this._createItem(o,m,f,e,b,a,q,s,r,j,d);t.on("click",Jc(Jf,m,null,d,l)).on("mouseover",Jc(Jh,o.name,null,d,l)).on("mouseout",Jc(Ji,o.name,null,d,l)),c.ssr&&t.eachChild(function(a){var b=h2(a);b.seriesIndex=o.seriesIndex,b.dataIndex=f,b.ssrType="legend"}),k&&t.eachChild(function(a){g.packEventData(a,b,o,f,m)}),i.set(m,!0)}else c.eachRawSeries(function(g){var h=this;if(!i.get(m)&&g.legendVisualProvider){var n=g.legendVisualProvider;if(!n.containName(m))return;var o=n.indexOfName(m),p=n.getItemVisual(o,"style"),q=n.getItemVisual(o,"legendIcon"),r=dM(p.fill);r&&0===r[3]&&(r[3]=.2,p=aQ(aQ({},p),{fill:dW(r,"rgba")}));var s=this._createItem(g,m,f,e,b,a,{},p,q,j,d);s.on("click",Jc(Jf,null,m,d,l)).on("mouseover",Jc(Jh,null,m,d,l)).on("mouseout",Jc(Ji,null,m,d,l)),c.ssr&&s.eachChild(function(a){var b=h2(a);b.seriesIndex=g.seriesIndex,b.dataIndex=f,b.ssrType="legend"}),k&&s.eachChild(function(a){h.packEventData(a,b,g,f,m)}),i.set(m,!0)}},this)},this),e&&this._createSelector(e,b,d,f,g)},b.prototype.packEventData=function(a,b,c,d,e){var f={componentType:"legend",componentIndex:b.componentIndex,dataIndex:d,value:e,seriesIndex:c.seriesIndex};h2(a).eventData=f},b.prototype._createSelector=function(a,b,c,d,e){var f=this.getSelectorGroup();Jd(a,function(a){var d=a.type,e=new h1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){c.dispatchAction({type:"all"===d?"legendAllSelect":"legendInverseSelect",legendId:b.id})}});f.add(e),i_(e,{normal:b.getModel("selectorLabel"),emphasis:b.getModel(["emphasis","selectorLabel"])},{defaultText:a.title}),iE(e)})},b.prototype._createItem=function(a,b,c,d,e,f,g,h,i,j,k){var l=a.visualDrawType,m=e.get("itemWidth"),n=e.get("itemHeight"),o=e.isSelected(b),p=d.get("symbolRotate"),q=d.get("symbolKeepAspect"),r=d.get("icon"),s=function(a,b,c,d,e,f,g){function h(a,b){"auto"===a.lineWidth&&(a.lineWidth=2*(b.lineWidth>0)),Jd(a,function(c,d){"inherit"===a[d]&&(a[d]=b[d])})}var i=b.getModel("itemStyle"),j=i.getItemStyle(),k=0===a.lastIndexOf("empty",0)?"fill":"stroke",l=i.getShallow("decal");j.decal=l&&"inherit"!==l?pR(l,g):d.decal,"inherit"===j.fill&&(j.fill=d[e]),"inherit"===j.stroke&&(j.stroke=d[k]),"inherit"===j.opacity&&(j.opacity=("fill"===e?d:c).opacity),h(j,d);var m=b.getModel("lineStyle"),n=m.getLineStyle();if(h(n,c),"auto"===j.fill&&(j.fill=d.fill),"auto"===j.stroke&&(j.stroke=d.fill),"auto"===n.stroke&&(n.stroke=d.fill),!f){var o=b.get("inactiveBorderWidth"),p=j[k];j.lineWidth="auto"===o?d.lineWidth>0&&p?2:0:j.lineWidth,j.fill=b.get("inactiveColor"),j.stroke=b.get("inactiveBorderColor"),n.stroke=m.get("inactiveColor"),n.lineWidth=m.get("inactiveWidth")}return{itemStyle:j,lineStyle:n}}(i=r||i||"roundRect",d,g,h,l,o,k),t=new fc,u=d.getModel("textStyle");if(a4(a.getLegendIcon)&&(!r||"inherit"===r))t.add(a.getLegendIcon({itemWidth:m,itemHeight:n,icon:i,iconRotate:p,itemStyle:s.itemStyle,lineStyle:s.lineStyle,symbolKeepAspect:q}));else{var v,w,x,y="inherit"===r&&a.getData().getVisual("symbol")?"inherit"===p?a.getData().getVisual("symbolRotate"):p:0;t.add(((x=pq(w=(v={itemWidth:m,itemHeight:n,icon:i,iconRotate:y,itemStyle:s.itemStyle,lineStyle:s.lineStyle,symbolKeepAspect:q}).icon||"roundRect",0,0,v.itemWidth,v.itemHeight,v.itemStyle.fill,v.symbolKeepAspect)).setStyle(v.itemStyle),x.rotation=(v.iconRotate||0)*Math.PI/180,x.setOrigin([v.itemWidth/2,v.itemHeight/2]),w.indexOf("empty")>-1&&(x.style.stroke=x.style.fill,x.style.fill=kv.color.neutral00,x.style.lineWidth=2),x))}var z=e.get("formatter"),A=b;a5(z)&&z?A=z.replace("{name}",null!=b?b:""):a4(z)&&(A=z(b));var B=o?u.getTextColor():d.get("inactiveColor");t.add(new h1({style:i1(u,{text:A,x:"left"===f?m+5:-5,y:n/2,fill:B,align:f,verticalAlign:"middle"},{inheritColor:B})}));var C=new hM({shape:t.getBoundingRect(),style:{fill:"transparent"}}),D=d.getModel("tooltip");return D.get("show")&&ok({el:C,componentModel:e,itemName:b,itemTooltipOption:D.option}),t.add(C),t.eachChild(function(a){a.silent=!0}),C.silent=!j,this.getContentGroup().add(t),iE(t),t.__legendDataIndex=c,t},b.prototype.layoutInner=function(a,b,c,d,e,f){var g=this.getContentGroup(),h=this.getSelectorGroup();ke(a.get("orient"),g,a.get("itemGap"),c.width,c.height);var i=g.getBoundingRect(),j=[-i.x,-i.y];if(h.markRedraw(),g.markRedraw(),!e)return g.x=j[0],g.y=j[1],this.group.getBoundingRect();ke("horizontal",h,a.get("selectorItemGap",!0));var k=h.getBoundingRect(),l=[-k.x,-k.y],m=a.get("selectorButtonGap",!0),n=a.getOrient().index,o=0===n?"width":"height",p=0===n?"height":"width",q=0===n?"y":"x";"end"===f?l[n]+=i[o]+m:j[n]+=k[o]+m,l[1-n]+=i[p]/2-k[p]/2,h.x=l[0],h.y=l[1],g.x=j[0],g.y=j[1];var r={x:0,y:0};return r[o]=i[o]+m+k[o],r[p]=Math.max(i[p],k[p]),r[q]=Math.min(0,k[q]+l[1-n]),r},b.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},b.type="legend.plain",b}(mG);function Jf(a,b,c,d){Ji(a,b,c,d),c.dispatchAction({type:"legendToggleSelect",name:null!=a?a:b}),Jh(a,b,c,d)}function Jg(a){for(var b,c=a.getZr().storage.getDisplayList(),d=0,e=c.length;d<e&&!(b=c[d].states.emphasis);)d++;return b&&b.hoverLayer}function Jh(a,b,c,d){Jg(c)||c.dispatchAction({type:"highlight",seriesName:a,name:b,excludeSeriesId:d})}function Ji(a,b,c,d){Jg(c)||c.dispatchAction({type:"downplay",seriesName:a,name:b,excludeSeriesId:d})}function Jj(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(a){for(var c=0;c<b.length;c++)if(!b[c].isSelected(a.name))return!1;return!0})}function Jk(a,b,c){var d="allSelect"===a||"inverseSelect"===a,e={},f=[];c.eachComponent({mainType:"legend",query:b},function(c){d?c[a]():c[a](b.name),Jl(c,e),f.push(c.componentIndex)});var g={};return c.eachComponent("legend",function(a){aX(e,function(b,c){a[b?"select":"unSelect"](c)}),Jl(a,g)}),d?{selected:g,legendIndex:f}:{name:b.name,selected:g}}function Jl(a,b){var c=b||{};return aX(a.getData(),function(b){var d=b.get("name");if("\n"!==d&&""!==d){var e=a.isSelected(d);bx(c,d)?c[d]=c[d]&&e:c[d]=e}}),c}function Jm(a){a.registerComponentModel(Jb),a.registerComponentView(Je),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,Jj),a.registerSubTypeDefaulter("legend",function(){return"plain"}),a.registerAction("legendToggleSelect","legendselectchanged",a2(Jk,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",a2(Jk,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",a2(Jk,"inverseSelect")),a.registerAction("legendSelect","legendselected",a2(Jk,"select")),a.registerAction("legendUnSelect","legendunselected",a2(Jk,"unSelect"))}var Jn=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.setScrollDataIndex=function(a){this.option.scrollDataIndex=a},b.prototype.init=function(b,c,d){var e=ko(b);a.prototype.init.call(this,b,c,d),Jo(this,b,e)},b.prototype.mergeOption=function(b,c){a.prototype.mergeOption.call(this,b,c),Jo(this,this.option,b)},b.type="legend.scroll",b.defaultOption=jq(Jb.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:kv.color.accent50,pageIconInactiveColor:kv.color.accent10,pageIconSize:15,pageTextStyle:{color:kv.color.tertiary},animationDurationUpdate:800}),b}(Jb);function Jo(a,b,c){var d=a.getOrient(),e=[1,1];e[d.index]=0,kn(b,c,{type:"box",ignoreSize:!!e})}var Jp=["width","height"],Jq=["x","y"],Jr=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.newlineDisabled=!0,c._currentIndex=0,c}return aq(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new fc),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new fc)},b.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},b.prototype.renderInner=function(b,c,d,e,f,g,h){var i=this;a.prototype.renderInner.call(this,b,c,d,e,f,g,h);var j=this._controllerGroup,k=c.get("pageIconSize",!0),l=a3(k)?k:[k,k];n("pagePrev",0);var m=c.getModel("pageTextStyle");function n(a,b){var d=oe(c.get("pageIcons",!0)[c.getOrient().name][b],{onclick:a1(i._pageGo,i,a+"DataIndex",c,e)},{x:-l[0]/2,y:-l[1]/2,width:l[0],height:l[1]});d.name=a,j.add(d)}j.add(new h1({name:"pageText",style:{text:"xx/xx",fill:m.getTextColor(),font:m.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),n("pageNext",1)},b.prototype.layoutInner=function(a,b,c,d,e,f){var g=this.getSelectorGroup(),h=a.getOrient().index,i=Jp[h],j=Jq[h],k=Jp[1-h],l=Jq[1-h];e&&ke("horizontal",g,a.get("selectorItemGap",!0));var m=a.get("selectorButtonGap",!0),n=g.getBoundingRect(),o=[-n.x,-n.y],p=aN(c);e&&(p[i]=c[i]-n[i]-m);var q=this._layoutContentAndController(a,d,p,h,i,k,l,j);if(e){if("end"===f)o[h]+=q[i]+m;else{var r=n[i]+m;o[h]-=r,q[j]-=r}q[i]+=n[i]+m,o[1-h]+=q[l]+q[k]/2-n[k]/2,q[k]=Math.max(q[k],n[k]),q[l]=Math.min(q[l],n[l]+o[1-h]),g.x=o[0],g.y=o[1],g.markRedraw()}return q},b.prototype._layoutContentAndController=function(a,b,c,d,e,f,g,h){var i=this.getContentGroup(),j=this._containerGroup,k=this._controllerGroup;ke(a.get("orient"),i,a.get("itemGap"),d?c.width:null,d?null:c.height),ke("horizontal",k,a.get("pageButtonItemGap",!0));var l=i.getBoundingRect(),m=k.getBoundingRect(),n=this._showController=l[e]>c[e],o=[-l.x,-l.y];b||(o[d]=i[h]);var p=[0,0],q=[-m.x,-m.y],r=bh(a.get("pageButtonGap",!0),a.get("itemGap",!0));n&&("end"===a.get("pageButtonPosition",!0)?q[d]+=c[e]-m[e]:p[d]+=m[e]+r),q[1-d]+=l[f]/2-m[f]/2,i.setPosition(o),j.setPosition(p),k.setPosition(q);var s={x:0,y:0};if(s[e]=n?c[e]:l[e],s[f]=Math.max(l[f],m[f]),s[g]=Math.min(0,m[g]+q[1-d]),j.__rectSize=c[e],n){var t={x:0,y:0};t[e]=Math.max(c[e]-m[e]-r,0),t[f]=s[f],j.setClipPath(new hM({shape:t})),j.__rectSize=t[e]}else k.eachChild(function(a){a.attr({invisible:!0,silent:!0})});var u=this._getPageInfo(a);return null!=u.pageIndex&&iR(i,{x:u.contentPosition[0],y:u.contentPosition[1]},n?a:null),this._updatePageInfoView(a,u),s},b.prototype._pageGo=function(a,b,c){var d=this._getPageInfo(b)[a];null!=d&&c.dispatchAction({type:"legendScroll",scrollDataIndex:d,legendId:b.id})},b.prototype._updatePageInfoView=function(a,b){var c=this._controllerGroup;aX(["pagePrev","pageNext"],function(d){var e=null!=b[d+"DataIndex"],f=c.childOfName(d);f&&(f.setStyle("fill",e?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),f.cursor=e?"pointer":"default")});var d=c.childOfName("pageText"),e=a.get("pageFormatter"),f=b.pageIndex,g=null!=f?f+1:0,h=b.pageCount;d&&e&&d.setStyle("text",a5(e)?e.replace("{current}",null==g?"":g+"").replace("{total}",null==h?"":h+""):e({current:g,total:h}))},b.prototype._getPageInfo=function(a){var b=a.get("scrollDataIndex",!0),c=this.getContentGroup(),d=this._containerGroup.__rectSize,e=a.getOrient().index,f=Jp[e],g=Jq[e],h=this._findTargetItemIndex(b),i=c.children(),j=i[h],k=i.length,l=+!!k,m={contentPosition:[c.x,c.y],pageCount:l,pageIndex:l-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!j)return m;var n=s(j);m.contentPosition[e]=-n.s;for(var o=h+1,p=n,q=n,r=null;o<=k;++o)(!(r=s(i[o]))&&q.e>p.s+d||r&&!t(r,p.s))&&(p=q.i>p.i?q:r)&&(null==m.pageNextDataIndex&&(m.pageNextDataIndex=p.i),++m.pageCount),q=r;for(var o=h-1,p=n,q=n,r=null;o>=-1;--o)(!(r=s(i[o]))||!t(q,r.s))&&p.i<q.i&&(q=p,null==m.pagePrevDataIndex&&(m.pagePrevDataIndex=p.i),++m.pageCount,++m.pageIndex),p=r;return m;function s(a){if(a){var b=a.getBoundingRect(),c=b[g]+a[g];return{s:c,e:c+b[f],i:a.__legendDataIndex}}}function t(a,b){return a.e>=b&&a.s<=b+d}},b.prototype._findTargetItemIndex=function(a){var b,c;return this._showController?(this.getContentGroup().eachChild(function(d,e){var f=d.__legendDataIndex;null==c&&null!=f&&(c=e),f===a&&(b=e)}),null!=b?b:c):0},b.type="legend.scroll",b}(Je);function Js(a){qS(Jm),a.registerComponentModel(Jn),a.registerComponentView(Jr),a.registerAction("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(a){a.setScrollDataIndex(c)})})}var Jt=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="dataZoom.inside",b.defaultOption=jq(G1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),b}(G1),Ju=f0();function Jv(a,b){if(b){a.removeKey(b.model.uid);var c=b.controller;c&&c.dispose()}}function Jw(a,b){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:b})}function Jx(a,b,c,d){return a.coordinateSystem.containPoint([c,d])}var Jy=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="dataZoom.inside",b}return aq(b,a),b.prototype.render=function(b,c,d){var e;(a.prototype.render.apply(this,arguments),b.noTarget())?this._clear():(this.range=b.getPercentRange(),e={pan:a1(Jz.pan,this),zoom:a1(Jz.zoom,this),scrollMove:a1(Jz.scrollMove,this)},Ju(d).coordSysRecordMap.each(function(a){var c=a.dataZoomInfoMap.get(b.uid);c&&(c.getRange=e)}))},b.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},b.prototype._clear=function(){!function(a,b){for(var c=Ju(a).coordSysRecordMap,d=c.keys(),e=0;e<d.length;e++){var f=d[e],g=c.get(f),h=g.dataZoomInfoMap;if(h){var i=b.uid;h.get(i)&&(h.removeKey(i),h.keys().length||Jv(c,g))}}}(this.api,this.dataZoomModel),this.range=null},b.type="dataZoom.inside",b}(G4),Jz={zoom:function(a,b,c,d){var e=this.range,f=e.slice(),g=a.axisModels[0];if(g){var h=JB[b](null,[d.originX,d.originY],g,c,a),i=(h.signal>0?h.pixelStart+h.pixelLength-h.pixel:h.pixel-h.pixelStart)/h.pixelLength*(f[1]-f[0])+f[0],j=Math.max(1/d.scale,0);f[0]=(f[0]-i)*j+i,f[1]=(f[1]-i)*j+i;var k=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(A7(0,f,[0,100],0,k.minSpan,k.maxSpan),this.range=f,e[0]!==f[0]||e[1]!==f[1])return f}},pan:JA(function(a,b,c,d,e,f){var g=JB[d]([f.oldX,f.oldY],[f.newX,f.newY],b,e,c);return g.signal*(a[1]-a[0])*g.pixel/g.pixelLength}),scrollMove:JA(function(a,b,c,d,e,f){return JB[d]([0,0],[f.scrollDelta,f.scrollDelta],b,e,c).signal*(a[1]-a[0])*f.scrollDelta})};function JA(a){return function(b,c,d,e){var f=this.range,g=f.slice(),h=b.axisModels[0];if(h&&(A7(a(g,h,b,c,d,e),g,[0,100],"all"),this.range=g,f[0]!==g[0]||f[1]!==g[1]))return g}}var JB={grid:function(a,b,c,d,e){var f=c.axis,g={},h=e.model.coordinateSystem.getRect();return a=a||[0,0],"x"===f.dim?(g.pixel=b[0]-a[0],g.pixelLength=h.width,g.pixelStart=h.x,g.signal=f.inverse?1:-1):(g.pixel=b[1]-a[1],g.pixelLength=h.height,g.pixelStart=h.y,g.signal=f.inverse?-1:1),g},polar:function(a,b,c,d,e){var f=c.axis,g={},h=e.model.coordinateSystem,i=h.getRadiusAxis().getExtent(),j=h.getAngleAxis().getExtent();return a=a?h.pointToCoord(a):[0,0],b=h.pointToCoord(b),"radiusAxis"===c.mainType?(g.pixel=b[0]-a[0],g.pixelLength=i[1]-i[0],g.pixelStart=i[0],g.signal=f.inverse?1:-1):(g.pixel=b[1]-a[1],g.pixelLength=j[1]-j[0],g.pixelStart=j[0],g.signal=f.inverse?-1:1),g},singleAxis:function(a,b,c,d,e){var f=c.axis,g=e.model.coordinateSystem.getRect(),h={};return a=a||[0,0],"horizontal"===f.orient?(h.pixel=b[0]-a[0],h.pixelLength=g.width,h.pixelStart=g.x,h.signal=f.inverse?1:-1):(h.pixel=b[1]-a[1],h.pixelLength=g.height,h.pixelStart=g.y,h.signal=f.inverse?-1:1),h}};function JC(a){Hb(a),a.registerComponentModel(Jt),a.registerComponentView(Jy),a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(a,b){var c=Ju(b),d=c.coordSysRecordMap||(c.coordSysRecordMap=bt());d.each(function(a){a.dataZoomInfoMap=null}),a.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){aX(G_(a).infoList,function(c){var e,f,g,h=c.model.uid,i=d.get(h)||d.set(h,(g=(f={model:e=c.model,containsPoint:a2(Jx,e),dispatchAction:a2(Jw,b),dataZoomInfoMap:null,controller:null}).controller=new xg(b.getZr()),aX(["pan","zoom","scrollMove"],function(a){g.on(a,function(b){var c=[];f.dataZoomInfoMap.each(function(d){if(b.isAvailableBehavior(d.model.option)){var e=(d.getRange||{})[a],g=e&&e(d.dzReferCoordSysInfo,f.model.mainType,f.controller,b);!d.model.get("disabled",!0)&&g&&c.push({dataZoomId:d.model.id,start:g[0],end:g[1]})}}),c.length&&f.dispatchAction(c)})}),f));(i.dataZoomInfoMap||(i.dataZoomInfoMap=bt())).set(a.uid,{dzReferCoordSysInfo:c,model:a,getRange:null})})}),d.each(function(a){var c,e,f,g,h,i=a.controller,j=a.dataZoomInfoMap;if(j){var k=j.keys()[0];null!=k&&(h=j.get(k))}if(!h)return void Jv(d,a);var l=(e="type_",f={type_true:2,type_move:1,type_false:0,type_undefined:-1},g=!0,j.each(function(a){var b=a.model,d=!b.get("disabled",!0)&&(!b.get("zoomLock",!0)||"move");f[e+d]>f[e+c]&&(c=d),g=g&&b.get("preventDefaultMouseMove",!0)}),{controlType:c,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!g,api:b,zInfo:{component:a.model},triggerInfo:{roamTrigger:null,isInSelf:a.containsPoint}}});i.enable(l.controlType,l.opt),oH(a,"dispatchAction",h.model.get("throttle",!0),"fixRate")})})}var JD=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.type="dataZoom.slider",b.layoutMode="box",b.defaultOption=jq(G1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:kv.color.accent10,borderRadius:0,backgroundColor:kv.color.transparent,dataBackground:{lineStyle:{color:kv.color.accent30,width:.5},areaStyle:{color:kv.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:kv.color.accent40,width:.5},areaStyle:{color:kv.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:kv.color.neutral00,borderColor:kv.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:kv.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:kv.color.tertiary},brushSelect:!0,brushStyle:{color:kv.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:kv.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),b}(G1),JE="horizontal",JF="vertical",JG=["line","bar","candlestick","scatter"],JH={easing:"cubicOut",duration:100,delay:0},JI=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._displayables={},c}return aq(b,a),b.prototype.init=function(a,b){this.api=b,this._onBrush=a1(this._onBrush,this),this._onBrushEnd=a1(this._onBrushEnd,this)},b.prototype.render=function(b,c,d,e){if(a.prototype.render.apply(this,arguments),oH(this,"_dispatchZoomAction",b.get("throttle"),"fixRate"),this._orient=b.getOrient(),!1===b.get("show"))return void this.group.removeAll();if(b.noTarget()){this._clear(),this.group.removeAll();return}e&&"dataZoom"===e.type&&e.from===this.uid||this._buildView(),this._updateView()},b.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},b.prototype._clear=function(){oI(this,"_dispatchZoomAction");var a=this.api.getZr();a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)},b.prototype._buildView=function(){var a=this.group;a.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var b=this._displayables.sliderGroup=new fc;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},b.prototype._resetLocation=function(){var a=this.dataZoomModel,b=this.api,c=a.get("brushSelect"),d=kk(a,b).refContainer,e=this._findCoordRect(),f=a.get("defaultLocationEdgeGap",!0)||0,g=this._orient===JE?{right:d.width-e.x-e.width,top:d.height-30-f-7*!!c,width:e.width,height:30}:{right:f,top:e.y,width:30,height:e.height},h=ko(a.option);aX(["right","top","width","height"],function(a){"ph"===h[a]&&(h[a]=g[a])});var i=kh(h,d);this._location={x:i.x,y:i.y},this._size=[i.width,i.height],this._orient===JF&&this._size.reverse()},b.prototype._positionGroup=function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),e=d&&d.get("inverse"),f=this._displayables.sliderGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(c!==JE||e?c===JE&&e?{scaleY:g?1:-1,scaleX:-1}:c!==JF||e?{scaleY:g?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:g?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:g?1:-1,scaleX:1});var h=a.getBoundingRect([f]);a.x=b.x-h.x,a.y=b.y-h.y,a.markRedraw()},b.prototype._getViewExtent=function(){return[0,this._size[0]]},b.prototype._renderBackground=function(){var a=this.dataZoomModel,b=this._size,c=this._displayables.sliderGroup,d=a.get("brushSelect");c.add(new hM({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:a.get("backgroundColor")},z2:-40}));var e=new hM({shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:"transparent"},z2:0,onclick:a1(this._onClickPanel,this)}),f=this.api.getZr();d?(e.on("mousedown",this._onBrushStart,this),e.cursor="crosshair",f.on("mousemove",this._onBrush),f.on("mouseup",this._onBrushEnd)):(f.off("mousemove",this._onBrush),f.off("mouseup",this._onBrushEnd)),c.add(e)},b.prototype._renderDataShadow=function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],a){var b=this._size,c=this._shadowSize||[],d=a.series,e=d.getRawData(),f=d.getShadowDim&&d.getShadowDim(),g=f&&e.getDimensionInfo(f)?d.getShadowDim():a.otherDim;if(null!=g){var h=this._shadowPolygonPts,i=this._shadowPolylinePts;if(e!==this._shadowData||g!==this._shadowDim||b[0]!==c[0]||b[1]!==c[1]){var j,k=e.getDataExtent(a.thisDim),l=e.getDataExtent(g),m=(l[1]-l[0])*.3;l=[l[0]-m,l[1]+m];var n=[0,b[1]],o=[0,b[0]],p=[[b[0],0],[0,0]],q=[],r=o[1]/Math.max(1,e.count()-1),s=b[0]/(k[1]-k[0]),t="time"===a.thisAxis.type,u=-r,v=Math.round(e.count()/b[0]);e.each([a.thisDim,g],function(a,b,c){if(v>0&&c%v){t||(u+=r);return}u=t?(a-k[0])*s:u+r;var d=null==b||isNaN(b)||""===b,e=d?0:fr(b,l,n,!0);d&&!j&&c?(p.push([p[p.length-1][0],0]),q.push([q[q.length-1][0],0])):!d&&j&&(p.push([u,0]),q.push([u,0])),d||(p.push([u,e]),q.push([u,e])),j=d}),h=this._shadowPolygonPts=p,i=this._shadowPolylinePts=q}this._shadowData=e,this._shadowDim=g,this._shadowSize=[b[0],b[1]];for(var w=this.dataZoomModel,x=0;x<3;x++){var y=function(a){var b=w.getModel(a?"selectedDataBackground":"dataBackground"),c=new fc,d=new np({shape:{points:h},segmentIgnoreThreshold:1,style:b.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),e=new ns({shape:{points:i},segmentIgnoreThreshold:1,style:b.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return c.add(d),c.add(e),c}(1===x);this._displayables.sliderGroup.add(y),this._displayables.dataShadowSegs.push(y)}}}},b.prototype._prepareDataShadowInfo=function(){var a,b=this.dataZoomModel,c=b.get("showDataShadow");if(!1!==c){var d=this.ecModel;return b.eachTargetAxis(function(e,f){aX(b.getAxisProxy(e,f).getTargetSeriesModels(),function(b){if(!a&&!(!0!==c&&0>aT(JG,b.get("type")))){var g,h=d.getComponent(G$(e),f).axis,i={x:"y",y:"x",radius:"angle",angle:"radius"}[e],j=b.coordinateSystem;null!=i&&j.getOtherAxis&&(g=j.getOtherAxis(h).inverse),i=b.getData().mapDimension(i);var k=b.getData().mapDimension(e);a={thisAxis:h,series:b,thisDim:k,otherDim:i,otherAxisInverse:g}}},this)},this),a}},b.prototype._renderHandle=function(){var a=this.group,b=this._displayables,c=b.handles=[null,null],d=b.handleLabels=[null,null],e=this._displayables.sliderGroup,f=this._size,g=this.dataZoomModel,h=this.api,i=g.get("borderRadius")||0,j=g.get("brushSelect"),k=b.filler=new hM({silent:j,style:{fill:g.get("fillerColor")},textConfig:{position:"inside"}});e.add(k),e.add(new hM({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:f[0],height:f[1],r:i},style:{stroke:g.get("dataBackgroundColor")||g.get("borderColor"),lineWidth:1,fill:kv.color.transparent}})),aX([0,1],function(b){var f=g.get("handleIcon");!pn[f]&&0>f.indexOf("path://")&&0>f.indexOf("image://")&&(f="path://"+f);var h=pq(f,-1,0,2,2,null,!0);h.attr({cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:a1(this._onDragMove,this,b),ondragend:a1(this._onDragEnd,this),onmouseover:a1(this._showDataInfo,this,!0),onmouseout:a1(this._showDataInfo,this,!1),z2:5});var i=h.getBoundingRect(),j=g.get("handleSize");this._handleHeight=fs(j,this._size[1]),this._handleWidth=i.width/i.height*this._handleHeight,h.setStyle(g.getModel("handleStyle").getItemStyle()),h.style.strokeNoScale=!0,h.rectHover=!0,h.ensureState("emphasis").style=g.getModel(["emphasis","handleStyle"]).getItemStyle(),iE(h);var k=g.get("handleColor");null!=k&&(h.style.fill=k),e.add(c[b]=h);var l=g.getModel("textStyle"),m=(g.get("handleLabel")||{}).show||!1;a.add(d[b]=new h1({silent:!0,invisible:!m,style:i1(l,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:l.getTextColor(),font:l.getFont()}),z2:10}))},this);var l=k;if(j){var m=fs(g.get("moveHandleSize"),f[1]),n=b.moveHandle=new hM({style:g.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:f[1]-.5,height:m}}),o=.8*m,p=b.moveHandleIcon=pq(g.get("moveHandleIcon"),-o/2,-o/2,o,o,kv.color.neutral00,!0);p.silent=!0,p.y=f[1]+m/2-.5,n.ensureState("emphasis").style=g.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var q=Math.min(f[1]/2,Math.max(m,10));(l=b.moveZone=new hM({invisible:!0,shape:{y:f[1]-q,height:m+q}})).on("mouseover",function(){h.enterEmphasis(n)}).on("mouseout",function(){h.leaveEmphasis(n)}),e.add(n),e.add(p),e.add(l)}l.attr({draggable:!0,cursor:"default",drift:a1(this._onDragMove,this,"all"),ondragstart:a1(this._showDataInfo,this,!0),ondragend:a1(this._onDragEnd,this),onmouseover:a1(this._showDataInfo,this,!0),onmouseout:a1(this._showDataInfo,this,!1)})},b.prototype._resetInterval=function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[fr(a[0],[0,100],b,!0),fr(a[1],[0,100],b,!0)]},b.prototype._updateInterval=function(a,b){var c=this.dataZoomModel,d=this._handleEnds,e=this._getViewExtent(),f=c.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];A7(b,d,e,c.get("zoomLock")?"all":a,null!=f.minSpan?fr(f.minSpan,g,e,!0):null,null!=f.maxSpan?fr(f.maxSpan,g,e,!0):null);var h=this._range,i=this._range=fv([fr(d[0],e,g,!0),fr(d[1],e,g,!0)]);return!h||h[0]!==i[0]||h[1]!==i[1]},b.prototype._updateView=function(a){var b=this._displayables,c=this._handleEnds,d=fv(c.slice()),e=this._size;aX([0,1],function(a){var d=b.handles[a],f=this._handleHeight;d.attr({scaleX:f/2,scaleY:f/2,x:c[a]+(a?-1:1),y:e[1]/2-f/2})},this),b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});var f={x:d[0],width:d[1]-d[0]};b.moveHandle&&(b.moveHandle.setShape(f),b.moveZone.setShape(f),b.moveZone.getBoundingRect(),b.moveHandleIcon&&b.moveHandleIcon.attr("x",f.x+f.width/2));for(var g=b.dataShadowSegs,h=[0,d[0],d[1],e[0]],i=0;i<g.length;i++){var j=g[i],k=j.getClipPath();k||(k=new hM,j.setClipPath(k)),k.setShape({x:h[i],y:0,width:h[i+1]-h[i],height:e[1]})}this._updateDataInfo(a)},b.prototype._updateDataInfo=function(a){var b=this.dataZoomModel,c=this._displayables,d=c.handleLabels,e=this._orient,f=["",""];if(b.get("showDetail")){var g=b.findRepresentativeAxisProxy();if(g){var h=g.getAxisModel().axis,i=this._range,j=a?g.calculateDataWindow({start:i[0],end:i[1]}).valueWindow:g.getDataValueWindow();f=[this._formatLabel(j[0],h),this._formatLabel(j[1],h)]}}var k=fv(this._handleEnds.slice());function l(a){var b=n8(c.handles[a].parent,this.group),g=oa(0===a?"right":"left",b),h=this._handleWidth/2+5,i=n9([k[a]+(0===a?-h:h),this._size[1]/2],b);d[a].setStyle({x:i[0],y:i[1],verticalAlign:e===JE?"middle":g,align:e===JE?g:"center",text:f[a]})}l.call(this,0),l.call(this,1)},b.prototype._formatLabel=function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter"),e=c.get("labelPrecision");(null==e||"auto"===e)&&(e=b.getPixelPrecision());var f=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel({value:Math.round(a)}):a.toFixed(Math.min(e,20));return a4(d)?d(a,f):a5(d)?d.replace("{value}",f):f},b.prototype._showDataInfo=function(a){var b=(this.dataZoomModel.get("handleLabel")||{}).show||!1,c=this.dataZoomModel.getModel(["emphasis","handleLabel"]).get("show")||!1,d=a||this._dragging?c:b,e=this._displayables,f=e.handleLabels;f[0].attr("invisible",!d),f[1].attr("invisible",!d),e.moveHandle&&this.api[d?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},b.prototype._onDragMove=function(a,b,c,d){this._dragging=!0,cl(d.event);var e=n9([b,c],this._displayables.sliderGroup.getLocalTransform(),!0),f=this._updateInterval(a,e[0]),g=this.dataZoomModel.get("realtime");this._updateView(!g),f&&g&&this._dispatchZoomAction(!0)},b.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction(!1)},b.prototype._onClickPanel=function(a){var b=this._size,c=this._displayables.sliderGroup.transformCoordToLocal(a.offsetX,a.offsetY);if(!(c[0]<0)&&!(c[0]>b[0])&&!(c[1]<0)&&!(c[1]>b[1])){var d=this._handleEnds,e=(d[0]+d[1])/2,f=this._updateInterval("all",c[0]-e);this._updateView(),f&&this._dispatchZoomAction(!1)}},b.prototype._onBrushStart=function(a){var b=a.offsetX,c=a.offsetY;this._brushStart=new cz(b,c),this._brushing=!0,this._brushStartTime=+new Date},b.prototype._onBrushEnd=function(a){if(this._brushing){var b=this._displayables.brushRect;if(this._brushing=!1,b){b.attr("ignore",!0);var c=b.shape;if(!(new Date-this._brushStartTime<200&&5>Math.abs(c.width))){var d=this._getViewExtent(),e=[0,100],f=this._handleEnds=[c.x,c.x+c.width],g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();A7(0,f,d,0,null!=g.minSpan?fr(g.minSpan,e,d,!0):null,null!=g.maxSpan?fr(g.maxSpan,e,d,!0):null),this._range=fv([fr(f[0],d,e,!0),fr(f[1],d,e,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},b.prototype._onBrush=function(a){this._brushing&&(cl(a.event),this._updateBrushRect(a.offsetX,a.offsetY))},b.prototype._updateBrushRect=function(a,b){var c=this._displayables,d=this.dataZoomModel,e=c.brushRect;e||(e=c.brushRect=new hM({silent:!0,style:d.getModel("brushStyle").getItemStyle()}),c.sliderGroup.add(e)),e.attr("ignore",!1);var f=this._brushStart,g=this._displayables.sliderGroup,h=g.transformCoordToLocal(a,b),i=g.transformCoordToLocal(f.x,f.y),j=this._size;h[0]=Math.max(Math.min(j[0],h[0]),0),e.setShape({x:i[0],y:0,width:h[0]-i[0],height:j[1]})},b.prototype._dispatchZoomAction=function(a){var b=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:a?JH:null,start:b[0],end:b[1]})},b.prototype._findCoordRect=function(){var a,b=G_(this.dataZoomModel).infoList;if(!a&&b.length){var c=b[0].model.coordinateSystem;a=c.getRect&&c.getRect()}if(!a){var d=this.api.getWidth(),e=this.api.getHeight();a={x:.2*d,y:.2*e,width:.6*d,height:.6*e}}return a},b.type="dataZoom.slider",b}(G4);function JJ(a){a.registerComponentModel(JD),a.registerComponentView(JI),Hb(a)}var JK={color:{active:["#006edd","#e0ffff"],inactive:[kv.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};let JL=function(a,b,c){var d=aN((JK[a]||{})[b]);return c&&a3(d)?d[d.length-1]:d};var JM=zi.mapVisual,JN=zi.eachVisual,JO=aX,JP=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.stateList=["inRange","outOfRange"],c.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],c.layoutMode={type:"box",ignoreSize:!0},c.dataBound=[-1/0,1/0],c.targetVisuals={},c.controllerVisuals={},c}return aq(b,a),b.prototype.init=function(a,b,c){this.mergeDefaultAndTheme(a,c)},b.prototype.optionUpdated=function(a,b){var c=this.option;b||H9(c,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},b.prototype.resetVisual=function(a){var b=this.stateList;a=a1(a,this),this.controllerVisuals=H8(this.option.controller,b,a),this.targetVisuals=H8(this.option.target,b,a)},b.prototype.getItemSymbol=function(){return null},b.prototype.getTargetSeriesIndices=function(){var a=this.option.seriesId,b=this.option.seriesIndex;return null==b&&null==a&&(b="all"),aY(f6(this.ecModel,"series",{index:b,id:a},{useDefault:!1,enableAll:!0,enableNone:!1}).models,function(a){return a.componentIndex})},b.prototype.eachTargetSeries=function(a,b){aX(this.getTargetSeriesIndices(),function(c){var d=this.ecModel.getSeriesByIndex(c);d&&a.call(b,d)},this)},b.prototype.isTargetSeries=function(a){var b=!1;return this.eachTargetSeries(function(c){c===a&&(b=!0)}),b},b.prototype.formatValueText=function(a,b,c){var d,e=this.option,f=e.precision,g=this.dataBound,h=e.formatter;c=c||["<",">"],a3(a)&&(a=a.slice(),d=!0);var i=b?a:d?[j(a[0]),j(a[1])]:j(a);if(a5(h))return h.replace("{value}",d?i[0]:i).replace("{value2}",d?i[1]:i);if(a4(h))return d?h(a[0],a[1]):h(a);if(!d)return i;if(a[0]===g[0])return c[0]+" "+i[1];if(a[1]===g[1])return c[1]+" "+i[0];return i[0]+" - "+i[1];function j(a){return a===g[0]?"min":a===g[1]?"max":(+a).toFixed(Math.min(f,20))}},b.prototype.resetExtent=function(){var a=this.option,b=fv([a.min,a.max]);this._dataExtent=b},b.prototype.getDataDimensionIndex=function(a){var b=this.option.dimension;if(null!=b)return a.getDimensionIndex(b);for(var c=a.dimensions,d=c.length-1;d>=0;d--){var e=c[d],f=a.getDimensionInfo(e);if(!f.isCalculationCoord)return f.storeDimIndex}},b.prototype.getExtent=function(){return this._dataExtent.slice()},b.prototype.completeVisualOption=function(){var a=this.ecModel,b=this.option,c={inRange:b.inRange,outOfRange:b.outOfRange},d=b.target||(b.target={}),e=b.controller||(b.controller={});aO(d,c),aO(e,c);var f=this.isCategory();function g(c){a3(b.color)&&!c.inRange&&(c.inRange={color:b.color.slice().reverse()}),c.inRange=c.inRange||{color:a.get("gradientColor")}}g.call(this,d),g.call(this,e),(function(a,b,c){var d=a[b],e=a[c];d&&!e&&(e=a[c]={},JO(d,function(a,b){if(zi.isValidType(b)){var c=JL(b,"inactive",f);null!=c&&(e[b]=c,"color"!==b||e.hasOwnProperty("opacity")||e.hasOwnProperty("colorAlpha")||(e.opacity=[0,0]))}}))}).call(this,d,"inRange","outOfRange"),(function(a){var b=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,c=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,d=this.get("inactiveColor"),e=this.getItemSymbol()||"roundRect";JO(this.stateList,function(g){var h=this.itemSize,i=a[g];i||(i=a[g]={color:f?d:[d]}),null==i.symbol&&(i.symbol=b&&aN(b)||(f?e:[e])),null==i.symbolSize&&(i.symbolSize=c&&aN(c)||(f?h[0]:[h[0],h[0]])),i.symbol=JM(i.symbol,function(a){return"none"===a?e:a});var j=i.symbolSize;if(null!=j){var k=-1/0;JN(j,function(a){a>k&&(k=a)}),i.symbolSize=JM(j,function(a){return fr(a,[0,k],[0,h[0]],!0)})}},this)}).call(this,e)},b.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},b.prototype.isCategory=function(){return!!this.option.categories},b.prototype.setSelected=function(a){},b.prototype.getSelected=function(){return null},b.prototype.getValueState=function(a){return null},b.prototype.getVisualMeta=function(a){return null},b.type="visualMap",b.dependencies=["series"],b.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:kv.color.transparent,borderColor:kv.color.borderTint,contentColor:kv.color.theme[0],inactiveColor:kv.color.disabled,borderWidth:0,padding:kv.size.m,textGap:10,precision:0,textStyle:{color:kv.color.secondary}},b}(ku),JQ=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.optionUpdated=function(b,c){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},b.prototype.resetItemSize=function(){a.prototype.resetItemSize.apply(this,arguments);var b=this.itemSize;(null==b[0]||isNaN(b[0]))&&(b[0]=20),(null==b[1]||isNaN(b[1]))&&(b[1]=140)},b.prototype._resetRange=function(){var a=this.getExtent(),b=this.option.range;!b||b.auto?(a.auto=1,this.option.range=a):a3(b)&&(b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1]))},b.prototype.completeVisualOption=function(){a.prototype.completeVisualOption.apply(this,arguments),aX(this.stateList,function(a){var b=this.option.controller[a].symbolSize;b&&b[0]!==b[1]&&(b[0]=b[1]/3)},this)},b.prototype.setSelected=function(a){this.option.range=a.slice(),this._resetRange()},b.prototype.getSelected=function(){var a=this.getExtent(),b=fv((this.get("range")||[]).slice());return b[0]>a[1]&&(b[0]=a[1]),b[1]>a[1]&&(b[1]=a[1]),b[0]<a[0]&&(b[0]=a[0]),b[1]<a[0]&&(b[1]=a[0]),b},b.prototype.getValueState=function(a){var b=this.option.range,c=this.getExtent(),d=bh(this.option.unboundedRange,!0);return(d&&b[0]<=c[0]||b[0]<=a)&&(d&&b[1]>=c[1]||a<=b[1])?"inRange":"outOfRange"},b.prototype.findTargetDataIndices=function(a){var b=[];return this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimensionIndex(e),function(b,c){a[0]<=b&&b<=a[1]&&d.push(c)},this),b.push({seriesId:c.id,dataIndex:d})},this),b},b.prototype.getVisualMeta=function(a){var b=JR(this,"outOfRange",this.getExtent()),c=JR(this,"inRange",this.option.range.slice()),d=[];function e(b,c){d.push({value:b,color:a(b,c)})}for(var f=0,g=0,h=c.length,i=b.length;g<i&&(!c.length||b[g]<=c[0]);g++)b[g]<c[f]&&e(b[g],"outOfRange");for(var j=1;f<h;f++,j=0)j&&d.length&&e(c[f],"outOfRange"),e(c[f],"inRange");for(var j=1;g<i;g++)(!c.length||c[c.length-1]<b[g])&&(j&&(d.length&&e(d[d.length-1].value,"outOfRange"),j=0),e(b[g],"outOfRange"));var k=d.length;return{stops:d,outerColors:[k?d[0].color:"transparent",k?d[k-1].color:"transparent"]}},b.type="visualMap.continuous",b.defaultOption=jq(JP.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:kv.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:kv.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:kv.color.shadow}}),b}(JP);function JR(a,b,c){if(c[0]===c[1])return c.slice();for(var d=(c[1]-c[0])/200,e=c[0],f=[],g=0;g<=200&&e<c[1];g++)f.push(e),e+=d;return f.push(c[1]),f}var JS=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.autoPositionValues={left:1,right:1,top:1,bottom:1},c}return aq(b,a),b.prototype.init=function(a,b){this.ecModel=a,this.api=b},b.prototype.render=function(a,b,c,d){(this.visualMapModel=a,!1===a.get("show"))?this.group.removeAll():this.doRender(a,b,c,d)},b.prototype.renderBackground=function(a){var b=this.visualMapModel,c=jW(b.get("padding")||0),d=a.getBoundingRect();a.add(new hM({z2:-1,silent:!0,shape:{x:d.x-c[3],y:d.y-c[0],width:d.width+c[3]+c[1],height:d.height+c[0]+c[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},b.prototype.getControllerVisual=function(a,b,c){var d=(c=c||{}).forceState,e=this.visualMapModel,f={};function g(a){return f[a]}function h(a,b){f[a]=b}"color"===b&&(f.color=e.get("contentColor"));var i=e.controllerVisuals[d||e.getValueState(a)];return aX(zi.prepareVisualTypes(i),function(d){var e=i[d];c.convertOpacityToAlpha&&"opacity"===d&&(d="colorAlpha",e=i.__alphaForOpacity),zi.dependsOn(d,b)&&e&&e.applyVisual(a,g,h)}),f[b]},b.prototype.positionGroup=function(a){var b=this.visualMapModel,c=kk(b,this.api).refContainer;kl(a,b.getBoxLayoutParams(),c)},b.prototype.doRender=function(a,b,c,d){},b.type="visualMap",b}(mG),JT=[["left","right","width"],["top","bottom","height"]];function JU(a,b,c){var d=a.option,e=d.align;if(null!=e&&"auto"!==e)return e;for(var f={width:b.getWidth(),height:b.getHeight()},g=+("horizontal"===d.orient),h=JT[g],i=[0,null,10],j={},k=0;k<3;k++)j[JT[1-g][k]]=i[k],j[h[k]]=2===k?c[0]:d[h[k]];var l=[["x","width",3],["y","height",0]][g],m=kh(j,f,d.padding);return h[(m.margin[l[2]]||0)+m[l[0]]+.5*m[l[1]]<.5*f[l[1]]?0:1]}function JV(a,b){return aX(a||[],function(a){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null),a.highlightKey="visualMap"+(b?b.componentIndex:"")}),a}var JW=fr,JX=Math.min,JY=Math.max,JZ=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._shapes={},c._dataInterval=[],c._handleEnds=[],c._hoverLinkDataIndices=[],c}return aq(b,a),b.prototype.init=function(b,c){a.prototype.init.call(this,b,c),this._hoverLinkFromSeriesMouseOver=a1(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=a1(this._hideIndicator,this)},b.prototype.doRender=function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid||this._buildView()},b.prototype._buildView=function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(b);var c=a.get("text");this._renderEndsText(b,c,0),this._renderEndsText(b,c,1),this._updateView(!0),this.renderBackground(b),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(b)},b.prototype._renderEndsText=function(a,b,c){if(b){var d=b[1-c];d=null!=d?d+"":"";var e=this.visualMapModel,f=e.get("textGap"),g=e.itemSize,h=this._shapes.mainGroup,i=this._applyTransform([g[0]/2,0===c?-f:g[1]+f],h),j=this._applyTransform(0===c?"bottom":"top",h),k=this._orient,l=this.visualMapModel.textStyleModel;this.group.add(new h1({style:i1(l,{x:i[0],y:i[1],verticalAlign:l.get("verticalAlign")||("horizontal"===k?"middle":j),align:l.get("align")||("horizontal"===k?j:"center"),text:d})}))}},b.prototype._renderBar=function(a){var b=this.visualMapModel,c=this._shapes,d=b.itemSize,e=this._orient,f=this._useHandle,g=JU(b,this.api,d),h=c.mainGroup=this._createBarGroup(g),i=new fc;h.add(i),i.add(c.outOfRange=J$()),i.add(c.inRange=J$(null,f?J0(this._orient):null,a1(this._dragHandle,this,"all",!1),a1(this._dragHandle,this,"all",!0))),i.setClipPath(new hM({shape:{x:0,y:0,width:d[0],height:d[1],r:3}}));var j=b.textStyleModel.getTextRect(""),k=JY(j.width,j.height);f&&(c.handleThumbs=[],c.handleLabels=[],c.handleLabelPoints=[],this._createHandle(b,h,0,d,k,e),this._createHandle(b,h,1,d,k,e)),this._createIndicator(b,h,d,k,e),a.add(h)},b.prototype._createHandle=function(a,b,c,d,e,f){var g=a1(this._dragHandle,this,c,!1),h=a1(this._dragHandle,this,c,!0),i=e0(a.get("handleSize"),d[0]),j=pq(a.get("handleIcon"),-i/2,-i/2,i,i,null,!0),k=J0(this._orient);j.attr({cursor:k,draggable:!0,drift:g,ondragend:h,onmousemove:function(a){cl(a.event)}}),j.x=d[0]/2,j.useStyle(a.getModel("handleStyle").getItemStyle()),j.setStyle({strokeNoScale:!0,strokeFirst:!0}),j.style.lineWidth*=2,j.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),iK(j,!0),b.add(j);var l=new h1({cursor:k,draggable:!0,drift:g,onmousemove:function(a){cl(a.event)},ondragend:h,style:i1(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});l.ensureState("blur").style={opacity:.1},l.stateTransition={duration:200},this.group.add(l);var m=[i,0],n=this._shapes;n.handleThumbs[c]=j,n.handleLabelPoints[c]=m,n.handleLabels[c]=l},b.prototype._createIndicator=function(a,b,c,d,e){var f=e0(a.get("indicatorSize"),c[0]),g=pq(a.get("indicatorIcon"),-f/2,-f/2,f,f,null,!0);g.attr({cursor:"move",invisible:!0,silent:!0,x:c[0]/2});var h=a.getModel("indicatorStyle").getItemStyle();if(g instanceof hE){var i=g.style;g.useStyle(aQ({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},h))}else g.useStyle(h);b.add(g);var j=new h1({silent:!0,invisible:!0,style:i1(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(j);var k=[("horizontal"===e?d/2:6)+c[0]/2,0],l=this._shapes;l.indicator=g,l.indicatorLabel=j,l.indicatorLabelPoint=k,this._firstShowIndicator=!0},b.prototype._dragHandle=function(a,b,c,d){if(this._useHandle){if(this._dragging=!b,!b){var e=this._applyTransform([c,d],this._shapes.mainGroup,!0);this._updateInterval(a,e[1]),this._hideIndicator(),this._updateView()}!this.visualMapModel.get("realtime")===b&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?this._hovering||this._clearHoverLinkToSeries():J_(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1)}},b.prototype._resetInterval=function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),d=[0,a.itemSize[1]];this._handleEnds=[JW(b[0],c,d,!0),JW(b[1],c,d,!0)]},b.prototype._updateInterval=function(a,b){b=b||0;var c=this.visualMapModel,d=this._handleEnds,e=[0,c.itemSize[1]];A7(b,d,e,a,0);var f=c.getExtent();this._dataInterval=[JW(d[0],e,f,!0),JW(d[1],e,f,!0)]},b.prototype._updateView=function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,e=[0,b.itemSize[1]],f=a?e:this._handleEnds,g=this._createBarVisual(this._dataInterval,c,f,"inRange"),h=this._createBarVisual(c,c,e,"outOfRange");d.inRange.setStyle({fill:g.barColor}).setShape("points",g.barPoints),d.outOfRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),this._updateHandle(f,g)},b.prototype._createBarVisual=function(a,b,c,d){var e={forceState:d,convertOpacityToAlpha:!0},f=this._makeColorGradient(a,e),g=[this.getControllerVisual(a[0],"symbolSize",e),this.getControllerVisual(a[1],"symbolSize",e)],h=this._createBarPoints(c,g);return{barColor:new nH(0,0,0,1,f),barPoints:h,handlesColor:[f[0].color,f[f.length-1].color]}},b.prototype._makeColorGradient=function(a,b){var c=[],d=(a[1]-a[0])/100;c.push({color:this.getControllerVisual(a[0],"color",b),offset:0});for(var e=1;e<100;e++){var f=a[0]+d*e;if(f>a[1])break;c.push({color:this.getControllerVisual(f,"color",b),offset:e/100})}return c.push({color:this.getControllerVisual(a[1],"color",b),offset:1}),c},b.prototype._createBarPoints=function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},b.prototype._createBarGroup=function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new fc("horizontal"===b&&!c?{scaleX:"bottom"===a?1:-1,rotation:Math.PI/2}:"horizontal"===b&&c?{scaleX:"bottom"===a?-1:1,rotation:-Math.PI/2}:"vertical"===b&&!c?{scaleX:"left"===a?1:-1,scaleY:-1}:{scaleX:"left"===a?1:-1})},b.prototype._updateHandle=function(a,b){if(this._useHandle){var c=this._shapes,d=this.visualMapModel,e=c.handleThumbs,f=c.handleLabels,g=d.itemSize,h=d.getExtent(),i=this._applyTransform("left",c.mainGroup);aX([0,1],function(j){var k=e[j];k.setStyle("fill",b.handlesColor[j]),k.y=a[j];var l=JW(a[j],[0,g[1]],h,!0),m=this.getControllerVisual(l,"symbolSize");k.scaleX=k.scaleY=m/g[0],k.x=g[0]-m/2;var n=n9(c.handleLabelPoints[j],n8(k,this.group));if("horizontal"===this._orient){var o="left"===i||"top"===i?(g[0]-m)/2:-((g[0]-m)/2);n[1]+=o}f[j].setStyle({x:n[0],y:n[1],text:d.formatValueText(this._dataInterval[j]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",c.mainGroup):"center"})},this)}},b.prototype._showIndicator=function(a,b,c,d){var e=this.visualMapModel,f=e.getExtent(),g=e.itemSize,h=[0,g[1]],i=this._shapes,j=i.indicator;if(j){j.attr("invisible",!1);var k=this.getControllerVisual(a,"color",{convertOpacityToAlpha:!0}),l=this.getControllerVisual(a,"symbolSize"),m=JW(a,f,h,!0),n=g[0]-l/2,o={x:j.x,y:j.y};j.y=m,j.x=n;var p=n9(i.indicatorLabelPoint,n8(j,this.group)),q=i.indicatorLabel;q.attr("invisible",!1);var r=this._applyTransform("left",i.mainGroup),s="horizontal"===this._orient;q.setStyle({text:(c||"")+e.formatValueText(b),verticalAlign:s?r:"middle",align:s?"center":r});var t={x:n,y:m,style:{fill:k}},u={style:{x:p[0],y:p[1]}};if(e.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var v={duration:100,easing:"cubicInOut",additive:!0};j.x=o.x,j.y=o.y,j.animateTo(t,v),q.animateTo(u,v)}else j.attr(t),q.attr(u);this._firstShowIndicator=!1;var w=this._shapes.handleLabels;if(w)for(var x=0;x<w.length;x++)this.api.enterBlur(w[x])}},b.prototype._enableHoverLinkToSeries=function(){var a=this;this._shapes.mainGroup.on("mousemove",function(b){if(a._hovering=!0,!a._dragging){var c=a.visualMapModel.itemSize,d=a._applyTransform([b.offsetX,b.offsetY],a._shapes.mainGroup,!0,!0);d[1]=JX(JY(0,d[1]),c[1]),a._doHoverLinkToSeries(d[1],0<=d[0]&&d[0]<=c[0])}}).on("mouseout",function(){a._hovering=!1,a._dragging||a._clearHoverLinkToSeries()})},b.prototype._enableHoverLinkFromSeries=function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},b.prototype._doHoverLinkToSeries=function(a,b){var c=this.visualMapModel,d=c.itemSize;if(c.option.hoverLink){var e,f,g,h,i,j=[0,d[1]],k=c.getExtent();a=JX(JY(j[0],a),j[1]);var l=(e=c,f=k,g=j,h=6,(i=e.get("hoverLinkDataSize"))&&(h=JW(i,f,g,!0)/2),h),m=[a-l,a+l],n=JW(a,j,k,!0),o=[JW(m[0],j,k,!0),JW(m[1],j,k,!0)];m[0]<j[0]&&(o[0]=-1/0),m[1]>j[1]&&(o[1]=1/0),b&&(o[0]===-1/0?this._showIndicator(n,o[1],"< ",l):o[1]===1/0?this._showIndicator(n,o[0],"> ",l):this._showIndicator(n,n," ",l));var p=this._hoverLinkDataIndices,q=[];(b||J_(c))&&(q=this._hoverLinkDataIndices=c.findTargetDataIndices(o));var r=function(a,b){var c={},d={};return e(a||[],c),e(b||[],d,c),[f(c),f(d)];function e(a,b,c){for(var d=0,e=a.length;d<e;d++){var f=fY(a[d].seriesId,null);if(null==f)return;for(var g=fR(a[d].dataIndex),h=c&&c[f],i=0,j=g.length;i<j;i++){var k=g[i];h&&h[k]?h[k]=null:(b[f]||(b[f]={}))[k]=1}}}function f(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)&&null!=a[d])if(b)c.push(+d);else{var e=f(a[d],!0);e.length&&c.push({seriesId:d,dataIndex:e})}return c}}(p,q);this._dispatchHighDown("downplay",JV(r[0],c)),this._dispatchHighDown("highlight",JV(r[1],c))}},b.prototype._hoverLinkFromSeriesMouseOver=function(a){if(pe(a.target,function(a){var c=h2(a);if(null!=c.dataIndex)return b=c,!0},!0),b){var b,c=this.ecModel.getSeriesByIndex(b.seriesIndex),d=this.visualMapModel;if(d.isTargetSeries(c)){var e=c.getData(b.dataType),f=e.getStore().get(d.getDataDimensionIndex(e),b.dataIndex);isNaN(f)||this._showIndicator(f,f)}}},b.prototype._hideIndicator=function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0);var b=this._shapes.handleLabels;if(b)for(var c=0;c<b.length;c++)this.api.leaveBlur(b[c])},b.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",JV(a,this.visualMapModel)),a.length=0},b.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},b.prototype._applyTransform=function(a,b,c,d){var e=n8(b,d?null:this.group);return a3(a)?n9(a,e,c):oa(a,e,c)},b.prototype._dispatchHighDown=function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},b.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},b.type="visualMap.continuous",b}(JS);function J$(a,b,c,d){return new np({shape:{points:a},draggable:!!c,cursor:b,drift:c,onmousemove:function(a){cl(a.event)},ondragend:d})}function J_(a){var b=a.get("hoverLinkOnHandle");return!!(null==b?a.get("realtime"):b)}function J0(a){return"vertical"===a?"ns-resize":"ew-resize"}var J1={type:"selectDataRange",event:"dataRangeSelected",update:"update"},J2=function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(b){b.setSelected(a.selected)})},J3=[{createOnAllSeries:!0,reset:function(a,b){var c=[];return b.eachComponent("visualMap",function(b){var d,e,f,g,h,i=a.pipelineContext;!b.isTargetSeries(a)||i&&i.large||c.push((d=b.stateList,e=b.targetVisuals,f=a1(b.getValueState,b),g=b.getDataDimensionIndex(a.getData()),h={},aX(d,function(a){var b=zi.prepareVisualTypes(e[a]);h[a]=b}),{progress:function(a,b){function c(a){return o9(b,j,a)}function d(a,c){pb(b,j,a,c)}null!=g&&(i=b.getDimensionIndex(g));for(var i,j,k=b.getStore();null!=(j=a.next());){var l=b.getRawDataItem(j);if(!l||!1!==l.visualMap)for(var m=null!=g?k.get(i,j):j,n=f(m),o=e[n],p=h[n],q=0,r=p.length;q<r;q++){var s=p[q];o[s]&&o[s].applyVisual(m,c,d)}}}}))}),c}},{createOnAllSeries:!0,reset:function(a,b){var c=a.getData(),d=[];b.eachComponent("visualMap",function(b){if(b.isTargetSeries(a)){var e=b.getVisualMeta(a1(J4,null,a,b))||{stops:[],outerColors:[]},f=b.getDataDimensionIndex(c);f>=0&&(e.dimension=f,d.push(e))}}),a.getData().setVisual("visualMeta",d)}}];function J4(a,b,c,d){for(var e=b.targetVisuals[d],f=zi.prepareVisualTypes(e),g={color:pa(a.getData(),"color")},h=0,i=f.length;h<i;h++){var j=f[h],k=e["opacity"===j?"__alphaForOpacity":j];k&&k.applyVisual(c,l,m)}return g.color;function l(a){return g[a]}function m(a,b){g[a]=b}}var J5=aX;function J6(a){var b=a&&a.visualMap;a3(b)||(b=b?[b]:[]),J5(b,function(a){if(a){J7(a,"splitList")&&!J7(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList);var b=a.pieces;b&&a3(b)&&J5(b,function(a){a8(a)&&(J7(a,"start")&&!J7(a,"min")&&(a.min=a.start),J7(a,"end")&&!J7(a,"max")&&(a.max=a.end))})}})}function J7(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}var J8=!1;function J9(a){J8||(J8=!0,a.registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"}),a.registerAction(J1,J2),aX(J3,function(b){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,b)}),a.registerPreprocessor(J6))}function Ka(a){a.registerComponentModel(JQ),a.registerComponentView(JZ),J9(a)}var Kb=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c._pieceList=[],c}return aq(b,a),b.prototype.optionUpdated=function(b,c){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var d=this._mode=this._determineMode();this._pieceList=[],Kc[this._mode].call(this,this._pieceList),this._resetSelected(b,c);var e=this.option.categories;this.resetVisual(function(a,b){"categories"===d?(a.mappingMethod="category",a.categories=aN(e)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=aY(this._pieceList,function(a){return a=aN(a),"inRange"!==b&&(a.visual=null),a}))})},b.prototype.completeVisualOption=function(){var b=this.option,c={},d=zi.listVisualTypes(),e=this.isCategory();function f(a,b,c){return a&&a[b]&&a[b].hasOwnProperty(c)}aX(b.pieces,function(a){aX(d,function(b){a.hasOwnProperty(b)&&(c[b]=1)})}),aX(c,function(a,c){var d=!1;aX(this.stateList,function(a){d=d||f(b,a,c)||f(b.target,a,c)},this),d||aX(this.stateList,function(a){(b[a]||(b[a]={}))[c]=JL(c,"inRange"===a?"active":"inactive",e)})},this),a.prototype.completeVisualOption.apply(this,arguments)},b.prototype._resetSelected=function(a,b){var c=this.option,d=this._pieceList,e=(b?c:a).selected||{};if(c.selected=e,aX(d,function(a,b){var c=this.getSelectedMapKey(a);e.hasOwnProperty(c)||(e[c]=!0)},this),"single"===c.selectedMode){var f=!1;aX(d,function(a,b){var c=this.getSelectedMapKey(a);e[c]&&(f?e[c]=!1:f=!0)},this)}},b.prototype.getItemSymbol=function(){return this.get("itemSymbol")},b.prototype.getSelectedMapKey=function(a){return"categories"===this._mode?a.value+"":a.index+""},b.prototype.getPieceList=function(){return this._pieceList},b.prototype._determineMode=function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},b.prototype.setSelected=function(a){this.option.selected=aN(a)},b.prototype.getValueState=function(a){var b=zi.findPieceIndex(a,this._pieceList);return null!=b&&this.option.selected[this.getSelectedMapKey(this._pieceList[b])]?"inRange":"outOfRange"},b.prototype.findTargetDataIndices=function(a){var b=[],c=this._pieceList;return this.eachTargetSeries(function(d){var e=[],f=d.getData();f.each(this.getDataDimensionIndex(f),function(b,d){zi.findPieceIndex(b,c)===a&&e.push(d)},this),b.push({seriesId:d.id,dataIndex:e})},this),b},b.prototype.getRepresentValue=function(a){var b;if(this.isCategory())b=a.value;else if(null!=a.value)b=a.value;else{var c=a.interval||[];b=c[0]===-1/0&&c[1]===1/0?0:(c[0]+c[1])/2}return b},b.prototype.getVisualMeta=function(a){if(!this.isCategory()){var b=[],c=["",""],d=this,e=this._pieceList.slice();if(e.length){var f=e[0].interval[0];f!==-1/0&&e.unshift({interval:[-1/0,f]}),(f=e[e.length-1].interval[1])!==1/0&&e.push({interval:[f,1/0]})}else e.push({interval:[-1/0,1/0]});var g=-1/0;return aX(e,function(a){var b=a.interval;b&&(b[0]>g&&h([g,b[0]],"outOfRange"),h(b.slice()),g=b[1])},this),{stops:b,outerColors:c}}function h(e,f){var g=d.getRepresentValue({interval:e});f||(f=d.getValueState(g));var h=a(g,f);e[0]===-1/0?c[0]=h:e[1]===1/0?c[1]=h:b.push({value:e[0],color:h},{value:e[1],color:h})}},b.type="visualMap.piecewise",b.defaultOption=jq(JP.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),b}(JP),Kc={splitNumber:function(a){var b=this.option,c=Math.min(b.precision,20),d=this.getExtent(),e=b.splitNumber;b.splitNumber=e=Math.max(parseInt(e,10),1);for(var f=(d[1]-d[0])/e;+f.toFixed(c)!==f&&c<5;)c++;b.precision=c,f=+f.toFixed(c),b.minOpen&&a.push({interval:[-1/0,d[0]],close:[0,0]});for(var g=0,h=d[0];g<e;h+=f,g++){var i=g===e-1?d[1]:h+f;a.push({interval:[h,i],close:[1,1]})}b.maxOpen&&a.push({interval:[d[1],1/0],close:[0,0]}),fK(a),aX(a,function(a,b){a.index=b,a.text=this.formatValueText(a.interval)},this)},categories:function(a){var b=this.option;aX(b.categories,function(b){a.push({text:this.formatValueText(b,!0),value:b})},this),Kd(b,a)},pieces:function(a){var b=this.option;aX(b.pieces,function(b,c){a8(b)||(b={value:b});var d={text:"",index:c};if(null!=b.label&&(d.text=b.label),b.hasOwnProperty("value")){var e=d.value=b.value;d.interval=[e,e],d.close=[1,1]}else{for(var f=d.interval=[],g=d.close=[0,0],h=[1,0,1],i=[-1/0,1/0],j=[],k=0;k<2;k++){for(var l=[["gte","gt","min"],["lte","lt","max"]][k],m=0;m<3&&null==f[k];m++)f[k]=b[l[m]],g[k]=h[m],j[k]=2===m;null==f[k]&&(f[k]=i[k])}j[0]&&f[1]===1/0&&(g[0]=0),j[1]&&f[0]===-1/0&&(g[1]=0),f[0]===f[1]&&g[0]&&g[1]&&(d.value=f[0])}d.visual=zi.retrieveVisuals(b),a.push(d)},this),Kd(b,a),fK(a),aX(a,function(a){var b=a.close,c=[["<",""][b[1]],[">",""][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,c)},this)}};function Kd(a,b){var c=a.inverse;("vertical"===a.orient?!c:c)&&b.reverse()}var Ke=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.doRender=function(){var a=this.group;a.removeAll();var b=this.visualMapModel,c=b.get("textGap"),d=b.textStyleModel,e=this._getItemAlign(),f=b.itemSize,g=this._getViewData(),h=g.endsText,i=bg(b.get("showLabel",!0),!h),j=!b.get("selectedMode");h&&this._renderEndsText(a,h[0],f,i,e),aX(g.viewPieceList,function(g){var h=g.piece,k=new fc;k.onclick=a1(this._onItemClick,this,h),this._enableHoverLink(k,g.indexInModelPieceList);var l=b.getRepresentValue(h);if(this._createItemSymbol(k,l,[0,0,f[0],f[1]],j),i){var m=this.visualMapModel.getValueState(l),n=d.get("align")||e;k.add(new h1({style:i1(d,{x:"right"===n?-c:f[0]+c,y:f[1]/2,text:h.text,verticalAlign:d.get("verticalAlign")||"middle",align:n,opacity:bh(d.get("opacity"),"outOfRange"===m?.5:1)}),silent:j}))}a.add(k)},this),h&&this._renderEndsText(a,h[1],f,i,e),ke(b.get("orient"),a,b.get("itemGap")),this.renderBackground(a),this.positionGroup(a)},b.prototype._enableHoverLink=function(a,b){var c=this;a.on("mouseover",function(){return d("highlight")}).on("mouseout",function(){return d("downplay")});var d=function(a){var d=c.visualMapModel;d.option.hoverLink&&c.api.dispatchAction({type:a,batch:JV(d.findTargetDataIndices(b),d)})}},b.prototype._getItemAlign=function(){var a=this.visualMapModel,b=a.option;if("vertical"===b.orient)return JU(a,this.api,a.itemSize);var c=b.align;return c&&"auto"!==c||(c="left"),c},b.prototype._renderEndsText=function(a,b,c,d,e){if(b){var f=new fc,g=this.visualMapModel.textStyleModel;f.add(new h1({style:i1(g,{x:d?"right"===e?c[0]:0:c[0]/2,y:c[1]/2,verticalAlign:"middle",align:d?e:"center",text:b})})),a.add(f)}},b.prototype._getViewData=function(){var a=this.visualMapModel,b=aY(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),c=a.get("text"),d=a.get("orient"),e=a.get("inverse");return("horizontal"===d?e:!e)?b.reverse():c&&(c=c.slice().reverse()),{viewPieceList:b,endsText:c}},b.prototype._createItemSymbol=function(a,b,c,d){var e=pq(this.getControllerVisual(b,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(b,"color"));e.silent=d,a.add(e)},b.prototype._onItemClick=function(a){var b=this.visualMapModel,c=b.option,d=c.selectedMode;if(d){var e=aN(c.selected),f=b.getSelectedMapKey(a);"single"===d||!0===d?(e[f]=!0,aX(e,function(a,b){e[b]=b===f})):e[f]=!e[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:e})}},b.type="visualMap.piecewise",b}(JS);function Kf(a){a.registerComponentModel(Kb),a.registerComponentView(Ke),J9(a)}var Kg=function(){function a(a){this._thumbnailModel=a}return a.prototype.reset=function(a){this._renderVersion=a.getMainProcessVersion()},a.prototype.renderContent=function(a){var b=a.api.getViewOfComponentModel(this._thumbnailModel);b&&(a.group.silent=!0,b.renderContent({group:a.group,targetTrans:a.targetTrans,z2Range:os(a.group),roamType:a.roamType,viewportRect:a.viewportRect,renderVersion:this._renderVersion}))},a.prototype.updateWindow=function(a,b){var c=b.getViewOfComponentModel(this._thumbnailModel);c&&c.updateWindow({targetTrans:a,renderVersion:this._renderVersion})},a}(),Kh=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c.preventAutoZ=!0,c}return aq(b,a),b.prototype.optionUpdated=function(a,b){this._updateBridge()},b.prototype._updateBridge=function(){var a=this._birdge=this._birdge||new Kg(this);this._target=null,this.ecModel.eachSeries(function(a){As(a,null)}),this.shouldShow()&&As(this.getTarget().baseMapProvider,a)},b.prototype.shouldShow=function(){return this.getShallow("show",!0)},b.prototype.getBridge=function(){return this._birdge},b.prototype.getTarget=function(){if(this._target)return this._target;var a=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return a?"graph"!==a.subType&&(a=null):a=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:a},this._target},b.type="thumbnail",b.layoutMode="box",b.dependencies=["series","geo"],b.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:kv.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:kv.color.neutral30,borderColor:kv.color.neutral40,opacity:.3},z:10},b}(ku),Ki=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.type=b.type,c}return aq(b,a),b.prototype.render=function(a,b,c){if(this._api=c,this._model=a,this._coordSys||(this._coordSys=new ym),!this._isEnabled())return void this._clear();this._renderVersion=c.getMainProcessVersion();var d=this.group;d.removeAll();var e=a.getModel("itemStyle"),f=e.getItemStyle();null==f.fill&&(f.fill=b.get("backgroundColor")||kv.color.neutral00);var g=kk(a,c).refContainer,h=kh(kf(a,!0),g),i=f.lineWidth||0,j=this._contentRect=oh(h.clone(),i/2,!0,!0),k=new fc;d.add(k),k.setClipPath(new hM({shape:j.plain()}));var l=this._targetGroup=new fc;k.add(l);var m=h.plain();m.r=e.getShallow("borderRadius",!0),d.add(this._bgRect=new hM({style:f,shape:m,silent:!1,cursor:"grab"}));var n=a.getModel("windowStyle"),o=n.getShallow("borderRadius",!0);k.add(this._windowRect=new hM({shape:{x:0,y:0,width:0,height:0,r:o},style:n.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),Kk(a,this)},b.prototype.renderContent=function(a){this._bridgeRendered=a,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),Kk(this._model,this))},b.prototype._dealRenderContent=function(){var a=this._bridgeRendered;if(a&&a.renderVersion===this._renderVersion){var b=this._targetGroup,c=this._coordSys,d=this._contentRect;if(b.removeAll(),a){var e=a.group,f=e.getBoundingRect();b.add(e),this._bgRect.z2=a.z2Range.min-10,c.setBoundingRect(f.x,f.y,f.width,f.height);var g=kh({left:"center",top:"center",aspect:f.width/f.height},d);c.setViewRect(g.x,g.y,g.width,g.height),e.attr(c.getTransformInfo().raw),this._windowRect.z2=a.z2Range.max+10,this._resetRoamController(a.roamType)}}},b.prototype.updateWindow=function(a){var b=this._bridgeRendered;b&&b.renderVersion===a.renderVersion&&(b.targetTrans=a.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},b.prototype._dealUpdateWindow=function(){var a=this._bridgeRendered;if(a&&a.renderVersion===this._renderVersion){var b=cx([],a.targetTrans),c=ct([],this._coordSys.transform,b);this._transThisToTarget=cx([],c);var d=a.viewportRect;(d=d?d.clone():new cS(0,0,this._api.getWidth(),this._api.getHeight())).applyTransform(c);var e=this._windowRect,f=e.shape.r;e.setShape(aR({r:f},d))}},b.prototype._resetRoamController=function(a){var b=this,c=this._api,d=this._roamController;(d||(d=this._roamController=new xg(c.getZr())),a&&this._isEnabled())?(d.enable(a,{api:c,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(a,c,d){return b._contentRect.contain(c,d)}}}),d.off("pan").off("zoom").on("pan",a1(this._onPan,this)).on("zoom",a1(this._onZoom,this))):d.disable()},b.prototype._onPan=function(a){var b=this._transThisToTarget;if(this._isEnabled()&&b){var c=bZ([],[a.oldX,a.oldY],b),d=bZ([],[a.oldX-a.dx,a.oldY-a.dy],b);this._api.dispatchAction(Kj(this._model.getTarget().baseMapProvider,{dx:d[0]-c[0],dy:d[1]-c[1]}))}},b.prototype._onZoom=function(a){var b=this._transThisToTarget;if(this._isEnabled()&&b){var c=bZ([],[a.originX,a.originY],b);this._api.dispatchAction(Kj(this._model.getTarget().baseMapProvider,{zoom:1/a.scale,originX:c[0],originY:c[1]}))}},b.prototype._isEnabled=function(){var a=this._model;return!!a&&!!a.shouldShow()&&!!a.getTarget().baseMapProvider},b.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},b.prototype.remove=function(){this._clear()},b.prototype.dispose=function(){this._clear()},b.type="thumbnail",b}(mG);function Kj(a,b){var c={type:"series"===a.mainType?a.subType+"Roam":a.mainType+"Roam"};return c[a.mainType+"Id"]=a.id,aQ(c,b),c}function Kk(a,b){var c=or(a);ot(b.group,c.z,c.zlevel)}var Kl={label:{enabled:!0},decal:{show:!1}},Km=f0(),Kn={};function Ko(a,b){var c=a.getModel("aria");if(c.get("enabled")){var d=aN(Kl);aO(d.label,a.getLocaleModel().get("aria"),!1),aO(c.option,d,!1),function(){if(c.getModel("decal").get("show")){var b=bt();a.eachSeries(function(a){if(!a.isColorBySeries()){var c=b.get(a.type);c||(c={},b.set(a.type,c)),Km(a).scope=c}}),a.eachRawSeries(function(b){if(!a.isSeriesFiltered(b)){if(a4(b.enableAriaDecal))return void b.enableAriaDecal();var c=b.getData();if(b.isColorBySeries()){var d=kW(b.ecModel,b.name,Kn,a.getSeriesCount()),e=c.getVisual("decal");c.setVisual("decal",j(e,d))}else{var f=b.getRawData(),g={},h=Km(b).scope;c.each(function(a){g[c.getRawIndex(a)]=a});var i=f.count();f.each(function(a){var d=g[a],e=f.getName(a)||a+"",k=kW(b.ecModel,e,h,i),l=c.getItemVisual(d,"decal");c.setItemVisual(d,"decal",j(l,k))})}}function j(a,b){var c=a?aQ(aQ({},b),a):b;return c.dirty=!0,c}})}}(),function(){var d,f=b.getZr().dom;if(f){var g=a.getLocaleModel().get("aria"),h=c.getModel("label");if(h.option=aR(h.option,g),h.get("enabled")){if(f.setAttribute("role","img"),h.get("description"))return f.setAttribute("aria-label",h.get("description"));var i,j=a.getSeriesCount(),k=h.get(["data","maxCount"])||10,l=Math.min(j,h.get(["series","maxCount"])||10);if(j<1)return;var m=((i=a.get("title"))&&i.length&&(i=i[0]),i&&i.text);d=m?e(h.get(["general","withTitle"]),{title:m}):h.get(["general","withoutTitle"]);var n=[];d+=e(j>1?h.get(["series","multiple","prefix"]):h.get(["series","single","prefix"]),{seriesCount:j}),a.eachSeries(function(b,c){if(c<l){var d,f,g=void 0,i=b.get("name")?"withName":"withoutName";g=e(g=j>1?h.get(["series","multiple",i]):h.get(["series","single",i]),{seriesId:b.seriesIndex,seriesName:b.get("name"),seriesType:(d=b.subType,(f=a.getLocaleModel().get(["series","typeNames"]))[d]||f.chart)});var m=b.getData();m.count()>k?g+=e(h.get(["data","partialData"]),{displayCnt:k}):g+=h.get(["data","allData"]);for(var o=h.get(["data","separator","middle"]),p=h.get(["data","separator","end"]),q=h.get(["data","excludeDimensionId"]),r=[],s=0;s<m.count();s++)if(s<k){var t=m.getName(s),u=q?a$(m.getValues(s),function(a,b){return -1===aT(q,b)}):m.getValues(s),v=h.get(["data",t?"withName":"withoutName"]);r.push(e(v,{name:t,value:u.join(o)}))}g+=r.join(o)+p,n.push(g)}});var o=h.getModel(["series","multiple","separator"]),p=o.get("middle"),q=o.get("end");d+=n.join(p)+q,f.setAttribute("aria-label",d)}}}()}function e(a,b){if(!a5(a))return a;var c=a;return aX(b,function(a,b){c=c.replace(RegExp("\\{\\s*"+b+"\\s*\\}","g"),a)}),c}}function Kp(a){if(a&&a.aria){var b=a.aria;null!=b.show&&(b.enabled=b.show),b.label=b.label||{},aX(["description","general","series","data"],function(a){null!=b[a]&&(b.label[a]=b[a])})}}var Kq={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Kr=function(){function a(a){null==(this._condVal=a5(a)?new RegExp(a):be(a)?a:null)&&ly("")}return a.prototype.evaluate=function(a){var b=typeof a;return a5(b)?this._condVal.test(a):!!a7(b)&&this._condVal.test(a+"")},a}(),Ks=function(){function a(){}return a.prototype.evaluate=function(){return this.value},a}(),Kt=function(){function a(){}return a.prototype.evaluate=function(){for(var a=this.children,b=0;b<a.length;b++)if(!a[b].evaluate())return!1;return!0},a}(),Ku=function(){function a(){}return a.prototype.evaluate=function(){for(var a=this.children,b=0;b<a.length;b++)if(a[b].evaluate())return!0;return!1},a}(),Kv=function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a}(),Kw=function(){function a(){}return a.prototype.evaluate=function(){for(var a=!!this.valueParser,b=(0,this.getValue)(this.valueGetterParam),c=a?this.valueParser(b):null,d=0;d<this.subCondList.length;d++)if(!this.subCondList[d].evaluate(a?c:b))return!1;return!0},a}();function Kx(a,b){if(!0===a||!1===a){var c,d,e,f,g,h=new Ks;return h.value=a,h}if(a8(c=a)&&!aW(c)||ly(""),a.and)return Ky("and",a,b);if(a.or)return Ky("or",a,b);if(a.not){return d=a,e=b,function(a){return a8(a)&&!aW(a)}(f=d.not)||ly(""),(g=new Kv).child=Kx(f,e),g.child||ly(""),g}return function(a,b){for(var c=b.prepareGetValue(a),d=[],e=a0(a),f=a.parser,g=f?lQ.get(f):null,h=0;h<e.length;h++){var i=e[h];if(!("parser"===i||b.valueGetterAttrMap.get(i))){var j=bx(Kq,i)?Kq[i]:i,k=a[i],l=g?g(k):k,m=("eq"===j||"ne"===j?new lU("eq"===j,l):bx(lR,j)?new lS(j,l):null)||"reg"===j&&new Kr(l);m||ly(""),d.push(m)}}d.length||ly("");var n=new Kw;return n.valueGetterParam=c,n.valueParser=g,n.getValue=b.getValue,n.subCondList=d,n}(a,b)}function Ky(a,b,c){var d=b[a];a3(d)||ly(""),d.length||ly("");var e="and"===a?new Kt:new Ku;return e.children=aY(d,function(a){return Kx(a,c)}),e.children.length||ly(""),e}var Kz=function(){function a(a,b){this._cond=Kx(a,b)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a}(),KA={type:"echarts:filter",transform:function(a){for(var b,c=a.upstream,d=new Kz(a.config,{valueGetterAttrMap:bt({dimension:!0}),prepareGetValue:function(a){var b=a.dimension;bx(a,"dimension")||ly("");var d=c.getDimensionInfo(b);return d||ly(""),{dimIdx:d.index}},getValue:function(a){return c.retrieveValueFromItem(b,a.dimIdx)}}),e=[],f=0,g=c.count();f<g;f++)b=c.getRawDataItem(f),d.evaluate()&&e.push(b);return{data:e}}},KB={type:"echarts:sort",transform:function(a){var b=a.upstream,c=fR(a.config);c.length||ly("");var d=[];aX(c,function(a){var c=a.dimension,e=a.order,f=a.parser,g=a.incomparable;null==c&&ly(""),"asc"!==e&&"desc"!==e&&ly(""),g&&"min"!==g&&"max"!==g&&ly(""),"asc"!==e&&"desc"!==e&&ly("");var h=b.getDimensionInfo(c);h||ly("");var i=f?lQ.get(f):null;f&&!i&&ly(""),d.push({dimIdx:h.index,parser:i,comparator:new lT(e,g)})});var e=b.sourceFormat;e!==kG&&e!==kH&&ly("");for(var f=[],g=0,h=b.count();g<h;g++)f.push(b.getRawDataItem(g));return f.sort(function(a,c){for(var e=0;e<d.length;e++){var f=d[e],g=b.retrieveValueFromItem(a,f.dimIdx),h=b.retrieveValueFromItem(c,f.dimIdx);f.parser&&(g=f.parser(g),h=f.parser(h));var i=f.comparator.evaluate(g,h);if(0!==i)return i}return 0}),{data:f}}},KC=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="dataset",b}return aq(b,a),b.prototype.init=function(b,c,d){a.prototype.init.call(this,b,c,d),this._sourceManager=new ma(this),mb(this)},b.prototype.mergeOption=function(b,c){a.prototype.mergeOption.call(this,b,c),mb(this)},b.prototype.optionUpdated=function(){this._sourceManager.dirty()},b.prototype.getSourceManager=function(){return this._sourceManager},b.type="dataset",b.defaultOption={seriesLayoutBy:kL},b}(ku),KD=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.type="dataset",b}return aq(b,a),b.type="dataset",b}(mG),KE=hj.CMD;function KF(a,b){return 1e-5>Math.abs(a-b)}function KG(a){var b,c,d,e,f,g=a.data,h=a.len(),i=[],j=0,k=0,l=0,m=0;function n(a,c){b&&b.length>2&&i.push(b),b=[a,c]}function o(a,c,d,e){KF(a,d)&&KF(c,e)||b.push(a,c,d,e,d,e)}for(var p=0;p<h;){var q=g[p++],r=1===p;switch(r&&(j=g[p],k=g[p+1],l=j,m=k,(q===KE.L||q===KE.C||q===KE.Q)&&(b=[l,m])),q){case KE.M:j=l=g[p++],k=m=g[p++],n(l,m);break;case KE.L:o(j,k,c=g[p++],d=g[p++]),j=c,k=d;break;case KE.C:b.push(g[p++],g[p++],g[p++],g[p++],j=g[p++],k=g[p++]);break;case KE.Q:c=g[p++],d=g[p++],e=g[p++],f=g[p++],b.push(j+2/3*(c-j),k+2/3*(d-k),e+2/3*(c-e),f+2/3*(d-f),e,f),j=e,k=f;break;case KE.A:var s=g[p++],t=g[p++],u=g[p++],v=g[p++],w=g[p++],x=g[p++]+w;p+=1;var y=!g[p++];c=Math.cos(w)*u+s,d=Math.sin(w)*v+t,r?n(l=c,m=d):o(j,k,c,d),j=Math.cos(x)*u+s,k=Math.sin(x)*v+t;for(var z=(y?-1:1)*Math.PI/2,A=w;y?A>x:A<x;A+=z){var B=y?Math.max(A+z,x):Math.min(A+z,x);!function(a,c,d,e,f,g){var h=4*Math.tan(Math.abs(c-a)/4)/3,i=c<a?-1:1,j=Math.cos(a),k=Math.sin(a),l=Math.cos(c),m=Math.sin(c),n=l*f+d,o=m*g+e,p=f*h*i,q=g*h*i;b.push(j*f+d-p*k,k*g+e+q*j,n+p*m,o-q*l,n,o)}(A,B,s,t,u,v)}break;case KE.R:l=j=g[p++],m=k=g[p++],c=l+g[p++],d=m+g[p++],n(c,m),o(c,m,c,d),o(c,d,l,d),o(l,d,l,m),o(l,m,c,m);break;case KE.Z:b&&o(j,k,l,m),j=l,k=m}}return b&&b.length>2&&i.push(b),i}function KH(a,b,c){var d=Math.ceil(Math.sqrt(Math.abs(a[b]/a[1-b])*c)),e=Math.floor(c/d);0===e&&(e=1,d=c);for(var f=[],g=0;g<d;g++)f.push(e);var h=c-d*e;if(h>0)for(var g=0;g<h;g++)f[g%d]+=1;return f}function KI(a,b,c){for(var d=a.r0,e=a.r,f=a.startAngle,g=Math.abs(a.endAngle-f),h=g*e,i=e-d,j=h>Math.abs(i),k=KH([h,i],+!j,b),l=(j?g:i)/k.length,m=0;m<k.length;m++)for(var n=(j?i:g)/k[m],o=0;o<k[m];o++){var p={};j?(p.startAngle=f+l*m,p.endAngle=f+l*(m+1),p.r0=d+n*o,p.r=d+n*(o+1)):(p.startAngle=f+n*o,p.endAngle=f+n*(o+1),p.r0=d+l*m,p.r=d+l*(m+1)),p.clockwise=a.clockwise,p.cx=a.cx,p.cy=a.cy,c.push(p)}}function KJ(a,b){var c=a[a.length-1];c&&c[0]===b[0]&&c[1]===b[1]||a.push(b)}function KK(a){var b=a.points,c=[],d=[];gZ(b,c,d);var e=new cS(c[0],c[1],d[0]-c[0],d[1]-c[1]),f=e.width,g=e.height,h=e.x,i=e.y,j=new cz,k=new cz;return f>g?(j.x=k.x=h+f/2,j.y=i,k.y=i+g):(j.y=k.y=i+g/2,j.x=h,k.x=h+f),function(a,b,c){for(var d=a.length,e=[],f=0;f<d;f++){var g=a[f],h=a[(f+1)%d],i=function(a,b,c,d,e,f,g,h){var i=c-a,j=d-b,k=g-e,l=h-f,m=k*j-i*l;if(1e-6>Math.abs(m))return null;var n=((a-e)*l-k*(b-f))/m;return n<0||n>1?null:new cz(n*i+a,n*j+b)}(g[0],g[1],h[0],h[1],b.x,b.y,c.x,c.y);i&&e.push({projPt:function(a,b,c){var d=new cz;cz.sub(d,c,b),d.normalize();var e=new cz;return cz.sub(e,a,b),e.dot(d)}(i,b,c),pt:i,idx:f})}if(e.length<2)return[{points:a},{points:a}];e.sort(function(a,b){return a.projPt-b.projPt});var j=e[0],k=e[e.length-1];if(k.idx<j.idx){var l=j;j=k,k=l}for(var m=[j.pt.x,j.pt.y],n=[k.pt.x,k.pt.y],o=[m],p=[n],f=j.idx+1;f<=k.idx;f++)KJ(o,a[f].slice());KJ(o,n),KJ(o,m);for(var f=k.idx+1;f<=j.idx+d;f++)KJ(p,a[f%d].slice());return KJ(p,m),KJ(p,n),[{points:o},{points:p}]}(b,j,k)}function KL(a,b,c,d){if(1===c)d.push(b);else{var e=Math.floor(c/2),f=a(b);KL(a,f[0],e,d),KL(a,f[1],c-e,d)}return d}function KM(a,b){for(var c=a.length,d=a[c-2],e=a[c-1],f=[],g=0;g<b.length;)f[g++]=d,f[g++]=e;return f}function KN(a){for(var b=0,c=0,d=0,e=a.length,f=0,g=e-2;f<e;g=f,f+=2){var h=a[g],i=a[g+1],j=a[f],k=a[f+1],l=h*k-j*i;b+=l,c+=(h+j)*l,d+=(i+k)*l}return 0===b?[a[0]||0,a[1]||0]:[c/b/3,d/b/3,b]}function KO(a){return a.__isCombineMorphing}var KP="__mOriginal_";function KQ(a,b,c){var d=KP+b,e=a[d]||a[b];a[d]||(a[d]=a[b]);var f=c.replace,g=c.after,h=c.before;a[b]=function(){var a,b=arguments;return h&&h.apply(this,b),a=f?f.apply(this,b):e.apply(this,b),g&&g.apply(this,b),a}}function KR(a,b){var c=KP+b;a[c]&&(a[b]=a[c],a[c]=null)}function KS(a,b){for(var c=0;c<a.length;c++)for(var d=a[c],e=0;e<d.length;){var f=d[e],g=d[e+1];d[e++]=b[0]*f+b[2]*g+b[4],d[e++]=b[1]*f+b[3]*g+b[5]}}function KT(a,b){var c=a.getUpdatedPathProxy(),d=b.getUpdatedPathProxy(),e=function(a,b){for(var c,d,e,f=[],g=[],h=0;h<Math.max(a.length,b.length);h++){var i=a[h],j=b[h],k=void 0,l=void 0;i?j?(k=(c=function(a,b){var c=a.length,d=b.length;if(c===d)return[a,b];for(var e=[],f=[],g=c<d?a:b,h=Math.min(c,d),i=Math.abs(d-c)/6,j=Math.ceil(i/((h-2)/6))+1,k=[g[0],g[1]],l=i,m=2;m<h;){var n=g[m-2],o=g[m-1],p=g[m++],q=g[m++],r=g[m++],s=g[m++],t=g[m++],u=g[m++];if(l<=0){k.push(p,q,r,s,t,u);continue}for(var v=Math.min(l,j-1)+1,w=1;w<=v;w++){var x=w/v;dn(n,p,r,t,x,e),dn(o,q,s,u,x,f),n=e[3],o=f[3],k.push(e[1],f[1],e[2],f[2],n,o),p=e[5],q=f[5],r=e[6],s=f[6]}l-=v-1}return g===a?[k,b]:[a,k]}(i,j))[0],l=c[1],d=k,e=l):(l=KM(e||i,i),k=i):(k=KM(d||j,j),l=j),f.push(k),g.push(l)}return[f,g]}(KG(c),KG(d)),f=e[0],g=e[1],h=a.getComputedTransform(),i=b.getComputedTransform();h&&KS(f,h),i&&KS(g,i),KQ(b,"updateTransform",{replace:function(){this.transform=null}}),b.transform=null;var j=function(a,b,c,d){for(var e,f=[],g=0;g<a.length;g++){var h=a[g],i=b[g],j=KN(h),k=KN(i);null==e&&(e=j[2]<0!=k[2]<0);var l=[],m=[],n=0,o=1/0,p=[],q=h.length;e&&(h=function(a){for(var b=[],c=a.length,d=0;d<c;d+=2)b[d]=a[c-d-2],b[d+1]=a[c-d-1];return b}(h));for(var r=6*function(a,b,c,d){for(var e=(a.length-2)/6,f=1/0,g=0,h=a.length,i=h-2,j=0;j<e;j++){for(var k=6*j,l=0,m=0;m<h;m+=2){var n=0===m?k:(k+m-2)%i+2,o=a[n]-c[0],p=a[n+1]-c[1],q=b[m]-d[0],r=b[m+1]-d[1],s=q-o,t=r-p;l+=s*s+t*t}l<f&&(f=l,g=j)}return g}(h,i,j,k),s=q-2,t=0;t<s;t+=2){var u=(r+t)%s+2;l[t+2]=h[u]-j[0],l[t+3]=h[u+1]-j[1]}l[0]=h[r]-j[0],l[1]=h[r+1]-j[1];for(var v=d/10,w=-d/2;w<=d/2;w+=v){for(var x=Math.sin(w),y=Math.cos(w),z=0,t=0;t<h.length;t+=2){var A=l[t],B=l[t+1],C=i[t]-k[0],D=i[t+1]-k[1],E=C*y-D*x,F=C*x+D*y;p[t]=E,p[t+1]=F;var G=E-A,H=F-B;z+=G*G+H*H}if(z<o){o=z,n=w;for(var I=0;I<p.length;I++)m[I]=p[I]}}f.push({from:l,to:m,fromCp:j,toCp:k,rotation:-n})}return f}(f,g,0,Math.PI),k=[];KQ(b,"buildPath",{replace:function(a){for(var c=b.__morphT,d=1-c,e=[],f=0;f<j.length;f++){var g=j[f],h=g.from,i=g.to,l=g.rotation*c,m=g.fromCp,n=g.toCp,o=Math.sin(l),p=Math.cos(l);bY(e,m,n,c);for(var q=0;q<h.length;q+=2){var r=h[q],s=h[q+1],t=i[q],u=i[q+1],v=r*d+t*c,w=s*d+u*c;k[q]=v*p-w*o+e[0],k[q+1]=v*o+w*p+e[1]}var x=k[0],y=k[1];a.moveTo(x,y);for(var q=2;q<h.length;){var t=k[q++],u=k[q++],z=k[q++],A=k[q++],B=k[q++],C=k[q++];x===t&&y===u&&z===B&&A===C?a.lineTo(B,C):a.bezierCurveTo(t,u,z,A,B,C),x=B,y=C}}}})}function KU(a,b,c){if(!a||!b)return b;var d=c.done,e=c.during;return KT(a,b),b.__morphT=0,b.animateTo({__morphT:1},aR({during:function(a){b.dirtyShape(),e&&e(a)},done:function(){KR(b,"buildPath"),KR(b,"updateTransform"),b.__morphT=-1,b.createPathProxy(),b.dirtyShape(),d&&d()}},c)),b}function KV(a){var b=1/0,c=1/0,d=-1/0,e=-1/0,f=aY(a,function(a){var f=a.getBoundingRect(),g=a.getComputedTransform(),h=f.x+f.width/2+(g?g[4]:0),i=f.y+f.height/2+(g?g[5]:0);return b=Math.min(h,b),c=Math.min(i,c),d=Math.max(h,d),e=Math.max(i,e),[h,i]});return aY(f,function(f,g){return{cp:f,z:function(a,b,c,d,e,f){a=e===c?0:Math.round(32767*(a-c)/(e-c)),b=f===d?0:Math.round(32767*(b-d)/(f-d));for(var g,h=0,i=32768;i>0;i/=2){var j=0,k=0;(a&i)>0&&(j=1),(b&i)>0&&(k=1),h+=i*i*(3*j^k),0===k&&(1===j&&(a=i-1-a,b=i-1-b),g=a,a=b,b=g)}return h}(f[0],f[1],b,c,d,e),path:a[g]}}).sort(function(a,b){return a.z-b.z}).map(function(a){return a.path})}function KW(a){return function(a,b){var c,d=[],e=a.shape;switch(a.type){case"rect":!function(a,b,c){for(var d=a.width,e=a.height,f=d>e,g=KH([d,e],+!f,b),h=f?"width":"height",i=f?"height":"width",j=f?"x":"y",k=f?"y":"x",l=a[h]/g.length,m=0;m<g.length;m++)for(var n=a[i]/g[m],o=0;o<g[m];o++){var p={};p[j]=m*l,p[k]=o*n,p[h]=l,p[i]=n,p.x+=a.x,p.y+=a.y,c.push(p)}}(e,b,d),c=hM;break;case"sector":KI(e,b,d),c=ni;break;case"circle":KI({r0:0,r:e.r,startAngle:0,endAngle:2*Math.PI,cx:e.cx,cy:e.cy},b,d),c=ni;break;default:var f=a.getComputedTransform(),g=f?Math.sqrt(Math.max(f[0]*f[0]+f[1]*f[1],f[2]*f[2]+f[3]*f[3])):1,h=aY(function(a,b){var c=KG(a),d=[];b=b||1;for(var e=0;e<c.length;e++){var f=c[e],g=[],h=f[0],i=f[1];g.push(h,i);for(var j=2;j<f.length;){var k=f[j++],l=f[j++],m=f[j++],n=f[j++],o=f[j++],p=f[j++];!function a(b,c,d,e,f,g,h,i,j,k){if(KF(b,d)&&KF(c,e)&&KF(f,h)&&KF(g,i))return void j.push(h,i);var l=2/k,m=l*l,n=h-b,o=i-c,p=Math.sqrt(n*n+o*o);n/=p,o/=p;var q=d-b,r=e-c,s=f-h,t=g-i,u=q*q+r*r,v=s*s+t*t;if(u<m&&v<m)return void j.push(h,i);var w=n*q+o*r,x=-n*s-o*t;if(u-w*w<m&&w>=0&&v-x*x<m&&x>=0)return void j.push(h,i);var y=[],z=[];dn(b,d,f,h,.5,y),dn(c,e,g,i,.5,z),a(y[0],z[0],y[1],z[1],y[2],z[2],y[3],z[3],j,k),a(y[4],z[4],y[5],z[5],y[6],z[6],y[7],z[7],j,k)}(h,i,k,l,m,n,o,p,g,b),h=o,i=p}d.push(g)}return d}(a.getUpdatedPathProxy(),g),function(a){for(var b=[],c=0;c<a.length;)b.push([a[c++],a[c++]]);return b}),i=h.length;if(0===i)KL(KK,{points:h[0]},b,d);else if(i===b)for(var j=0;j<i;j++)d.push({points:h[j]});else{var k=0,l=aY(h,function(a){var b=[],c=[];gZ(a,b,c);var d=(c[1]-b[1])*(c[0]-b[0]);return k+=d,{poly:a,area:d}});l.sort(function(a,b){return b.area-a.area});for(var m=b,j=0;j<i;j++){var n=l[j];if(m<=0)break;var o=j===i-1?m:Math.ceil(n.area/k*b);o<0||(KL(KK,{points:n.poly},o,d),m-=o)}}c=np}if(!c){for(var p=[],q=0;q<b;q++)p.push(m$(a));return p}for(var r=[],j=0;j<d.length;j++){var s=new c;s.setShape(d[j]),s.setStyle(a.style),s.z=a.z,s.z2=a.z2,s.zlevel=a.zlevel,r.push(s)}return r}(a.path,a.count)}function KX(){return{fromIndividuals:[],toIndividuals:[],count:0}}function KY(a,b){for(var c=[],d=a.length,e=0;e<d;e++)c.push({one:a[e],many:[]});for(var e=0;e<b.length;e++){var f=b[e].length,g=void 0;for(g=0;g<f;g++)c[g%d].many.push(b[e][g])}for(var h=0,e=d-1;e>=0;e--)if(!c[e].many.length){var i=c[h].many;if(i.length<=1)if(!h)return c;else h=0;var f=i.length,j=Math.ceil(f/2);c[e].many=i.slice(j,f),c[h].many=i.slice(0,j),h++}return c}var KZ={clone:function(a){for(var b=[],c=1-Math.pow(1-a.path.style.opacity,1/a.count),d=0;d<a.count;d++){var e=m$(a.path);e.setStyle("opacity",c),b.push(e)}return b},split:null};function K$(a,b,c,d,e,f){if(a.length&&b.length){var g,h,i=iP("update",d,e);if(i&&i.duration>0){var j=d.getModel("universalTransition").get("delay"),k=Object.assign({setToFinal:!0},i);a3(a[0])&&(g=a,h=b),a3(b[0])&&(g=b,h=a);for(var l=g?g===a:a.length>b.length,m=g?KY(h,g):KY(l?b:a,[l?a:b]),n=0,o=0;o<m.length;o++)n+=m[o].many.length;for(var p=0,o=0;o<m.length;o++)(function a(b,d,e,g,h){var i=b.many,l=b.one;if(1!==i.length||h)for(var m=aR({dividePath:KZ[c],individualDelay:j&&function(a,b,c,d){return j(a+e,g)}},k),n=d?function(a,b,c){var d=[];!function a(b){for(var c=0;c<b.length;c++){var e=b[c];KO(e)?a(e.childrenRef()):e instanceof hy&&d.push(e)}}(a);var e=d.length;if(!e)return KX();var f=(c.dividePath||KW)({path:b,count:e});if(f.length!==e)return console.error("Invalid morphing: unmatched splitted path"),KX();d=KV(d),f=KV(f);for(var g=c.done,h=c.during,i=c.individualDelay,j=new eQ,k=0;k<e;k++){var l=d[k],m=f[k];m.parent=b,m.copyTransform(j),i||KT(l,m)}function n(a){for(var b=0;b<f.length;b++)f[b].addSelfToZr(a)}function o(){b.__isCombineMorphing=!1,b.__morphT=-1,b.childrenRef=null,KR(b,"addSelfToZr"),KR(b,"removeSelfFromZr")}b.__isCombineMorphing=!0,b.childrenRef=function(){return f},KQ(b,"addSelfToZr",{after:function(a){n(a)}}),KQ(b,"removeSelfFromZr",{after:function(a){for(var b=0;b<f.length;b++)f[b].removeSelfFromZr(a)}});var p=f.length;if(i)for(var q=p,r=function(){0==--q&&(o(),g&&g())},k=0;k<p;k++){var s=i?aR({delay:(c.delay||0)+i(k,p,d[k],f[k]),done:r},c):c;KU(d[k],f[k],s)}else b.__morphT=0,b.animateTo({__morphT:1},aR({during:function(a){for(var c=0;c<p;c++){var d=f[c];d.__morphT=b.__morphT,d.dirtyShape()}h&&h(a)},done:function(){o();for(var b=0;b<a.length;b++)KR(a[b],"updateTransform");g&&g()}},c));return b.__zr&&n(b.__zr),{fromIndividuals:d,toIndividuals:f,count:p}}(i,l,m):function(a,b,c){var d=b.length,e=[],f=c.dividePath||KW;if(KO(a)){!function a(b){for(var c=0;c<b.length;c++){var d=b[c];KO(d)?a(d.childrenRef()):d instanceof hy&&e.push(d)}}(a.childrenRef());var g=e.length;if(g<d)for(var h=0,i=g;i<d;i++)e.push(m$(e[h++%g]));e.length=d}else{e=f({path:a,count:d});for(var j=a.getComputedTransform(),i=0;i<e.length;i++)e[i].setLocalTransform(j);if(e.length!==d)return console.error("Invalid morphing: unmatched splitted path"),KX()}e=KV(e),b=KV(b);for(var k=c.individualDelay,i=0;i<d;i++){var l=k?aR({delay:(c.delay||0)+k(i,d,e[i],b[i])},c):c;KU(e[i],b[i],l)}return{fromIndividuals:e,toIndividuals:b,count:b.length}}(l,i,m),o=n.fromIndividuals,p=n.toIndividuals,q=o.length,r=0;r<q;r++){var s=j?aR({delay:j(r,q)},k):k;f(o[r],p[r],d?i[r]:b.one,d?b.one:i[r],s)}else{var t=d?i[0]:l,u=d?l:i[0];if(KO(t))a({many:[t],one:u},!0,e,g,!0);else{var s=j?aR({delay:j(e,g)},k):k;KU(t,u,s),f(t,u,t,u,s)}}})(m[o],l,p,n),p+=m[o].many.length}}}function K_(a){if(!a)return[];if(a3(a)){for(var b=[],c=0;c<a.length;c++)b.push(K_(a[c]));return b}var d=[];return a.traverse(function(a){a instanceof hy&&!a.disableMorphing&&!a.invisible&&!a.ignore&&d.push(a)}),d}var K0=f0();function K1(a,b,c,d){var e=function(a,b){for(var c=a.dimensions,d=0;d<c.length;d++){var e=a.getDimensionInfo(c[d]);if(e&&0===e.otherDims[b])return c[d]}}(a,d?"itemChildGroupId":"itemGroupId");if(e){var f=a,g=b,h=e,i=f.getDimensionInfo(h),j=i&&i.ordinalMeta;if(i){var k=f.get(i.name,g);return j&&j.categories[k]||k+""}return}var l=a.getRawDataItem(b),m=d?"childGroupId":"groupId";return l&&l[m]?l[m]+"":d?void 0:c||a.getId(b)}function K2(a){var b=[];return aX(a,function(a){var c=a.data,d=a.dataGroupId;if(!(c.count()>1e4))for(var e=c.getIndices(),f=0;f<e.length;f++)b.push({data:c,groupId:K1(c,f,d,!1),childGroupId:K1(c,f,d,!0),divide:a.divide,dataIndex:f})}),b}function K3(a,b,c){a.traverse(function(a){a instanceof hy&&iS(a,{style:{opacity:0}},b,{dataIndex:c,isFrom:!0})})}function K4(a){if(a.parent){var b=a.getComputedTransform();a.setLocalTransform(b),a.parent.remove(a)}}function K5(a){a.stopAnimation(),a.isGroup&&a.traverse(function(a){a.stopAnimation()})}function K6(a,b,c){var d=K2(a),e=K2(b);function f(a,b,c,d,e){(c||a)&&b.animateFrom({style:c&&c!==a?aQ(aQ({},c.style),a.style):a.style},e)}var g=!1,h=0,i=bt(),j=bt();d.forEach(function(a){a.groupId&&i.set(a.groupId,!0),a.childGroupId&&j.set(a.childGroupId,!0)});for(var k=0;k<e.length;k++){var l=e[k].groupId;if(j.get(l)){h=1;break}var m=e[k].childGroupId;if(m&&i.get(m)){h=2;break}}function n(a,b){return function(c){var d=c.data,e=c.dataIndex;return b?d.getId(e):a?1===h?c.childGroupId:c.groupId:2===h?c.childGroupId:c.groupId}}var o=function(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++){var e=a[d],f=b[d];if(e.data.getId(e.dataIndex)!==f.data.getId(f.dataIndex))return!1}return!0}(d,e),p={};if(!o)for(var k=0;k<e.length;k++){var q=e[k],r=q.data.getItemGraphicEl(q.dataIndex);r&&(p[r.id]=!0)}function s(a,b){var c,h=d[b],i=e[a],j=i.data.hostModel,k=h.data.getItemGraphicEl(h.dataIndex),l=i.data.getItemGraphicEl(i.dataIndex);if(k===l){l&&(c=iP("update",j,i.dataIndex))&&l.traverse(function(a){if(a instanceof gO){var b=iO(a).oldStyle;b&&a.animateFrom({style:b},c)}});return}k&&p[k.id]||l&&(K5(l),k?(K5(k),K4(k),g=!0,K$(K_(k),K_(l),i.divide,j,a,f)):K3(l,j,a))}new qV(d,e,n(!0,o),n(!1,o),null,"multiple").update(s).updateManyToOne(function(a,b){var c=e[a],h=c.data,i=h.hostModel,j=h.getItemGraphicEl(c.dataIndex),k=a$(aY(b,function(a){return d[a].data.getItemGraphicEl(d[a].dataIndex)}),function(a){return a&&a!==j&&!p[a.id]});j&&(K5(j),k.length?(aX(k,function(a){K5(a),K4(a)}),g=!0,K$(K_(k),K_(j),c.divide,i,a,f)):K3(j,i,c.dataIndex))}).updateOneToMany(function(a,b){var c=d[b],h=c.data.getItemGraphicEl(c.dataIndex);if(!h||!p[h.id]){var i=a$(aY(a,function(a){return e[a].data.getItemGraphicEl(e[a].dataIndex)}),function(a){return a&&a!==h}),j=e[a[0]].data.hostModel;i.length&&(aX(i,function(a){return K5(a)}),h?(K5(h),K4(h),g=!0,K$(K_(h),K_(i),c.divide,j,a[0],f)):aX(i,function(b){return K3(b,j,a[0])}))}}).updateManyToMany(function(a,b){new qV(b,a,function(a){return d[a].data.getId(d[a].dataIndex)},function(a){return e[a].data.getId(e[a].dataIndex)}).update(function(c,d){s(a[c],b[d])}).execute()}).execute(),g&&aX(b,function(a){var b=a.data.hostModel,d=b&&c.getViewOfSeriesModel(b),e=iP("update",b,0);d&&b.isAnimationEnabled()&&e&&e.duration>0&&d.group.traverse(function(a){a instanceof hy&&!a.animators.length&&a.animateFrom({style:{opacity:0}},e)})})}function K7(a){var b=a.getModel("universalTransition").get("seriesKey");return b||a.id}function K8(a){return a3(a)?a.sort().join(","):a}function K9(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function La(a,b){for(var c=0;c<a.length;c++)if(null!=b.seriesIndex&&b.seriesIndex===a[c].seriesIndex||null!=b.seriesId&&b.seriesId===a[c].id)return c}var Lb=function(){function a(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return a.prototype.setBreaks=function(a){this.breaks=a.breaks},a.prototype.update=function(a){b=this,c=a,d=0,e={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},g={S:{tpAbs:(f=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}})(),tpPrct:f()},E:{tpAbs:f(),tpPrct:f()}},aX(b.breaks,function(a){var b=a.gapParsed;"tpPrct"===b.type&&(d+=b.val);var f=Lh(a,c);if(f){var h=f.vmin!==a.vmin,i=f.vmax!==a.vmax,j=f.vmax-f.vmin;if(h&&i);else if(h||i){var k=h?"S":"E";g[k][b.type].has=!0,g[k][b.type].span=j,g[k][b.type].inExtFrac=j/(a.vmax-a.vmin),g[k][b.type].val=b.val}else e[b.type].span+=j,e[b.type].val+=b.val}}),h=d*(0+(c[1]-c[0])+(e.tpAbs.val-e.tpAbs.span)+(g.S.tpAbs.has?(g.S.tpAbs.val-g.S.tpAbs.span)*g.S.tpAbs.inExtFrac:0)+(g.E.tpAbs.has?(g.E.tpAbs.val-g.E.tpAbs.span)*g.E.tpAbs.inExtFrac:0)-e.tpPrct.span-(g.S.tpPrct.has?g.S.tpPrct.span*g.S.tpPrct.inExtFrac:0)-(g.E.tpPrct.has?g.E.tpPrct.span*g.E.tpPrct.inExtFrac:0))/(1-e.tpPrct.val-(g.S.tpPrct.has?g.S.tpPrct.val*g.S.tpPrct.inExtFrac:0)-(g.E.tpPrct.has?g.E.tpPrct.val*g.E.tpPrct.inExtFrac:0)),aX(b.breaks,function(a){var b=a.gapParsed;"tpPrct"===b.type&&(a.gapReal=0!==d?Math.max(h,0)*b.val/d:0),"tpAbs"===b.type&&(a.gapReal=b.val),null==a.gapReal&&(a.gapReal=0)});var b,c,d,e,f,g,h,i=this._elapsedExtent;i[0]=this.elapse(a[0]),i[1]=this.elapse(a[1])},a.prototype.hasBreaks=function(){return!!this.breaks.length},a.prototype.calcNiceTickMultiple=function(a,b){for(var c=0;c<this.breaks.length;c++){var d=this.breaks[c];if(d.vmin<a&&a<d.vmax)return b(a,d.vmax)}return 0},a.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},a.prototype.normalize=function(a){var b=this._elapsedExtent[1]-this._elapsedExtent[0];return 0===b?.5:(this.elapse(a)-this._elapsedExtent[0])/b},a.prototype.scale=function(a){return this.unelapse(a*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},a.prototype.elapse=function(a){for(var b=Ld,c=Le,d=!0,e=0;e<this.breaks.length;e++){var f=this.breaks[e];if(a<=f.vmax){a>f.vmin?b+=f.vmin-c+(a-f.vmin)/(f.vmax-f.vmin)*f.gapReal:b+=a-c,c=f.vmax,d=!1;break}b+=f.vmin-c+f.gapReal,c=f.vmax}return d&&(b+=a-c),b},a.prototype.unelapse=function(a){for(var b=Ld,c=Le,d=!0,e=0,f=0;f<this.breaks.length;f++){var g=this.breaks[f],h=b+g.vmin-c,i=h+g.gapReal;if(a<=i){e=a>h?g.vmin+(a-h)/(i-h)*(g.vmax-g.vmin):c+a-b,c=g.vmax,d=!1;break}b=i,c=g.vmax}return d&&(e=c+a-b),e},a}();function Lc(){return new Lb}var Ld=0,Le=0;function Lf(a,b,c,d,e,f){"no"!==a&&aX(c,function(c){var g=Lh(c,f);if(g)for(var h=b.length-1;h>=0;h--){var i=d(b[h]),j=3*e/4;i>g.vmin-j&&i<g.vmax+j&&("preserve_extent_bound"!==a||i!==f[0]&&i!==f[1])&&b.splice(h,1)}})}function Lg(a,b,c,d){aX(b,function(b){var e=Lh(b,c);e&&(a.push({value:e.vmin,break:{type:"vmin",parsedBreak:e},time:d?d(e):void 0}),a.push({value:e.vmax,break:{type:"vmax",parsedBreak:e},time:d?d(e):void 0}))}),b.length&&a.sort(function(a,b){return a.value-b.value})}function Lh(a,b){var c=Math.max(a.vmin,b[0]),d=Math.min(a.vmax,b[1]);return c<d||c===d&&c>b[0]&&c<b[1]?{vmin:c,vmax:d,breakOption:a.breakOption,gapParsed:a.gapParsed,gapReal:a.gapReal}:null}function Li(a,b,c){var d=[];if(!a)return{breaks:d};aX(a,function(a){if(a&&null!=a.start&&null!=a.end&&!a.isExpanded){var e={breakOption:aN(a),vmin:b(a.start),vmax:b(a.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(null!=a.gap){var f=!1;if(a5(a.gap)){var g=bm(a.gap);if(g.match(/%$/)){var h,i=parseFloat(g)/100;(h=i)>=0&&h<1-1e-5||(i=0),e.gapParsed.type="tpPrct",e.gapParsed.val=i,f=!0}}if(!f){var j=b(a.gap);(!isFinite(j)||j<0)&&(j=0),e.gapParsed.type="tpAbs",e.gapParsed.val=j}}if(e.vmin===e.vmax&&(e.gapParsed.type="tpAbs",e.gapParsed.val=0),c&&c.noNegative&&aX(["vmin","vmax"],function(a){e[a]<0&&(e[a]=0)}),e.vmin>e.vmax){var k=e.vmax;e.vmax=e.vmin,e.vmin=k}d.push(e)}}),d.sort(function(a,b){return a.vmin-b.vmin});var e=-1/0;return aX(d,function(a,b){e>a.vmin&&(d[b]=null),e=a.vmax}),{breaks:d.filter(function(a){return!!a})}}function Lj(a,b){return Lk(b)===Lk(a)}function Lk(a){return a.start+"_\0_"+a.end}function Ll(a,b,c){var d=[];aX(a,function(a,c){var e=b(a);e&&"vmin"===e.type&&d.push([c])}),aX(a,function(c,e){var f=b(c);if(f&&"vmax"===f.type){var g=a_(d,function(c){return Lj(b(a[c[0]]).parsedBreak.breakOption,f.parsedBreak.breakOption)});g&&g.push(e)}});var e=[];return aX(d,function(b){2===b.length&&e.push(c?b:[a[b[0]],a[b[1]]])}),e}function Lm(a,b,c,d){if(a.break){var e,f,g=a.break.parsedBreak,h=a_(c,function(b){return Lj(b.breakOption,a.break.parsedBreak.breakOption)}),i=d(Math.pow(b,g.vmin),h.vmin),j=d(Math.pow(b,g.vmax),h.vmax),k={type:g.gapParsed.type,val:"tpAbs"===g.gapParsed.type?fu(Math.pow(b,g.vmin+g.gapParsed.val))-i:g.gapParsed.val};e={type:a.break.type,parsedBreak:{breakOption:g.breakOption,vmin:i,vmax:j,gapParsed:k,gapReal:g.gapReal}},f=h[a.break.type]}return{brkRoundingCriterion:f,vBreak:e}}function Ln(a,b,c){var d={noNegative:!0},e=Li(a,c,d),f=Li(a,c,d),g=Math.log(b);return f.breaks=aY(f.breaks,function(a){var b=Math.log(a.vmin)/g,c=Math.log(a.vmax)/g,d={type:a.gapParsed.type,val:"tpAbs"===a.gapParsed.type?Math.log(a.vmin+a.gapParsed.val)/g-b:a.gapParsed.val};return{vmin:b,vmax:c,gapParsed:d,gapReal:a.gapReal,breakOption:a.breakOption}}),{parsedOriginal:e,parsedLogged:f}}var Lo={vmin:"start",vmax:"end"};function Lp(a,b){return b&&((a=a||{}).break={type:Lo[b.type],start:b.parsedBreak.vmin,end:b.parsedBreak.vmax}),a}var Lq=f0();function Lr(a,b,c,d,e){var f=c.axis;if(!f.scale.isBlank()&&jv){var g=jv.retrieveAxisBreakPairs(f.scale.getTicks({breakTicks:"only_break"}),function(a){return a.break},!1);if(g.length){var h=c.getModel("breakArea"),i=h.get("zigzagAmplitude"),j=h.get("zigzagMinSpan"),k=h.get("zigzagMaxSpan");k=Math.max(j=Math.max(2,j||0),k||0);var l=h.get("expandOnClick"),m=h.get("zigzagZ"),n=h.getModel("itemStyle").getItemStyle(),o=n.stroke,p=n.lineWidth,q=n.lineDash,r=n.fill,s=new fc({ignoreModelZ:!0}),t=f.isHorizontal(),u=Lq(b).visualList||(Lq(b).visualList=[]);aX(u,function(a){return a.shouldRemove=!0});for(var v=0;v<g.length;v++)!function(a){var b,h=g[a][0].break.parsedBreak,v=[];v[0]=f.toGlobalCoord(f.dataToCoord(h.vmin,!0)),v[1]=f.toGlobalCoord(f.dataToCoord(h.vmax,!0)),v[1]<v[0]&&v.reverse();var w=((b=a_(u,function(a){return jv.identifyAxisBreak(a.parsedBreak.breakOption,h.breakOption)}))||u.push(b={zigzagRandomList:[],parsedBreak:h,shouldRemove:!1}),b);w.shouldRemove=!1;var x=new fc;(function(a,b,c,e,f,g){var h={stroke:o,lineWidth:p,lineDash:q,fill:"none"},l=+!f,s=1-l,t=d[nV[s]]+d[nW[s]];function u(a){var b=[],c=[];b[l]=c[l]=a,b[s]=d[nV[s]],c[s]=t;var e={x1:b[0],y1:b[1],x2:c[0],y2:c[1]};return hG(e,e,{lineWidth:1}),b[0]=e.x1,b[1]=e.y1,b[l]}c=u(c),e=u(e);for(var v=[],w=[],x=!0,y=d[nV[s]],z=0;;z++){var A=y===d[nV[s]],B=y>=t;B&&(y=t);var C=[],D=[];C[l]=c,D[l]=e,A||B||(C[l]+=x?-i:i,D[l]-=x?i:-i),C[s]=y,D[s]=y,v.push(C),w.push(D);var E=void 0;if(z<a.length?E=a[z]:(E=Math.random(),a.push(E)),y+=E*(k-j)+j,x=!x,B)break}var F=jv.serializeAxisBreakIdentifier(g.breakOption);if(b.add(new ns({anid:"break_a_"+F,shape:{points:v},style:h,z:m})),0!==g.gapReal){b.add(new ns({anid:"break_b_"+F,shape:{points:w},style:h,z:m}));var G=w.slice();G.reverse();var H=v.concat(G);b.add(new np({anid:"break_c_"+F,shape:{points:H},style:{fill:r,opacity:n.opacity},z:m}))}})(w.zigzagRandomList,x,v[0],v[1],t,h),l&&x.on("click",function(){var a={type:v_,breaks:[{start:h.breakOption.start,end:h.breakOption.end}]};a[f.dim+"AxisIndex"]=c.componentIndex,e.dispatchAction(a)}),x.silent=!l,s.add(x)}(v);a.add(s);for(var w=u.length-1;w>=0;w--)u[w].shouldRemove&&u.splice(w,1)}}}function Ls(a,b,c,d){var e=a.axis,f=c.transform;bl(d.style);var g=e.getExtent();e.inverse&&(g=g.slice()).reverse();var h=aY(jv.retrieveAxisBreakPairs(e.scale.getTicks({breakTicks:"only_break"}),function(a){return a.break},!1),function(a){var b=a[0].break.parsedBreak,c=[e.dataToCoord(b.vmin,!0),e.dataToCoord(b.vmax,!0)];return c[0]>c[1]&&c.reverse(),{coordPair:c,brkId:jv.serializeAxisBreakIdentifier(b.breakOption)}});h.sort(function(a,b){return a.coordPair[0]-b.coordPair[0]});for(var i=g[0],j=null,k=0;k<h.length;k++){var l=h[k],m=Math.max(l.coordPair[0],g[0]),n=Math.min(l.coordPair[1],g[1]);i<=m&&o(i,m,j,l),i=n,j=l}function o(a,c,e,g){function h(a,b){f&&(bZ(a,a,f),bZ(b,b,f))}function i(a,b){var c={x1:a[0],y1:a[1],x2:b[0],y2:b[1]};hG(c,c,d.style),a[0]=c.x1,a[1]=c.y1,b[0]=c.x2,b[1]=c.y2}var j=[a,0],k=[c,0],l=[a,5],m=[c,5];h(j,l),i(j,l),h(k,m),i(k,m),i(j,k);var n=new nw(aQ({shape:{x1:j[0],y1:j[1],x2:k[0],y2:k[1]}},d));b.add(n),n.anid="breakLine_"+(e?e.brkId:"\0")+"_\0_"+(g?g.brkId:"\0")}i<=g[1]&&o(i,g[1],j,null)}function Lt(a,b,c){if(!a_(c,function(a){return!a})){var d=new cz;if(tj(c[0],c[1],d,{direction:-(a?b+Math.PI:b),touchThreshold:0,bidirectional:!1})){var e=cq();cv(e,e,-b);var f=aY(c,function(a){return a.transform?ct(cq(),e,a.transform):e}),g=.5;if(p(0)||p(1)){var h=aY(c,function(a,b){var c=a.localRect.clone();return c.applyTransform(f[b]),c}),i=new cz;i.copy(c[0].label).add(c[1].label).scale(.5),i.transform(e);var j=d.clone().transform(e),k=(h[0].x+h[1].x+(j.x>=0?h[0].width:h[1].width)+j.x)/2-i.x,l=Math.min(k,k-j.x),m=Math.max(k,k-j.x);g=(k-(m<0?m:l>0?l:0))/j.x}var n=new cz,o=new cz;cz.scale(n,d,-g),cz.scale(o,d,1-g),te(c[0],n),te(c[1],o)}}function p(a){var b=c[0].localRect;return 1e-5>Math.abs(new cz(b[nW[a]]*f[0][0],b[nW[a]]*f[0][1]).y)}}function Lu(a,b){var c={breaks:[]};return aX(b.breaks,function(d){if(d){var e=a_(a.get("breaks",!0),function(a){return jv.identifyAxisBreak(a,d)});if(e){var f=b.type,g={isExpanded:!!e.isExpanded};e.isExpanded=f===v_||f!==v0&&(f===v1?!e.isExpanded:e.isExpanded),c.breaks.push({start:e.start,end:e.end,isExpanded:!!e.isExpanded,old:g})}}}),c}function Lv(a,b){aX(a,function(a){if(!a.model.get(["axisLabel","inside"])){var c=function(a){var b,c,d,e=a.model,f=a.scale;if(!(!e.get(["axisLabel","show"])||f.isBlank())){var g=f.getExtent();c=f instanceof rw?f.count():(b=f.getTicks()).length;var h=a.getLabelModel(),i=r4(a),j=1;c>40&&(j=Math.ceil(c/40));for(var k=0;k<c;k+=j){var l=i(b?b[k]:{value:g[0]+k},k),m=function(a,b){var c=b*Math.PI/180,d=a.width,e=a.height,f=d*Math.abs(Math.cos(c))+Math.abs(e*Math.sin(c)),g=d*Math.abs(Math.sin(c))+Math.abs(e*Math.cos(c));return new cS(a.x,a.y,f,g)}(h.getTextRect(l),h.get("rotate")||0);d?d.union(m):d=m}return d}}(a);if(c){var d=a.isHorizontal()?"height":"width",e=a.model.get(["axisLabel","margin"]);b[d]-=c[d]+e,"top"===a.position?b.y+=c.height+e:"left"===a.position&&(b.x+=c.width+e)}}})}qS([function(a){a.registerPainter("canvas",tv)}]),qS([function(a){a.registerPainter("svg",un)}]),qS([function(a){a.registerChartView(uU),a.registerSeriesModel(up),a.registerLayout(uV("line",!0)),a.registerVisual({seriesType:"line",reset:function(a){var b=a.getData(),c=a.getModel("lineStyle").getLineStyle();c&&!c.stroke&&(c.stroke=b.getVisual("style").fill),b.setVisual("legendLineStyle",c)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,uY("line"))},function(a){a.registerChartView(u6),a.registerSeriesModel(u$),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,a2(rI,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,rJ("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,uY("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(a,b){var c=a.componentType||"series";b.eachComponent({mainType:c,query:a},function(b){a.sortInfo&&b.axis.setCategorySortInfo(a.sortInfo)})})},function(a){a.registerChartView(vz),a.registerSeriesModel(vD),pc("pie",a.registerAction),a.registerLayout(a2(vo,"pie")),a.registerProcessor(vq("pie")),a.registerProcessor({seriesType:"pie",reset:function(a,b){var c=a.getData();c.filterSelf(function(a){var b=c.mapDimension("value"),d=c.get(b,a);return!a7(d)||!!isNaN(d)||!(d<0)})}})},function(a){qS(wX),a.registerSeriesModel(vE),a.registerChartView(vI),a.registerLayout(uV("scatter"))},function(a){qS(xc),a.registerChartView(w4),a.registerSeriesModel(w5),a.registerLayout(w1),a.registerProcessor(vq("radar")),a.registerPreprocessor(w3)},function(a){qS(yx),a.registerChartView(yh),a.registerSeriesModel(yi),a.registerLayout(yk),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,yj),pc("map",a.registerAction)},function(a){a.registerChartView(yH),a.registerSeriesModel(y1),a.registerLayout(y3),a.registerVisual(y4),a.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(b){var c=a.dataIndex,d=b.getData().tree.getNodeByDataIndex(c);d.isExpand=!d.isExpand})}),a.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(a,b,c){b.eachComponent({mainType:"series",subType:"tree",query:a},function(b){var c=xs(b.coordinateSystem,a,b.get("scaleLimit"));b.setCenter(c.center),b.setZoom(c.zoom)})})},function(a){a.registerSeriesModel(y7),a.registerChartView(zf),a.registerVisual(zu),a.registerLayout(zG);for(var b=0;b<y5.length;b++)a.registerAction({type:y5[b],update:"updateView"},by);a.registerAction({type:"treemapRootToNode",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"treemap",query:a},function(b,c){var d=yZ(a,["treemapZoomToNode","treemapRootToNode"],b);if(d){var e=b.getViewRoot();e&&(a.direction=y_(e,d.node)?"rollUp":"drillDown"),b.resetViewRoot(d.node)}})})},function(a){a.registerChartView(Au),a.registerSeriesModel(AB),a.registerProcessor(zJ),a.registerVisual(zK),a.registerVisual(zM),a.registerLayout(zW),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,z2),a.registerLayout(z4),a.registerCoordinateSystem("graphView",{dimensions:ym.dimensions,create:z5}),a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},by),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},by),a.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(a,b,c){b.eachComponent({mainType:"series",query:a},function(b){var d=c.getViewOfSeriesModel(b);d&&(null!=a.dx&&null!=a.dy&&d.updateViewOnPan(b,c,a),null!=a.zoom&&null!=a.originX&&null!=a.originY&&d.updateViewOnZoom(b,c,a));var e=xs(b.coordinateSystem,a,b.get("scaleLimit"));b.setCenter&&b.setCenter(e.center),b.setZoom&&b.setZoom(e.zoom)})})},function(a){a.registerChartView(AG),a.registerSeriesModel(AH),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,AJ),a.registerProcessor(vq("chord"))},function(a){a.registerChartView(AN),a.registerSeriesModel(AO)},function(a){a.registerChartView(AR),a.registerSeriesModel(AS),a.registerLayout(AT),a.registerProcessor(vq("funnel"))},function(a){qS(B3),a.registerChartView(AU),a.registerSeriesModel(AZ),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,A0)},function(a){a.registerChartView(B6),a.registerSeriesModel(B8),a.registerLayout(B9),a.registerVisual(Cj),a.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"sankey",query:a},function(b){b.setNodePosition(a.dataIndex,[a.localX,a.localY])})}),a.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(a,b,c){b.eachComponent({mainType:"series",subType:"sankey",query:a},function(b){var c=xs(b.coordinateSystem,a,b.get("scaleLimit"));b.setCenter(c.center),b.setZoom(c.zoom)})})},function(a){a.registerSeriesModel(Cl),a.registerChartView(Cm),a.registerLayout(Cs),a.registerTransform(Ct)},function(a){a.registerChartView(CD),a.registerSeriesModel(CN),a.registerPreprocessor(CO),a.registerVisual(CB),a.registerLayout(CP)},function(a){a.registerChartView(CT),a.registerSeriesModel(CU),a.registerLayout(uV("effectScatter"))},function(a){a.registerChartView(C0),a.registerSeriesModel(C4),a.registerLayout(C_),a.registerVisual(C6)},function(a){a.registerChartView(C9),a.registerSeriesModel(Da)},function(a){a.registerChartView(De),a.registerSeriesModel(Dw),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,a2(rI,"pictorialBar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,rJ("pictorialBar"))},function(a){a.registerChartView(Dx),a.registerSeriesModel(Dy),a.registerLayout(Dz),a.registerProcessor(vq("themeRiver"))},function(a){a.registerChartView(DE),a.registerSeriesModel(DF),a.registerLayout(a2(DH,"sunburst")),a.registerProcessor(a2(vq,"sunburst")),a.registerVisual(DI),a.registerAction({type:DC,update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(b,c){var d=yZ(a,[DC],b);if(d){var e=b.getViewRoot();e&&(a.direction=y_(e,d.node)?"rollUp":"drillDown"),b.resetViewRoot(d.node)}})}),a.registerAction({type:DD,update:"none"},function(a,b,c){a=aQ({},a),b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(b){var c=yZ(a,[DD],b);c&&(a.dataIndex=c.node.dataIndex)}),c.dispatchAction(aQ(a,{type:"highlight"}))}),a.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(a,b,c){a=aQ({},a),c.dispatchAction(aQ(a,{type:"downplay"}))})},function(a){a.registerChartView(Eo),a.registerSeriesModel(DM)}]),qS(function(a){qS(wX),qS(E9)}),qS(function(a){qS(E9),wM.registerAxisPointerClass("PolarAxisPointer",Fa),a.registerCoordinateSystem("polar",Fo),a.registerComponentModel(Fc),a.registerComponentView(FD),vU(a,"angle",Fe,FB),vU(a,"radius",Ff,FC),a.registerComponentView(Ft),a.registerComponentView(Fw),a.registerLayout(a2(FA,"bar"))}),qS(yx),qS(function(a){qS(E9),wM.registerAxisPointerClass("SingleAxisPointer",FQ),a.registerComponentView(FU),a.registerComponentView(FG),a.registerComponentModel(FI),vU(a,"single",FI,FI.defaultOption),a.registerCoordinateSystem("single",FN)}),qS(B3),qS(function(a){a.registerComponentModel(FV),a.registerComponentView(FX),a.registerCoordinateSystem("calendar",FY)}),qS(function(a){a.registerComponentModel(Gj),a.registerComponentView(Go),a.registerCoordinateSystem("matrix",Gw)}),qS(function(a){a.registerComponentModel(GQ),a.registerComponentView(GT),a.registerPreprocessor(function(a){var b=a.graphic;a3(b)?b[0]&&b[0].elements?a.graphic=[a.graphic[0]]:a.graphic=[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])})}),qS(function(a){a.registerComponentModel(Hf),a.registerComponentView(Hh),He.saveAsImage=Hi,He.magicType=Hl,He.dataView=Hq,He.dataZoom=HJ,He.restore=Hu,qS(Hc)}),qS(function(a){qS(E9),a.registerComponentModel(HM),a.registerComponentView(H0),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},by),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},by)}),qS(E9),qS(function(a){a.registerComponentView(Im),a.registerComponentModel(In),a.registerPreprocessor(H5),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,Ih),a.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(b){b.setAreas(a.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},by),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},by),He.brush=Iq}),qS(function(a){a.registerComponentModel(Ir),a.registerComponentView(Is)}),qS(function(a){a.registerComponentModel(Iu),a.registerComponentView(Iz),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b,c){var d=b.getComponent("timeline");return d&&null!=a.currentIndex&&(d.setCurrentIndex(a.currentIndex),!d.get("loop",!0)&&d.isIndexMax()&&d.getPlayState()&&(d.setPlayState(!1),c.dispatchAction({type:"timelinePlayChange",playState:!1,from:a.from}))),b.resetOption("timeline",{replaceMerge:d.get("replaceMerge",!0)}),aR({currentIndex:d.option.currentIndex},a)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.playState&&c.setPlayState(a.playState)}),a.registerPreprocessor(IC)}),qS(function(a){a.registerComponentModel(IJ),a.registerComponentView(IV),a.registerPreprocessor(function(a){IF(a.series,"markPoint")&&(a.markPoint=a.markPoint||{})})}),qS(function(a){a.registerComponentModel(IW),a.registerComponentView(I1),a.registerPreprocessor(function(a){IF(a.series,"markLine")&&(a.markLine=a.markLine||{})})}),qS(function(a){a.registerComponentModel(I2),a.registerComponentView(Ja),a.registerPreprocessor(function(a){IF(a.series,"markArea")&&(a.markArea=a.markArea||{})})}),qS(function(a){qS(Jm),qS(Js)}),qS(function(a){qS(JC),qS(JJ)}),qS(JC),qS(JJ),qS(function(a){qS(Ka),qS(Kf)}),qS(Ka),qS(Kf),qS(function(a){a.registerComponentModel(Kh),a.registerComponentView(Ki)}),qS(function(a){a.registerPreprocessor(Kp),a.registerVisual(a.PRIORITY.VISUAL.ARIA,Ko)}),qS(function(a){a.registerTransform(KA),a.registerTransform(KB)}),qS(function(a){a.registerComponentModel(KC),a.registerComponentView(KD)}),qS(function(a){a.registerUpdateLifecycle("series:beforeupdate",function(a,b,c){aX(fR(c.seriesTransition),function(a){aX(fR(a.to),function(a){for(var b=c.updatedSeries,d=0;d<b.length;d++)(null!=a.seriesIndex&&a.seriesIndex===b[d].seriesIndex||null!=a.seriesId&&a.seriesId===b[d].id)&&(b[d][mv]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(a,b,c){var d=K0(b);if(d.oldSeries&&c.updatedSeries&&c.optionChanged){var e=c.seriesTransition;if(e)aX(fR(e),function(a){var e,f;e=[],f=[],aX(fR(a.from),function(a){var b=La(d.oldSeries,a);b>=0&&e.push({dataGroupId:d.oldDataGroupIds[b],data:d.oldData[b],divide:K9(d.oldData[b]),groupIdDim:a.dimension})}),aX(fR(a.to),function(a){var b=La(c.updatedSeries,a);if(b>=0){var e=c.updatedSeries[b].getData();f.push({dataGroupId:d.oldDataGroupIds[b],data:e,divide:K9(e),groupIdDim:a.dimension})}}),e.length>0&&f.length>0&&K6(e,f,b)});else{var f,g,h,i=(f=bt(),g=bt(),h=bt(),aX(d.oldSeries,function(a,b){var c=d.oldDataGroupIds[b],e=d.oldData[b],f=K7(a),i=K8(f);g.set(i,{dataGroupId:c,data:e}),a3(f)&&aX(f,function(a){h.set(a,{key:i,dataGroupId:c,data:e})})}),aX(c.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var b=a.get("dataGroupId"),c=a.getData(),d=K7(a),e=K8(d),i=g.get(e);if(i)f.set(e,{oldSeries:[{dataGroupId:i.dataGroupId,divide:K9(i.data),data:i.data}],newSeries:[{dataGroupId:b,divide:K9(c),data:c}]});else if(a3(d)){var j=[];aX(d,function(a){var b=g.get(a);b.data&&j.push({dataGroupId:b.dataGroupId,divide:K9(b.data),data:b.data})}),j.length&&f.set(e,{oldSeries:j,newSeries:[{dataGroupId:b,data:c,divide:K9(c)}]})}else{var k=h.get(d);if(k){var l=f.get(k.key);l||(l={oldSeries:[{dataGroupId:k.dataGroupId,data:k.data,divide:K9(k.data)}],newSeries:[]},f.set(k.key,l)),l.newSeries.push({dataGroupId:b,data:c,divide:K9(c)})}}}}),f);aX(i.keys(),function(a){var c=i.get(a);K6(c.oldSeries,c.newSeries,b)})}aX(c.updatedSeries,function(a){a[mv]&&(a[mv]=!1)})}for(var j=a.getSeries(),k=d.oldSeries=[],l=d.oldDataGroupIds=[],m=d.oldData=[],n=0;n<j.length;n++){var o=j[n].getData();1e4>o.count()&&(k.push(j[n]),l.push(j[n].get("dataGroupId")),m.push(o))}})}),qS(ts),qS(function(a){function b(a,b){var c=[],d=f2(b,a);function e(b,e){aX(d[b],function(b){aX(b.updateAxisBreaks(a).breaks,function(a){var d;c.push(aR(((d={})[e]=b.componentIndex,d),a))})})}return e("xAxisModels","xAxisIndex"),e("yAxisModels","yAxisIndex"),e("singleAxisModels","singleAxisIndex"),{eventBreaks:c}}a.registerAction(v3,b),a.registerAction(v4,b),a.registerAction(v5,b),jv||(jv={createScaleBreakContext:Lc,pruneTicksByBreak:Lf,addBreaksToTicks:Lg,parseAxisBreakOption:Li,identifyAxisBreak:Lj,serializeAxisBreakIdentifier:Lk,retrieveAxisBreakPairs:Ll,getTicksLogTransformBreak:Lm,logarithmicParseBreaksFromOption:Ln,makeAxisLabelFormatterParamBreak:Lp}),vT||(vT={adjustBreakLabelPair:Lt,buildAxisBreakLine:Ls,rectCoordBuildBreakAxis:Lr,updateModelAxisBreak:Lu})}),qS(function(){ab=Lv}),qS(function(a){a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,w0)})}};